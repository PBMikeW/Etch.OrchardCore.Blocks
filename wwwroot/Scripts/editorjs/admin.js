/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./Assets/Editor.js/js/index.js":
/*!**************************************!*\
  !*** ./Assets/Editor.js/js/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editorjs_delimiter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @editorjs/delimiter */ \"./node_modules/@editorjs/delimiter/dist/delimiter.mjs\");\n/* harmony import */ var _editorjs_embed__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @editorjs/embed */ \"./node_modules/@editorjs/embed/dist/embed.mjs\");\n/* harmony import */ var _editorjs_header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @editorjs/header */ \"./node_modules/@editorjs/header/dist/header.mjs\");\n/* harmony import */ var _editorjs_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @editorjs/list */ \"./node_modules/@editorjs/list/dist/list.mjs\");\n/* harmony import */ var _editorjs_paragraph__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @editorjs/paragraph */ \"./node_modules/@editorjs/paragraph/dist/paragraph.mjs\");\n/* harmony import */ var _editorjs_raw__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @editorjs/raw */ \"./node_modules/@editorjs/raw/dist/raw.mjs\");\n/* harmony import */ var _editorjs_quote__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @editorjs/quote */ \"./node_modules/@editorjs/quote/dist/quote.mjs\");\n/* harmony import */ var _editorjs_table__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @editorjs/table */ \"./node_modules/@editorjs/table/dist/table.mjs\");\n/* harmony import */ var _editorjs_editorjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @editorjs/editorjs */ \"./node_modules/@editorjs/editorjs/dist/editorjs.mjs\");\n/* harmony import */ var editorjs_anchor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! editorjs-anchor */ \"./node_modules/editorjs-anchor/dist/bundle.js\");\n/* harmony import */ var editorjs_anchor__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(editorjs_anchor__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _plugins_link__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./plugins/link */ \"./Assets/Editor.js/js/plugins/link/index.js\");\n/* harmony import */ var editorjs_text_color_plugin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! editorjs-text-color-plugin */ \"./node_modules/editorjs-text-color-plugin/dist/bundle.mjs\");\n/* harmony import */ var _plugins_text_size__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./plugins/text-size */ \"./Assets/Editor.js/js/plugins/text-size/index.js\");\n/* harmony import */ var _plugins_text_size__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_plugins_text_size__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _plugins_mediaLibrary__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./plugins/mediaLibrary */ \"./Assets/Editor.js/js/plugins/mediaLibrary/index.js\");\n/* harmony import */ var editorjs_undo__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! editorjs-undo */ \"./node_modules/editorjs-undo/dist/bundle.js\");\n/* harmony import */ var editorjs_undo__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(editorjs_undo__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _editorjs_nested_list__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @editorjs/nested-list */ \"./node_modules/@editorjs/nested-list/dist/nested-list.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst AlignmentTuneTool = __webpack_require__(/*! editorjs-text-alignment-blocktune */ \"./node_modules/editorjs-text-alignment-blocktune/dist/bundle.js\");\n\n\n\n\nwindow.initializeEditorJS = (tenantPath, id, hiddenFieldId, typeName, partName, fieldName, placeholder) => {\n  const $hiddenField = document.getElementById(hiddenFieldId);\n  if (!$hiddenField) {\n    return;\n  }\n  const $form = $hiddenField.closest('form');\n  if (!$form) {\n    return;\n  }\n  const editor = new _editorjs_editorjs__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({\n    onReady: () => {\n      new (editorjs_undo__WEBPACK_IMPORTED_MODULE_14___default())({\n        editor\n      });\n    },\n    holder: id,\n    placeholder: placeholder || 'Click here to start entering content blocks..',\n    tools: {\n      table: {\n        class: _editorjs_table__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n        inlineToolbar: true,\n        config: {\n          rows: 2,\n          cols: 3\n        }\n      },\n      Color: {\n        class: editorjs_text_color_plugin__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n        config: {\n          colorCollections: ['#F8F8F8', '#D1D1D1', '#72808A', '#FFCD00', '#EF4123', '#002D6A', '#FFF', '#000', '#99ABC3'],\n          defaultColor: '#002D6A',\n          type: 'text',\n          customPicker: true\n        }\n      },\n      Marker: {\n        class: editorjs_text_color_plugin__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n        config: {\n          defaultColor: '#FFBF00',\n          type: 'marker',\n          icon: `<svg fill=\"#000000\" height=\"200px\" width=\"200px\" version=\"1.1\" id=\"Icons\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 32 32\" xml:space=\"preserve\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <g> <path d=\"M17.6,6L6.9,16.7c-0.2,0.2-0.3,0.4-0.3,0.6L6,23.9c0,0.3,0.1,0.6,0.3,0.8C6.5,24.9,6.7,25,7,25c0,0,0.1,0,0.1,0l6.6-0.6 c0.2,0,0.5-0.1,0.6-0.3L25,13.4L17.6,6z\"></path> <path d=\"M26.4,12l1.4-1.4c1.2-1.2,1.1-3.1-0.1-4.3l-3-3c-0.6-0.6-1.3-0.9-2.2-0.9c-0.8,0-1.6,0.3-2.2,0.9L19,4.6L26.4,12z\"></path> </g> <g> <path d=\"M28,29H4c-0.6,0-1-0.4-1-1s0.4-1,1-1h24c0.6,0,1,0.4,1,1S28.6,29,28,29z\"></path> </g> </g></svg>`\n        }\n      },\n      delimiter: _editorjs_delimiter__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n      fontSize0point8: {\n        class: (_plugins_text_size__WEBPACK_IMPORTED_MODULE_12___default()),\n        config: {\n          cssClass: \"editor-fs-0point8\",\n          buttonText: \".8\"\n        }\n      },\n      fontSize0point9: {\n        class: (_plugins_text_size__WEBPACK_IMPORTED_MODULE_12___default()),\n        config: {\n          cssClass: \"editor-fs-0point9\",\n          buttonText: \".9\"\n        }\n      },\n      fontSize1point0: {\n        class: (_plugins_text_size__WEBPACK_IMPORTED_MODULE_12___default()),\n        config: {\n          cssClass: \"editor-fs-1point0\",\n          buttonText: \"1.0\"\n        }\n      },\n      fontSize1point1: {\n        class: (_plugins_text_size__WEBPACK_IMPORTED_MODULE_12___default()),\n        config: {\n          cssClass: \"editor-fs-1point1\",\n          buttonText: \"1.1\"\n        }\n      },\n      fontSize1point2: {\n        class: (_plugins_text_size__WEBPACK_IMPORTED_MODULE_12___default()),\n        config: {\n          cssClass: \"editor-fs-1point2\",\n          buttonText: \"1.2\"\n        }\n      },\n      fontSize1point3: {\n        class: (_plugins_text_size__WEBPACK_IMPORTED_MODULE_12___default()),\n        config: {\n          cssClass: \"editor-fs-1point3\",\n          buttonText: \"1.3\"\n        }\n      },\n      embed: {\n        class: _editorjs_embed__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n        config: {\n          services: {\n            youtube: true\n          }\n        },\n        inlineToolbar: true\n      },\n      header: {\n        class: _editorjs_header__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        inlineToolbar: true\n      },\n      image: {\n        class: _plugins_mediaLibrary__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n        config: {\n          id\n        }\n      },\n      link: {\n        class: _plugins_link__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        config: {\n          fieldName,\n          partName,\n          typeName,\n          tenantPath\n        }\n      },\n      list: {\n        class: _editorjs_list__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n        inlineToolbar: true\n      },\n      paragraph: {\n        class: _editorjs_paragraph__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        inlineToolbar: true,\n        config: {\n          preserveBlank: true\n        }\n      },\n      quote: _editorjs_quote__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n      raw: _editorjs_raw__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n    },\n    data: !$hiddenField.value ? {} : JSON.parse($hiddenField.value),\n    onChange: () => {\n      editor.save().then(outputData => {\n        $hiddenField.value = JSON.stringify(outputData);\n        document.dispatchEvent(new Event('contentpreview:render'));\n      }).catch(error => {});\n    }\n  });\n  const onSubmit = e => {\n    editor.save().then(outputData => {\n      $hiddenField.value = JSON.stringify(outputData);\n      $form.removeEventListener('submit', onSubmit);\n      $form.submit();\n    }).catch(error => {});\n  };\n  $form.addEventListener('submit', onSubmit);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFDZHpDLE1BQU0sQ0FDSDBDLElBQUksQ0FBQyxDQUFDLENBQ05DLElBQUksQ0FBRUMsVUFBVSxJQUFLO1FBQ3BCakQsWUFBWSxDQUFDMkMsS0FBSyxHQUFHQyxJQUFJLENBQUNNLFNBQVMsQ0FBQ0QsVUFBVSxDQUFDO1FBQy9DaEQsUUFBUSxDQUFDa0QsYUFBYSxDQUFDLElBQUlDLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO01BQzVELENBQUMsQ0FBQyxDQUNEQyxLQUFLLENBQUVDLEtBQUssSUFBSyxDQUFFLENBQUMsQ0FBQztJQUMxQjtFQUNGLENBQUMsQ0FBQztFQUVGLE1BQU1DLFFBQVEsR0FBSUMsQ0FBQyxJQUFLO0lBQ3RCbkQsTUFBTSxDQUNIMEMsSUFBSSxDQUFDLENBQUMsQ0FDTkMsSUFBSSxDQUFFQyxVQUFVLElBQUs7TUFDcEJqRCxZQUFZLENBQUMyQyxLQUFLLEdBQUdDLElBQUksQ0FBQ00sU0FBUyxDQUFDRCxVQUFVLENBQUM7TUFDL0M5QyxLQUFLLENBQUNzRCxtQkFBbUIsQ0FBQyxRQUFRLEVBQUVGLFFBQVEsQ0FBQztNQUM3Q3BELEtBQUssQ0FBQ3VELE1BQU0sQ0FBQyxDQUFDO0lBQ2hCLENBQUMsQ0FBQyxDQUNETCxLQUFLLENBQUVDLEtBQUssSUFBSyxDQUFFLENBQUMsQ0FBQztFQUMxQixDQUFDO0VBRURuRCxLQUFLLENBQUN3RCxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUVKLFFBQVEsQ0FBQztBQUM1QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vQXNzZXRzL0VkaXRvci5qcy9qcy9pbmRleC5qcz9iNDQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEZWxpbWl0ZXIgZnJvbSAnQGVkaXRvcmpzL2RlbGltaXRlcic7XHJcbmltcG9ydCBFbWJlZCBmcm9tICdAZWRpdG9yanMvZW1iZWQnO1xyXG5pbXBvcnQgSGVhZGVyIGZyb20gJ0BlZGl0b3Jqcy9oZWFkZXInO1xyXG5pbXBvcnQgTGlzdCBmcm9tICdAZWRpdG9yanMvbGlzdCc7XHJcbmltcG9ydCBQYXJhZ3JhcGggZnJvbSAnQGVkaXRvcmpzL3BhcmFncmFwaCc7XHJcbmltcG9ydCBSYXcgZnJvbSAnQGVkaXRvcmpzL3Jhdyc7XHJcbmltcG9ydCBRdW90ZSBmcm9tICdAZWRpdG9yanMvcXVvdGUnO1xyXG5pbXBvcnQgVGFibGUgZnJvbSAnQGVkaXRvcmpzL3RhYmxlJztcclxuaW1wb3J0IEVkaXRvckpTIGZyb20gJ0BlZGl0b3Jqcy9lZGl0b3Jqcyc7XHJcbmltcG9ydCBBbmNob3JUdW5lIGZyb20gJ2VkaXRvcmpzLWFuY2hvcic7XHJcbmltcG9ydCBMaW5rVG9vbCBmcm9tICcuL3BsdWdpbnMvbGluayc7XHJcbmltcG9ydCBUZXh0Q29sb3IgZnJvbSAnZWRpdG9yanMtdGV4dC1jb2xvci1wbHVnaW4nO1xyXG5jb25zdCBBbGlnbm1lbnRUdW5lVG9vbCA9IHJlcXVpcmUoJ2VkaXRvcmpzLXRleHQtYWxpZ25tZW50LWJsb2NrdHVuZScpO1xyXG5pbXBvcnQgdGV4dFNpemUgZnJvbSAnLi9wbHVnaW5zL3RleHQtc2l6ZSc7XHJcbmltcG9ydCBNZWRpYUxpYnJhcnkgZnJvbSAnLi9wbHVnaW5zL21lZGlhTGlicmFyeSc7XHJcbmltcG9ydCBVbmRvIGZyb20gJ2VkaXRvcmpzLXVuZG8nO1xuaW1wb3J0IE5lc3RlZExpc3QgZnJvbSAnQGVkaXRvcmpzL25lc3RlZC1saXN0JztcblxyXG5cclxud2luZG93LmluaXRpYWxpemVFZGl0b3JKUyA9IChcclxuICB0ZW5hbnRQYXRoLFxyXG4gIGlkLFxyXG4gIGhpZGRlbkZpZWxkSWQsXHJcbiAgdHlwZU5hbWUsXHJcbiAgcGFydE5hbWUsXHJcbiAgZmllbGROYW1lLFxyXG4gIHBsYWNlaG9sZGVyXHJcbikgPT4ge1xyXG4gIGNvbnN0ICRoaWRkZW5GaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhpZGRlbkZpZWxkSWQpO1xyXG5cclxuICBpZiAoISRoaWRkZW5GaWVsZCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgJGZvcm0gPSAkaGlkZGVuRmllbGQuY2xvc2VzdCgnZm9ybScpO1xyXG5cclxuICBpZiAoISRmb3JtKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBlZGl0b3IgPSBuZXcgRWRpdG9ySlMoe1xyXG4gICAgb25SZWFkeTogKCkgPT4ge1xyXG4gICAgICBuZXcgVW5kbyh7IGVkaXRvciB9KTtcclxuICAgIH0sXHJcbiAgICBob2xkZXI6IGlkLFxyXG4gICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyIHx8ICdDbGljayBoZXJlIHRvIHN0YXJ0IGVudGVyaW5nIGNvbnRlbnQgYmxvY2tzLi4nLFxyXG4gICAgdG9vbHM6IHtcclxuICAgICAgdGFibGU6IHtcclxuICAgICAgICBjbGFzczogVGFibGUsXHJcbiAgICAgICAgaW5saW5lVG9vbGJhcjogdHJ1ZSxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIHJvd3M6IDIsXHJcbiAgICAgICAgICBjb2xzOiAzLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIENvbG9yOiB7XHJcbiAgICAgICAgY2xhc3M6IFRleHRDb2xvcixcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGNvbG9yQ29sbGVjdGlvbnM6IFsnI0Y4RjhGOCcsICcjRDFEMUQxJywgJyM3MjgwOEEnLCAnI0ZGQ0QwMCcsICcjRUY0MTIzJywgJyMwMDJENkEnLCAnI0ZGRicsICcjMDAwJywgJyM5OUFCQzMnXSxcclxuICAgICAgICAgIGRlZmF1bHRDb2xvcjogJyMwMDJENkEnLFxyXG4gICAgICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICAgICAgY3VzdG9tUGlja2VyOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBNYXJrZXI6IHtcclxuICAgICAgICBjbGFzczogVGV4dENvbG9yLFxyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgZGVmYXVsdENvbG9yOiAnI0ZGQkYwMCcsXHJcbiAgICAgICAgICB0eXBlOiAnbWFya2VyJyxcclxuICAgICAgICAgIGljb246IGA8c3ZnIGZpbGw9XCIjMDAwMDAwXCIgaGVpZ2h0PVwiMjAwcHhcIiB3aWR0aD1cIjIwMHB4XCIgdmVyc2lvbj1cIjEuMVwiIGlkPVwiSWNvbnNcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX3RyYWNlckNhcnJpZXJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+IDxnPiA8cGF0aCBkPVwiTTE3LjYsNkw2LjksMTYuN2MtMC4yLDAuMi0wLjMsMC40LTAuMywwLjZMNiwyMy45YzAsMC4zLDAuMSwwLjYsMC4zLDAuOEM2LjUsMjQuOSw2LjcsMjUsNywyNWMwLDAsMC4xLDAsMC4xLDBsNi42LTAuNiBjMC4yLDAsMC41LTAuMSwwLjYtMC4zTDI1LDEzLjRMMTcuNiw2elwiPjwvcGF0aD4gPHBhdGggZD1cIk0yNi40LDEybDEuNC0xLjRjMS4yLTEuMiwxLjEtMy4xLTAuMS00LjNsLTMtM2MtMC42LTAuNi0xLjMtMC45LTIuMi0wLjljLTAuOCwwLTEuNiwwLjMtMi4yLDAuOUwxOSw0LjZMMjYuNCwxMnpcIj48L3BhdGg+IDwvZz4gPGc+IDxwYXRoIGQ9XCJNMjgsMjlINGMtMC42LDAtMS0wLjQtMS0xczAuNC0xLDEtMWgyNGMwLjYsMCwxLDAuNCwxLDFTMjguNiwyOSwyOCwyOXpcIj48L3BhdGg+IDwvZz4gPC9nPjwvc3ZnPmBcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGRlbGltaXRlcjogRGVsaW1pdGVyLFxyXG4gICAgICBmb250U2l6ZTBwb2ludDg6IHtcclxuICAgICAgICBjbGFzczogdGV4dFNpemUsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICBjc3NDbGFzczogXCJlZGl0b3ItZnMtMHBvaW50OFwiLFxyXG4gICAgICAgICAgYnV0dG9uVGV4dDogXCIuOFwiXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBmb250U2l6ZTBwb2ludDk6IHtcclxuICAgICAgICBjbGFzczogdGV4dFNpemUsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICBjc3NDbGFzczogXCJlZGl0b3ItZnMtMHBvaW50OVwiLFxyXG4gICAgICAgICAgYnV0dG9uVGV4dDogXCIuOVwiXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBmb250U2l6ZTFwb2ludDA6IHtcclxuICAgICAgICBjbGFzczogdGV4dFNpemUsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICBjc3NDbGFzczogXCJlZGl0b3ItZnMtMXBvaW50MFwiLFxyXG4gICAgICAgICAgYnV0dG9uVGV4dDogXCIxLjBcIlxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZm9udFNpemUxcG9pbnQxOiB7XHJcbiAgICAgICAgY2xhc3M6IHRleHRTaXplLFxyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgY3NzQ2xhc3M6IFwiZWRpdG9yLWZzLTFwb2ludDFcIixcclxuICAgICAgICAgIGJ1dHRvblRleHQ6IFwiMS4xXCJcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZvbnRTaXplMXBvaW50Mjoge1xyXG4gICAgICAgIGNsYXNzOiB0ZXh0U2l6ZSxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGNzc0NsYXNzOiBcImVkaXRvci1mcy0xcG9pbnQyXCIsXHJcbiAgICAgICAgICBidXR0b25UZXh0OiBcIjEuMlwiXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBmb250U2l6ZTFwb2ludDM6IHtcclxuICAgICAgICBjbGFzczogdGV4dFNpemUsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICBjc3NDbGFzczogXCJlZGl0b3ItZnMtMXBvaW50M1wiLFxyXG4gICAgICAgICAgYnV0dG9uVGV4dDogXCIxLjNcIlxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZW1iZWQ6IHtcclxuICAgICAgICBjbGFzczogRW1iZWQsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICBzZXJ2aWNlczoge1xyXG4gICAgICAgICAgICB5b3V0dWJlOiB0cnVlLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlubGluZVRvb2xiYXI6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICAgIGhlYWRlcjoge1xyXG4gICAgICAgIGNsYXNzOiBIZWFkZXIsXHJcbiAgICAgICAgaW5saW5lVG9vbGJhcjogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgICAgaW1hZ2U6IHtcclxuICAgICAgICBjbGFzczogTWVkaWFMaWJyYXJ5LFxyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgbGluazoge1xyXG4gICAgICAgIGNsYXNzOiBMaW5rVG9vbCxcclxuICAgICAgICBjb25maWc6IHtcclxuICAgICAgICAgIGZpZWxkTmFtZSxcclxuICAgICAgICAgIHBhcnROYW1lLFxyXG4gICAgICAgICAgdHlwZU5hbWUsXHJcbiAgICAgICAgICB0ZW5hbnRQYXRoLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGxpc3Q6IHtcclxuICAgICAgICBjbGFzczogTGlzdCxcclxuICAgICAgICBpbmxpbmVUb29sYmFyOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICBwYXJhZ3JhcGg6IHtcclxuICAgICAgICBjbGFzczogUGFyYWdyYXBoLFxyXG4gICAgICAgIGlubGluZVRvb2xiYXI6IHRydWUsXHJcbiAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICBwcmVzZXJ2ZUJsYW5rOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHF1b3RlOiBRdW90ZSxcclxuICAgICAgcmF3OiBSYXcsXHJcbiAgICB9LFxyXG4gICAgZGF0YTogISRoaWRkZW5GaWVsZC52YWx1ZSA/IHt9IDogSlNPTi5wYXJzZSgkaGlkZGVuRmllbGQudmFsdWUpLFxyXG5cclxuICAgIG9uQ2hhbmdlOiAoKSA9PiB7XHJcbiAgICAgIGVkaXRvclxyXG4gICAgICAgIC5zYXZlKClcclxuICAgICAgICAudGhlbigob3V0cHV0RGF0YSkgPT4ge1xyXG4gICAgICAgICAgJGhpZGRlbkZpZWxkLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkob3V0cHV0RGF0YSk7XHJcbiAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY29udGVudHByZXZpZXc6cmVuZGVyJykpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4geyB9KTtcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IG9uU3VibWl0ID0gKGUpID0+IHtcclxuICAgIGVkaXRvclxyXG4gICAgICAuc2F2ZSgpXHJcbiAgICAgIC50aGVuKChvdXRwdXREYXRhKSA9PiB7XHJcbiAgICAgICAgJGhpZGRlbkZpZWxkLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkob3V0cHV0RGF0YSk7XHJcbiAgICAgICAgJGZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0Jywgb25TdWJtaXQpO1xyXG4gICAgICAgICRmb3JtLnN1Ym1pdCgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7IH0pO1xyXG4gIH07XHJcblxyXG4gICRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIG9uU3VibWl0KTtcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9L3NjcmlwdHMvZWRpdG9yanMvYWRtaW4uanMubWFwXHJcbiJdLCJuYW1lcyI6WyJEZWxpbWl0ZXIiLCJFbWJlZCIsIkhlYWRlciIsIkxpc3QiLCJQYXJhZ3JhcGgiLCJSYXciLCJRdW90ZSIsIlRhYmxlIiwiRWRpdG9ySlMiLCJBbmNob3JUdW5lIiwiTGlua1Rvb2wiLCJUZXh0Q29sb3IiLCJBbGlnbm1lbnRUdW5lVG9vbCIsInJlcXVpcmUiLCJ0ZXh0U2l6ZSIsIk1lZGlhTGlicmFyeSIsIlVuZG8iLCJOZXN0ZWRMaXN0Iiwid2luZG93IiwiaW5pdGlhbGl6ZUVkaXRvckpTIiwidGVuYW50UGF0aCIsImlkIiwiaGlkZGVuRmllbGRJZCIsInR5cGVOYW1lIiwicGFydE5hbWUiLCJmaWVsZE5hbWUiLCJwbGFjZWhvbGRlciIsIiRoaWRkZW5GaWVsZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCIkZm9ybSIsImNsb3Nlc3QiLCJlZGl0b3IiLCJvblJlYWR5IiwiaG9sZGVyIiwidG9vbHMiLCJ0YWJsZSIsImNsYXNzIiwiaW5saW5lVG9vbGJhciIsImNvbmZpZyIsInJvd3MiLCJjb2xzIiwiQ29sb3IiLCJjb2xvckNvbGxlY3Rpb25zIiwiZGVmYXVsdENvbG9yIiwidHlwZSIsImN1c3RvbVBpY2tlciIsIk1hcmtlciIsImljb24iLCJkZWxpbWl0ZXIiLCJmb250U2l6ZTBwb2ludDgiLCJjc3NDbGFzcyIsImJ1dHRvblRleHQiLCJmb250U2l6ZTBwb2ludDkiLCJmb250U2l6ZTFwb2ludDAiLCJmb250U2l6ZTFwb2ludDEiLCJmb250U2l6ZTFwb2ludDIiLCJmb250U2l6ZTFwb2ludDMiLCJlbWJlZCIsInNlcnZpY2VzIiwieW91dHViZSIsImhlYWRlciIsImltYWdlIiwibGluayIsImxpc3QiLCJwYXJhZ3JhcGgiLCJwcmVzZXJ2ZUJsYW5rIiwicXVvdGUiLCJyYXciLCJkYXRhIiwidmFsdWUiLCJKU09OIiwicGFyc2UiLCJvbkNoYW5nZSIsInNhdmUiLCJ0aGVuIiwib3V0cHV0RGF0YSIsInN0cmluZ2lmeSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImNhdGNoIiwiZXJyb3IiLCJvblN1Ym1pdCIsImUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3VibWl0IiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Assets/Editor.js/js/index.js\n");

/***/ }),

/***/ "./Assets/Editor.js/js/plugins/link/index.js":
/*!***************************************************!*\
  !*** ./Assets/Editor.js/js/plugins/link/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LinkTool)\n/* harmony export */ });\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.css */ \"./Assets/Editor.js/js/plugins/link/index.css\");\n\nconst linkIcon = `<svg width=\"13\" height=\"14\" xmlns=\"http://www.w3.org/2000/svg\">\n\t<path d=\"M8.567 13.629c.728.464 1.581.65 2.41.558l-.873.873A3.722 3.722 0 1 1 4.84 9.794L6.694 7.94a3.722 3.722 0 0 1 5.256-.008L10.484 9.4a5.209 5.209 0 0 1-.017.016 1.625 1.625 0 0 0-2.29.009l-1.854 1.854a1.626 1.626 0 0 0 2.244 2.35zm2.766-7.358a3.722 3.722 0 0 0-2.41-.558l.873-.873a3.722 3.722 0 1 1 5.264 5.266l-1.854 1.854a3.722 3.722 0 0 1-5.256.008L9.416 10.5a5.2 5.2 0 0 1 .017-.016 1.625 1.625 0 0 0 2.29-.009l1.854-1.854a1.626 1.626 0 0 0-2.244-2.35z\" transform=\"translate(-3.667 -2.7)\" />\n</svg>\n`;\nconst unlinkIcon = `<svg width=\"16\" height=\"18\" viewBox=\"0 0 16 18\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <path transform=\"rotate(-45 8.358 11.636)\" d=\"M9.14 9.433c.008-.12-.087-.686-.112-.81a1.4 1.4 0 0 0-1.64-1.106l-3.977.772a1.4 1.4 0 0 0 .535 2.749l.935-.162s.019 1.093.592 2.223l-1.098.148A3.65 3.65 0 1 1 2.982 6.08l3.976-.773c1.979-.385 3.838.919 4.28 2.886.51 2.276-1.084 2.816-1.073 2.935.011.12-.394-1.59-1.026-1.696zm3.563-.875l2.105 3.439a3.65 3.65 0 0 1-6.19 3.868L6.47 12.431c-1.068-1.71-.964-2.295-.49-3.07.067-.107 1.16-1.466 1.48-.936-.12.036.9 1.33.789 1.398-.656.41-.28.76.13 1.415l2.145 3.435a1.4 1.4 0 0 0 2.375-1.484l-1.132-1.941c.42-.435 1.237-1.054.935-2.69zm1.88-2.256h3.4a1.125 1.125 0 0 1 0 2.25h-3.4a1.125 1.125 0 0 1 0-2.25zM11.849.038c.62 0 1.125.503 1.125 1.125v3.4a1.125 1.125 0 0 1-2.25 0v-3.4c0-.622.503-1.125 1.125-1.125z\"/>\n</svg>`;\nconst ENTER_KEY = 13;\nclass LinkTool {\n  static get isInline() {\n    return true;\n  }\n  static get sanitize() {\n    return {\n      a: {\n        href: true,\n        target: '_blank',\n        rel: 'nofollow'\n      }\n    };\n  }\n  constructor({\n    api,\n    config\n  }) {\n    this.state = false;\n    this.nodes = {\n      button: null,\n      editor: null,\n      input: null,\n      list: null\n    };\n    this.tag = 'a';\n    this.class = 'cdx-link';\n    this.api = api;\n    this.config = config;\n    this.inlineToolbar = api.inlineToolbar;\n    this.notifier = api.notifier;\n    this.toolbar = api.toolbar;\n    this.CSS = {\n      button: 'ce-inline-tool',\n      buttonActive: 'ce-inline-tool--active',\n      buttonModifier: 'ce-inline-tool--link',\n      editorActive: 'link-tool-editor--active',\n      input: 'ce-inline-tool-input',\n      inputShowed: 'ce-inline-tool-input--showed'\n    };\n  }\n  clear() {\n    this.closeActions();\n  }\n  render() {\n    this.nodes.button = document.createElement('button');\n    this.nodes.button.type = 'button';\n    this.nodes.button.classList.add(this.CSS.button);\n    this.nodes.button.innerHTML = linkIcon;\n    return this.nodes.button;\n  }\n  renderActions() {\n    this.nodes.editor = document.createElement('div');\n    this.nodes.editor.classList.add('link-tool-editor');\n    this.nodes.input = document.createElement('input');\n    this.nodes.input.placeholder = 'Type link or search by title';\n    this.nodes.input.classList.add(this.CSS.input);\n    this.nodes.input.classList.add(this.CSS.inputShowed);\n    this.nodes.input.addEventListener('keydown', event => {\n      if (event.keyCode === ENTER_KEY) {\n        this.enterPressed(event);\n        return;\n      }\n    });\n    this.nodes.input.addEventListener('keyup', event => {\n      const _this = this;\n      if (event.keyCode === ENTER_KEY) {\n        return;\n      }\n      if (this.nodes.input.value.length > 2) {\n        fetch(`${this.config.tenantPath}/Blocks/SearchContentItems?type=${this.config.typeName}&part=${this.config.partName}&field=${this.config.fieldName}&query=${this.nodes.input.value}`).then(response => response.json()).then(contentItems => _this.displayContentItems(contentItems));\n      }\n    });\n    this.nodes.editor.appendChild(this.nodes.input);\n    this.nodes.list = document.createElement('ul');\n    this.nodes.list.classList.add('link-tool-editor__content-items');\n    this.nodes.editor.appendChild(this.nodes.list);\n    return this.nodes.editor;\n  }\n  surround(range) {\n    if (this.state) {\n      this.removeLink();\n      this.closeActions();\n      this.inlineToolbar.close();\n      return;\n    }\n    if (range) {\n      const selectedText = range.extractContents();\n      this.placeholder = document.createElement('span');\n      this.placeholder.style.backgroundColor = '#a8d6ff';\n      this.placeholder.appendChild(selectedText);\n      range.insertNode(this.placeholder);\n    }\n    this.toggleActions();\n  }\n  checkState() {\n    const anchorTag = this.api.selection.findParentTag('A');\n    if (anchorTag) {\n      this.nodes.button.classList.add(this.CSS.buttonActive);\n      this.nodes.button.innerHTML = unlinkIcon;\n      this.nodes.input.value = anchorTag.getAttribute('href');\n      this.state = anchorTag;\n      this.openActions();\n    } else {\n      this.nodes.button.innerHTML = linkIcon;\n      this.nodes.button.classList.remove(this.CSS.buttonActive);\n    }\n  }\n  applyUrl(url) {\n    if (!this.placeholder) {\n      return;\n    }\n    let link = document.createElement('a');\n    link.innerHTML = this.placeholder.innerText;\n    link.href = url;\n    this.placeholder.parentNode.replaceChild(link, this.placeholder);\n    this.placeholder = null;\n  }\n  closeActions() {\n    if (this.placeholder) {\n      this.placeholder.parentNode.innerHTML = this.placeholder.parentNode.innerHTML.replace(this.placeholder.outerHTML, this.placeholder.innerText);\n      this.placeholder = null;\n    }\n    if (this.nodes.editor) {\n      this.nodes.editor.classList.remove(this.CSS.editorActive);\n      this.nodes.input.value = '';\n      this.nodes.list.innerHTML = '';\n    }\n    this.inputOpened = false;\n  }\n  displayContentItems(contentItems) {\n    this.nodes.list.innerHTML = '';\n    contentItems.forEach(contentItem => {\n      let button = document.createElement('button');\n      button.innerText = contentItem.displayText;\n      button.setAttribute('data-href', contentItem.url);\n      let listItem = document.createElement('li');\n      listItem.title = contentItem.displayText;\n      listItem.appendChild(button);\n      button.addEventListener('click', event => {\n        this.selectContentItem(event);\n      });\n      this.nodes.list.appendChild(listItem);\n    });\n  }\n  enterPressed(event) {\n    let value = this.nodes.input.value || '';\n    if (!value.trim()) {\n      event.preventDefault();\n      this.closeActions();\n      return;\n    }\n    this.applyUrl(value);\n\n    /**\r\n     * Preventing events that will be able to happen\r\n     */\n    event.preventDefault();\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n    this.inlineToolbar.close();\n  }\n  openActions(needFocus) {\n    this.nodes.editor.classList.add(this.CSS.editorActive);\n    if (needFocus) {\n      this.nodes.input.focus();\n    }\n    this.inputOpened = true;\n  }\n  removeLink() {\n    if (!this.state) {\n      return;\n    }\n    this.state.parentNode.innerHTML = this.state.parentNode.innerHTML.replace(this.state.outerHTML, this.state.innerText);\n    this.state = null;\n  }\n  selectContentItem(event) {\n    const itemUrl = event.target.getAttribute('data-href');\n    this.applyUrl(itemUrl);\n    this.closeActions();\n    this.inlineToolbar.close();\n  }\n  toggleActions() {\n    if (!this.inputOpened) {\n      this.openActions(true);\n    } else {\n      this.closeActions(false);\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvbGluay9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQjtBQUVyQixNQUFNQSxRQUFRLEdBQUc7QUFDakI7QUFDQTtBQUNBLENBQUM7QUFFRCxNQUFNQyxVQUFVLEdBQUc7QUFDbkI7QUFDQSxPQUFPO0FBRVAsTUFBTUMsU0FBUyxHQUFHLEVBQUU7QUFFTCxNQUFNQyxRQUFRLENBQUM7RUFDMUIsV0FBV0MsUUFBUUEsQ0FBQSxFQUFHO0lBQ2xCLE9BQU8sSUFBSTtFQUNmO0VBRUEsV0FBV0MsUUFBUUEsQ0FBQSxFQUFHO0lBQ2xCLE9BQU87TUFDSEMsQ0FBQyxFQUFFO1FBQ0NDLElBQUksRUFBRSxJQUFJO1FBQ1ZDLE1BQU0sRUFBRSxRQUFRO1FBQ2hCQyxHQUFHLEVBQUU7TUFDVDtJQUNKLENBQUM7RUFDTDtFQUVBQyxXQUFXQSxDQUFDO0lBQUVDLEdBQUc7SUFBRUM7RUFBTyxDQUFDLEVBQUU7SUFDekIsSUFBSSxDQUFDQyxLQUFLLEdBQUcsS0FBSztJQUVsQixJQUFJLENBQUNDLEtBQUssR0FBRztNQUNUQyxNQUFNLEVBQUUsSUFBSTtNQUNaQyxNQUFNLEVBQUUsSUFBSTtNQUNaQyxLQUFLLEVBQUUsSUFBSTtNQUNYQyxJQUFJLEVBQUU7SUFDVixDQUFDO0lBRUQsSUFBSSxDQUFDQyxHQUFHLEdBQUcsR0FBRztJQUNkLElBQUksQ0FBQ0MsS0FBSyxHQUFHLFVBQVU7SUFFdkIsSUFBSSxDQUFDVCxHQUFHLEdBQUdBLEdBQUc7SUFDZCxJQUFJLENBQUNDLE1BQU0sR0FBR0EsTUFBTTtJQUNwQixJQUFJLENBQUNTLGFBQWEsR0FBR1YsR0FBRyxDQUFDVSxhQUFhO0lBQ3RDLElBQUksQ0FBQ0MsUUFBUSxHQUFHWCxHQUFHLENBQUNXLFFBQVE7SUFDNUIsSUFBSSxDQUFDQyxPQUFPLEdBQUdaLEdBQUcsQ0FBQ1ksT0FBTztJQUMxQixJQUFJLENBQUNDLEdBQUcsR0FBRztNQUNQVCxNQUFNLEVBQUUsZ0JB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QUssQ0FBQ0csS0FBSyxDQUFDK0UsS0FBSyxDQUFDLENBQUM7SUFDNUI7SUFFQSxJQUFJLENBQUNiLFdBQVcsR0FBRyxJQUFJO0VBQzNCO0VBRUF2QixVQUFVQSxDQUFBLEVBQUc7SUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDL0MsS0FBSyxFQUFFO01BQ2I7SUFDSjtJQUVBLElBQUksQ0FBQ0EsS0FBSyxDQUFDa0UsVUFBVSxDQUFDMUMsU0FBUyxHQUFHLElBQUksQ0FBQ3hCLEtBQUssQ0FBQ2tFLFVBQVUsQ0FBQzFDLFNBQVMsQ0FBQzRDLE9BQU8sQ0FDckUsSUFBSSxDQUFDcEUsS0FBSyxDQUFDcUUsU0FBUyxFQUNwQixJQUFJLENBQUNyRSxLQUFLLENBQUNpRSxTQUNmLENBQUM7SUFFRCxJQUFJLENBQUNqRSxLQUFLLEdBQUcsSUFBSTtFQUNyQjtFQUVBNkUsaUJBQWlCQSxDQUFDakQsS0FBSyxFQUFFO0lBQ3JCLE1BQU13RCxPQUFPLEdBQUd4RCxLQUFLLENBQUNqQyxNQUFNLENBQUNnRSxZQUFZLENBQUMsV0FBVyxDQUFDO0lBRXRELElBQUksQ0FBQ0csUUFBUSxDQUFDc0IsT0FBTyxDQUFDO0lBQ3RCLElBQUksQ0FBQ25FLFlBQVksQ0FBQyxDQUFDO0lBQ25CLElBQUksQ0FBQ1QsYUFBYSxDQUFDd0MsS0FBSyxDQUFDLENBQUM7RUFDOUI7RUFFQU0sYUFBYUEsQ0FBQSxFQUFHO0lBQ1osSUFBSSxDQUFDLElBQUksQ0FBQ2dCLFdBQVcsRUFBRTtNQUNuQixJQUFJLENBQUNWLFdBQVcsQ0FBQyxJQUFJLENBQUM7SUFDMUIsQ0FBQyxNQUFNO01BQ0gsSUFBSSxDQUFDM0MsWUFBWSxDQUFDLEtBQUssQ0FBQztJQUM1QjtFQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvbGluay9pbmRleC5qcz9jMDJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5cclxuY29uc3QgbGlua0ljb24gPSBgPHN2ZyB3aWR0aD1cIjEzXCIgaGVpZ2h0PVwiMTRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XHJcblx0PHBhdGggZD1cIk04LjU2NyAxMy42MjljLjcyOC40NjQgMS41ODEuNjUgMi40MS41NThsLS44NzMuODczQTMuNzIyIDMuNzIyIDAgMSAxIDQuODQgOS43OTRMNi42OTQgNy45NGEzLjcyMiAzLjcyMiAwIDAgMSA1LjI1Ni0uMDA4TDEwLjQ4NCA5LjRhNS4yMDkgNS4yMDkgMCAwIDEtLjAxNy4wMTYgMS42MjUgMS42MjUgMCAwIDAtMi4yOS4wMDlsLTEuODU0IDEuODU0YTEuNjI2IDEuNjI2IDAgMCAwIDIuMjQ0IDIuMzV6bTIuNzY2LTcuMzU4YTMuNzIyIDMuNzIyIDAgMCAwLTIuNDEtLjU1OGwuODczLS44NzNhMy43MjIgMy43MjIgMCAxIDEgNS4yNjQgNS4yNjZsLTEuODU0IDEuODU0YTMuNzIyIDMuNzIyIDAgMCAxLTUuMjU2LjAwOEw5LjQxNiAxMC41YTUuMiA1LjIgMCAwIDEgLjAxNy0uMDE2IDEuNjI1IDEuNjI1IDAgMCAwIDIuMjktLjAwOWwxLjg1NC0xLjg1NGExLjYyNiAxLjYyNiAwIDAgMC0yLjI0NC0yLjM1elwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMy42NjcgLTIuNylcIiAvPlxyXG48L3N2Zz5cclxuYDtcclxuXHJcbmNvbnN0IHVubGlua0ljb24gPSBgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDE2IDE4XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPlxyXG4gICAgPHBhdGggdHJhbnNmb3JtPVwicm90YXRlKC00NSA4LjM1OCAxMS42MzYpXCIgZD1cIk05LjE0IDkuNDMzYy4wMDgtLjEyLS4wODctLjY4Ni0uMTEyLS44MWExLjQgMS40IDAgMCAwLTEuNjQtMS4xMDZsLTMuOTc3Ljc3MmExLjQgMS40IDAgMCAwIC41MzUgMi43NDlsLjkzNS0uMTYycy4wMTkgMS4wOTMuNTkyIDIuMjIzbC0xLjA5OC4xNDhBMy42NSAzLjY1IDAgMSAxIDIuOTgyIDYuMDhsMy45NzYtLjc3M2MxLjk3OS0uMzg1IDMuODM4LjkxOSA0LjI4IDIuODg2LjUxIDIuMjc2LTEuMDg0IDIuODE2LTEuMDczIDIuOTM1LjAxMS4xMi0uMzk0LTEuNTktMS4wMjYtMS42OTZ6bTMuNTYzLS44NzVsMi4xMDUgMy40MzlhMy42NSAzLjY1IDAgMCAxLTYuMTkgMy44NjhMNi40NyAxMi40MzFjLTEuMDY4LTEuNzEtLjk2NC0yLjI5NS0uNDktMy4wNy4wNjctLjEwNyAxLjE2LTEuNDY2IDEuNDgtLjkzNi0uMTIuMDM2LjkgMS4zMy43ODkgMS4zOTgtLjY1Ni40MS0uMjguNzYuMTMgMS40MTVsMi4xNDUgMy40MzVhMS40IDEuNCAwIDAgMCAyLjM3NS0xLjQ4NGwtMS4xMzItMS45NDFjLjQyLS40MzUgMS4yMzctMS4wNTQuOTM1LTIuNjl6bTEuODgtMi4yNTZoMy40YTEuMTI1IDEuMTI1IDAgMCAxIDAgMi4yNWgtMy40YTEuMTI1IDEuMTI1IDAgMCAxIDAtMi4yNXpNMTEuODQ5LjAzOGMuNjIgMCAxLjEyNS41MDMgMS4xMjUgMS4xMjV2My40YTEuMTI1IDEuMTI1IDAgMCAxLTIuMjUgMHYtMy40YzAtLjYyMi41MDMtMS4xMjUgMS4xMjUtMS4xMjV6XCIvPlxyXG48L3N2Zz5gO1xyXG5cclxuY29uc3QgRU5URVJfS0VZID0gMTM7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5rVG9vbCB7XHJcbiAgICBzdGF0aWMgZ2V0IGlzSW5saW5lKCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYToge1xyXG4gICAgICAgICAgICAgICAgaHJlZjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaycsXHJcbiAgICAgICAgICAgICAgICByZWw6ICdub2ZvbGxvdycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7IGFwaSwgY29uZmlnIH0pIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZXMgPSB7XHJcbiAgICAgICAgICAgIGJ1dHRvbjogbnVsbCxcclxuICAgICAgICAgICAgZWRpdG9yOiBudWxsLFxyXG4gICAgICAgICAgICBpbnB1dDogbnVsbCxcclxuICAgICAgICAgICAgbGlzdDogbnVsbCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRhZyA9ICdhJztcclxuICAgICAgICB0aGlzLmNsYXNzID0gJ2NkeC1saW5rJztcclxuXHJcbiAgICAgICAgdGhpcy5hcGkgPSBhcGk7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5pbmxpbmVUb29sYmFyID0gYXBpLmlubGluZVRvb2xiYXI7XHJcbiAgICAgICAgdGhpcy5ub3RpZmllciA9IGFwaS5ub3RpZmllcjtcclxuICAgICAgICB0aGlzLnRvb2xiYXIgPSBhcGkudG9vbGJhcjtcclxuICAgICAgICB0aGlzLkNTUyA9IHtcclxuICAgICAgICAgICAgYnV0dG9uOiAnY2UtaW5saW5lLXRvb2wnLFxyXG4gICAgICAgICAgICBidXR0b25BY3RpdmU6ICdjZS1pbmxpbmUtdG9vbC0tYWN0aXZlJyxcclxuICAgICAgICAgICAgYnV0dG9uTW9kaWZpZXI6ICdjZS1pbmxpbmUtdG9vbC0tbGluaycsXHJcbiAgICAgICAgICAgIGVkaXRvckFjdGl2ZTogJ2xpbmstdG9vbC1lZGl0b3ItLWFjdGl2ZScsXHJcbiAgICAgICAgICAgIGlucHV0OiAnY2UtaW5saW5lLXRvb2wtaW5wdXQnLFxyXG4gICAgICAgICAgICBpbnB1dFNob3dlZDogJ2NlLWlubGluZS10b29sLWlucHV0LS1zaG93ZWQnLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZUFjdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5ub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICB0aGlzLm5vZGVzLmJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XHJcbiAgICAgICAgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b24pO1xyXG4gICAgICAgIHRoaXMubm9kZXMuYnV0dG9uLmlubmVySFRNTCA9IGxpbmtJY29uO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b247XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQWN0aW9ucygpIHtcclxuICAgICAgICB0aGlzLm5vZGVzLmVkaXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMubm9kZXMuZWRpdG9yLmNsYXNzTGlzdC5hZGQoJ2xpbmstdG9vbC1lZGl0b3InKTtcclxuXHJcbiAgICAgICAgdGhpcy5ub2Rlcy5pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5ub2Rlcy5pbnB1dC5wbGFjZWhvbGRlciA9ICdUeXBlIGxpbmsgb3Igc2VhcmNoIGJ5IHRpdGxlJztcclxuICAgICAgICB0aGlzLm5vZGVzLmlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuaW5wdXQpO1xyXG4gICAgICAgIHRoaXMubm9kZXMuaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5pbnB1dFNob3dlZCk7XHJcbiAgICAgICAgdGhpcy5ub2Rlcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gRU5URVJfS0VZKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVudGVyUHJlc3NlZChldmVudCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5ub2Rlcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IEVOVEVSX0tFWSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5ub2Rlcy5pbnB1dC52YWx1ZS5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgICAgICBmZXRjaChcclxuICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLmNvbmZpZy50ZW5hbnRQYXRofS9CbG9ja3MvU2VhcmNoQ29udGVudEl0ZW1zP3R5cGU9JHt0aGlzLmNvbmZpZy50eXBlTmFtZX0mcGFydD0ke3RoaXMuY29uZmlnLnBhcnROYW1lfSZmaWVsZD0ke3RoaXMuY29uZmlnLmZpZWxkTmFtZX0mcXVlcnk9JHt0aGlzLm5vZGVzLmlucHV0LnZhbHVlfWBcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oY29udGVudEl0ZW1zID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpc3BsYXlDb250ZW50SXRlbXMoY29udGVudEl0ZW1zKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5ub2Rlcy5lZGl0b3IuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5pbnB1dCk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZXMubGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICAgICAgdGhpcy5ub2Rlcy5saXN0LmNsYXNzTGlzdC5hZGQoJ2xpbmstdG9vbC1lZGl0b3JfX2NvbnRlbnQtaXRlbXMnKTtcclxuICAgICAgICB0aGlzLm5vZGVzLmVkaXRvci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmxpc3QpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlcy5lZGl0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgc3Vycm91bmQocmFuZ2UpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxpbmsoKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUFjdGlvbnMoKTtcclxuICAgICAgICAgICAgdGhpcy5pbmxpbmVUb29sYmFyLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyYW5nZSkge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZFRleHQgPSByYW5nZS5leHRyYWN0Q29udGVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2E4ZDZmZic7XHJcbiAgICAgICAgICAgIHRoaXMucGxhY2Vob2xkZXIuYXBwZW5kQ2hpbGQoc2VsZWN0ZWRUZXh0KTtcclxuICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh0aGlzLnBsYWNlaG9sZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudG9nZ2xlQWN0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrU3RhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgYW5jaG9yVGFnID0gdGhpcy5hcGkuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoJ0EnKTtcclxuXHJcbiAgICAgICAgaWYgKGFuY2hvclRhZykge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXMuYnV0dG9uLmlubmVySFRNTCA9IHVubGlua0ljb247XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXMuaW5wdXQudmFsdWUgPSBhbmNob3JUYWcuZ2V0QXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBhbmNob3JUYWc7XHJcbiAgICAgICAgICAgIHRoaXMub3BlbkFjdGlvbnMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVzLmJ1dHRvbi5pbm5lckhUTUwgPSBsaW5rSWNvbjtcclxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5idXR0b25BY3RpdmUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcHBseVVybCh1cmwpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGxhY2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgbGluay5pbm5lckhUTUwgPSB0aGlzLnBsYWNlaG9sZGVyLmlubmVyVGV4dDtcclxuICAgICAgICBsaW5rLmhyZWYgPSB1cmw7XHJcblxyXG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobGluaywgdGhpcy5wbGFjZWhvbGRlcik7XHJcblxyXG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQWN0aW9ucygpIHtcclxuICAgICAgICBpZiAodGhpcy5wbGFjZWhvbGRlcikge1xyXG4gICAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLnBhcmVudE5vZGUuaW5uZXJIVE1MID0gdGhpcy5wbGFjZWhvbGRlci5wYXJlbnROb2RlLmlubmVySFRNTC5yZXBsYWNlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZWhvbGRlci5vdXRlckhUTUwsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyLmlubmVyVGV4dFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5vZGVzLmVkaXRvcikge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVzLmVkaXRvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ1NTLmVkaXRvckFjdGl2ZSk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXMuaW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5saXN0LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE9wZW5lZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3BsYXlDb250ZW50SXRlbXMoY29udGVudEl0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy5ub2Rlcy5saXN0LmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgICAgICBjb250ZW50SXRlbXMuZm9yRWFjaChjb250ZW50SXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGNvbnRlbnRJdGVtLmRpc3BsYXlUZXh0O1xyXG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkYXRhLWhyZWYnLCBjb250ZW50SXRlbS51cmwpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICAgICAgbGlzdEl0ZW0udGl0bGUgPSBjb250ZW50SXRlbS5kaXNwbGF5VGV4dDtcclxuICAgICAgICAgICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Q29udGVudEl0ZW0oZXZlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubm9kZXMubGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW50ZXJQcmVzc2VkKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5ub2Rlcy5pbnB1dC52YWx1ZSB8fCAnJztcclxuXHJcbiAgICAgICAgaWYgKCF2YWx1ZS50cmltKCkpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUFjdGlvbnMoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hcHBseVVybCh2YWx1ZSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByZXZlbnRpbmcgZXZlbnRzIHRoYXQgd2lsbCBiZSBhYmxlIHRvIGhhcHBlblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5pbmxpbmVUb29sYmFyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkFjdGlvbnMobmVlZEZvY3VzKSB7XHJcbiAgICAgICAgdGhpcy5ub2Rlcy5lZGl0b3IuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5lZGl0b3JBY3RpdmUpO1xyXG5cclxuICAgICAgICBpZiAobmVlZEZvY3VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXMuaW5wdXQuZm9jdXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRPcGVuZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUxpbmsoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUucGFyZW50Tm9kZS5pbm5lckhUTUwgPSB0aGlzLnN0YXRlLnBhcmVudE5vZGUuaW5uZXJIVE1MLnJlcGxhY2UoXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUub3V0ZXJIVE1MLFxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmlubmVyVGV4dFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdENvbnRlbnRJdGVtKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgaXRlbVVybCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaHJlZicpO1xyXG5cclxuICAgICAgICB0aGlzLmFwcGx5VXJsKGl0ZW1VcmwpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5pbmxpbmVUb29sYmFyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlQWN0aW9ucygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5wdXRPcGVuZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuQWN0aW9ucyh0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlQWN0aW9ucyhmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJsaW5rSWNvbiIsInVubGlua0ljb24iLCJFTlRFUl9LRVkiLCJMaW5rVG9vbCIsImlzSW5saW5lIiwic2FuaXRpemUiLCJhIiwiaHJlZiIsInRhcmdldCIsInJlbCIsImNvbnN0cnVjdG9yIiwiYXBpIiwiY29uZmlnIiwic3RhdGUiLCJub2RlcyIsImJ1dHRvbiIsImVkaXRvciIsImlucHV0IiwibGlzdCIsInRhZyIsImNsYXNzIiwiaW5saW5lVG9vbGJhciIsIm5vdGlmaWVyIiwidG9vbGJhciIsIkNTUyIsImJ1dHRvbkFjdGl2ZSIsImJ1dHRvbk1vZGlmaWVyIiwiZWRpdG9yQWN0aXZlIiwiaW5wdXRTaG93ZWQiLCJjbGVhciIsImNsb3NlQWN0aW9ucyIsInJlbmRlciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJyZW5kZXJBY3Rpb25zIiwicGxhY2Vob2xkZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXlDb2RlIiwiZW50ZXJQcmVzc2VkIiwiX3RoaXMiLCJ2YWx1ZSIsImxlbmd0aCIsImZldGNoIiwidGVuYW50UGF0aCIsInR5cGVOYW1lIiwicGFydE5hbWUiLCJmaWVsZE5hbWUiLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiY29udGVudEl0ZW1zIiwiZGlzcGxheUNvbnRlbnRJdGVtcyIsImFwcGVuZENoaWxkIiwic3Vycm91bmQiLCJyYW5nZSIsInJlbW92ZUxpbmsiLCJjbG9zZSIsInNlbGVjdGVkVGV4dCIsImV4dHJhY3RDb250ZW50cyIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiaW5zZXJ0Tm9kZSIsInRvZ2dsZUFjdGlvbnMiLCJjaGVja1N0YXRlIiwiYW5jaG9yVGFnIiwic2VsZWN0aW9uIiwiZmluZFBhcmVudFRhZyIsImdldEF0dHJpYnV0ZSIsIm9wZW5BY3Rpb25zIiwicmVtb3ZlIiwiYXBwbHlVcmwiLCJ1cmwiLCJsaW5rIiwiaW5uZXJUZXh0IiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsInJlcGxhY2UiLCJvdXRlckhUTUwiLCJpbnB1dE9wZW5lZCIsImZvckVhY2giLCJjb250ZW50SXRlbSIsImRpc3BsYXlUZXh0Iiwic2V0QXR0cmlidXRlIiwibGlzdEl0ZW0iLCJ0aXRsZSIsInNlbGVjdENvbnRlbnRJdGVtIiwidHJpbSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwibmVlZEZvY3VzIiwiZm9jdXMiLCJpdGVtVXJsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Assets/Editor.js/js/plugins/link/index.js\n");

/***/ }),

/***/ "./Assets/Editor.js/js/plugins/mediaLibrary/index.js":
/*!***********************************************************!*\
  !*** ./Assets/Editor.js/js/plugins/mediaLibrary/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MediaLibraryTool)\n/* harmony export */ });\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bootstrap */ \"bootstrap\");\n/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bootstrap__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ \"jquery\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui */ \"./Assets/Editor.js/js/plugins/mediaLibrary/ui.js\");\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.css */ \"./Assets/Editor.js/js/plugins/mediaLibrary/index.css\");\n/* harmony import */ var _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @codexteam/icons */ \"./node_modules/@codexteam/icons/dist/index.mjs\");\n\n\n\n\n\nconst selectors = {\n  mediaApp: '#mediaApp',\n  mediaFieldSelectButton: '.mediaFieldSelectButton',\n  modalBody: '.modal-body'\n};\nclass MediaLibraryTool {\n  static get pasteConfig() {\n    return {\n      patterns: {\n        image: /https?:\\/\\/\\S+\\.(gif|jpe?g|tiff|png)$/i\n      },\n      tags: ['IMG']\n    };\n  }\n  static get toolbox() {\n    return {\n      title: 'Image',\n      icon: '<svg width=\"17\" height=\"15\" viewBox=\"0 0 336 276\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z\"/></svg>'\n    };\n  }\n  constructor({\n    data,\n    config,\n    api\n  }) {\n    this.api = api;\n    this.config = config || {};\n    this.data = {\n      url: data.url || '',\n      baseUrl: data.baseUrl || data.url,\n      caption: data.caption || '',\n      stretched: data.stretched !== undefined ? data.stretched : false,\n      profileObject: data.profileObject !== undefined ? data.profileObject : this.profiles[3],\n      profile: data.profile !== undefined ? data.profile : this.profiles[3].name\n    };\n    this.modalBodyElement = document.getElementById(`${config.id}-ModalBody`);\n    this.ui = new _ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.api, () => {\n      this._openMediaLibrary();\n    });\n  }\n  appendCallback() {\n    this._openMediaLibrary();\n  }\n  onPaste(event) {\n    switch (event.type) {\n      case 'pattern':\n        const src = event.detail.data;\n        this._setMedia({\n          mediaPath: src,\n          url: src\n        });\n        break;\n      case 'tag':\n        const imgTag = event.detail.data;\n        this._setMedia({\n          mediaPath: imgTag.src,\n          url: imgTag.src\n        });\n        break;\n    }\n  }\n  render() {\n    return this.ui.render(this.data);\n  }\n  renderSettings() {\n    const settings = [{\n      name: 'stretched',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconStretch,\n      text: 'Stretch image'\n    }];\n    let profiles = this.profiles.map(profile => ({\n      icon: profile.icon,\n      label: this.api.i18n.t(`Profile: ${profile.name}`),\n      onActivate: () => this.setProfile(profile),\n      closeOnActivate: true,\n      isActive: this.currentProfile.name === profile.name\n    }));\n    let settingsActions = settings.map(setting => ({\n      icon: setting.icon,\n      label: setting.text,\n      onActivate: () => this._toggleTune(setting.name),\n      closeOnActivate: true,\n      isActive: this.data[setting.name] === true\n    }));\n    return [...profiles, ...settingsActions];\n  }\n  save() {\n    this.data.caption = this.ui.getCaption();\n    return this.data;\n  }\n\n  /**\r\n   * Opens the Orchard Core media library.\r\n   */\n  _openMediaLibrary() {\n    const self = this;\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(selectors.mediaApp).detach().appendTo(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this.modalBodyElement).find(selectors.modalBody));\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(selectors.mediaApp).show();\n    const modal = new (bootstrap__WEBPACK_IMPORTED_MODULE_0___default().Modal)(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this.modalBodyElement)[0]);\n    modal.show();\n    jquery__WEBPACK_IMPORTED_MODULE_1___default()(this.modalBodyElement).find(selectors.mediaFieldSelectButton).off('click').on('click', async function () {\n      if (window.mediaApp.selectedMedias.length) {\n        self._setMedia(window.mediaApp.selectedMedias[0]);\n      }\n      window.mediaApp.selectedMedias = [];\n      modal.hide();\n      return true;\n    });\n  }\n\n  /**\r\n   * Updates block with selected media item.\r\n   */\n  _setMedia(media) {\n    // Strip any existing query parameters\n    let baseUrl = media.url.split('?')[0];\n\n    // Add new width parameter\n    let url = baseUrl + '?width=' + this.data.profileObject.width + '&height=' + this.data.profileObject.height;\n    this.data = {\n      caption: '',\n      mediaPath: media.mediaPath,\n      url: url,\n      baseUrl: media.url,\n      profileObject: this.data.profileObject,\n      profile: this.data.profileObject.name\n    };\n    this.ui.render(this.data);\n  }\n  _toggleTune(tune) {\n    this.data[tune] = !this.data[tune];\n    if (tune === 'stretched') {\n      const blockId = this.api.blocks.getCurrentBlockIndex();\n      setTimeout(() => {\n        this.api.blocks.stretchBlock(blockId, this.data[tune]);\n      }, 0);\n    }\n  }\n  get currentProfile() {\n    let profile = this.profiles.find(levelItem => levelItem.name === this.data.profile);\n    if (!profile) {\n      profile = this.profiles[2];\n    }\n    return profile;\n  }\n  setProfile(profileObject) {\n    // Strip any existing query parameters\n    let currentUrl = this.data.baseUrl !== undefined ? this.data.baseUrl : this.data.url;\n    let baseUrl = currentUrl.split('?')[0];\n    let url = baseUrl + '?width=' + profileObject.width + '&height=' + profileObject.height;\n    this.data = {\n      ...this.data,\n      caption: this.data.caption,\n      mediaPath: this.data.mediaPath,\n      baseUrl: this.data.baseUrl,\n      url: url,\n      profile: profileObject.name,\n      profileObject: profileObject\n    };\n    this.ui.render(this.data);\n  }\n  get profiles() {\n    const availableProfiles = [{\n      name: '50x50',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 50,\n      height: 50\n    }, {\n      name: '75x75',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 75,\n      height: 75\n    }, {\n      name: '100x100',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 100,\n      height: 100\n    }, {\n      name: '160x160',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 160,\n      height: 160\n    }, {\n      name: '240x240',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 240,\n      height: 240\n    }, {\n      name: '480x480',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 480,\n      height: 480\n    }, {\n      name: '600x600',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 600,\n      height: 600\n    }, {\n      name: '1024x600',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 1024,\n      height: 600\n    }, {\n      name: '1024x1024',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 1024,\n      height: 1024\n    }, {\n      name: '2048x1024',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 2048,\n      height: 1024\n    }, {\n      name: '2048x2048',\n      icon: _codexteam_icons__WEBPACK_IMPORTED_MODULE_4__.IconPicture,\n      width: 2048,\n      height: 2048\n    }];\n    return availableProfiles;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvbWVkaWFMaWJyYXJ5L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWtDO0FBQ1g7QUFFRDtBQUNEO0FBQ3VDO0FBRTVELE1BQU1LLFNBQVMsR0FBRztFQUNoQkMsUUFBUSxFQUFFLFdBQVc7RUFDckJDLHNCQUFzQixFQUFFLHlCQUF5QjtFQUNqREMsU0FBUyxFQUFFO0FBQ2IsQ0FBQztBQUVjLE1BQU1DLGdCQUFnQixDQUFDO0VBQ3BDLFdBQVdDLFdBQVdBLENBQUEsRUFBRztJQUN2QixPQUFPO01BQ0xDLFFBQVEsRUFBRTtRQUNSQyxLQUFLLEVBQUU7TUFDVCxDQUFDO01BQ0RDLElBQUksRUFBRSxDQUFDLEtBQUs7SUFDZCxDQUFDO0VBQ0g7RUFFQSxXQUFXQyxPQUFPQSxDQUFBLEVBQUc7SUFDbkIsT0FBTztNQUNMQyxLQUFLLEVBQUUsT0FBTztNQUNkQyxJQUFJLEVBQ0Y7SUFDSixDQUFDO0VBQ0g7RUFFQUMsV0FBV0EsQ0FBQztJQUFFQyxJQUFJO0lBQUVDLE1BQU07SUFBRUM7RUFBSSxDQUFDLEVBQUU7SUFDakMsSUFBSSxDQUFDQSxHQUFHLEdBQUdBLEdBQUc7SUFDZCxJQUFJLENBQUNELE1BQU0sR0FBR0EsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUUxQixJQUFJLENBQUNELElBQUksR0FBRztNQUNWRyxHQUFHLEVBQUVILElBQUksQ0FBQ0csR0FBRyxJQUFJLEVBQUU7TUFDbkJDLE9BQU8sRUFBRUosSUFBSSxDQUFDSSxPQUFPLElBQUlKLElBQUksQ0FBQ0csR0FBRztNQUNqQ0UsT0FBTyxFQUFFTCxJQUFJLENBQUNLLE9BQU8sSUFBSSxFQUFFO01BQzNCQyxTQUFTLEVBQUVOLElBQUksQ0FBQ00sU0FBUyxLQUFLQyxTQUFTLEdBQUdQLElBQUksQ0FBQ00sU0FBUyxHQUFHLEtBQUs7TUFDaEVFLGFBQWEsRUFBRVIsSUFBSSxDQUFDUSxhQUFhLEtBQUtELFNBQVMsR0FBR1AsSUFBSSxD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O01BQ2hCYixJQUFJLEVBQUVaLHlEQUFXO01BQ2pCMEUsS0FBSyxFQUFFLElBQUk7TUFDWEMsTUFBTSxFQUFFO0lBQ1YsQ0FBQyxFQUNEO01BQ0VsRCxJQUFJLEVBQUUsV0FBVztNQUNqQmIsSUFBSSxFQUFFWix5REFBVztNQUNqQjBFLEtBQUssRUFBRSxJQUFJO01BQ1hDLE1BQU0sRUFBRTtJQUNWLENBQUMsRUFDRDtNQUNFbEQsSUFBSSxFQUFFLFdBQVc7TUFDakJiLElBQUksRUFBRVoseURBQVc7TUFDakIwRSxLQUFLLEVBQUUsSUFBSTtNQUNYQyxNQUFNLEVBQUU7SUFDVixDQUFDLEVBQ0Q7TUFDRWxELElBQUksRUFBRSxXQUFXO01BQ2pCYixJQUFJLEVBQUVaLHlEQUFXO01BQ2pCMEUsS0FBSyxFQUFFLElBQUk7TUFDWEMsTUFBTSxFQUFFO0lBQ1YsQ0FBQyxDQUNGO0lBQ0QsT0FBT1MsaUJBQWlCO0VBQzFCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvbWVkaWFMaWJyYXJ5L2luZGV4LmpzPzFjYjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJvb3RzdHJhcCBmcm9tICdib290c3RyYXAnO1xyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5cclxuaW1wb3J0IFVpIGZyb20gJy4vdWknO1xyXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcclxuaW1wb3J0IHsgSWNvblN0cmV0Y2gsIEljb25QaWN0dXJlIH0gZnJvbSAnQGNvZGV4dGVhbS9pY29ucyc7XHJcblxyXG5jb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgbWVkaWFBcHA6ICcjbWVkaWFBcHAnLFxyXG4gIG1lZGlhRmllbGRTZWxlY3RCdXR0b246ICcubWVkaWFGaWVsZFNlbGVjdEJ1dHRvbicsXHJcbiAgbW9kYWxCb2R5OiAnLm1vZGFsLWJvZHknLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVkaWFMaWJyYXJ5VG9vbCB7XHJcbiAgc3RhdGljIGdldCBwYXN0ZUNvbmZpZygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHBhdHRlcm5zOiB7XHJcbiAgICAgICAgaW1hZ2U6IC9odHRwcz86XFwvXFwvXFxTK1xcLihnaWZ8anBlP2d8dGlmZnxwbmcpJC9pLFxyXG4gICAgICB9LFxyXG4gICAgICB0YWdzOiBbJ0lNRyddLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgdG9vbGJveCgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRpdGxlOiAnSW1hZ2UnLFxyXG4gICAgICBpY29uOlxyXG4gICAgICAgICc8c3ZnIHdpZHRoPVwiMTdcIiBoZWlnaHQ9XCIxNVwiIHZpZXdCb3g9XCIwIDAgMzM2IDI3NlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTI5MSAxNTBWNzljMC0xOS0xNS0zNC0zNC0zNEg3OWMtMTkgMC0zNCAxNS0zNCAzNHY0Mmw2Ny00NCA4MSA3MiA1Ni0yOSA0MiAzMHptMCA1MmwtNDMtMzAtNTYgMzAtODEtNjctNjYgMzl2MjNjMCAxOSAxNSAzNCAzNCAzNGgxNzhjMTcgMCAzMS0xMyAzNC0yOXpNNzkgMGgxNzhjNDQgMCA3OSAzNSA3OSA3OXYxMThjMCA0NC0zNSA3OS03OSA3OUg3OWMtNDQgMC03OS0zNS03OS03OVY3OUMwIDM1IDM1IDAgNzkgMHpcIi8+PC9zdmc+JyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIGNvbmZpZywgYXBpIH0pIHtcclxuICAgIHRoaXMuYXBpID0gYXBpO1xyXG4gICAgdGhpcy5jb25maWcgPSBjb25maWcgfHwge307XHJcblxyXG4gICAgdGhpcy5kYXRhID0ge1xyXG4gICAgICB1cmw6IGRhdGEudXJsIHx8ICcnLFxyXG4gICAgICBiYXNlVXJsOiBkYXRhLmJhc2VVcmwgfHwgZGF0YS51cmwsXHJcbiAgICAgIGNhcHRpb246IGRhdGEuY2FwdGlvbiB8fCAnJyxcclxuICAgICAgc3RyZXRjaGVkOiBkYXRhLnN0cmV0Y2hlZCAhPT0gdW5kZWZpbmVkID8gZGF0YS5zdHJldGNoZWQgOiBmYWxzZSxcclxuICAgICAgcHJvZmlsZU9iamVjdDogZGF0YS5wcm9maWxlT2JqZWN0ICE9PSB1bmRlZmluZWQgPyBkYXRhLnByb2ZpbGVPYmplY3QgOiB0aGlzLnByb2ZpbGVzWzNdLFxuICAgICAgcHJvZmlsZTogZGF0YS5wcm9maWxlICE9PSB1bmRlZmluZWQgPyBkYXRhLnByb2ZpbGUgOiB0aGlzLnByb2ZpbGVzWzNdLm5hbWUsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubW9kYWxCb2R5RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBgJHtjb25maWcuaWR9LU1vZGFsQm9keWBcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy51aSA9IG5ldyBVaSh0aGlzLmFwaSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9vcGVuTWVkaWFMaWJyYXJ5KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFwcGVuZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5fb3Blbk1lZGlhTGlicmFyeSgpO1xyXG4gIH1cclxuXHJcbiAgb25QYXN0ZShldmVudCkge1xyXG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3BhdHRlcm4nOlxyXG4gICAgICAgIGNvbnN0IHNyYyA9IGV2ZW50LmRldGFpbC5kYXRhO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXRNZWRpYSh7XHJcbiAgICAgICAgICBtZWRpYVBhdGg6IHNyYyxcclxuICAgICAgICAgIHVybDogc3JjLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAndGFnJzpcclxuICAgICAgICBjb25zdCBpbWdUYWcgPSBldmVudC5kZXRhaWwuZGF0YTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0TWVkaWEoe1xyXG4gICAgICAgICAgbWVkaWFQYXRoOiBpbWdUYWcuc3JjLFxyXG4gICAgICAgICAgdXJsOiBpbWdUYWcuc3JjLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiB0aGlzLnVpLnJlbmRlcih0aGlzLmRhdGEpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyU2V0dGluZ3MoKSB7XHJcbiAgICBjb25zdCBzZXR0aW5ncyA9IFtcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICdzdHJldGNoZWQnLFxyXG4gICAgICAgIGljb246IEljb25TdHJldGNoLFxyXG4gICAgICAgIHRleHQ6ICdTdHJldGNoIGltYWdlJyxcclxuICAgICAgfSxcclxuICAgIF07XHJcbiAgICBsZXQgcHJvZmlsZXMgPSB0aGlzLnByb2ZpbGVzLm1hcChwcm9maWxlID0+ICh7XHJcbiAgICAgIGljb246IHByb2ZpbGUuaWNvbixcclxuICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChgUHJvZmlsZTogJHtwcm9maWxlLm5hbWV9YCksXHJcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuc2V0UHJvZmlsZShwcm9maWxlKSxcclxuICAgICAgY2xvc2VPbkFjdGl2YXRlOiB0cnVlLFxyXG4gICAgICBpc0FjdGl2ZTogdGhpcy5jdXJyZW50UHJvZmlsZS5uYW1lID09PSBwcm9maWxlLm5hbWUsXHJcbiAgICB9KSk7XHJcblxyXG4gICAgbGV0IHNldHRpbmdzQWN0aW9ucyA9IHNldHRpbmdzLm1hcChzZXR0aW5nID0+ICh7XHJcbiAgICAgIGljb246IHNldHRpbmcuaWNvbixcclxuICAgICAgbGFiZWw6IHNldHRpbmcudGV4dCxcclxuICAgICAgb25BY3RpdmF0ZTogKCkgPT4gdGhpcy5fdG9nZ2xlVHVuZShzZXR0aW5nLm5hbWUpLFxyXG4gICAgICBjbG9zZU9uQWN0aXZhdGU6IHRydWUsXHJcbiAgICAgIGlzQWN0aXZlOiB0aGlzLmRhdGFbc2V0dGluZy5uYW1lXSA9PT0gdHJ1ZSxcclxuICAgIH0pKTtcclxuXHJcbiAgICByZXR1cm4gWy4uLnByb2ZpbGVzLCAuLi5zZXR0aW5nc0FjdGlvbnNdO1xyXG4gIH1cclxuXHJcbiAgc2F2ZSgpIHtcclxuICAgIHRoaXMuZGF0YS5jYXB0aW9uID0gdGhpcy51aS5nZXRDYXB0aW9uKCk7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3BlbnMgdGhlIE9yY2hhcmQgQ29yZSBtZWRpYSBsaWJyYXJ5LlxyXG4gICAqL1xyXG4gIF9vcGVuTWVkaWFMaWJyYXJ5KCkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgJChzZWxlY3RvcnMubWVkaWFBcHApXHJcbiAgICAgIC5kZXRhY2goKVxyXG4gICAgICAuYXBwZW5kVG8oJCh0aGlzLm1vZGFsQm9keUVsZW1lbnQpLmZpbmQoc2VsZWN0b3JzLm1vZGFsQm9keSkpO1xyXG5cclxuICAgICQoc2VsZWN0b3JzLm1lZGlhQXBwKS5zaG93KCk7XHJcblxyXG4gICAgY29uc3QgbW9kYWwgPSBuZXcgYm9vdHN0cmFwLk1vZGFsKCQodGhpcy5tb2RhbEJvZHlFbGVtZW50KVswXSk7XHJcbiAgICBtb2RhbC5zaG93KCk7XHJcblxyXG4gICAgJCh0aGlzLm1vZGFsQm9keUVsZW1lbnQpXHJcbiAgICAgIC5maW5kKHNlbGVjdG9ycy5tZWRpYUZpZWxkU2VsZWN0QnV0dG9uKVxyXG4gICAgICAub2ZmKCdjbGljaycpXHJcbiAgICAgIC5vbignY2xpY2snLCBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5tZWRpYUFwcC5zZWxlY3RlZE1lZGlhcy5sZW5ndGgpIHtcclxuICAgICAgICAgIHNlbGYuX3NldE1lZGlhKHdpbmRvdy5tZWRpYUFwcC5zZWxlY3RlZE1lZGlhc1swXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aW5kb3cubWVkaWFBcHAuc2VsZWN0ZWRNZWRpYXMgPSBbXTtcclxuXHJcbiAgICAgICAgbW9kYWwuaGlkZSgpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZXMgYmxvY2sgd2l0aCBzZWxlY3RlZCBtZWRpYSBpdGVtLlxyXG4gICAqL1xyXG4gIF9zZXRNZWRpYShtZWRpYSkge1xyXG4gICAgLy8gU3RyaXAgYW55IGV4aXN0aW5nIHF1ZXJ5IHBhcmFtZXRlcnNcclxuICAgIGxldCBiYXNlVXJsID0gbWVkaWEudXJsLnNwbGl0KCc/JylbMF07XHJcblxyXG4gICAgLy8gQWRkIG5ldyB3aWR0aCBwYXJhbWV0ZXJcclxuICAgIGxldCB1cmwgPSBiYXNlVXJsICsgJz93aWR0aD0nICsgdGhpcy5kYXRhLnByb2ZpbGVPYmplY3Qud2lkdGggKyAnJmhlaWdodD0nICsgdGhpcy5kYXRhLnByb2ZpbGVPYmplY3QuaGVpZ2h0O1xuXHJcbiAgICB0aGlzLmRhdGEgPSB7XHJcbiAgICAgIGNhcHRpb246ICcnLFxyXG4gICAgICBtZWRpYVBhdGg6IG1lZGlhLm1lZGlhUGF0aCxcclxuICAgICAgdXJsOnVybCwgICBcclxuICAgICAgYmFzZVVybDogbWVkaWEudXJsLFxyXG4gICAgICBwcm9maWxlT2JqZWN0OiB0aGlzLmRhdGEucHJvZmlsZU9iamVjdCxcbiAgICAgIHByb2ZpbGU6IHRoaXMuZGF0YS5wcm9maWxlT2JqZWN0Lm5hbWVcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51aS5yZW5kZXIodGhpcy5kYXRhKTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVUdW5lKHR1bmUpIHtcclxuICAgIHRoaXMuZGF0YVt0dW5lXSA9ICF0aGlzLmRhdGFbdHVuZV07XHJcblxyXG4gICAgaWYgKHR1bmUgPT09ICdzdHJldGNoZWQnKSB7XHJcbiAgICAgIGNvbnN0IGJsb2NrSWQgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKTtcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXBpLmJsb2Nrcy5zdHJldGNoQmxvY2soYmxvY2tJZCwgdGhpcy5kYXRhW3R1bmVdKTtcclxuICAgICAgfSwgMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgY3VycmVudFByb2ZpbGUoKSB7XHJcbiAgICBsZXQgcHJvZmlsZSA9IHRoaXMucHJvZmlsZXMuZmluZChsZXZlbEl0ZW0gPT4gbGV2ZWxJdGVtLm5hbWUgPT09IHRoaXMuZGF0YS5wcm9maWxlKTtcclxuXHJcbiAgICBpZiAoIXByb2ZpbGUpIHtcclxuICAgICAgcHJvZmlsZSA9IHRoaXMucHJvZmlsZXNbMl07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHByb2ZpbGU7XHJcbiAgfVxyXG5cclxuICBzZXRQcm9maWxlKHByb2ZpbGVPYmplY3QpIHtcclxuICAgIC8vIFN0cmlwIGFueSBleGlzdGluZyBxdWVyeSBwYXJhbWV0ZXJzXHJcbiAgICBsZXQgY3VycmVudFVybCA9IHRoaXMuZGF0YS5iYXNlVXJsICE9PSB1bmRlZmluZWQgPyB0aGlzLmRhdGEuYmFzZVVybCA6IHRoaXMuZGF0YS51cmw7XHJcbiAgICBsZXQgYmFzZVVybCA9IGN1cnJlbnRVcmwuc3BsaXQoJz8nKVswXTtcclxuXHJcbiAgICBsZXQgdXJsID0gYmFzZVVybCArICc/d2lkdGg9JyArIHByb2ZpbGVPYmplY3Qud2lkdGggKyAnJmhlaWdodD0nICsgcHJvZmlsZU9iamVjdC5oZWlnaHQ7XHJcblxyXG4gICAgdGhpcy5kYXRhID0ge1xyXG4gICAgICAuLi50aGlzLmRhdGEsXHJcbiAgICAgIGNhcHRpb246IHRoaXMuZGF0YS5jYXB0aW9uLFxyXG4gICAgICBtZWRpYVBhdGg6IHRoaXMuZGF0YS5tZWRpYVBhdGgsXHJcbiAgICAgIGJhc2VVcmw6IHRoaXMuZGF0YS5iYXNlVXJsLFxyXG4gICAgICB1cmw6IHVybCxcclxuICAgICAgcHJvZmlsZTogcHJvZmlsZU9iamVjdC5uYW1lLFxuICAgICAgcHJvZmlsZU9iamVjdDogcHJvZmlsZU9iamVjdFxyXG4gICAgfTtcclxuICAgIHRoaXMudWkucmVuZGVyKHRoaXMuZGF0YSk7XHJcbiAgfVxyXG5cclxuICBnZXQgcHJvZmlsZXMoKSB7XHJcbiAgICBjb25zdCBhdmFpbGFibGVQcm9maWxlcyA9IFtcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICc1MHg1MCcsXHJcbiAgICAgICAgaWNvbjogSWNvblBpY3R1cmUsXHJcbiAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICBoZWlnaHQ6IDUwXHJcbiAgICAgIH0sXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJzc1eDc1JyxcclxuICAgICAgICBpY29uOiBJY29uUGljdHVyZSxcbiAgICAgICAgd2lkdGg6IDc1LFxuICAgICAgICBoZWlnaHQ6IDc1XHJcbiAgICAgIH0sXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJzEwMHgxMDAnLFxyXG4gICAgICAgIGljb246IEljb25QaWN0dXJlLFxuICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICBoZWlnaHQ6IDEwMFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJzE2MHgxNjAnLFxyXG4gICAgICAgIGljb246IEljb25QaWN0dXJlLFxuICAgICAgICB3aWR0aDogMTYwLFxuICAgICAgICBoZWlnaHQ6IDE2MFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJzI0MHgyNDAnLFxyXG4gICAgICAgIGljb246IEljb25QaWN0dXJlLFxuICAgICAgICB3aWR0aDogMjQwLFxuICAgICAgICBoZWlnaHQ6IDI0MFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJzQ4MHg0ODAnLFxyXG4gICAgICAgIGljb246IEljb25QaWN0dXJlLFxuICAgICAgICB3aWR0aDogNDgwLFxuICAgICAgICBoZWlnaHQ6IDQ4MFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJzYwMHg2MDAnLFxyXG4gICAgICAgIGljb246IEljb25QaWN0dXJlLFxuICAgICAgICB3aWR0aDogNjAwLFxuICAgICAgICBoZWlnaHQ6IDYwMFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJzEwMjR4NjAwJyxcclxuICAgICAgICBpY29uOiBJY29uUGljdHVyZSxcbiAgICAgICAgd2lkdGg6IDEwMjQsXG4gICAgICAgIGhlaWdodDogNjAwXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnMTAyNHgxMDI0JyxcclxuICAgICAgICBpY29uOiBJY29uUGljdHVyZSxcbiAgICAgICAgd2lkdGg6IDEwMjQsXG4gICAgICAgIGhlaWdodDogMTAyNFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJzIwNDh4MTAyNCcsXHJcbiAgICAgICAgaWNvbjogSWNvblBpY3R1cmUsXG4gICAgICAgIHdpZHRoOiAyMDQ4LFxuICAgICAgICBoZWlnaHQ6IDEwMjRcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICcyMDQ4eDIwNDgnLFxyXG4gICAgICAgIGljb246IEljb25QaWN0dXJlLFxuICAgICAgICB3aWR0aDogMjA0OCxcbiAgICAgICAgaGVpZ2h0OiAyMDQ4XHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICByZXR1cm4gYXZhaWxhYmxlUHJvZmlsZXM7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJib290c3RyYXAiLCIkIiwiVWkiLCJJY29uU3RyZXRjaCIsIkljb25QaWN0dXJlIiwic2VsZWN0b3JzIiwibWVkaWFBcHAiLCJtZWRpYUZpZWxkU2VsZWN0QnV0dG9uIiwibW9kYWxCb2R5IiwiTWVkaWFMaWJyYXJ5VG9vbCIsInBhc3RlQ29uZmlnIiwicGF0dGVybnMiLCJpbWFnZSIsInRhZ3MiLCJ0b29sYm94IiwidGl0bGUiLCJpY29uIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY29uZmlnIiwiYXBpIiwidXJsIiwiYmFzZVVybCIsImNhcHRpb24iLCJzdHJldGNoZWQiLCJ1bmRlZmluZWQiLCJwcm9maWxlT2JqZWN0IiwicHJvZmlsZXMiLCJwcm9maWxlIiwibmFtZSIsIm1vZGFsQm9keUVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaWQiLCJ1aSIsIl9vcGVuTWVkaWFMaWJyYXJ5IiwiYXBwZW5kQ2FsbGJhY2siLCJvblBhc3RlIiwiZXZlbnQiLCJ0eXBlIiwic3JjIiwiZGV0YWlsIiwiX3NldE1lZGlhIiwibWVkaWFQYXRoIiwiaW1nVGFnIiwicmVuZGVyIiwicmVuZGVyU2V0dGluZ3MiLCJzZXR0aW5ncyIsInRleHQiLCJtYXAiLCJsYWJlbCIsImkxOG4iLCJ0Iiwib25BY3RpdmF0ZSIsInNldFByb2ZpbGUiLCJjbG9zZU9uQWN0aXZhdGUiLCJpc0FjdGl2ZSIsImN1cnJlbnRQcm9maWxlIiwic2V0dGluZ3NBY3Rpb25zIiwic2V0dGluZyIsIl90b2dnbGVUdW5lIiwic2F2ZSIsImdldENhcHRpb24iLCJzZWxmIiwiZGV0YWNoIiwiYXBwZW5kVG8iLCJmaW5kIiwic2hvdyIsIm1vZGFsIiwiTW9kYWwiLCJvZmYiLCJvbiIsIndpbmRvdyIsInNlbGVjdGVkTWVkaWFzIiwibGVuZ3RoIiwiaGlkZSIsIm1lZGlhIiwic3BsaXQiLCJ3aWR0aCIsImhlaWdodCIsInR1bmUiLCJibG9ja0lkIiwiYmxvY2tzIiwiZ2V0Q3VycmVudEJsb2NrSW5kZXgiLCJzZXRUaW1lb3V0Iiwic3RyZXRjaEJsb2NrIiwibGV2ZWxJdGVtIiwiY3VycmVudFVybCIsImF2YWlsYWJsZVByb2ZpbGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Assets/Editor.js/js/plugins/mediaLibrary/index.js\n");

/***/ }),

/***/ "./Assets/Editor.js/js/plugins/mediaLibrary/ui.js":
/*!********************************************************!*\
  !*** ./Assets/Editor.js/js/plugins/mediaLibrary/ui.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Ui)\n/* harmony export */ });\n/* harmony import */ var _utils_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/dom */ \"./Assets/Editor.js/js/plugins/utils/dom.js\");\n\nconst buttonIcon = `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d = \"M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z\" />\n</svg >`;\nclass Ui {\n  constructor(api, onSelectFile) {\n    this.api = api;\n    this.onSelectFile = onSelectFile;\n    this.nodes = {\n      caption: (0,_utils_dom__WEBPACK_IMPORTED_MODULE_0__.make)('div', ['cdx-input', 'media-library-item__caption'], {\n        contentEditable: true\n      }),\n      fileButton: this.createFileButton(),\n      image: (0,_utils_dom__WEBPACK_IMPORTED_MODULE_0__.make)('img', ['media-library-item__image']),\n      imageWrapper: (0,_utils_dom__WEBPACK_IMPORTED_MODULE_0__.make)('div', ['media-library-item__image']),\n      item: (0,_utils_dom__WEBPACK_IMPORTED_MODULE_0__.make)('div', ['media-library-item']),\n      wrapper: (0,_utils_dom__WEBPACK_IMPORTED_MODULE_0__.make)('div', ['cdx-block', 'media-library-tool'])\n    };\n    this.nodes.caption.dataset.placeholder = 'Caption...';\n    this.nodes.imageWrapper.appendChild(this.nodes.image);\n    this.nodes.item.appendChild(this.nodes.imageWrapper);\n    this.nodes.item.appendChild(this.nodes.caption);\n    this.nodes.wrapper.appendChild(this.nodes.item);\n    this.nodes.wrapper.appendChild(this.nodes.fileButton);\n    this.blockIndex = this.api.blocks.getCurrentBlockIndex() + 1;\n  }\n  createFileButton() {\n    let button = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_0__.make)('div', [this.api.styles.button, 'media-library-tool__select-file']);\n    button.innerHTML = `${buttonIcon} Select an Image`;\n    button.addEventListener('click', () => {\n      this.onSelectFile();\n    });\n    return button;\n  }\n  getCaption() {\n    return this.nodes.caption.innerHTML;\n  }\n  render(toolData) {\n    this.nodes.image.src = toolData.url;\n    this.nodes.image.onload = () => {\n      this.api.blocks.stretchBlock(this.blockIndex, !!toolData.stretched);\n    };\n    this.nodes.caption.innerHTML = toolData.caption;\n    if (!toolData.url) {\n      this.nodes.wrapper.classList.add('is-empty');\n    } else {\n      this.nodes.wrapper.classList.remove('is-empty');\n    }\n    return this.nodes.wrapper;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvbWVkaWFMaWJyYXJ5L3VpLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9DO0FBRXBDLE1BQU1DLFVBQVUsR0FBRztBQUNuQjtBQUNBLFFBQVE7QUFFTyxNQUFNQyxFQUFFLENBQUM7RUFDcEJDLFdBQVdBLENBQUNDLEdBQUcsRUFBRUMsWUFBWSxFQUFFO0lBQzNCLElBQUksQ0FBQ0QsR0FBRyxHQUFHQSxHQUFHO0lBQ2QsSUFBSSxDQUFDQyxZQUFZLEdBQUdBLFlBQVk7SUFDaEMsSUFBSSxDQUFDQyxLQUFLLEdBQUc7TUFDVEMsT0FBTyxFQUFFUCxnREFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLFdBQVcsRUFBRSw2QkFBNkIsQ0FBQyxFQUFFO1FBQy9EUSxlQUFlLEVBQUU7TUFDckIsQ0FBQyxDQUFDO01BQ0ZDLFVBQVUsRUFBRSxJQUFJLENBQUNDLGdCQUFnQixDQUFDLENBQUM7TUFDbkNDLEtBQUssRUFBRVgsZ0RBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO01BQ2pEWSxZQUFZLEVBQUVaLGdEQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsMkJBQTJCLENBQUMsQ0FBQztNQUN4RGEsSUFBSSxFQUFFYixnREFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLG9CQUFvQixDQUFDLENBQUM7TUFDekNjLE9BQU8sRUFBRWQsZ0RBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxXQUFXLEVBQUUsb0JBQW9CLENBQUM7SUFDNUQsQ0FBQztJQUVELElBQUksQ0FBQ00sS0FBSyxDQUFDQyxPQUFPLENBQUNRLE9BQU8sQ0FBQ0MsV0FBVyxHQUFHLFlBQVk7SUFFckQsSUFBSSxDQUFDVixLQUFLLENBQUNNLFlBQVksQ0FBQ0ssV0FBVyxDQUFDLElBQUksQ0FBQ1gsS0FBSyxDQUFDSyxLQUFLLENBQUM7SUFDckQsSUFBSSxDQUFDTCxLQUFLLENBQUNPLElBQUksQ0FBQ0ksV0FBVyxDQUFDLElBQUksQ0FBQ1gsS0FBSyxDQUFDTSxZQUFZLENBQUM7SUFDcEQsSUFBSSxDQUFDTixLQUFLLENBQUNPLElBQUksQ0FBQ0ksV0FBVyxDQUFDLElBQUksQ0FBQ1gsS0FBSyxDQUFDQyxPQUFPLENBQUM7SUFDL0MsSUFBSSxDQUFDRCxLQUFLLENBQUNRLE9BQU8sQ0FBQ0csV0FBVyxDQUFDLElBQUksQ0FBQ1gsS0FBSyxDQUFDTyxJQUFJLENBQUM7SUFFL0MsSUFBSSxDQUFDUCxLQUFLLENBQUNRLE9BQU8sQ0FBQ0csV0FBVyxDQUFDLElBQUksQ0FBQ1gsS0FBSyxDQUFDRyxVQUFVLENBQUM7SUFFckQsSUFBSSxDQUFDUyxVQUFVLEdBQUcsSUFBSSxDQUFDZCxHQUFHLENBQUNlLE1BQU0sQ0FBQ0Msb0JBQW9CLENBQUMsQ0FBQyxHQUFHLENBQUM7RUFDaEU7RUFFQVYsZ0JBQWdCQSxDQUFBLEVBQUc7SUFDZixJQUFJVyxNQUFNLEdBQUdyQixnREFBSSxDQUFDLEtBQUssRUFBRSxDQUNyQixJQUFJLENBQUNJLEdBQUcsQ0FBQ2tCLE1BQU0sQ0FBQ0QsTUFBTSxFQUN0QixpQ0FBaUMsQ0FDcEMsQ0FBQztJQUVGQSxNQUFNLENBQUNFLFNBQVMsR0FBRyxHQUFHdEIsVUFBVSxrQkFBa0I7SUFFbERvQixNQUFNLENBQUNHLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxNQUFNO01BQ25DLElBQUksQ0FBQ25CLFlBQVksQ0FBQyxDQUFDO0lBQ3ZCLENBQUMsQ0FBQztJQUVGLE9BQU9nQixNQUFNO0VBQ2pCO0VBRUFJLFVBQVVBLENBQUEsRUFBRztJQUNULE9BQU8sSUFBSSxDQUFDbkIsS0FBSyxDQUFDQyxPQUFPLENBQUNnQixTQUFTO0VBQ3ZDO0VBRUFHLE1BQU1BLENBQUNDLFFBQVEsRUFBRTtJQUNiLElBQUksQ0FBQ3JCLEtBQUssQ0FBQ0ssS0FBSyxDQUFDaUIsR0FBRyxHQUFHRCxRQUFRLENBQUNFLEdBQUc7SUFDbkMsSUFBSSxDQUFDdkIsS0FBSyxDQUFDSyxLQUFLLENBQUNtQixNQUFNLEdBQUcsTUFBTTtNQUM1QixJQUFJLENBQUMxQixHQUFHLENBQUNlLE1BQU0sQ0FBQ1ksWUFBWSxDQUFDLElBQUksQ0FBQ2IsVUFBVSxFQUFFLENBQUMsQ0FBQ1MsUUFBUSxDQUFDSyxTQUFTLENBQUM7SUFDdkUsQ0FBQztJQUVELElBQUksQ0FBQzFCLEtBQUssQ0FBQ0MsT0FBTyxDQUFDZ0IsU0FBUyxHQUFHSSxRQUFRLENBQUNwQixPQUFPO0lBRS9DLElBQUksQ0FBQ29CLFFBQVEsQ0FBQ0UsR0FBRyxFQUFFO01BQ2YsSUFBSSxDQUFDdkIsS0FBSyxDQUFDUSxPQUFPLENBQUNtQixTQUFTLENBQUNDLEdBQUcsQ0FBQyxVQUFVLENBQUM7SUFDaEQsQ0FBQyxNQUFNO01BQ0gsSUFBSSxDQUFDNUIsS0FBSyxDQUFDUSxPQUFPLENBQUNtQixTQUFTLENBQUNFLE1BQU0sQ0FBQyxVQUFVLENBQUM7SUFDbkQ7SUFFQSxPQUFPLElBQUksQ0FBQzdCLEtBQUssQ0FBQ1EsT0FBTztFQUM3QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vQXNzZXRzL0VkaXRvci5qcy9qcy9wbHVnaW5zL21lZGlhTGlicmFyeS91aS5qcz8xZTA3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1ha2UgfSBmcm9tICcuLi91dGlscy9kb20nO1xyXG5cclxuY29uc3QgYnV0dG9uSWNvbiA9IGA8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XHJcbiAgICA8cGF0aCBkID0gXCJNMy4xNSAxMy42MjhBNy43NDkgNy43NDkgMCAwIDAgMTAgMTcuNzVhNy43NCA3Ljc0IDAgMCAwIDYuMzA1LTMuMjQybC0yLjM4Ny0yLjEyNy0yLjc2NSAyLjI0NC00LjM4OS00LjQ5Ni0zLjYxNCAzLjV6bS0uNzg3LTIuMzAzbDQuNDQ2LTQuMzcxIDQuNTIgNC42MyAyLjUzNC0yLjA1NyAzLjUzMyAyLjc5N2MuMjMtLjczNC4zNTQtMS41MTQuMzU0LTIuMzI0YTcuNzUgNy43NSAwIDEgMC0xNS4zODcgMS4zMjV6TTEwIDIwQzQuNDc3IDIwIDAgMTUuNTIzIDAgMTBTNC40NzcgMCAxMCAwczEwIDQuNDc3IDEwIDEwLTQuNDc3IDEwLTEwIDEwelwiIC8+XHJcbjwvc3ZnID5gO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVWkge1xyXG4gICAgY29uc3RydWN0b3IoYXBpLCBvblNlbGVjdEZpbGUpIHtcclxuICAgICAgICB0aGlzLmFwaSA9IGFwaTtcclxuICAgICAgICB0aGlzLm9uU2VsZWN0RmlsZSA9IG9uU2VsZWN0RmlsZTtcclxuICAgICAgICB0aGlzLm5vZGVzID0ge1xyXG4gICAgICAgICAgICBjYXB0aW9uOiBtYWtlKCdkaXYnLCBbJ2NkeC1pbnB1dCcsICdtZWRpYS1saWJyYXJ5LWl0ZW1fX2NhcHRpb24nXSwge1xyXG4gICAgICAgICAgICAgICAgY29udGVudEVkaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgZmlsZUJ1dHRvbjogdGhpcy5jcmVhdGVGaWxlQnV0dG9uKCksXHJcbiAgICAgICAgICAgIGltYWdlOiBtYWtlKCdpbWcnLCBbJ21lZGlhLWxpYnJhcnktaXRlbV9faW1hZ2UnXSksXHJcbiAgICAgICAgICAgIGltYWdlV3JhcHBlcjogbWFrZSgnZGl2JywgWydtZWRpYS1saWJyYXJ5LWl0ZW1fX2ltYWdlJ10pLFxyXG4gICAgICAgICAgICBpdGVtOiBtYWtlKCdkaXYnLCBbJ21lZGlhLWxpYnJhcnktaXRlbSddKSxcclxuICAgICAgICAgICAgd3JhcHBlcjogbWFrZSgnZGl2JywgWydjZHgtYmxvY2snLCAnbWVkaWEtbGlicmFyeS10b29sJ10pLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMubm9kZXMuY2FwdGlvbi5kYXRhc2V0LnBsYWNlaG9sZGVyID0gJ0NhcHRpb24uLi4nO1xyXG5cclxuICAgICAgICB0aGlzLm5vZGVzLmltYWdlV3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmltYWdlKTtcclxuICAgICAgICB0aGlzLm5vZGVzLml0ZW0uYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5pbWFnZVdyYXBwZXIpO1xyXG4gICAgICAgIHRoaXMubm9kZXMuaXRlbS5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmNhcHRpb24pO1xyXG4gICAgICAgIHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLml0ZW0pO1xyXG5cclxuICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5maWxlQnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5ibG9ja0luZGV4ID0gdGhpcy5hcGkuYmxvY2tzLmdldEN1cnJlbnRCbG9ja0luZGV4KCkgKyAxO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUZpbGVCdXR0b24oKSB7XHJcbiAgICAgICAgbGV0IGJ1dHRvbiA9IG1ha2UoJ2RpdicsIFtcclxuICAgICAgICAgICAgdGhpcy5hcGkuc3R5bGVzLmJ1dHRvbixcclxuICAgICAgICAgICAgJ21lZGlhLWxpYnJhcnktdG9vbF9fc2VsZWN0LWZpbGUnLFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gYCR7YnV0dG9uSWNvbn0gU2VsZWN0IGFuIEltYWdlYDtcclxuXHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0RmlsZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYnV0dG9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENhcHRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMuY2FwdGlvbi5pbm5lckhUTUw7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKHRvb2xEYXRhKSB7XHJcbiAgICAgICAgdGhpcy5ub2Rlcy5pbWFnZS5zcmMgPSB0b29sRGF0YS51cmw7XHJcbiAgICAgICAgdGhpcy5ub2Rlcy5pbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBpLmJsb2Nrcy5zdHJldGNoQmxvY2sodGhpcy5ibG9ja0luZGV4LCAhIXRvb2xEYXRhLnN0cmV0Y2hlZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5ub2Rlcy5jYXB0aW9uLmlubmVySFRNTCA9IHRvb2xEYXRhLmNhcHRpb247XHJcblxyXG4gICAgICAgIGlmICghdG9vbERhdGEudXJsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdpcy1lbXB0eScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1lbXB0eScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMud3JhcHBlcjtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsibWFrZSIsImJ1dHRvbkljb24iLCJVaSIsImNvbnN0cnVjdG9yIiwiYXBpIiwib25TZWxlY3RGaWxlIiwibm9kZXMiLCJjYXB0aW9uIiwiY29udGVudEVkaXRhYmxlIiwiZmlsZUJ1dHRvbiIsImNyZWF0ZUZpbGVCdXR0b24iLCJpbWFnZSIsImltYWdlV3JhcHBlciIsIml0ZW0iLCJ3cmFwcGVyIiwiZGF0YXNldCIsInBsYWNlaG9sZGVyIiwiYXBwZW5kQ2hpbGQiLCJibG9ja0luZGV4IiwiYmxvY2tzIiwiZ2V0Q3VycmVudEJsb2NrSW5kZXgiLCJidXR0b24iLCJzdHlsZXMiLCJpbm5lckhUTUwiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0Q2FwdGlvbiIsInJlbmRlciIsInRvb2xEYXRhIiwic3JjIiwidXJsIiwib25sb2FkIiwic3RyZXRjaEJsb2NrIiwic3RyZXRjaGVkIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Assets/Editor.js/js/plugins/mediaLibrary/ui.js\n");

/***/ }),

/***/ "./Assets/Editor.js/js/plugins/text-size/index.js":
/*!********************************************************!*\
  !*** ./Assets/Editor.js/js/plugins/text-size/index.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\r\n * Build styles\r\n */\n(__webpack_require__(/*! ./index.css */ \"./Assets/Editor.js/js/plugins/text-size/index.css\").toString)();\n//import ToolboxIcon from './svg/icon.svg';\nvar ToolboxIcon = \"\";\n\n/**\r\n * Font size +10% Tool for the Editor.js\r\n *\r\n * Allows to wrap inline fragment and style it somehow.\r\n */\nclass ChangeFontSize {\n  /**\r\n   */\n  constructor({\n    config,\n    api\n  }) {\n    this.api = api;\n\n    /**\r\n     * Toolbar Button\r\n     *\r\n     * @type {HTMLElement|null}\r\n     */\n    this.button = null;\n\n    /**\r\n     * Tag represented the term\r\n     *\r\n     * @type {string}\r\n     */\n    this.tag = 'SPAN';\n\n    /**\r\n     * CSS classes\r\n     */\n    this.iconClasses = {\n      base: this.api.styles.inlineToolButton,\n      active: this.api.styles.inlineToolButtonActive\n    };\n    this.cssClass = config.cssClass;\n    this.buttonText = config.buttonText || \"\";\n    this.buttonIcon = config.buttonIcon || \"\";\n  }\n\n  /**\r\n   * Specifies Tool as Inline Toolbar Tool\r\n   *\r\n   * @return {boolean}\r\n   */\n  static get isInline() {\n    return true;\n  }\n\n  /**\r\n   * Create button element for Toolbar\r\n   *\r\n   * @return {HTMLElement}\r\n   */\n  render() {\n    this.button = document.createElement('button');\n    this.button.type = 'button';\n    this.button.classList.add(this.iconClasses.base);\n    if (this.buttonIcon) {\n      this.button.innerHTML = this.buttonIcon;\n    } else if (this.buttonText) {\n      this.button.textContent = this.buttonText;\n      this.button.classList.add(\"cfs-button-text\");\n    } else {\n      this.button.innerHTML = ToolboxIcon;\n    }\n    return this.button;\n  }\n\n  /**\r\n   * Wrap/Unwrap selected fragment\r\n   *\r\n   * @param {Range} range - selected fragment\r\n   */\n  surround(range) {\n    if (!range) {\n      return;\n    }\n    let termWrapper = this.api.selection.findParentTag(this.tag, this.cssClass);\n\n    /**\r\n     * If start or end of selection is in the highlighted block\r\n     */\n    if (termWrapper) {\n      this.unwrap(termWrapper);\n    } else {\n      this.wrap(range);\n    }\n  }\n\n  /**\r\n   * Wrap selection with term-tag\r\n   *\r\n   * @param {Range} range - selected fragment\r\n   */\n  wrap(range) {\n    /**\r\n     * Create a wrapper for highlighting\r\n     */\n    let span = document.createElement(this.tag);\n    span.classList.add(this.cssClass);\n\n    /**\r\n     * SurroundContent throws an error if the Range splits a non-Text node with only one of its boundary points\r\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Range/surroundContents}\r\n     *\r\n     * // range.surroundContents(span);\r\n     */\n    span.appendChild(range.extractContents());\n    range.insertNode(span);\n\n    /**\r\n     * Expand (add) selection to highlighted block\r\n     */\n    this.api.selection.expandToTag(span);\n  }\n\n  /**\r\n   * Unwrap term-tag\r\n   *\r\n   * @param {HTMLElement} termWrapper - term wrapper tag\r\n   */\n  unwrap(termWrapper) {\n    /**\r\n     * Expand selection to all term-tag\r\n     */\n    this.api.selection.expandToTag(termWrapper);\n    let sel = window.getSelection();\n    let range = sel.getRangeAt(0);\n    let unwrappedContent = range.extractContents();\n\n    /**\r\n     * Remove empty term-tag\r\n     */\n    termWrapper.parentNode.removeChild(termWrapper);\n\n    /**\r\n     * Insert extracted content\r\n     */\n    range.insertNode(unwrappedContent);\n\n    /**\r\n     * Restore selection\r\n     */\n    sel.removeAllRanges();\n    sel.addRange(range);\n  }\n\n  /**\r\n   * Check and change Term's state for current selection\r\n   */\n  checkState() {\n    const termTag = this.api.selection.findParentTag(this.tag, this.cssClass);\n    this.button.classList.toggle(this.iconClasses.active, !!termTag);\n  }\n\n  /**\r\n   * Sanitizer rule\r\n   * @return {{span: {class: string}}}\r\n   */\n  static get sanitize() {\n    return {\n      span: function (el) {\n        if (el.classList.length > 0) {\n          return {\n            class: true\n          };\n        } else {\n          return false;\n        }\n      }\n    };\n  }\n} // end class\nmodule.exports = ChangeFontSize;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvdGV4dC1zaXplL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBQSxzR0FBK0IsQ0FBQyxDQUFDO0FBQ2pDO0FBQ0EsSUFBSUUsV0FBVyxHQUFHLEVBQUU7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxjQUFjLENBQUM7RUFDbkI7QUFDRjtFQUNFQyxXQUFXQSxDQUFDO0lBQUVDLE1BQU07SUFBRUM7RUFBSSxDQUFDLEVBQUU7SUFDM0IsSUFBSSxDQUFDQSxHQUFHLEdBQUdBLEdBQUc7O0lBRWQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtJQUNJLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUk7O0lBRWxCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7SUFDSSxJQUFJLENBQUNDLEdBQUcsR0FBRyxNQUFNOztJQUVqQjtBQUNKO0FBQ0E7SUFDSSxJQUFJLENBQUNDLFdBQVcsR0FBRztNQUNqQkMsSUFBSSxFQUFFLElBQUksQ0FBQ0osR0FBRyxDQUFDSyxNQUFNLENBQUNDLGdCQUFnQjtNQUN0Q0MsTUFBTSxFQUFFLElBQUksQ0FBQ1AsR0FBRyxDQUFDSyxNQUFNLENBQUNHO0lBQzFCLENBQUM7SUFFRCxJQUFJLENBQUNDLFFBQVEsR0FBR1YsTUFBTSxDQUFDVSxRQUFRO0lBQy9CLElBQUksQ0FBQ0MsVUFBVSxHQUFHWCxNQUFNLENBQUNXLFVBQVUsSUFBSSxFQUFFO0lBQ3pDLElBQUksQ0FBQ0MsVUFBVSxHQUFHWixNQUFNLENBQUNZLFVBQVUsSUFBSSxFQUFFO0VBQzNDOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFDRSxXQUFXQyxRQUFRQSxDQUFBLEVBQUc7SUFDcEIsT0FBTyxJQUFJO0VBQ2I7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUNFQyxNQUFNQSxDQUFBLEVBQUc7SUFDUCxJQUFJLENBQUNaLE1BQU0sR0FBR2EsUUFBUSxDQUFDQyxhQUFhLENBQUMsUUFB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QyxHQUFHLENBQUN3QixTQUFTLENBQUNDLGFBQWEsQ0FBQyxJQUFJLENBQUN2QixHQUFHLEVBQUUsSUFBSSxDQUFDTyxRQUFRLENBQUM7SUFFekUsSUFBSSxDQUFDUixNQUFNLENBQUNnQixTQUFTLENBQUMyQixNQUFNLENBQUMsSUFBSSxDQUFDekMsV0FBVyxDQUFDSSxNQUFNLEVBQUUsQ0FBQyxDQUFDb0MsT0FBTyxDQUFDO0VBQ2xFOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBQ0UsV0FBV0UsUUFBUUEsQ0FBQSxFQUFHO0lBQ3BCLE9BQU87TUFDTGpCLElBQUksRUFBRSxTQUFBQSxDQUFVa0IsRUFBRSxFQUFFO1FBQ2xCLElBQUlBLEVBQUUsQ0FBQzdCLFNBQVMsQ0FBQzhCLE1BQU0sR0FBRyxDQUFDLEVBQUU7VUFDM0IsT0FBTztZQUFFQyxLQUFLLEVBQUU7VUFBSyxDQUFDO1FBQ3hCLENBQUMsTUFBTTtVQUNMLE9BQU8sS0FBSztRQUNkO01BQ0Y7SUFDRixDQUFDO0VBQ0g7QUFDRixDQUFDLENBQUM7QUFDRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUdyRCxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vQXNzZXRzL0VkaXRvci5qcy9qcy9wbHVnaW5zL3RleHQtc2l6ZS9pbmRleC5qcz8wZDc4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCdWlsZCBzdHlsZXNcclxuICovXHJcbnJlcXVpcmUoJy4vaW5kZXguY3NzJykudG9TdHJpbmcoKTtcclxuLy9pbXBvcnQgVG9vbGJveEljb24gZnJvbSAnLi9zdmcvaWNvbi5zdmcnO1xyXG52YXIgVG9vbGJveEljb24gPSBcIlwiO1xyXG5cclxuLyoqXHJcbiAqIEZvbnQgc2l6ZSArMTAlIFRvb2wgZm9yIHRoZSBFZGl0b3IuanNcclxuICpcclxuICogQWxsb3dzIHRvIHdyYXAgaW5saW5lIGZyYWdtZW50IGFuZCBzdHlsZSBpdCBzb21laG93LlxyXG4gKi9cclxuY2xhc3MgQ2hhbmdlRm9udFNpemUge1xyXG4gIC8qKlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnLCBhcGkgfSkge1xyXG4gICAgdGhpcy5hcGkgPSBhcGk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUb29sYmFyIEJ1dHRvblxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudHxudWxsfVxyXG4gICAgICovXHJcbiAgICB0aGlzLmJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUYWcgcmVwcmVzZW50ZWQgdGhlIHRlcm1cclxuICAgICAqXHJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICB0aGlzLnRhZyA9ICdTUEFOJztcclxuXHJcbiAgICAvKipcclxuICAgICAqIENTUyBjbGFzc2VzXHJcbiAgICAgKi9cclxuICAgIHRoaXMuaWNvbkNsYXNzZXMgPSB7XHJcbiAgICAgIGJhc2U6IHRoaXMuYXBpLnN0eWxlcy5pbmxpbmVUb29sQnV0dG9uLFxyXG4gICAgICBhY3RpdmU6IHRoaXMuYXBpLnN0eWxlcy5pbmxpbmVUb29sQnV0dG9uQWN0aXZlXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY3NzQ2xhc3MgPSBjb25maWcuY3NzQ2xhc3M7XHJcbiAgICB0aGlzLmJ1dHRvblRleHQgPSBjb25maWcuYnV0dG9uVGV4dCB8fCBcIlwiO1xyXG4gICAgdGhpcy5idXR0b25JY29uID0gY29uZmlnLmJ1dHRvbkljb24gfHwgXCJcIjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNwZWNpZmllcyBUb29sIGFzIElubGluZSBUb29sYmFyIFRvb2xcclxuICAgKlxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICovXHJcbiAgc3RhdGljIGdldCBpc0lubGluZSgpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGJ1dHRvbiBlbGVtZW50IGZvciBUb29sYmFyXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cclxuICAgKi9cclxuICByZW5kZXIoKSB7XHJcbiAgICB0aGlzLmJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgdGhpcy5idXR0b24udHlwZSA9ICdidXR0b24nO1xyXG4gICAgdGhpcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLmljb25DbGFzc2VzLmJhc2UpO1xyXG5cclxuICAgIGlmICh0aGlzLmJ1dHRvbkljb24pIHtcclxuICAgICAgdGhpcy5idXR0b24uaW5uZXJIVE1MID0gdGhpcy5idXR0b25JY29uO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmJ1dHRvblRleHQpIHtcclxuICAgICAgdGhpcy5idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLmJ1dHRvblRleHQ7XHJcbiAgICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjZnMtYnV0dG9uLXRleHRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJ1dHRvbi5pbm5lckhUTUwgPSBUb29sYm94SWNvbjtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLmJ1dHRvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdyYXAvVW53cmFwIHNlbGVjdGVkIGZyYWdtZW50XHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JhbmdlfSByYW5nZSAtIHNlbGVjdGVkIGZyYWdtZW50XHJcbiAgICovXHJcbiAgc3Vycm91bmQocmFuZ2UpIHtcclxuICAgIGlmICghcmFuZ2UpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB0ZXJtV3JhcHBlciA9IHRoaXMuYXBpLnNlbGVjdGlvbi5maW5kUGFyZW50VGFnKHRoaXMudGFnLCB0aGlzLmNzc0NsYXNzKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIElmIHN0YXJ0IG9yIGVuZCBvZiBzZWxlY3Rpb24gaXMgaW4gdGhlIGhpZ2hsaWdodGVkIGJsb2NrXHJcbiAgICAgKi9cclxuICAgIGlmICh0ZXJtV3JhcHBlcikge1xyXG4gICAgICB0aGlzLnVud3JhcCh0ZXJtV3JhcHBlcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLndyYXAocmFuZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV3JhcCBzZWxlY3Rpb24gd2l0aCB0ZXJtLXRhZ1xyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgLSBzZWxlY3RlZCBmcmFnbWVudFxyXG4gICAqL1xyXG4gIHdyYXAocmFuZ2UpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgd3JhcHBlciBmb3IgaGlnaGxpZ2h0aW5nXHJcbiAgICAgKi9cclxuICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLnRhZyk7XHJcblxyXG4gICAgc3Bhbi5jbGFzc0xpc3QuYWRkKHRoaXMuY3NzQ2xhc3MpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3Vycm91bmRDb250ZW50IHRocm93cyBhbiBlcnJvciBpZiB0aGUgUmFuZ2Ugc3BsaXRzIGEgbm9uLVRleHQgbm9kZSB3aXRoIG9ubHkgb25lIG9mIGl0cyBib3VuZGFyeSBwb2ludHNcclxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SYW5nZS9zdXJyb3VuZENvbnRlbnRzfVxyXG4gICAgICpcclxuICAgICAqIC8vIHJhbmdlLnN1cnJvdW5kQ29udGVudHMoc3Bhbik7XHJcbiAgICAgKi9cclxuICAgIHNwYW4uYXBwZW5kQ2hpbGQocmFuZ2UuZXh0cmFjdENvbnRlbnRzKCkpO1xyXG4gICAgcmFuZ2UuaW5zZXJ0Tm9kZShzcGFuKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4cGFuZCAoYWRkKSBzZWxlY3Rpb24gdG8gaGlnaGxpZ2h0ZWQgYmxvY2tcclxuICAgICAqL1xyXG4gICAgdGhpcy5hcGkuc2VsZWN0aW9uLmV4cGFuZFRvVGFnKHNwYW4pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVW53cmFwIHRlcm0tdGFnXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0ZXJtV3JhcHBlciAtIHRlcm0gd3JhcHBlciB0YWdcclxuICAgKi9cclxuICB1bndyYXAodGVybVdyYXBwZXIpIHtcclxuICAgIC8qKlxyXG4gICAgICogRXhwYW5kIHNlbGVjdGlvbiB0byBhbGwgdGVybS10YWdcclxuICAgICAqL1xyXG4gICAgdGhpcy5hcGkuc2VsZWN0aW9uLmV4cGFuZFRvVGFnKHRlcm1XcmFwcGVyKTtcclxuXHJcbiAgICBsZXQgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgbGV0IHJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCk7XHJcblxyXG4gICAgbGV0IHVud3JhcHBlZENvbnRlbnQgPSByYW5nZS5leHRyYWN0Q29udGVudHMoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBlbXB0eSB0ZXJtLXRhZ1xyXG4gICAgICovXHJcbiAgICB0ZXJtV3JhcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRlcm1XcmFwcGVyKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluc2VydCBleHRyYWN0ZWQgY29udGVudFxyXG4gICAgICovXHJcbiAgICByYW5nZS5pbnNlcnROb2RlKHVud3JhcHBlZENvbnRlbnQpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzdG9yZSBzZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGFuZCBjaGFuZ2UgVGVybSdzIHN0YXRlIGZvciBjdXJyZW50IHNlbGVjdGlvblxyXG4gICAqL1xyXG4gIGNoZWNrU3RhdGUoKSB7XHJcbiAgICBjb25zdCB0ZXJtVGFnID0gdGhpcy5hcGkuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcodGhpcy50YWcsIHRoaXMuY3NzQ2xhc3MpO1xyXG5cclxuICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUodGhpcy5pY29uQ2xhc3Nlcy5hY3RpdmUsICEhdGVybVRhZyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTYW5pdGl6ZXIgcnVsZVxyXG4gICAqIEByZXR1cm4ge3tzcGFuOiB7Y2xhc3M6IHN0cmluZ319fVxyXG4gICAqL1xyXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzcGFuOiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHJldHVybiB7IGNsYXNzOiB0cnVlIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59IC8vIGVuZCBjbGFzc1xyXG5tb2R1bGUuZXhwb3J0cyA9IENoYW5nZUZvbnRTaXplO1xyXG4iXSwibmFtZXMiOlsicmVxdWlyZSIsInRvU3RyaW5nIiwiVG9vbGJveEljb24iLCJDaGFuZ2VGb250U2l6ZSIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiYXBpIiwiYnV0dG9uIiwidGFnIiwiaWNvbkNsYXNzZXMiLCJiYXNlIiwic3R5bGVzIiwiaW5saW5lVG9vbEJ1dHRvbiIsImFjdGl2ZSIsImlubGluZVRvb2xCdXR0b25BY3RpdmUiLCJjc3NDbGFzcyIsImJ1dHRvblRleHQiLCJidXR0b25JY29uIiwiaXNJbmxpbmUiLCJyZW5kZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJzdXJyb3VuZCIsInJhbmdlIiwidGVybVdyYXBwZXIiLCJzZWxlY3Rpb24iLCJmaW5kUGFyZW50VGFnIiwidW53cmFwIiwid3JhcCIsInNwYW4iLCJhcHBlbmRDaGlsZCIsImV4dHJhY3RDb250ZW50cyIsImluc2VydE5vZGUiLCJleHBhbmRUb1RhZyIsInNlbCIsIndpbmRvdyIsImdldFNlbGVjdGlvbiIsImdldFJhbmdlQXQiLCJ1bndyYXBwZWRDb250ZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJjaGVja1N0YXRlIiwidGVybVRhZyIsInRvZ2dsZSIsInNhbml0aXplIiwiZWwiLCJsZW5ndGgiLCJjbGFzcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Assets/Editor.js/js/plugins/text-size/index.js\n");

/***/ }),

/***/ "./Assets/Editor.js/js/plugins/utils/dom.js":
/*!**************************************************!*\
  !*** ./Assets/Editor.js/js/plugins/utils/dom.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   make: () => (/* binding */ make)\n/* harmony export */ });\nconst make = function make(tagName, classNames = null, attributes = {}) {\n  let el = document.createElement(tagName);\n  if (Array.isArray(classNames)) {\n    el.classList.add(...classNames);\n  } else if (classNames) {\n    el.classList.add(classNames);\n  }\n  for (let attrName in attributes) {\n    el[attrName] = attributes[attrName];\n  }\n  return el;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvdXRpbHMvZG9tLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxJQUFJLEdBQUcsU0FBU0EsSUFBSUEsQ0FBQ0MsT0FBTyxFQUFFQyxVQUFVLEdBQUcsSUFBSSxFQUFFQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEVBQUU7RUFDM0UsSUFBSUMsRUFBRSxHQUFHQyxRQUFRLENBQUNDLGFBQWEsQ0FBQ0wsT0FBTyxDQUFDO0VBRXhDLElBQUlNLEtBQUssQ0FBQ0MsT0FBTyxDQUFDTixVQUFVLENBQUMsRUFBRTtJQUMzQkUsRUFBRSxDQUFDSyxTQUFTLENBQUNDLEdBQUcsQ0FBQyxHQUFHUixVQUFVLENBQUM7RUFDbkMsQ0FBQyxNQUFNLElBQUlBLFVBQVUsRUFBRTtJQUNuQkUsRUFBRSxDQUFDSyxTQUFTLENBQUNDLEdBQUcsQ0FBQ1IsVUFBVSxDQUFDO0VBQ2hDO0VBRUEsS0FBSyxJQUFJUyxRQUFRLElBQUlSLFVBQVUsRUFBRTtJQUM3QkMsRUFBRSxDQUFDTyxRQUFRLENBQUMsR0FBR1IsVUFBVSxDQUFDUSxRQUFRLENBQUM7RUFDdkM7RUFFQSxPQUFPUCxFQUFFO0FBQ2IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0Fzc2V0cy9FZGl0b3IuanMvanMvcGx1Z2lucy91dGlscy9kb20uanM/OTFhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgbWFrZSA9IGZ1bmN0aW9uIG1ha2UodGFnTmFtZSwgY2xhc3NOYW1lcyA9IG51bGwsIGF0dHJpYnV0ZXMgPSB7fSkge1xyXG4gICAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcclxuXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjbGFzc05hbWVzKSkge1xyXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lcyk7XHJcbiAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZXMpIHtcclxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGF0dHJOYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICBlbFthdHRyTmFtZV0gPSBhdHRyaWJ1dGVzW2F0dHJOYW1lXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWw7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJtYWtlIiwidGFnTmFtZSIsImNsYXNzTmFtZXMiLCJhdHRyaWJ1dGVzIiwiZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJBcnJheSIsImlzQXJyYXkiLCJjbGFzc0xpc3QiLCJhZGQiLCJhdHRyTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Assets/Editor.js/js/plugins/utils/dom.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/link/index.css":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/link/index.css ***!
  \*********************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.link-tool-editor {\n  display: none;\n  width: 280px;\n}\n\n.link-tool-editor--active {\n  display: block;\n}\n\n.link-tool-editor__content-items {\n  list-style: none;\n  margin-bottom: 0 !important;\n  padding: 8px;\n  width: 100%;\n  font-size: 13px;\n}\n\n.link-tool-editor__content-items:empty {\n  padding: 0;\n}\n\n.link-tool-editor__content-items li {\n  margin-bottom: 8px;\n  max-width: 100%;\n}\n\n.link-tool-editor__content-items li:last-child {\n  margin-bottom: 0;\n}\n\n.link-tool-editor__content-items li button {\n  overflow: hidden;\n  padding: 0;\n  width: 100%;\n  background-color: transparent;\n  border: 0;\n  outline: 0;\n  text-align: left;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  cursor: pointer;\n}\n\n.link-tool-editor__content-items li button:focus,\n.link-tool-editor__content-items li button:hover {\n  color: #a8d6ff;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./Assets/Editor.js/js/plugins/link/index.css\"],\"names\":[],\"mappings\":\"AAAA;EACI,aAAA;EACA,YAAA;AACJ;;AAEA;EACI,cAAA;AACJ;;AAEI;EACI,gBAAA;EACA,2BAAA;EACA,YAAA;EACA,WAAA;EAEA,eAAA;AAAR;;AAGI;EACI,UAAA;AAAR;;AAGQ;EACI,kBAAA;EACA,eAAA;AAAZ;;AAGQ;EACI,gBAAA;AAAZ;;AAGY;EACI,gBAAA;EACA,UAAA;EACA,WAAA;EAEA,6BAAA;EACA,SAAA;EACA,UAAA;EAEA,gBAAA;EACA,uBAAA;EACA,mBAAA;EAEA,eAAA;AAHhB;;AAMY;;EAEI,cAAA;AAHhB\",\"sourcesContent\":[\".link-tool-editor {\\r\\n    display: none;\\r\\n    width: 280px;\\r\\n}\\r\\n\\r\\n.link-tool-editor--active {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n    .link-tool-editor__content-items {\\r\\n        list-style: none;\\r\\n        margin-bottom: 0!important;\\r\\n        padding: 8px;\\r\\n        width: 100%;\\r\\n\\r\\n        font-size: 13px;\\r\\n    }\\r\\n\\r\\n    .link-tool-editor__content-items:empty {\\r\\n        padding: 0;\\r\\n    }\\r\\n\\r\\n        .link-tool-editor__content-items li {\\r\\n            margin-bottom: 8px;\\r\\n            max-width: 100%;\\r\\n        }\\r\\n\\r\\n        .link-tool-editor__content-items li:last-child {\\r\\n            margin-bottom: 0;\\r\\n        }\\r\\n\\r\\n            .link-tool-editor__content-items li button {\\r\\n                overflow: hidden;\\r\\n                padding: 0;\\r\\n                width: 100%;\\r\\n\\r\\n                background-color: transparent;\\r\\n                border: 0;\\r\\n                outline: 0;\\r\\n                \\r\\n                text-align: left;\\r\\n                text-overflow: ellipsis;\\r\\n                white-space: nowrap;\\r\\n\\r\\n                cursor: pointer;\\r\\n            }\\r\\n\\r\\n            .link-tool-editor__content-items li button:focus,\\r\\n            .link-tool-editor__content-items li button:hover {\\r\\n                color: #a8d6ff;\\r\\n            }\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0Fzc2V0cy9FZGl0b3IuanMvanMvcGx1Z2lucy9saW5rL2luZGV4LmNzcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ3NIO0FBQ2pCO0FBQ3JHLDhCQUE4QixtRkFBMkIsQ0FBQyw0RkFBcUM7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxPQUFPLDZHQUE2RyxVQUFVLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFdBQVcsV0FBVyxVQUFVLFVBQVUsVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssV0FBVyxVQUFVLE1BQU0sS0FBSyxXQUFXLE1BQU0sS0FBSyxXQUFXLFVBQVUsVUFBVSxXQUFXLFVBQVUsVUFBVSxXQUFXLFdBQVcsV0FBVyxVQUFVLE9BQU8sTUFBTSxVQUFVLDZDQUE2QyxzQkFBc0IscUJBQXFCLEtBQUssbUNBQW1DLHVCQUF1QixLQUFLLDhDQUE4Qyw2QkFBNkIsdUNBQXVDLHlCQUF5Qix3QkFBd0IsZ0NBQWdDLFNBQVMsb0RBQW9ELHVCQUF1QixTQUFTLHFEQUFxRCxtQ0FBbUMsZ0NBQWdDLGFBQWEsZ0VBQWdFLGlDQUFpQyxhQUFhLGdFQUFnRSxxQ0FBcUMsK0JBQStCLGdDQUFnQyxzREFBc0QsOEJBQThCLCtCQUErQix5REFBeUQsNENBQTRDLHdDQUF3Qyx3Q0FBd0MsaUJBQWlCLHVJQUF1SSxtQ0FBbUMsaUJBQWlCLG1CQUFtQjtBQUM3d0Q7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0Fzc2V0cy9FZGl0b3IuanMvanMvcGx1Z2lucy9saW5rL2luZGV4LmNzcz9lNTEyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAubGluay10b29sLWVkaXRvciB7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIHdpZHRoOiAyODBweDtcbn1cblxuLmxpbmstdG9vbC1lZGl0b3ItLWFjdGl2ZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4ubGluay10b29sLWVkaXRvcl9fY29udGVudC1pdGVtcyB7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG4gIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcbiAgcGFkZGluZzogOHB4O1xuICB3aWR0aDogMTAwJTtcbiAgZm9udC1zaXplOiAxM3B4O1xufVxuXG4ubGluay10b29sLWVkaXRvcl9fY29udGVudC1pdGVtczplbXB0eSB7XG4gIHBhZGRpbmc6IDA7XG59XG5cbi5saW5rLXRvb2wtZWRpdG9yX19jb250ZW50LWl0ZW1zIGxpIHtcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cbi5saW5rLXRvb2wtZWRpdG9yX19jb250ZW50LWl0ZW1zIGxpOmxhc3QtY2hpbGQge1xuICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG4ubGluay10b29sLWVkaXRvcl9fY29udGVudC1pdGVtcyBsaSBidXR0b24ge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBwYWRkaW5nOiAwO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlcjogMDtcbiAgb3V0bGluZTogMDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmxpbmstdG9vbC1lZGl0b3JfX2NvbnRlbnQtaXRlbXMgbGkgYnV0dG9uOmZvY3VzLFxuLmxpbmstdG9vbC1lZGl0b3JfX2NvbnRlbnQtaXRlbXMgbGkgYnV0dG9uOmhvdmVyIHtcbiAgY29sb3I6ICNhOGQ2ZmY7XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvbGluay9pbmRleC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDSSxhQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUVBO0VBQ0ksY0FBQTtBQUNKOztBQUVJO0VBQ0ksZ0JBQUE7RUFDQSwyQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBRUEsZUFBQTtBQUFSOztBQUdJO0VBQ0ksVUFBQTtBQUFSOztBQUdRO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0FBQVo7O0FBR1E7RUFDSSxnQkFBQTtBQUFaOztBQUdZO0VBQ0ksZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUVBLDZCQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFFQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFFQSxlQUFBO0FBSGhCOztBQU1ZOztFQUVJLGNBQUE7QUFIaEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmxpbmstdG9vbC1lZGl0b3Ige1xcclxcbiAgICBkaXNwbGF5OiBub25lO1xcclxcbiAgICB3aWR0aDogMjgwcHg7XFxyXFxufVxcclxcblxcclxcbi5saW5rLXRvb2wtZWRpdG9yLS1hY3RpdmUge1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG59XFxyXFxuXFxyXFxuICAgIC5saW5rLXRvb2wtZWRpdG9yX19jb250ZW50LWl0ZW1zIHtcXHJcXG4gICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxyXFxuICAgICAgICBtYXJnaW4tYm90dG9tOiAwIWltcG9ydGFudDtcXHJcXG4gICAgICAgIHBhZGRpbmc6IDhweDtcXHJcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcclxcblxcclxcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5saW5rLXRvb2wtZWRpdG9yX19jb250ZW50LWl0ZW1zOmVtcHR5IHtcXHJcXG4gICAgICAgIHBhZGRpbmc6IDA7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgICAgIC5saW5rLXRvb2wtZWRpdG9yX19jb250ZW50LWl0ZW1zIGxpIHtcXHJcXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XFxyXFxuICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xcclxcbiAgICAgICAgfVxcclxcblxcclxcbiAgICAgICAgLmxpbmstdG9vbC1lZGl0b3JfX2NvbnRlbnQtaXRlbXMgbGk6bGFzdC1jaGlsZCB7XFxyXFxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcXHJcXG4gICAgICAgIH1cXHJcXG5cXHJcXG4gICAgICAgICAgICAubGluay10b29sLWVkaXRvcl9fY29udGVudC1pdGVtcyBsaSBidXR0b24ge1xcclxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xcclxcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcXHJcXG5cXHJcXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxyXFxuICAgICAgICAgICAgICAgIGJvcmRlcjogMDtcXHJcXG4gICAgICAgICAgICAgICAgb3V0bGluZTogMDtcXHJcXG4gICAgICAgICAgICAgICAgXFxyXFxuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XFxyXFxuICAgICAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcclxcbiAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcclxcblxcclxcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgICAgICAgICAgfVxcclxcblxcclxcbiAgICAgICAgICAgIC5saW5rLXRvb2wtZWRpdG9yX19jb250ZW50LWl0ZW1zIGxpIGJ1dHRvbjpmb2N1cyxcXHJcXG4gICAgICAgICAgICAubGluay10b29sLWVkaXRvcl9fY29udGVudC1pdGVtcyBsaSBidXR0b246aG92ZXIge1xcclxcbiAgICAgICAgICAgICAgICBjb2xvcjogI2E4ZDZmZjtcXHJcXG4gICAgICAgICAgICB9XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/link/index.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/mediaLibrary/index.css":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/mediaLibrary/index.css ***!
  \*****************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.media-library-tool {\n  margin-bottom: 10px;\n  max-width: 100%;\n}\n\n.media-library-tool__select-file {\n  display: none;\n}\n\n.is-empty .media-library-tool__select-file {\n  display: block;\n}\n\n.media-library-item {\n  display: block;\n}\n\n.is-empty .media-library-item {\n  display: none;\n}\n\n.media-library-item__image {\n  border-radius: 3px;\n  margin-bottom: 10px;\n  max-width: 100%;\n}\n\n.media-library-item__image img {\n  display: block;\n  max-width: 100%;\n}\n\n.media-library-item__caption[contentEditable=true][data-placeholder]::before {\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n.media-library-item__caption[contentEditable=true][data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.media-library-item__caption[contentEditable=true][data-placeholder]:empty:focus::before {\n  opacity: 0;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./Assets/Editor.js/js/plugins/mediaLibrary/index.css\"],\"names\":[],\"mappings\":\"AAAA;EACI,mBAAA;EACA,eAAA;AACJ;;AAEI;EACI,aAAA;AACR;;AAEI;EACI,cAAA;AACR;;AAEA;EACI,cAAA;AACJ;;AAEA;EACI,aAAA;AACJ;;AAEI;EACI,kBAAA;EACA,mBAAA;EACA,eAAA;AACR;;AAEQ;EACI,cAAA;EACA,eAAA;AACZ;;AAGQ;EACI,kBAAA;EACA,+BAAA;EACA,cAAA;EACA,mBAAA;EACA,UAAA;AAAZ;;AAGQ;EACI,UAAA;AAAZ;;AAGQ;EACI,UAAA;AAAZ\",\"sourcesContent\":[\".media-library-tool {\\r\\n    margin-bottom: 10px;\\r\\n    max-width: 100%;\\r\\n}\\r\\n\\r\\n    .media-library-tool__select-file {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    .is-empty .media-library-tool__select-file {\\r\\n        display: block;\\r\\n    }\\r\\n\\r\\n.media-library-item {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.is-empty .media-library-item {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n    .media-library-item__image {\\r\\n        border-radius: 3px;\\r\\n        margin-bottom: 10px;\\r\\n        max-width: 100%;\\r\\n    }\\r\\n\\r\\n        .media-library-item__image img {\\r\\n            display: block;\\r\\n            max-width: 100%;\\r\\n        }\\r\\n\\r\\n\\r\\n        .media-library-item__caption[contentEditable=true][data-placeholder]::before {\\r\\n            position: absolute;\\r\\n            content: attr(data-placeholder);\\r\\n            color: #707684;\\r\\n            font-weight: normal;\\r\\n            opacity: 0;\\r\\n        }\\r\\n        \\r\\n        .media-library-item__caption[contentEditable=true][data-placeholder]:empty::before {\\r\\n            opacity: 1;\\r\\n        }\\r\\n        \\r\\n        .media-library-item__caption[contentEditable=true][data-placeholder]:empty:focus::before {\\r\\n            opacity: 0;\\r\\n        }\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0Fzc2V0cy9FZGl0b3IuanMvanMvcGx1Z2lucy9tZWRpYUxpYnJhcnkvaW5kZXguY3NzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDc0g7QUFDakI7QUFDckcsOEJBQThCLG1GQUEyQixDQUFDLDRGQUFxQztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQyxPQUFPLHFIQUFxSCxXQUFXLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFdBQVcsV0FBVyxVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUsTUFBTSxLQUFLLFdBQVcsV0FBVyxVQUFVLFdBQVcsVUFBVSxNQUFNLEtBQUssVUFBVSxNQUFNLEtBQUssVUFBVSw4Q0FBOEMsNEJBQTRCLHdCQUF3QixLQUFLLDhDQUE4QywwQkFBMEIsU0FBUyx3REFBd0QsMkJBQTJCLFNBQVMsNkJBQTZCLHVCQUF1QixLQUFLLHVDQUF1QyxzQkFBc0IsS0FBSyx3Q0FBd0MsK0JBQStCLGdDQUFnQyw0QkFBNEIsU0FBUyxnREFBZ0QsK0JBQStCLGdDQUFnQyxhQUFhLGtHQUFrRyxtQ0FBbUMsZ0RBQWdELCtCQUErQixvQ0FBb0MsMkJBQTJCLGFBQWEsNEdBQTRHLDJCQUEyQixhQUFhLGtIQUFrSCwyQkFBMkIsYUFBYSxtQkFBbUI7QUFDbHBEO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvbWVkaWFMaWJyYXJ5L2luZGV4LmNzcz9jOWNiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAubWVkaWEtbGlicmFyeS10b29sIHtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuXG4ubWVkaWEtbGlicmFyeS10b29sX19zZWxlY3QtZmlsZSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5pcy1lbXB0eSAubWVkaWEtbGlicmFyeS10b29sX19zZWxlY3QtZmlsZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4ubWVkaWEtbGlicmFyeS1pdGVtIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbi5pcy1lbXB0eSAubWVkaWEtbGlicmFyeS1pdGVtIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLm1lZGlhLWxpYnJhcnktaXRlbV9faW1hZ2Uge1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIG1heC13aWR0aDogMTAwJTtcbn1cblxuLm1lZGlhLWxpYnJhcnktaXRlbV9faW1hZ2UgaW1nIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1heC13aWR0aDogMTAwJTtcbn1cblxuLm1lZGlhLWxpYnJhcnktaXRlbV9fY2FwdGlvbltjb250ZW50RWRpdGFibGU9dHJ1ZV1bZGF0YS1wbGFjZWhvbGRlcl06OmJlZm9yZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgY29udGVudDogYXR0cihkYXRhLXBsYWNlaG9sZGVyKTtcbiAgY29sb3I6ICM3MDc2ODQ7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi5tZWRpYS1saWJyYXJ5LWl0ZW1fX2NhcHRpb25bY29udGVudEVkaXRhYmxlPXRydWVdW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OjpiZWZvcmUge1xuICBvcGFjaXR5OiAxO1xufVxuXG4ubWVkaWEtbGlicmFyeS1pdGVtX19jYXB0aW9uW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTpmb2N1czo6YmVmb3JlIHtcbiAgb3BhY2l0eTogMDtcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL0Fzc2V0cy9FZGl0b3IuanMvanMvcGx1Z2lucy9tZWRpYUxpYnJhcnkvaW5kZXguY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0ksbUJBQUE7RUFDQSxlQUFBO0FBQ0o7O0FBRUk7RUFDSSxhQUFBO0FBQ1I7O0FBRUk7RUFDSSxjQUFBO0FBQ1I7O0FBRUE7RUFDSSxjQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0FBQ0o7O0FBRUk7RUFDSSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQUNSOztBQUVRO0VBQ0ksY0FBQTtFQUNBLGVBQUE7QUFDWjs7QUFHUTtFQUNJLGtCQUFBO0VBQ0EsK0JBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7RUFDQSxVQUFBO0FBQVo7O0FBR1E7RUFDSSxVQUFBO0FBQVo7O0FBR1E7RUFDSSxVQUFBO0FBQVpcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLm1lZGlhLWxpYnJhcnktdG9vbCB7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxyXFxuICAgIG1heC13aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuICAgIC5tZWRpYS1saWJyYXJ5LXRvb2xfX3NlbGVjdC1maWxlIHtcXHJcXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLmlzLWVtcHR5IC5tZWRpYS1saWJyYXJ5LXRvb2xfX3NlbGVjdC1maWxlIHtcXHJcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuLm1lZGlhLWxpYnJhcnktaXRlbSB7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbn1cXHJcXG5cXHJcXG4uaXMtZW1wdHkgLm1lZGlhLWxpYnJhcnktaXRlbSB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbiAgICAubWVkaWEtbGlicmFyeS1pdGVtX19pbWFnZSB7XFxyXFxuICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XFxyXFxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcclxcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgICAgICAubWVkaWEtbGlicmFyeS1pdGVtX19pbWFnZSBpbWcge1xcclxcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcXHJcXG4gICAgICAgIH1cXHJcXG5cXHJcXG5cXHJcXG4gICAgICAgIC5tZWRpYS1saWJyYXJ5LWl0ZW1fX2NhcHRpb25bY29udGVudEVkaXRhYmxlPXRydWVdW2RhdGEtcGxhY2Vob2xkZXJdOjpiZWZvcmUge1xcclxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgICAgICAgICBjb250ZW50OiBhdHRyKGRhdGEtcGxhY2Vob2xkZXIpO1xcclxcbiAgICAgICAgICAgIGNvbG9yOiAjNzA3Njg0O1xcclxcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxyXFxuICAgICAgICAgICAgb3BhY2l0eTogMDtcXHJcXG4gICAgICAgIH1cXHJcXG4gICAgICAgIFxcclxcbiAgICAgICAgLm1lZGlhLWxpYnJhcnktaXRlbV9fY2FwdGlvbltjb250ZW50RWRpdGFibGU9dHJ1ZV1bZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6OmJlZm9yZSB7XFxyXFxuICAgICAgICAgICAgb3BhY2l0eTogMTtcXHJcXG4gICAgICAgIH1cXHJcXG4gICAgICAgIFxcclxcbiAgICAgICAgLm1lZGlhLWxpYnJhcnktaXRlbV9fY2FwdGlvbltjb250ZW50RWRpdGFibGU9dHJ1ZV1bZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6Zm9jdXM6OmJlZm9yZSB7XFxyXFxuICAgICAgICAgICAgb3BhY2l0eTogMDtcXHJcXG4gICAgICAgIH1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/mediaLibrary/index.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/text-size/index.css":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/text-size/index.css ***!
  \**************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.cfs-button-text {\n  font-size: 0.9em;\n  width: auto;\n}\n\n.editor-fs-0point8 {\n  font-size: 0.8em;\n}\n\n.editor-fs-0point9 {\n  font-size: 0.9em;\n}\n\n.editor-fs-1point0 {\n  font-size: 1em;\n}\n\n.editor-fs-1point1 {\n  font-size: 1.2em;\n}\n\n.editor-fs-1point2 {\n  font-size: 1.2em;\n}\n\n.editor-fs-1point3 {\n  font-size: 1.3em;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./Assets/Editor.js/js/plugins/text-size/index.css\"],\"names\":[],\"mappings\":\"AAAA;EACI,gBAAA;EACA,WAAA;AACJ;;AAEA;EACI,gBAAA;AACJ;;AAEA;EACI,gBAAA;AACJ;;AAEA;EACI,cAAA;AACJ;;AAEA;EACI,gBAAA;AACJ;;AAEA;EACI,gBAAA;AACJ;;AAEA;EACI,gBAAA;AACJ\",\"sourcesContent\":[\".cfs-button-text {\\r\\n    font-size: 0.9em;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.editor-fs-0point8 {\\r\\n    font-size: 0.8em;\\r\\n}\\r\\n\\r\\n.editor-fs-0point9 {\\r\\n    font-size: 0.9em;\\r\\n}\\r\\n\\r\\n.editor-fs-1point0 {\\r\\n    font-size: 1.0em;\\r\\n}\\r\\n\\r\\n.editor-fs-1point1 {\\r\\n    font-size: 1.2em;\\r\\n}\\r\\n\\r\\n.editor-fs-1point2 {\\r\\n    font-size: 1.2em;\\r\\n}\\r\\n\\r\\n.editor-fs-1point3 {\\r\\n    font-size: 1.3em;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0Fzc2V0cy9FZGl0b3IuanMvanMvcGx1Z2lucy90ZXh0LXNpemUvaW5kZXguY3NzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDc0g7QUFDakI7QUFDckcsOEJBQThCLG1GQUEyQixDQUFDLDRGQUFxQztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUMsT0FBTyxrSEFBa0gsV0FBVyxVQUFVLE1BQU0sS0FBSyxXQUFXLE1BQU0sS0FBSyxXQUFXLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxXQUFXLE1BQU0sS0FBSyxXQUFXLE1BQU0sS0FBSyxXQUFXLDJDQUEyQyx5QkFBeUIsb0JBQW9CLEtBQUssNEJBQTRCLHlCQUF5QixLQUFLLDRCQUE0Qix5QkFBeUIsS0FBSyw0QkFBNEIseUJBQXlCLEtBQUssNEJBQTRCLHlCQUF5QixLQUFLLDRCQUE0Qix5QkFBeUIsS0FBSyw0QkFBNEIseUJBQXlCLEtBQUssdUJBQXVCO0FBQ2x1QjtBQUNBLGlFQUFlLHVCQUF1QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vQXNzZXRzL0VkaXRvci5qcy9qcy9wbHVnaW5zL3RleHQtc2l6ZS9pbmRleC5jc3M/ZmE0OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLmNmcy1idXR0b24tdGV4dCB7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG4gIHdpZHRoOiBhdXRvO1xufVxuXG4uZWRpdG9yLWZzLTBwb2ludDgge1xuICBmb250LXNpemU6IDAuOGVtO1xufVxuXG4uZWRpdG9yLWZzLTBwb2ludDkge1xuICBmb250LXNpemU6IDAuOWVtO1xufVxuXG4uZWRpdG9yLWZzLTFwb2ludDAge1xuICBmb250LXNpemU6IDFlbTtcbn1cblxuLmVkaXRvci1mcy0xcG9pbnQxIHtcbiAgZm9udC1zaXplOiAxLjJlbTtcbn1cblxuLmVkaXRvci1mcy0xcG9pbnQyIHtcbiAgZm9udC1zaXplOiAxLjJlbTtcbn1cblxuLmVkaXRvci1mcy0xcG9pbnQzIHtcbiAgZm9udC1zaXplOiAxLjNlbTtcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL0Fzc2V0cy9FZGl0b3IuanMvanMvcGx1Z2lucy90ZXh0LXNpemUvaW5kZXguY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0ksZ0JBQUE7RUFDQSxXQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksZ0JBQUE7QUFDSjs7QUFFQTtFQUNJLGNBQUE7QUFDSjs7QUFFQTtFQUNJLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksZ0JBQUE7QUFDSlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuY2ZzLWJ1dHRvbi10ZXh0IHtcXHJcXG4gICAgZm9udC1zaXplOiAwLjllbTtcXHJcXG4gICAgd2lkdGg6IGF1dG87XFxyXFxufVxcclxcblxcclxcbi5lZGl0b3ItZnMtMHBvaW50OCB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMC44ZW07XFxyXFxufVxcclxcblxcclxcbi5lZGl0b3ItZnMtMHBvaW50OSB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMC45ZW07XFxyXFxufVxcclxcblxcclxcbi5lZGl0b3ItZnMtMXBvaW50MCB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMS4wZW07XFxyXFxufVxcclxcblxcclxcbi5lZGl0b3ItZnMtMXBvaW50MSB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMS4yZW07XFxyXFxufVxcclxcblxcclxcbi5lZGl0b3ItZnMtMXBvaW50MiB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMS4yZW07XFxyXFxufVxcclxcblxcclxcbi5lZGl0b3ItZnMtMXBvaW50MyB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMS4zZW07XFxyXFxufVxcclxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/text-size/index.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzRkFBc0YscUJBQXFCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixpREFBaUQscUJBQXFCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzREFBc0QscUJBQXFCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzPzI0ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/api.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGNBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzP2FmMTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/sourceMaps.js\n");

/***/ }),

/***/ "./node_modules/editorjs-anchor/dist/bundle.js":
/*!*****************************************************!*\
  !*** ./node_modules/editorjs-anchor/dist/bundle.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("!function(t,e){ true?module.exports=e():0}(self,(()=>(()=>{\"use strict\";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t){return n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if(\"object\"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,\"string\");if(\"object\"!=n(o))return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==n(e)?e:e+\"\"}t.d(e,{default:()=>a});var a=function(){return t=function t(e){var n=e.api,r=e.data;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.api=n,this.data={anchor:void 0},r&&r.anchor&&(this.anchor=r.anchor),this._CSS={classWrapper:\"cdx-search-field\",classIcon:\"cdx-search-field__icon\",classInput:\"cdx-search-field__input\"}},n=[{key:\"isTune\",get:function(){return!0}}],(e=[{key:\"anchor\",get:function(){return this.data.anchor||\"\"},set:function(t){(t=t.replace(/[^a-z0-9_-]/gi,\"\")).length>0?this.data.anchor=t:this.data.anchor=void 0}},{key:\"render\",value:function(){var t=this,e=document.createElement(\"div\");e.classList.add(this._CSS.classWrapper);var n=document.createElement(\"div\");n.classList.add(this._CSS.classIcon),n.innerHTML='<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20px\" viewBox=\"0 -960 960 960\" width=\"20px\" fill=\"currentColor\"><path d=\"M260.85-193.63 290.07-309h-144.2l19.63-78h144.2l40.37-162h-156.2l19.63-78h156.2l35.21-139.13h78.24L447.93-627H585.7l35.21-139.13h78.24L663.93-627h150.2l-19.63 78H644.3l-40.37 162h162.2l-19.63 78H584.3l-29.21 115.37h-78.24L506.07-309H368.3l-29.21 115.37h-78.24ZM387.93-387H525.7l40.37-162H428.3l-40.37 162Z\"/></svg>';var r=document.createElement(\"input\");return r.placeholder=this.api.i18n.t(\"Anchor\"),r.classList.add(this._CSS.classInput),r.value=this.anchor,r.addEventListener(\"input\",(function(e){t.anchor=e.target.value,e.target.value=t.anchor})),e.appendChild(n),e.appendChild(r),e}},{key:\"save\",value:function(){if(this.data.anchor)return this.data}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t;var t,e,n}();return e.default})()));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZWRpdG9yanMtYW5jaG9yL2Rpc3QvYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJBQUFBLGVBQWUsS0FBaUQsb0JBQW9CLENBQW1ILENBQUMsaUJBQWlCLGFBQWEsT0FBTyxVQUFVLCtEQUErRCx1QkFBdUIsRUFBRSxvREFBb0QsTUFBTSxjQUFjLGlGQUFpRixnQkFBZ0IsYUFBYSxvR0FBb0csTUFBTSxnQkFBZ0IsWUFBWSxXQUFXLEtBQUssV0FBVyxrSEFBa0gsY0FBYyxvQkFBb0IsK0JBQStCLDRCQUE0QixlQUFlLHlCQUF5QiwyQkFBMkIsb0VBQW9FLGlCQUFpQixJQUFJLDRCQUE0QixPQUFPLGNBQWMsRUFBRSxpQkFBaUIsdUJBQXVCLHFCQUFxQixlQUFlLDhFQUE4RSwrQkFBK0IsY0FBYyxnREFBZ0QseUdBQXlHLEtBQUssNEJBQTRCLFVBQVUsT0FBTyw0QkFBNEIsNEJBQTRCLGlCQUFpQix1RkFBdUYsRUFBRSw4QkFBOEIsMkNBQTJDLHdDQUF3QyxvQ0FBb0MsdWVBQXVlLHNDQUFzQyxpSkFBaUosZ0RBQWdELHdDQUF3QyxFQUFFLDRCQUE0QixzQ0FBc0Msb0VBQW9FLFlBQVksSUFBSSxVQUFVLEdBQUcsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VkaXRvcmpzLWFuY2hvci9kaXN0L2J1bmRsZS5qcz9iMzAwIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQW5jaG9yVHVuZT1lKCk6dC5BbmNob3JUdW5lPWUoKX0oc2VsZiwoKCk9PigoKT0+e1widXNlIHN0cmljdFwiO3ZhciB0PXtkOihlLG4pPT57Zm9yKHZhciByIGluIG4pdC5vKG4scikmJiF0Lm8oZSxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6bltyXX0pfSxvOih0LGUpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sZT17fTtmdW5jdGlvbiBuKHQpe3JldHVybiBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LG4odCl9ZnVuY3Rpb24gcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvKHIua2V5KSxyKX19ZnVuY3Rpb24gbyh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPW4odCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT1uKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfSh0KTtyZXR1cm5cInN5bWJvbFwiPT1uKGUpP2U6ZStcIlwifXQuZChlLHtkZWZhdWx0OigpPT5hfSk7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gdD1mdW5jdGlvbiB0KGUpe3ZhciBuPWUuYXBpLHI9ZS5kYXRhOyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5hcGk9bix0aGlzLmRhdGE9e2FuY2hvcjp2b2lkIDB9LHImJnIuYW5jaG9yJiYodGhpcy5hbmNob3I9ci5hbmNob3IpLHRoaXMuX0NTUz17Y2xhc3NXcmFwcGVyOlwiY2R4LXNlYXJjaC1maWVsZFwiLGNsYXNzSWNvbjpcImNkeC1zZWFyY2gtZmllbGRfX2ljb25cIixjbGFzc0lucHV0OlwiY2R4LXNlYXJjaC1maWVsZF9faW5wdXRcIn19LG49W3trZXk6XCJpc1R1bmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH19XSwoZT1be2tleTpcImFuY2hvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYW5jaG9yfHxcIlwifSxzZXQ6ZnVuY3Rpb24odCl7KHQ9dC5yZXBsYWNlKC9bXmEtejAtOV8tXS9naSxcIlwiKSkubGVuZ3RoPjA/dGhpcy5kYXRhLmFuY2hvcj10OnRoaXMuZGF0YS5hbmNob3I9dm9pZCAwfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMuX0NTUy5jbGFzc1dyYXBwZXIpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5jbGFzc0xpc3QuYWRkKHRoaXMuX0NTUy5jbGFzc0ljb24pLG4uaW5uZXJIVE1MPSc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBoZWlnaHQ9XCIyMHB4XCIgdmlld0JveD1cIjAgLTk2MCA5NjAgOTYwXCIgd2lkdGg9XCIyMHB4XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPjxwYXRoIGQ9XCJNMjYwLjg1LTE5My42MyAyOTAuMDctMzA5aC0xNDQuMmwxOS42My03OGgxNDQuMmw0MC4zNy0xNjJoLTE1Ni4ybDE5LjYzLTc4aDE1Ni4ybDM1LjIxLTEzOS4xM2g3OC4yNEw0NDcuOTMtNjI3SDU4NS43bDM1LjIxLTEzOS4xM2g3OC4yNEw2NjMuOTMtNjI3aDE1MC4ybC0xOS42MyA3OEg2NDQuM2wtNDAuMzcgMTYyaDE2Mi4ybC0xOS42MyA3OEg1ODQuM2wtMjkuMjEgMTE1LjM3aC03OC4yNEw1MDYuMDctMzA5SDM2OC4zbC0yOS4yMSAxMTUuMzdoLTc4LjI0Wk0zODcuOTMtMzg3SDUyNS43bDQwLjM3LTE2Mkg0MjguM2wtNDAuMzcgMTYyWlwiLz48L3N2Zz4nO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtyZXR1cm4gci5wbGFjZWhvbGRlcj10aGlzLmFwaS5pMThuLnQoXCJBbmNob3JcIiksci5jbGFzc0xpc3QuYWRkKHRoaXMuX0NTUy5jbGFzc0lucHV0KSxyLnZhbHVlPXRoaXMuYW5jaG9yLHIuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsKGZ1bmN0aW9uKGUpe3QuYW5jaG9yPWUudGFyZ2V0LnZhbHVlLGUudGFyZ2V0LnZhbHVlPXQuYW5jaG9yfSkpLGUuYXBwZW5kQ2hpbGQobiksZS5hcHBlbmRDaGlsZChyKSxlfX0se2tleTpcInNhdmVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuZGF0YS5hbmNob3IpcmV0dXJuIHRoaXMuZGF0YX19XSkmJnIodC5wcm90b3R5cGUsZSksbiYmcih0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdDt2YXIgdCxlLG59KCk7cmV0dXJuIGUuZGVmYXVsdH0pKCkpKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/editorjs-anchor/dist/bundle.js\n");

/***/ }),

/***/ "./node_modules/editorjs-text-alignment-blocktune/dist/bundle.js":
/*!***********************************************************************!*\
  !*** ./node_modules/editorjs-text-alignment-blocktune/dist/bundle.js ***!
  \***********************************************************************/
/***/ ((module) => {

eval("!function(t,e){ true?module.exports=e():0}(self,(function(){return function(){var t={966:function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(548).toString();var i=n(630).make,a=function(){function t(e){var n=e.api,r=e.data,i=e.config,a=e.block;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.api=n,this.block=a,this.settings=i,this.data=r||{alignment:this.getAlignment()},this.alignmentSettings=[{name:\"left\",icon:'<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer\" enable-background=\"new 0 0 64 64\" height=\"20\" viewBox=\"0 0 64 64\" width=\"20\"><path d=\"m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z\"/><path d=\"m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z\"/></svg>'},{name:\"center\",icon:'<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer\" enable-background=\"new 0 0 64 64\" height=\"20\" viewBox=\"0 0 64 64\" width=\"20\"><path d=\"m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z\"/><path d=\"m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z\"/></svg>'},{name:\"right\",icon:'<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer\" enable-background=\"new 0 0 64 64\" height=\"20\" viewBox=\"0 0 64 64\" width=\"20\"><path d=\"m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z\"/><path d=\"m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z\"/></svg>'}],this._CSS={alignment:{left:\"ce-tune-alignment--left\",center:\"ce-tune-alignment--center\",right:\"ce-tune-alignment--right\"}}}var e,n,a;return e=t,a=[{key:\"DEFAULT_ALIGNMENT\",get:function(){return\"left\"}},{key:\"isTune\",get:function(){return!0}}],(n=[{key:\"getAlignment\",value:function(){var e,n;return null!==(e=this.settings)&&void 0!==e&&e.blocks&&this.settings.blocks.hasOwnProperty(this.block.name)?this.settings.blocks[this.block.name]:null!==(n=this.settings)&&void 0!==n&&n.default?this.settings.default:t.DEFAULT_ALIGNMENT}},{key:\"wrap\",value:function(t){return this.wrapper=i(\"div\"),this.wrapper.classList.toggle(this._CSS.alignment[this.data.alignment]),this.wrapper.append(t),this.wrapper}},{key:\"render\",value:function(){var t=this,e=i(\"div\");return this.alignmentSettings.map((function(n){var r=document.createElement(\"button\");return r.classList.add(t.api.styles.settingsButton),r.innerHTML=n.icon,r.type=\"button\",r.classList.toggle(t.api.styles.settingsButtonActive,n.name===t.data.alignment),e.appendChild(r),r})).forEach((function(e,n,r){e.addEventListener(\"click\",(function(){t.data={alignment:t.alignmentSettings[n].name},r.forEach((function(e,n){var r=t.alignmentSettings[n].name;e.classList.toggle(t.api.styles.settingsButtonActive,r===t.data.alignment),t.wrapper.classList.toggle(t._CSS.alignment[r],r===t.data.alignment)}))}))})),e}},{key:\"save\",value:function(){return this.data}}])&&r(e.prototype,n),a&&r(e,a),t}();t.exports=a},630:function(t,e,n){\"use strict\";function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=document.createElement(t);for(var o in Array.isArray(n)?(e=a.classList).add.apply(e,r(n)):n&&a.classList.add(n),i)a[o]=i[o];return a}n.r(e),n.d(e,{make:function(){return a}})},424:function(t,e,n){\"use strict\";var r=n(645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,\".ce-tune-alignment--right {\\n    text-align: right;\\n}\\n.ce-tune-alignment--center {\\n    text-align: center;\\n}\\n.ce-tune-alignment--left {\\n    text-align: left;\\n}\",\"\"]),e.Z=i},645:function(t){\"use strict\";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},e.i=function(t,n,r){\"string\"==typeof t&&(t=[[null,t,\"\"]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&i[c[0]]||(n&&(c[2]?c[2]=\"\".concat(n,\" and \").concat(c[2]):c[2]=n),e.push(c))}},e}},548:function(t,e,n){\"use strict\";var r=n(379),i=n.n(r),a=n(424);i()(a.Z,{insert:\"head\",singleton:!1}),a.Z.locals},379:function(t,e,n){\"use strict\";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function o(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],c=e.base?s[0]+e.base:s[0],u=n[c]||0,l=\"\".concat(c,\" \").concat(u);n[c]=u+1;var f=o(l),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:g(d,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement(\"style\"),r=t.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),\"function\"==typeof t.insert)t.insert(e);else{var o=i(t.insert||\"head\");if(!o)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");o.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join(\"\\n\")});function f(t,e,n,r){var i=n?\"\":r.media?\"@media \".concat(r.media,\" {\").concat(r.css,\"}\"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function d(t,e,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?t.setAttribute(\"media\",i):t.removeAttribute(\"media\"),a&&\"undefined\"!=typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),\" */\")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,p=0;function g(t,e){var n,r,i;if(e.singleton){var a=p++;n=h||(h=c(e)),r=f.bind(null,n,a,!1),i=f.bind(null,n,a,!0)}else n=c(e),r=d.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||\"boolean\"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],\"[object Array]\"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=o(n[r]);a[i].references--}for(var c=s(t,e),u=0;u<n.length;u++){var l=o(n[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=c}}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}return n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n(966)}()}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZWRpdG9yanMtdGV4dC1hbGlnbm1lbnQtYmxvY2t0dW5lL2Rpc3QvYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJBQUFBLGVBQWUsS0FBaUQsb0JBQW9CLENBQW1JLENBQUMsa0JBQWtCLGtCQUFrQixPQUFPLG9CQUFvQixnQkFBZ0IsWUFBWSxXQUFXLEtBQUssV0FBVywrR0FBK0csa0JBQWtCLCtCQUErQixjQUFjLDBDQUEwQyxlQUFlLDhFQUE4RSwrREFBK0QsOEJBQThCLDBCQUEwQixpbEJBQWlsQixFQUFFLDZrQkFBNmtCLEVBQUUsa2xCQUFrbEIsYUFBYSxXQUFXLHFHQUFxRyxVQUFVLGVBQWUsdUNBQXVDLGNBQWMsRUFBRSw0QkFBNEIsVUFBVSxPQUFPLG9DQUFvQyxRQUFRLDZPQUE2TyxFQUFFLDZCQUE2QiwwSUFBMEksRUFBRSw4QkFBOEIsc0JBQXNCLCtDQUErQyx1Q0FBdUMsMExBQTBMLDRCQUE0Qix1Q0FBdUMsUUFBUSxzQ0FBc0MsMEJBQTBCLGtDQUFrQyxnSkFBZ0osR0FBRyxHQUFHLE1BQU0sRUFBRSw0QkFBNEIsa0JBQWtCLGlDQUFpQyxHQUFHLFlBQVkscUJBQXFCLGFBQWEsY0FBYyxtQkFBbUIsZ0NBQWdDLGlCQUFpQixpRkFBaUYsbUJBQW1CLE1BQU0sb0NBQW9DLG9EQUFvRCxnTEFBZ0wsZ0JBQWdCLDRKQUE0SixHQUFHLGdCQUFnQixvQ0FBb0MsMkJBQTJCLElBQUksY0FBYyxTQUFTLGNBQWMsK0hBQStILDZCQUE2QixrR0FBa0csU0FBUyxjQUFjLGdCQUFnQixVQUFVLEVBQUUscUJBQXFCLGFBQWEscUNBQXFDLFlBQVksR0FBRyx5Q0FBeUMsd0JBQXdCLEdBQUcsOEJBQThCLHlCQUF5QixHQUFHLDRCQUE0Qix1QkFBdUIsR0FBRyxhQUFhLGlCQUFpQixhQUFhLHNCQUFzQixTQUFTLDZCQUE2Qiw2QkFBNkIsV0FBVyxxQ0FBcUMsY0FBYyxLQUFLLFlBQVkscUJBQXFCLHNDQUFzQyxTQUFTLGlCQUFpQixjQUFjLEtBQUssaUJBQWlCLG1CQUFtQixZQUFZLFdBQVcsS0FBSyxzQkFBc0IsaUZBQWlGLElBQUkscUJBQXFCLGFBQWEsK0JBQStCLFNBQVMsMkJBQTJCLGFBQWEscUJBQXFCLGFBQWEsbUJBQW1CLFNBQVMsbUJBQW1CLGtCQUFrQixnQ0FBZ0MsdUVBQXVFLHlCQUF5QixTQUFTLE9BQU8sT0FBTyxhQUFhLFFBQVEsY0FBYyxpQkFBaUIsV0FBVyw0QkFBNEIsSUFBSSxNQUFNLFNBQVMsZ0JBQWdCLFlBQVksVUFBVSxXQUFXLEtBQUssNEVBQTRFLFNBQVMsY0FBYyxvQ0FBb0MsbURBQW1ELHlDQUF5QyxZQUFZLFNBQVMsY0FBYyx5REFBeUQscUJBQXFCLFdBQVcsZUFBZSx1Q0FBdUMsdUJBQXVCLDJDQUEyQyxLQUFLLDBCQUEwQixpSUFBaUksaUJBQWlCLFNBQVMsNEJBQTRCLDJDQUEyQyxFQUFFLG9CQUFvQiwrQ0FBK0Msa0JBQWtCLFNBQVMsNENBQTRDLEtBQUssZ0RBQWdELDRFQUE0RSxrQkFBa0Isb0NBQW9DLHlJQUF5SSxrSEFBa0gsS0FBSyxLQUFLLGFBQWEsNkJBQTZCLDJDQUEyQyxlQUFlLGdCQUFnQixVQUFVLGdCQUFnQixVQUFVLDBEQUEwRCw0Q0FBNEMsYUFBYSxnQ0FBZ0MsNEJBQTRCLEtBQUssd0JBQXdCLE1BQU0sc0VBQXNFLE9BQU8sVUFBVSx3QkFBd0IsUUFBUSxvSUFBb0ksbUJBQW1CLG1CQUFtQixpRUFBaUUsWUFBWSxXQUFXLEtBQUssY0FBYyxrQkFBa0IscUJBQXFCLFdBQVcsS0FBSyxjQUFjLG9EQUFvRCxRQUFRLE1BQU0sY0FBYyxXQUFXLCtCQUErQixZQUFZLGlCQUFpQixxQ0FBcUMsdUJBQXVCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLGNBQWMsSUFBSSxJQUFJLG1CQUFtQiwrREFBK0QsdUJBQXVCLEVBQUUsbUJBQW1CLGlEQUFpRCxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxRQUFRLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWRpdG9yanMtdGV4dC1hbGlnbm1lbnQtYmxvY2t0dW5lL2Rpc3QvYnVuZGxlLmpzP2E4Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5BbGlnbm1lbnRCbG9ja1R1bmU9ZSgpOnQuQWxpZ25tZW50QmxvY2tUdW5lPWUoKX0oc2VsZiwoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD17OTY2OmZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1uKDU0OCkudG9TdHJpbmcoKTt2YXIgaT1uKDYzMCkubWFrZSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1lLmFwaSxyPWUuZGF0YSxpPWUuY29uZmlnLGE9ZS5ibG9jazshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuYXBpPW4sdGhpcy5ibG9jaz1hLHRoaXMuc2V0dGluZ3M9aSx0aGlzLmRhdGE9cnx8e2FsaWdubWVudDp0aGlzLmdldEFsaWdubWVudCgpfSx0aGlzLmFsaWdubWVudFNldHRpbmdzPVt7bmFtZTpcImxlZnRcIixpY29uOic8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBpZD1cIkxheWVyXCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDY0IDY0XCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDY0IDY0XCIgd2lkdGg9XCIyMFwiPjxwYXRoIGQ9XCJtNTQgOGgtNDRjLTEuMTA0IDAtMiAuODk2LTIgMnMuODk2IDIgMiAyaDQ0YzEuMTA0IDAgMi0uODk2IDItMnMtLjg5Ni0yLTItMnpcIi8+PHBhdGggZD1cIm01NCA1MmgtNDRjLTEuMTA0IDAtMiAuODk2LTIgMnMuODk2IDIgMiAyaDQ0YzEuMTA0IDAgMi0uODk2IDItMnMtLjg5Ni0yLTItMnpcIi8+PHBhdGggZD1cIm0xMCAyM2gyOGMxLjEwNCAwIDItLjg5NiAyLTJzLS44OTYtMi0yLTJoLTI4Yy0xLjEwNCAwLTIgLjg5Ni0yIDJzLjg5NiAyIDIgMnpcIi8+PHBhdGggZD1cIm01NCAzMGgtNDRjLTEuMTA0IDAtMiAuODk2LTIgMnMuODk2IDIgMiAyaDQ0YzEuMTA0IDAgMi0uODk2IDItMnMtLjg5Ni0yLTItMnpcIi8+PHBhdGggZD1cIm0xMCA0NWgyOGMxLjEwNCAwIDItLjg5NiAyLTJzLS44OTYtMi0yLTJoLTI4Yy0xLjEwNCAwLTIgLjg5Ni0yIDJzLjg5NiAyIDIgMnpcIi8+PC9zdmc+J30se25hbWU6XCJjZW50ZXJcIixpY29uOic8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBpZD1cIkxheWVyXCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDY0IDY0XCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDY0IDY0XCIgd2lkdGg9XCIyMFwiPjxwYXRoIGQ9XCJtNTQgOGgtNDRjLTEuMTA0IDAtMiAuODk2LTIgMnMuODk2IDIgMiAyaDQ0YzEuMTA0IDAgMi0uODk2IDItMnMtLjg5Ni0yLTItMnpcIi8+PHBhdGggZD1cIm01NCA1MmgtNDRjLTEuMTA0IDAtMiAuODk2LTIgMnMuODk2IDIgMiAyaDQ0YzEuMTA0IDAgMi0uODk2IDItMnMtLjg5Ni0yLTItMnpcIi8+PHBhdGggZD1cIm00NiAyM2MxLjEwNCAwIDItLjg5NiAyLTJzLS44OTYtMi0yLTJoLTI4Yy0xLjEwNCAwLTIgLjg5Ni0yIDJzLjg5NiAyIDIgMnpcIi8+PHBhdGggZD1cIm01NCAzMGgtNDRjLTEuMTA0IDAtMiAuODk2LTIgMnMuODk2IDIgMiAyaDQ0YzEuMTA0IDAgMi0uODk2IDItMnMtLjg5Ni0yLTItMnpcIi8+PHBhdGggZD1cIm00NiA0NWMxLjEwNCAwIDItLjg5NiAyLTJzLS44OTYtMi0yLTJoLTI4Yy0xLjEwNCAwLTIgLjg5Ni0yIDJzLjg5NiAyIDIgMnpcIi8+PC9zdmc+J30se25hbWU6XCJyaWdodFwiLGljb246JzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGlkPVwiTGF5ZXJcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgNjQgNjRcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgNjQgNjRcIiB3aWR0aD1cIjIwXCI+PHBhdGggZD1cIm01NCA4aC00NGMtMS4xMDQgMC0yIC44OTYtMiAycy44OTYgMiAyIDJoNDRjMS4xMDQgMCAyLS44OTYgMi0ycy0uODk2LTItMi0yelwiLz48cGF0aCBkPVwibTU0IDUyaC00NGMtMS4xMDQgMC0yIC44OTYtMiAycy44OTYgMiAyIDJoNDRjMS4xMDQgMCAyLS44OTYgMi0ycy0uODk2LTItMi0yelwiLz48cGF0aCBkPVwibTU0IDE5aC0yOGMtMS4xMDQgMC0yIC44OTYtMiAycy44OTYgMiAyIDJoMjhjMS4xMDQgMCAyLS44OTYgMi0ycy0uODk2LTItMi0yelwiLz48cGF0aCBkPVwibTU0IDMwaC00NGMtMS4xMDQgMC0yIC44OTYtMiAycy44OTYgMiAyIDJoNDRjMS4xMDQgMCAyLS44OTYgMi0ycy0uODk2LTItMi0yelwiLz48cGF0aCBkPVwibTU0IDQxaC0yOGMtMS4xMDQgMC0yIC44OTYtMiAycy44OTYgMiAyIDJoMjhjMS4xMDQgMCAyLS44OTYgMi0ycy0uODk2LTItMi0yelwiLz48L3N2Zz4nfV0sdGhpcy5fQ1NTPXthbGlnbm1lbnQ6e2xlZnQ6XCJjZS10dW5lLWFsaWdubWVudC0tbGVmdFwiLGNlbnRlcjpcImNlLXR1bmUtYWxpZ25tZW50LS1jZW50ZXJcIixyaWdodDpcImNlLXR1bmUtYWxpZ25tZW50LS1yaWdodFwifX19dmFyIGUsbixhO3JldHVybiBlPXQsYT1be2tleTpcIkRFRkFVTFRfQUxJR05NRU5UXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJsZWZ0XCJ9fSx7a2V5OlwiaXNUdW5lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9fV0sKG49W3trZXk6XCJnZXRBbGlnbm1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIG51bGwhPT0oZT10aGlzLnNldHRpbmdzKSYmdm9pZCAwIT09ZSYmZS5ibG9ja3MmJnRoaXMuc2V0dGluZ3MuYmxvY2tzLmhhc093blByb3BlcnR5KHRoaXMuYmxvY2submFtZSk/dGhpcy5zZXR0aW5ncy5ibG9ja3NbdGhpcy5ibG9jay5uYW1lXTpudWxsIT09KG49dGhpcy5zZXR0aW5ncykmJnZvaWQgMCE9PW4mJm4uZGVmYXVsdD90aGlzLnNldHRpbmdzLmRlZmF1bHQ6dC5ERUZBVUxUX0FMSUdOTUVOVH19LHtrZXk6XCJ3cmFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMud3JhcHBlcj1pKFwiZGl2XCIpLHRoaXMud3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuX0NTUy5hbGlnbm1lbnRbdGhpcy5kYXRhLmFsaWdubWVudF0pLHRoaXMud3JhcHBlci5hcHBlbmQodCksdGhpcy53cmFwcGVyfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWkoXCJkaXZcIik7cmV0dXJuIHRoaXMuYWxpZ25tZW50U2V0dGluZ3MubWFwKChmdW5jdGlvbihuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO3JldHVybiByLmNsYXNzTGlzdC5hZGQodC5hcGkuc3R5bGVzLnNldHRpbmdzQnV0dG9uKSxyLmlubmVySFRNTD1uLmljb24sci50eXBlPVwiYnV0dG9uXCIsci5jbGFzc0xpc3QudG9nZ2xlKHQuYXBpLnN0eWxlcy5zZXR0aW5nc0J1dHRvbkFjdGl2ZSxuLm5hbWU9PT10LmRhdGEuYWxpZ25tZW50KSxlLmFwcGVuZENoaWxkKHIpLHJ9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSxuLHIpe2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKCl7dC5kYXRhPXthbGlnbm1lbnQ6dC5hbGlnbm1lbnRTZXR0aW5nc1tuXS5uYW1lfSxyLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dmFyIHI9dC5hbGlnbm1lbnRTZXR0aW5nc1tuXS5uYW1lO2UuY2xhc3NMaXN0LnRvZ2dsZSh0LmFwaS5zdHlsZXMuc2V0dGluZ3NCdXR0b25BY3RpdmUscj09PXQuZGF0YS5hbGlnbm1lbnQpLHQud3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKHQuX0NTUy5hbGlnbm1lbnRbcl0scj09PXQuZGF0YS5hbGlnbm1lbnQpfSkpfSkpfSkpLGV9fSx7a2V5Olwic2F2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX19XSkmJnIoZS5wcm90b3R5cGUsbiksYSYmcihlLGEpLHR9KCk7dC5leHBvcnRzPWF9LDYzMDpmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gaSh0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCkpcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxmdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBpKHQsZSk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9pKHQsZSk6dm9pZCAwfX0odCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gaSh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIGEodCl7dmFyIGUsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCk7Zm9yKHZhciBvIGluIEFycmF5LmlzQXJyYXkobik/KGU9YS5jbGFzc0xpc3QpLmFkZC5hcHBseShlLHIobikpOm4mJmEuY2xhc3NMaXN0LmFkZChuKSxpKWFbb109aVtvXTtyZXR1cm4gYX1uLnIoZSksbi5kKGUse21ha2U6ZnVuY3Rpb24oKXtyZXR1cm4gYX19KX0sNDI0OmZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDY0NSksaT1uLm4ocikoKSgoZnVuY3Rpb24odCl7cmV0dXJuIHRbMV19KSk7aS5wdXNoKFt0LmlkLFwiLmNlLXR1bmUtYWxpZ25tZW50LS1yaWdodCB7XFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG4uY2UtdHVuZS1hbGlnbm1lbnQtLWNlbnRlciB7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmNlLXR1bmUtYWxpZ25tZW50LS1sZWZ0IHtcXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcXG59XCIsXCJcIl0pLGUuWj1pfSw2NDU6ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKChmdW5jdGlvbihlKXt2YXIgbj10KGUpO3JldHVybiBlWzJdP1wiQG1lZGlhIFwiLmNvbmNhdChlWzJdLFwiIHtcIikuY29uY2F0KG4sXCJ9XCIpOm59KSkuam9pbihcIlwiKX0sZS5pPWZ1bmN0aW9uKHQsbixyKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9W1tudWxsLHQsXCJcIl1dKTt2YXIgaT17fTtpZihyKWZvcih2YXIgYT0wO2E8dGhpcy5sZW5ndGg7YSsrKXt2YXIgbz10aGlzW2FdWzBdO251bGwhPW8mJihpW29dPSEwKX1mb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGM9W10uY29uY2F0KHRbc10pO3ImJmlbY1swXV18fChuJiYoY1syXT9jWzJdPVwiXCIuY29uY2F0KG4sXCIgYW5kIFwiKS5jb25jYXQoY1syXSk6Y1syXT1uKSxlLnB1c2goYykpfX0sZX19LDU0ODpmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzNzkpLGk9bi5uKHIpLGE9big0MjQpO2koKShhLlose2luc2VydDpcImhlYWRcIixzaW5nbGV0b246ITF9KSxhLloubG9jYWxzfSwzNzk6ZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09dFtlXSl7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJm4gaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e249bi5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaCh0KXtuPW51bGx9dFtlXT1ufXJldHVybiB0W2VdfX0oKSxhPVtdO2Z1bmN0aW9uIG8odCl7Zm9yKHZhciBlPS0xLG49MDtuPGEubGVuZ3RoO24rKylpZihhW25dLmlkZW50aWZpZXI9PT10KXtlPW47YnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gcyh0LGUpe2Zvcih2YXIgbj17fSxyPVtdLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHM9dFtpXSxjPWUuYmFzZT9zWzBdK2UuYmFzZTpzWzBdLHU9bltjXXx8MCxsPVwiXCIuY29uY2F0KGMsXCIgXCIpLmNvbmNhdCh1KTtuW2NdPXUrMTt2YXIgZj1vKGwpLGQ9e2NzczpzWzFdLG1lZGlhOnNbMl0sc291cmNlTWFwOnNbM119Oy0xIT09Zj8oYVtmXS5yZWZlcmVuY2VzKyssYVtmXS51cGRhdGVyKGQpKTphLnB1c2goe2lkZW50aWZpZXI6bCx1cGRhdGVyOmcoZCxlKSxyZWZlcmVuY2VzOjF9KSxyLnB1c2gobCl9cmV0dXJuIHJ9ZnVuY3Rpb24gYyh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIikscj10LmF0dHJpYnV0ZXN8fHt9O2lmKHZvaWQgMD09PXIubm9uY2Upe3ZhciBhPW4ubmM7YSYmKHIubm9uY2U9YSl9aWYoT2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5zZXRBdHRyaWJ1dGUodCxyW3RdKX0pKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lmluc2VydCl0Lmluc2VydChlKTtlbHNle3ZhciBvPWkodC5pbnNlcnR8fFwiaGVhZFwiKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO28uYXBwZW5kQ2hpbGQoZSl9cmV0dXJuIGV9dmFyIHUsbD0odT1bXSxmdW5jdGlvbih0LGUpe3JldHVybiB1W3RdPWUsdS5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX0pO2Z1bmN0aW9uIGYodCxlLG4scil7dmFyIGk9bj9cIlwiOnIubWVkaWE/XCJAbWVkaWEgXCIuY29uY2F0KHIubWVkaWEsXCIge1wiKS5jb25jYXQoci5jc3MsXCJ9XCIpOnIuY3NzO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1sKGUsaSk7ZWxzZXt2YXIgYT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpKSxvPXQuY2hpbGROb2RlcztvW2VdJiZ0LnJlbW92ZUNoaWxkKG9bZV0pLG8ubGVuZ3RoP3QuaW5zZXJ0QmVmb3JlKGEsb1tlXSk6dC5hcHBlbmRDaGlsZChhKX19ZnVuY3Rpb24gZCh0LGUsbil7dmFyIHI9bi5jc3MsaT1uLm1lZGlhLGE9bi5zb3VyY2VNYXA7aWYoaT90LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsaSk6dC5yZW1vdmVBdHRyaWJ1dGUoXCJtZWRpYVwiKSxhJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYnRvYSYmKHIrPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYSkpKSksXCIgKi9cIikpLHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1yO2Vsc2V7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIpKX19dmFyIGg9bnVsbCxwPTA7ZnVuY3Rpb24gZyh0LGUpe3ZhciBuLHIsaTtpZihlLnNpbmdsZXRvbil7dmFyIGE9cCsrO249aHx8KGg9YyhlKSkscj1mLmJpbmQobnVsbCxuLGEsITEpLGk9Zi5iaW5kKG51bGwsbixhLCEwKX1lbHNlIG49YyhlKSxyPWQuYmluZChudWxsLG4sZSksaT1mdW5jdGlvbigpeyFmdW5jdGlvbih0KXtpZihudWxsPT09dC5wYXJlbnROb2RlKXJldHVybiExO3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX0obil9O3JldHVybiByKHQpLGZ1bmN0aW9uKGUpe2lmKGUpe2lmKGUuY3NzPT09dC5jc3MmJmUubWVkaWE9PT10Lm1lZGlhJiZlLnNvdXJjZU1hcD09PXQuc291cmNlTWFwKXJldHVybjtyKHQ9ZSl9ZWxzZSBpKCl9fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpeyhlPWV8fHt9KS5zaW5nbGV0b258fFwiYm9vbGVhblwiPT10eXBlb2YgZS5zaW5nbGV0b258fChlLnNpbmdsZXRvbj0odm9pZCAwPT09ciYmKHI9Qm9vbGVhbih3aW5kb3cmJmRvY3VtZW50JiZkb2N1bWVudC5hbGwmJiF3aW5kb3cuYXRvYikpLHIpKTt2YXIgbj1zKHQ9dHx8W10sZSk7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQ9dHx8W10sXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9byhuW3JdKTthW2ldLnJlZmVyZW5jZXMtLX1mb3IodmFyIGM9cyh0LGUpLHU9MDt1PG4ubGVuZ3RoO3UrKyl7dmFyIGw9byhuW3VdKTswPT09YVtsXS5yZWZlcmVuY2VzJiYoYVtsXS51cGRhdGVyKCksYS5zcGxpY2UobCwxKSl9bj1jfX19fX0sZT17fTtmdW5jdGlvbiBuKHIpe3ZhciBpPWVbcl07aWYodm9pZCAwIT09aSlyZXR1cm4gaS5leHBvcnRzO3ZhciBhPWVbcl09e2lkOnIsZXhwb3J0czp7fX07cmV0dXJuIHRbcl0oYSxhLmV4cG9ydHMsbiksYS5leHBvcnRzfXJldHVybiBuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLHthOmV9KSxlfSxuLmQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSluLm8oZSxyKSYmIW4ubyh0LHIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHtlbnVtZXJhYmxlOiEwLGdldDplW3JdfSl9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4oOTY2KX0oKX0pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/editorjs-text-alignment-blocktune/dist/bundle.js\n");

/***/ }),

/***/ "./node_modules/editorjs-undo/dist/bundle.js":
/*!***************************************************!*\
  !*** ./node_modules/editorjs-undo/dist/bundle.js ***!
  \***************************************************/
/***/ ((module) => {

eval("/*! For license information please see bundle.js.LICENSE.txt */\n!function(t,e){ true?module.exports=e():0}(self,(()=>(()=>{var t={917:function(t,e){var n,r;n=function(t){\"use strict\";var e=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")})(this,t),this.target=e,this.isContentEditable=e&&e.contentEditable}return e(t,[{key:\"getPos\",value:function(){if(document.activeElement!==this.target)return-1;if(\"true\"===this.isContentEditable){this.target.focus();var t=document.getSelection().getRangeAt(0),e=t.cloneRange();return e.selectNodeContents(this.target),e.setEnd(t.endContainer,t.endOffset),e.toString().length}return this.target.selectionStart}},{key:\"setPos\",value:function(t){if(\"true\"===this.isContentEditable){if(t>=0){var e=window.getSelection(),n=this.createRange(this.target,{count:t});n&&(n.collapse(!1),e.removeAllRanges(),e.addRange(n))}}else this.target.setSelectionRange(t,t)}},{key:\"createRange\",value:function(t,e,n){if(n||((n=document.createRange()).selectNode(t),n.setStart(t,0)),0===e.count)n.setEnd(t,e.count);else if(t&&e.count>0)if(t.nodeType===Node.TEXT_NODE)t.textContent.length<e.count?e.count-=t.textContent.length:(n.setEnd(t,e.count),e.count=0);else for(var r=0;r<t.childNodes.length&&(n=this.createRange(t.childNodes[r],e,n),0!==e.count);r++);return n}}]),t}();t.exports=n},void 0===(r=n.apply(e,[t]))||(t.exports=r)},442:(t,e,n)=>{t.exports=n(917)},633:(t,e,n)=>{var r=n(738).default;function o(){\"use strict\";t.exports=o=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var e,n={},i=Object.prototype,a=i.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},c=\"function\"==typeof Symbol?Symbol:{},u=c.iterator||\"@@iterator\",l=c.asyncIterator||\"@@asyncIterator\",h=c.toStringTag||\"@@toStringTag\";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},\"\")}catch(e){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new D(r||[]);return s(i,\"_invoke\",{value:T(t,n,a)}),i}function p(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(t){return{type:\"throw\",arg:t}}}n.wrap=d;var y=\"suspendedStart\",v=\"suspendedYield\",b=\"executing\",g=\"completed\",k={};function m(){}function x(){}function w(){}var O={};f(O,u,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(I([])));L&&L!==i&&a.call(L,u)&&(O=L);var S=w.prototype=m.prototype=Object.create(O);function C(t){[\"next\",\"throw\",\"return\"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(o,i,s,c){var u=p(t[o],t,i);if(\"throw\"!==u.type){var l=u.arg,h=l.value;return h&&\"object\"==r(h)&&a.call(h,\"__await\")?e.resolve(h.__await).then((function(t){n(\"next\",t,s,c)}),(function(t){n(\"throw\",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return n(\"throw\",t,s,c)}))}c(u.arg)}var o;s(this,\"_invoke\",{value:function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var o=y;return function(i,a){if(o===b)throw Error(\"Generator is already running\");if(o===g){if(\"throw\"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=B(s,r);if(c){if(c===k)continue;return c}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(o===y)throw o=g,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);o=b;var u=p(t,n,r);if(\"normal\"===u.type){if(o=r.done?g:v,u.arg===k)continue;return{value:u.arg,done:r.done}}\"throw\"===u.type&&(o=g,r.method=\"throw\",r.arg=u.arg)}}}function B(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,\"throw\"===r&&t.iterator.return&&(n.method=\"return\",n.arg=e,B(t,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),k;var i=p(o,t.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,k;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=e),n.delegate=null,k):a:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,k)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(_,this),this.reset(!0)}function I(t){if(t||\"\"===t){var n=t[u];if(n)return n.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(a.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(r(t)+\" is not iterable\")}return x.prototype=w,s(S,\"constructor\",{value:w,configurable:!0}),s(w,\"constructor\",{value:x,configurable:!0}),x.displayName=f(w,h,\"GeneratorFunction\"),n.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===x||\"GeneratorFunction\"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,h,\"GeneratorFunction\")),t.prototype=Object.create(S),t},n.awrap=function(t){return{__await:t}},C(j.prototype),f(j.prototype,l,(function(){return this})),n.AsyncIterator=j,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new j(d(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(S),f(S,h,\"Generator\"),f(S,u,(function(){return this})),f(S,\"toString\",(function(){return\"[object Generator]\"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=I,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)\"t\"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type=\"throw\",s.arg=t,n.next=r,o&&(n.method=\"next\",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if(\"root\"===i.tryLoc)return r(\"end\");if(i.tryLoc<=this.prev){var c=a.call(i,\"catchLoc\"),u=a.call(i,\"finallyLoc\");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error(\"try statement without catch or finally\");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,\"finallyLoc\")&&this.prev<r.finallyLoc){var o=r;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method=\"next\",this.next=o.finallyLoc,k):this.complete(i)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var o=r.arg;P(n)}return o}}throw Error(\"illegal catch attempt\")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=e),k}},n}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},738:t=>{function e(n){return t.exports=e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},756:(t,e,n)=>{var r=n(633)();t.exports=r;try{regeneratorRuntime=r}catch(t){\"object\"==typeof globalThis?globalThis.regeneratorRuntime=r:Function(\"r\",\"regeneratorRuntime = r\")(r)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};return(()=>{\"use strict\";function t(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function e(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function s(e){t(a,o,i,s,c,\"next\",e)}function c(e){t(a,o,i,s,c,\"throw\",e)}s(void 0)}))}}function o(t){return o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o(t)}function i(t){var e=function(t,e){if(\"object\"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,\"string\");if(\"object\"!=o(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(t);return\"symbol\"==o(e)?e:e+\"\"}function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}n.d(r,{default:()=>v});var u=n(756),l=n.n(u),h=n(442),f=n.n(h),d=function(){return c((function t(e,n,r){a(this,t),this.holder=n,this.observer=null,this.debounceTimer=r,this.mutationDebouncer=this.debounce((function(){e()}),this.debounceTimer)}),[{key:\"setMutationObserver\",value:function(){var t=this,e=this.holder.querySelector(\".codex-editor__redactor\");this.observer=new MutationObserver((function(e){t.mutationHandler(e)})),this.observer.observe(e,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}},{key:\"mutationHandler\",value:function(t){var e=this,n=!1;t.forEach((function(t){switch(t.type){case\"childList\":t.target===e.holder?e.onDestroy():n=!0;break;case\"characterData\":n=!0;break;case\"attributes\":t.target.classList.contains(\"ce-block\")||t.target.classList.contains(\"tc-toolbox\")||(n=!0)}})),n&&this.mutationDebouncer()}},{key:\"debounce\",value:function(t,e){var n,r=this;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=r;clearTimeout(n),n=setTimeout((function(){return t.apply(s,i)}),e)}}},{key:\"onDestroy\",value:function(){var t=new CustomEvent(\"destroy\");document.dispatchEvent(t),this.observer.disconnect()}}])}();function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){var r,o,a;r=t,o=e,a=n[e],(o=i(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=function(){return c((function t(e){var n=this,r=e.editor,o=e.config,i=void 0===o?{}:o,s=e.onUpdate,c=e.maxLength;a(this,t);var u={maxLength:30,onUpdate:function(){},config:{debounceTimer:200,shortcuts:{undo:[\"CMD+Z\"],redo:[\"CMD+Y\",\"CMD+SHIFT+Z\"]}}},l=r.blocks,h=r.caret,f=r.configuration,p=f.holder,v=f.defaultBlock,b=u.config.shortcuts,g=i.shortcuts,k=y(y({},b),g),m=Array.isArray(k.undo)?k.undo:[k.undo],x=Array.isArray(k.redo)?k.redo:[k.redo],w=u.config.debounceTimer,O=i.debounceTimer,E=void 0===O?w:O;this.holder=\"string\"==typeof p?document.getElementById(p):p,this.editor=r,this.defaultBlock=v,this.blocks=l,this.caret=h,this.shouldSaveHistory=!0,this.readOnly=f.readOnly,this.maxLength=c||u.maxLength,this.onUpdate=s||u.onUpdate,this.config={debounceTimer:E,shortcuts:{undo:m,redo:x}},new d((function(){return n.registerChange()}),this.holder,this.config.debounceTimer).setMutationObserver(),this.setEventListeners(),this.initialItem=null,this.clear()}),[{key:\"truncate\",value:function(t,e){for(;t.length>e;)t.shift()}},{key:\"initialize\",value:function(t){var e=\"blocks\"in t?t.blocks:t,n={index:e.length-1,state:e};this.stack[0]=n,this.initialItem=n}},{key:\"clear\",value:function(){this.stack=this.initialItem?[this.initialItem]:[{index:0,state:[{type:this.defaultBlock,data:{}}]}],this.position=0,this.onUpdate()}},{key:\"setReadOnly\",value:function(){var t=this.holder.querySelector(\".ce-toolbox\");this.readOnly=!t}},{key:\"registerChange\",value:function(){var t=this;this.setReadOnly(),this.readOnly||(this.editor&&this.editor.save&&this.shouldSaveHistory&&this.editor.save().then((function(e){t.editorDidUpdate(e.blocks)&&t.save(e.blocks)})),this.shouldSaveHistory=!0)}},{key:\"editorDidUpdate\",value:function(t){var e=this.stack[this.position].state;return!!t.length&&(t.length!==e.length||JSON.stringify(e)!==JSON.stringify(t))}},{key:\"save\",value:function(t){this.position>=this.maxLength&&this.truncate(this.stack,this.maxLength),this.position=Math.min(this.position,this.stack.length-1),this.stack=this.stack.slice(0,this.position+1);var e=this.blocks.getCurrentBlockIndex(),n=this.blocks.getBlocksCount(),r=e;t[e]||(r-=n-t.length);var o=!t[r]||\"paragraph\"!==t[r].type&&\"header\"!==t[r].type?null:this.getCaretIndex(e);this.stack.push({index:r,state:t,caretIndex:o}),this.position+=1,this.onUpdate()}},{key:\"getCaretIndex\",value:function(t){var e=this.holder.getElementsByClassName(\"ce-block__content\");return new(f())(e[t].firstChild).getPos()}},{key:\"insertDeletedBlock\",value:function(t,e,n){for(var r=0;r<t.length;r+=1)if(!e[r]||t[r].id!==e[r].id){this.blocks.insert(t[r].type,t[r].data,{},r,!0),this.caret.setToBlock(n,\"end\");break}}},{key:\"blockWasDropped\",value:function(t,e){return t.length===e.length&&t.some((function(t,n){return t.id!==e[n].id}))}},{key:\"blockWasSkipped\",value:function(t,e){return t.length!==e.length}},{key:\"contentChangedInNoFocusBlock\",value:function(t,e){return t!==e}},{key:\"blockWasDeleted\",value:function(t,e){return t.length>e.length}},{key:\"contentWasCopied\",value:function(t,e,n){return 0===Object.keys(t[n].data).length&&JSON.stringify(e[n+1])!==JSON.stringify(t[n+1])}},{key:\"undo\",value:(i=e(l().mark((function t(){var e,n,r,o,i,a,s,c,u,h,f;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.canUndo()){t.next=47;break}if(e=this.stack[this.position],n=e.index,r=e.state,this.position-=1,this.shouldSaveHistory=!1,o=this.stack[this.position].index,i=this.stack[this.position],a=i.state,s=i.caretIndex,this.onUpdate(),c=this.blocks.getBlocksCount(),a[o]||(o-=1,this.stack[this.position].index=o),!this.blockWasDeleted(a,r)){t.next=13;break}this.insertDeletedBlock(a,r,o),t.next=42;break;case 13:if(!this.contentWasCopied(a,r,o)){t.next=19;break}return t.next=16,this.blocks.render({blocks:a});case 16:this.caret.setToBlock(o,\"end\"),t.next=42;break;case 19:if(!(o<n&&this.blockWasSkipped(a,r))){t.next=25;break}return t.next=22,this.blocks.delete(n);case 22:this.caret.setToBlock(o,\"end\"),t.next=42;break;case 25:if(!(c>a.length)){t.next=31;break}return t.next=28,this.blocks.render({blocks:a});case 28:this.setCaretIndex(o,s),t.next=42;break;case 31:if(!this.blockWasDropped(a,r)){t.next=37;break}return t.next=34,this.blocks.render({blocks:a});case 34:this.caret.setToBlock(o,\"end\"),t.next=42;break;case 37:if(!this.contentChangedInNoFocusBlock(o,n)){t.next=42;break}return u=this.blocks.getBlockByIndex(n),h=u.id,t.next=41,this.blocks.update(h,a[n].data);case 41:this.setCaretIndex(o,s);case 42:if(!(f=this.blocks.getBlockByIndex(o))){t.next=47;break}return t.next=46,this.blocks.update(f.id,a[o].data);case 46:this.setCaretIndex(o,s);case 47:case\"end\":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:\"setCaretIndex\",value:function(t,e){if(e&&-1!==e){var n=this.holder.getElementsByClassName(\"ce-block__content\"),r=new(f())(n[t].firstChild);setTimeout((function(){return r.setPos(e)}),50)}else this.caret.setToBlock(t,\"end\")}},{key:\"insertBlock\",value:(o=e(l().mark((function t(e,n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.blocks.insert(e[n].type,e[n].data,{},n,!0);case 2:case\"end\":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:\"insertSkippedBlocks\",value:(r=e(l().mark((function t(e,n,r){var o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=e.length;o<n.length;o+=1)this.insertBlock(n,o);if(JSON.stringify(e[r-1])===JSON.stringify(n[r-1])){t.next=4;break}return t.next=4,this.updateModifiedBlock(n,r);case 4:case\"end\":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:\"updateModifiedBlock\",value:(n=e(l().mark((function t(e,n){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e[n-1],!this.editor.blocks.getById(r.id)){t.next=3;break}return t.abrupt(\"return\",this.blocks.update(r.id,r.data));case 3:return t.abrupt(\"return\",this.blocks.render({blocks:e}));case 4:case\"end\":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:\"redo\",value:(t=e(l().mark((function t(){var e,n,r,o,i,a,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.canRedo()){t.next=27;break}if(this.position+=1,this.shouldSaveHistory=!1,e=this.stack[this.position],n=e.index,r=e.state,o=e.caretIndex,(i=this.stack[this.position-1]).index,a=i.state,!this.blockWasDeleted(a,r)){t.next=11;break}return t.next=8,this.blocks.delete();case 8:this.caret.setToBlock(n,\"end\"),t.next=21;break;case 11:if(!this.blockWasSkipped(r,a)){t.next=17;break}return t.next=14,this.insertSkippedBlocks(a,r,n);case 14:this.caret.setToBlock(n,\"end\"),t.next=21;break;case 17:if(!this.blockWasDropped(r,a)||1===this.position){t.next=21;break}return t.next=20,this.blocks.render({blocks:r});case 20:this.caret.setToBlock(n,\"end\");case 21:if(this.onUpdate(),!(s=this.blocks.getBlockByIndex(n))){t.next=27;break}return t.next=26,this.blocks.update(s.id,r[n].data);case 26:this.setCaretIndex(n,o);case 27:case\"end\":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:\"canUndo\",value:function(){return!this.readOnly&&this.position>0}},{key:\"canRedo\",value:function(){return!this.readOnly&&this.position<this.count()}},{key:\"count\",value:function(){return this.stack.length-1}},{key:\"parseKeys\",value:function(t){var e={CMD:/(Mac)/i.test(navigator.platform)?\"metaKey\":\"ctrlKey\",ALT:\"altKey\",SHIFT:\"shiftKey\"},n=t.slice(0,-1).map((function(t){return e[t]})),r=n.includes(\"shiftKey\")&&2===t.length?t[t.length-1].toUpperCase():t[t.length-1].toLowerCase();return n.push(r),n}},{key:\"setEventListeners\",value:function(){var t=this,e=this.holder,n=this.config.shortcuts,r=n.undo,o=n.redo,i=r.map((function(t){return t.replace(/ /g,\"\").split(\"+\")})),a=o.map((function(t){return t.replace(/ /g,\"\").split(\"+\")})),s=i.map((function(e){return t.parseKeys(e)})),c=a.map((function(e){return t.parseKeys(e)})),u=function(t,e){return e.reduce((function(e,n){return e||function(t,e){return 3===e.length&&t[e[0]]&&t[e[1]]&&t.key.toLowerCase()===e[2]}(t,n)}),!1)},l=function(t,e,n){return!(!function(t,e){return e.reduce((function(e,n){return e||function(t,e){return 2===e.length&&t[e[0]]&&t.key.toLowerCase()===e[1]}(t,n)}),!1)}(t,e)||u(t,n))||!!u(t,e)},h=function(e){l(e,s,c)&&(e.preventDefault(),t.undo())},f=function(e){l(e,c,s)&&(e.preventDefault(),t.redo())};e.addEventListener(\"keydown\",h),e.addEventListener(\"keydown\",f),e.addEventListener(\"destroy\",(function(){e.removeEventListener(\"keydown\",h),e.removeEventListener(\"keydown\",f)}))}}],[{key:\"isReadOnlySupported\",get:function(){return!0}}]);var t,n,r,o,i}()})(),r.default})()));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZWRpdG9yanMtdW5kby9kaXN0L2J1bmRsZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGVBQWUsS0FBaUQsb0JBQW9CLENBQXVHLENBQUMsaUJBQWlCLE9BQU8sa0JBQWtCLFFBQVEsY0FBYyxhQUFhLGlCQUFpQixnQkFBZ0IsWUFBWSxXQUFXLEtBQUssV0FBVywrR0FBK0csdUJBQXVCLHdDQUF3QyxnQkFBZ0IsY0FBYyxlQUFlLDhFQUE4RSxvRUFBb0UsYUFBYSw4QkFBOEIsaURBQWlELG9DQUFvQyxvQkFBb0IsNkRBQTZELGtHQUFrRyxtQ0FBbUMsRUFBRSwrQkFBK0Isb0NBQW9DLFNBQVMsNERBQTRELFFBQVEsRUFBRSx1REFBdUQseUNBQXlDLEVBQUUsd0NBQXdDLGlHQUFpRywrSUFBK0ksaUJBQWlCLDZFQUE2RSxLQUFLLFVBQVUsS0FBSyxHQUFHLFlBQVksNENBQTRDLGVBQWUsaUJBQWlCLGVBQWUscUJBQXFCLGFBQWEsYUFBYSx1QkFBdUIsU0FBUyxxREFBcUQsVUFBVSxnRkFBZ0YsYUFBYSxzQ0FBc0Msa0dBQWtHLGtCQUFrQixrQ0FBa0Msa0RBQWtELE9BQU8sSUFBSSxJQUFJLEtBQUssU0FBUyxrQkFBa0IsZUFBZSxvQkFBb0Isa0ZBQWtGLHNCQUFzQixlQUFlLElBQUksa0JBQWtCLElBQUksT0FBTywrQkFBK0IsU0FBUyxPQUFPLHFCQUFxQixTQUFTLDJFQUEyRSxjQUFjLGNBQWMsY0FBYyxTQUFTLGtCQUFrQixZQUFZLEdBQUcsNkNBQTZDLDZCQUE2QiwrQ0FBK0MsY0FBYywrQ0FBK0MsbUJBQW1CLHlCQUF5QixHQUFHLEdBQUcsZ0JBQWdCLG9CQUFvQixrQkFBa0IscUJBQXFCLHNCQUFzQixxRkFBcUYsZ0JBQWdCLGVBQWUsaUJBQWlCLGtDQUFrQyxlQUFlLGVBQWUsd0JBQXdCLEdBQUcsU0FBUyxNQUFNLGtCQUFrQixvQkFBb0IsYUFBYSw0QkFBNEIsV0FBVyxHQUFHLDRCQUE0QixFQUFFLGtCQUFrQixRQUFRLHFC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QUF3Qix5REFBeUQsTUFBTSxNQUFNLHlCQUF5QixlQUFlLHdDQUF3QyxlQUFlLHlDQUF5Qyx5R0FBeUcsc0VBQXNFLElBQUksSUFBSSx5Q0FBeUMsVUFBVSxHQUFHLGNBQWMsR0FBRyxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VkaXRvcmpzLXVuZG8vZGlzdC9idW5kbGUuanM/NzQ5YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgRm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gcGxlYXNlIHNlZSBidW5kbGUuanMuTElDRU5TRS50eHQgKi9cbiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuVW5kbz1lKCk6dC5VbmRvPWUoKX0oc2VsZiwoKCk9PigoKT0+e3ZhciB0PXs5MTc6ZnVuY3Rpb24odCxlKXt2YXIgbixyO249ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXsoZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSkodGhpcyx0KSx0aGlzLnRhcmdldD1lLHRoaXMuaXNDb250ZW50RWRpdGFibGU9ZSYmZS5jb250ZW50RWRpdGFibGV9cmV0dXJuIGUodCxbe2tleTpcImdldFBvc1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PXRoaXMudGFyZ2V0KXJldHVybi0xO2lmKFwidHJ1ZVwiPT09dGhpcy5pc0NvbnRlbnRFZGl0YWJsZSl7dGhpcy50YXJnZXQuZm9jdXMoKTt2YXIgdD1kb2N1bWVudC5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApLGU9dC5jbG9uZVJhbmdlKCk7cmV0dXJuIGUuc2VsZWN0Tm9kZUNvbnRlbnRzKHRoaXMudGFyZ2V0KSxlLnNldEVuZCh0LmVuZENvbnRhaW5lcix0LmVuZE9mZnNldCksZS50b1N0cmluZygpLmxlbmd0aH1yZXR1cm4gdGhpcy50YXJnZXQuc2VsZWN0aW9uU3RhcnR9fSx7a2V5Olwic2V0UG9zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJ0cnVlXCI9PT10aGlzLmlzQ29udGVudEVkaXRhYmxlKXtpZih0Pj0wKXt2YXIgZT13aW5kb3cuZ2V0U2VsZWN0aW9uKCksbj10aGlzLmNyZWF0ZVJhbmdlKHRoaXMudGFyZ2V0LHtjb3VudDp0fSk7biYmKG4uY29sbGFwc2UoITEpLGUucmVtb3ZlQWxsUmFuZ2VzKCksZS5hZGRSYW5nZShuKSl9fWVsc2UgdGhpcy50YXJnZXQuc2V0U2VsZWN0aW9uUmFuZ2UodCx0KX19LHtrZXk6XCJjcmVhdGVSYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtpZihufHwoKG49ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2VsZWN0Tm9kZSh0KSxuLnNldFN0YXJ0KHQsMCkpLDA9PT1lLmNvdW50KW4uc2V0RW5kKHQsZS5jb3VudCk7ZWxzZSBpZih0JiZlLmNvdW50PjApaWYodC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXQudGV4dENvbnRlbnQubGVuZ3RoPGUuY291bnQ/ZS5jb3VudC09dC50ZXh0Q29udGVudC5sZW5ndGg6KG4uc2V0RW5kKHQsZS5jb3VudCksZS5jb3VudD0wKTtlbHNlIGZvcih2YXIgcj0wO3I8dC5jaGlsZE5vZGVzLmxlbmd0aCYmKG49dGhpcy5jcmVhdGVSYW5nZSh0LmNoaWxkTm9kZXNbcl0sZSxuKSwwIT09ZS5jb3VudCk7cisrKTtyZXR1cm4gbn19XSksdH0oKTt0LmV4cG9ydHM9bn0sdm9pZCAwPT09KHI9bi5hcHBseShlLFt0XSkpfHwodC5leHBvcnRzPXIpfSw0NDI6KHQsZSxuKT0+e3QuZXhwb3J0cz1uKDkxNyl9LDYzMzoodCxlLG4pPT57dmFyIHI9big3MzgpLmRlZmF1bHQ7ZnVuY3Rpb24gbygpe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1vPWZ1bmN0aW9uKCl7cmV0dXJuIG59LHQuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLHQuZXhwb3J0cy5kZWZhdWx0PXQuZXhwb3J0czt2YXIgZSxuPXt9LGk9T2JqZWN0LnByb3RvdHlwZSxhPWkuaGFzT3duUHJvcGVydHkscz1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKHQsZSxuKXt0W2VdPW4udmFsdWV9LGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSx1PWMuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLGw9Yy5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLGg9Yy50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gZih0LGUsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0W2VdfXRyeXtmKHt9LFwiXCIpfWNhdGNoKGUpe2Y9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW59fWZ1bmN0aW9uIGQodCxlLG4scil7dmFyIG89ZSYmZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBtP2U6bSxpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLGE9bmV3IEQocnx8W10pO3JldHVybiBzKGksXCJfaW52b2tlXCIse3ZhbHVlOlQodCxuLGEpfSksaX1mdW5jdGlvbiBwKHQsZSxuKXt0cnl7cmV0dXJue3R5cGU6XCJub3JtYWxcIixhcmc6dC5jYWxsKGUsbil9fWNhdGNoKHQpe3JldHVybnt0eXBlOlwidGhyb3dcIixhcmc6dH19fW4ud3JhcD1kO3ZhciB5PVwic3VzcGVuZGVkU3RhcnRcIix2PVwic3VzcGVuZGVkWWllbGRcIixiPVwiZXhlY3V0aW5nXCIsZz1cImNvbXBsZXRlZFwiLGs9e307ZnVuY3Rpb24gbSgpe31mdW5jdGlvbiB4KCl7fWZ1bmN0aW9uIHcoKXt9dmFyIE89e307ZihPLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIEU9T2JqZWN0LmdldFByb3RvdHlwZU9mLEw9RSYmRShFKEkoW10pKSk7TCYmTCE9PWkmJmEuY2FsbChMLHUpJiYoTz1MKTt2YXIgUz13LnByb3RvdHlwZT1tLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE8pO2Z1bmN0aW9uIEModCl7W1wibmV4dFwiLFwidGhyb3dcIixcInJldHVyblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtmKHQsZSwoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShlLHQpfSkpfSkpfWZ1bmN0aW9uIGoodCxlKXtmdW5jdGlvbiBuKG8saSxzLGMpe3ZhciB1PXAodFtvXSx0LGkpO2lmKFwidGhyb3dcIiE9PXUudHlwZSl7dmFyIGw9dS5hcmcsaD1sLnZhbHVlO3JldHVybiBoJiZcIm9iamVjdFwiPT1yKGgpJiZhLmNhbGwoaCxcIl9fYXdhaXRcIik/ZS5yZXNvbHZlKGguX19hd2FpdCkudGhlbigoZnVuY3Rpb24odCl7bihcIm5leHRcIix0LHMsYyl9KSwoZnVuY3Rpb24odCl7bihcInRocm93XCIsdCxzLGMpfSkpOmUucmVzb2x2ZShoKS50aGVuKChmdW5jdGlvbih0KXtsLnZhbHVlPXQscyhsKX0pLChmdW5jdGlvbih0KXtyZXR1cm4gbihcInRocm93XCIsdCxzLGMpfSkpfWModS5hcmcpfXZhciBvO3ModGhpcyxcIl9pbnZva2VcIix7dmFsdWU6ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyBlKChmdW5jdGlvbihlLG8pe24odCxyLGUsbyl9KSl9cmV0dXJuIG89bz9vLnRoZW4oaSxpKTppKCl9fSl9ZnVuY3Rpb24gVCh0LG4scil7dmFyIG89eTtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09Yil0aHJvdyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYobz09PWcpe2lmKFwidGhyb3dcIj09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6ZSxkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIGM9QihzLHIpO2lmKGMpe2lmKGM9PT1rKWNvbnRpbnVlO3JldHVybiBjfX1pZihcIm5leHRcIj09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09ci5tZXRob2Qpe2lmKG89PT15KXRocm93IG89ZyxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlXCJyZXR1cm5cIj09PXIubWV0aG9kJiZyLmFicnVwdChcInJldHVyblwiLHIuYXJnKTtvPWI7dmFyIHU9cCh0LG4scik7aWYoXCJub3JtYWxcIj09PXUudHlwZSl7aWYobz1yLmRvbmU/Zzp2LHUuYXJnPT09ayljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fVwidGhyb3dcIj09PXUudHlwZSYmKG89ZyxyLm1ldGhvZD1cInRocm93XCIsci5hcmc9dS5hcmcpfX19ZnVuY3Rpb24gQih0LG4pe3ZhciByPW4ubWV0aG9kLG89dC5pdGVyYXRvcltyXTtpZihvPT09ZSlyZXR1cm4gbi5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PXImJnQuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9XCJyZXR1cm5cIixuLmFyZz1lLEIodCxuKSxcInRocm93XCI9PT1uLm1ldGhvZCl8fFwicmV0dXJuXCIhPT1yJiYobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIityK1wiJyBtZXRob2RcIikpLGs7dmFyIGk9cChvLHQuaXRlcmF0b3Isbi5hcmcpO2lmKFwidGhyb3dcIj09PWkudHlwZSlyZXR1cm4gbi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPWkuYXJnLG4uZGVsZWdhdGU9bnVsbCxrO3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8oblt0LnJlc3VsdE5hbWVdPWEudmFsdWUsbi5uZXh0PXQubmV4dExvYyxcInJldHVyblwiIT09bi5tZXRob2QmJihuLm1ldGhvZD1cIm5leHRcIixuLmFyZz1lKSxuLmRlbGVnYXRlPW51bGwsayk6YToobi5tZXRob2Q9XCJ0aHJvd1wiLG4uYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxuLmRlbGVnYXRlPW51bGwsayl9ZnVuY3Rpb24gXyh0KXt2YXIgZT17dHJ5TG9jOnRbMF19OzEgaW4gdCYmKGUuY2F0Y2hMb2M9dFsxXSksMiBpbiB0JiYoZS5maW5hbGx5TG9jPXRbMl0sZS5hZnRlckxvYz10WzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaChlKX1mdW5jdGlvbiBQKHQpe3ZhciBlPXQuY29tcGxldGlvbnx8e307ZS50eXBlPVwibm9ybWFsXCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lfWZ1bmN0aW9uIEQodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sdC5mb3JFYWNoKF8sdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gSSh0KXtpZih0fHxcIlwiPT09dCl7dmFyIG49dFt1XTtpZihuKXJldHVybiBuLmNhbGwodCk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5uZXh0KXJldHVybiB0O2lmKCFpc05hTih0Lmxlbmd0aCkpe3ZhciBvPS0xLGk9ZnVuY3Rpb24gbigpe2Zvcig7KytvPHQubGVuZ3RoOylpZihhLmNhbGwodCxvKSlyZXR1cm4gbi52YWx1ZT10W29dLG4uZG9uZT0hMSxuO3JldHVybiBuLnZhbHVlPWUsbi5kb25lPSEwLG59O3JldHVybiBpLm5leHQ9aX19dGhyb3cgbmV3IFR5cGVFcnJvcihyKHQpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKX1yZXR1cm4geC5wcm90b3R5cGU9dyxzKFMsXCJjb25zdHJ1Y3RvclwiLHt2YWx1ZTp3LGNvbmZpZ3VyYWJsZTohMH0pLHModyxcImNvbnN0cnVjdG9yXCIse3ZhbHVlOngsY29uZmlndXJhYmxlOiEwfSkseC5kaXNwbGF5TmFtZT1mKHcsaCxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLG4uaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yO3JldHVybiEhZSYmKGU9PT14fHxcIkdlbmVyYXRvckZ1bmN0aW9uXCI9PT0oZS5kaXNwbGF5TmFtZXx8ZS5uYW1lKSl9LG4ubWFyaz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LHcpOih0Ll9fcHJvdG9fXz13LGYodCxoLFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUyksdH0sbi5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0sQyhqLnByb3RvdHlwZSksZihqLnByb3RvdHlwZSxsLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLG4uQXN5bmNJdGVyYXRvcj1qLG4uYXN5bmM9ZnVuY3Rpb24odCxlLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgaihkKHQsZSxyLG8pLGkpO3JldHVybiBuLmlzR2VuZXJhdG9yRnVuY3Rpb24oZSk/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gdC5kb25lP3QudmFsdWU6YS5uZXh0KCl9KSl9LEMoUyksZihTLGgsXCJHZW5lcmF0b3JcIiksZihTLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZihTLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgR2VuZXJhdG9yXVwifSkpLG4ua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QodCksbj1bXTtmb3IodmFyIHIgaW4gZSluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIHQoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIGUpcmV0dXJuIHQudmFsdWU9cix0LmRvbmU9ITEsdH1yZXR1cm4gdC5kb25lPSEwLHR9fSxuLnZhbHVlcz1JLEQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpELHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PWUsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz1lLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFApLCF0KWZvcih2YXIgbiBpbiB0aGlzKVwidFwiPT09bi5jaGFyQXQoMCkmJmEuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT1lKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIG49dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHMudHlwZT1cInRocm93XCIscy5hcmc9dCxuLm5leHQ9cixvJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9ZSksISFvfWZvcih2YXIgbz10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bz49MDstLW8pe3ZhciBpPXRoaXMudHJ5RW50cmllc1tvXSxzPWkuY29tcGxldGlvbjtpZihcInJvb3RcIj09PWkudHJ5TG9jKXJldHVybiByKFwiZW5kXCIpO2lmKGkudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPWEuY2FsbChpLFwiY2F0Y2hMb2NcIiksdT1hLmNhbGwoaSxcImZpbmFsbHlMb2NcIik7aWYoYyYmdSl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIHIoaS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGkuZmluYWxseUxvYylyZXR1cm4gcihpLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PGkuY2F0Y2hMb2MpcmV0dXJuIHIoaS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO2lmKHRoaXMucHJldjxpLmZpbmFsbHlMb2MpcmV0dXJuIHIoaS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIHI9dGhpcy50cnlFbnRyaWVzW25dO2lmKHIudHJ5TG9jPD10aGlzLnByZXYmJmEuY2FsbChyLFwiZmluYWxseUxvY1wiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIG89cjticmVha319byYmKFwiYnJlYWtcIj09PXR8fFwiY29udGludWVcIj09PXQpJiZvLnRyeUxvYzw9ZSYmZTw9by5maW5hbGx5TG9jJiYobz1udWxsKTt2YXIgaT1vP28uY29tcGxldGlvbjp7fTtyZXR1cm4gaS50eXBlPXQsaS5hcmc9ZSxvPyh0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLm5leHQ9by5maW5hbGx5TG9jLGspOnRoaXMuY29tcGxldGUoaSl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoXCJ0aHJvd1wiPT09dC50eXBlKXRocm93IHQuYXJnO3JldHVyblwiYnJlYWtcIj09PXQudHlwZXx8XCJjb250aW51ZVwiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzpcInJldHVyblwiPT09dC50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9dC5hcmcsdGhpcy5tZXRob2Q9XCJyZXR1cm5cIix0aGlzLm5leHQ9XCJlbmRcIik6XCJub3JtYWxcIj09PXQudHlwZSYmZSYmKHRoaXMubmV4dD1lKSxrfSxmaW5pc2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtlPj0wOy0tZSl7dmFyIG49dGhpcy50cnlFbnRyaWVzW2VdO2lmKG4uZmluYWxseUxvYz09PXQpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLFAobiksa319LGNhdGNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLnRyeUxvYz09PXQpe3ZhciByPW4uY29tcGxldGlvbjtpZihcInRocm93XCI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO1Aobil9cmV0dXJuIG99fXRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6SSh0KSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSxcIm5leHRcIj09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9ZSksa319LG59dC5leHBvcnRzPW8sdC5leHBvcnRzLl9fZXNNb2R1bGU9ITAsdC5leHBvcnRzLmRlZmF1bHQ9dC5leHBvcnRzfSw3Mzg6dD0+e2Z1bmN0aW9uIGUobil7cmV0dXJuIHQuZXhwb3J0cz1lPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHQuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLHQuZXhwb3J0cy5kZWZhdWx0PXQuZXhwb3J0cyxlKG4pfXQuZXhwb3J0cz1lLHQuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLHQuZXhwb3J0cy5kZWZhdWx0PXQuZXhwb3J0c30sNzU2Oih0LGUsbik9Pnt2YXIgcj1uKDYzMykoKTt0LmV4cG9ydHM9cjt0cnl7cmVnZW5lcmF0b3JSdW50aW1lPXJ9Y2F0Y2godCl7XCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpcy5yZWdlbmVyYXRvclJ1bnRpbWU9cjpGdW5jdGlvbihcInJcIixcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocil9fX0sZT17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPWVbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPWVbcl09e2V4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLm49dD0+e3ZhciBlPXQmJnQuX19lc01vZHVsZT8oKT0+dC5kZWZhdWx0OigpPT50O3JldHVybiBuLmQoZSx7YTplfSksZX0sbi5kPSh0LGUpPT57Zm9yKHZhciByIGluIGUpbi5vKGUscikmJiFuLm8odCxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscix7ZW51bWVyYWJsZTohMCxnZXQ6ZVtyXX0pfSxuLm89KHQsZSk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpO3ZhciByPXt9O3JldHVybigoKT0+e1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLG4scixvLGksYSl7dHJ5e3ZhciBzPXRbaV0oYSksYz1zLnZhbHVlfWNhdGNoKHQpe3JldHVybiB2b2lkIG4odCl9cy5kb25lP2UoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixvKX1mdW5jdGlvbiBlKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGkpe3ZhciBhPWUuYXBwbHkobixyKTtmdW5jdGlvbiBzKGUpe3QoYSxvLGkscyxjLFwibmV4dFwiLGUpfWZ1bmN0aW9uIGMoZSl7dChhLG8saSxzLGMsXCJ0aHJvd1wiLGUpfXModm9pZCAwKX0pKX19ZnVuY3Rpb24gbyh0KXtyZXR1cm4gbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxvKHQpfWZ1bmN0aW9uIGkodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT1vKHQpfHwhdClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9byhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0odCk7cmV0dXJuXCJzeW1ib2xcIj09byhlKT9lOmUrXCJcIn1mdW5jdGlvbiBhKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkoci5rZXkpLHIpfX1mdW5jdGlvbiBjKHQsZSxuKXtyZXR1cm4gZSYmcyh0LnByb3RvdHlwZSxlKSxuJiZzKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fW4uZChyLHtkZWZhdWx0OigpPT52fSk7dmFyIHU9big3NTYpLGw9bi5uKHUpLGg9big0NDIpLGY9bi5uKGgpLGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYygoZnVuY3Rpb24gdChlLG4scil7YSh0aGlzLHQpLHRoaXMuaG9sZGVyPW4sdGhpcy5vYnNlcnZlcj1udWxsLHRoaXMuZGVib3VuY2VUaW1lcj1yLHRoaXMubXV0YXRpb25EZWJvdW5jZXI9dGhpcy5kZWJvdW5jZSgoZnVuY3Rpb24oKXtlKCl9KSx0aGlzLmRlYm91bmNlVGltZXIpfSksW3trZXk6XCJzZXRNdXRhdGlvbk9ic2VydmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5ob2xkZXIucXVlcnlTZWxlY3RvcihcIi5jb2RleC1lZGl0b3JfX3JlZGFjdG9yXCIpO3RoaXMub2JzZXJ2ZXI9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKGUpe3QubXV0YXRpb25IYW5kbGVyKGUpfSkpLHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShlLHtjaGlsZExpc3Q6ITAsYXR0cmlidXRlczohMCxzdWJ0cmVlOiEwLGNoYXJhY3RlckRhdGE6ITAsY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiEwfSl9fSx7a2V5OlwibXV0YXRpb25IYW5kbGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPSExO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7c3dpdGNoKHQudHlwZSl7Y2FzZVwiY2hpbGRMaXN0XCI6dC50YXJnZXQ9PT1lLmhvbGRlcj9lLm9uRGVzdHJveSgpOm49ITA7YnJlYWs7Y2FzZVwiY2hhcmFjdGVyRGF0YVwiOm49ITA7YnJlYWs7Y2FzZVwiYXR0cmlidXRlc1wiOnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNlLWJsb2NrXCIpfHx0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ0Yy10b29sYm94XCIpfHwobj0hMCl9fSkpLG4mJnRoaXMubXV0YXRpb25EZWJvdW5jZXIoKX19LHtrZXk6XCJkZWJvdW5jZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgbz1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG8pLGE9MDthPG87YSsrKWlbYV09YXJndW1lbnRzW2FdO3ZhciBzPXI7Y2xlYXJUaW1lb3V0KG4pLG49c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShzLGkpfSksZSl9fX0se2tleTpcIm9uRGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEN1c3RvbUV2ZW50KFwiZGVzdHJveVwiKTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KHQpLHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpfX1dKX0oKTtmdW5jdGlvbiBwKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB5KHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP3AoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcixvLGE7cj10LG89ZSxhPW5bZV0sKG89aShvKSlpbiByP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8se3ZhbHVlOmEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpyW29dPWF9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpKX0pKX1yZXR1cm4gdH12YXIgdj1mdW5jdGlvbigpe3JldHVybiBjKChmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXMscj1lLmVkaXRvcixvPWUuY29uZmlnLGk9dm9pZCAwPT09bz97fTpvLHM9ZS5vblVwZGF0ZSxjPWUubWF4TGVuZ3RoO2EodGhpcyx0KTt2YXIgdT17bWF4TGVuZ3RoOjMwLG9uVXBkYXRlOmZ1bmN0aW9uKCl7fSxjb25maWc6e2RlYm91bmNlVGltZXI6MjAwLHNob3J0Y3V0czp7dW5kbzpbXCJDTUQrWlwiXSxyZWRvOltcIkNNRCtZXCIsXCJDTUQrU0hJRlQrWlwiXX19fSxsPXIuYmxvY2tzLGg9ci5jYXJldCxmPXIuY29uZmlndXJhdGlvbixwPWYuaG9sZGVyLHY9Zi5kZWZhdWx0QmxvY2ssYj11LmNvbmZpZy5zaG9ydGN1dHMsZz1pLnNob3J0Y3V0cyxrPXkoeSh7fSxiKSxnKSxtPUFycmF5LmlzQXJyYXkoay51bmRvKT9rLnVuZG86W2sudW5kb10seD1BcnJheS5pc0FycmF5KGsucmVkbyk/ay5yZWRvOltrLnJlZG9dLHc9dS5jb25maWcuZGVib3VuY2VUaW1lcixPPWkuZGVib3VuY2VUaW1lcixFPXZvaWQgMD09PU8/dzpPO3RoaXMuaG9sZGVyPVwic3RyaW5nXCI9PXR5cGVvZiBwP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHApOnAsdGhpcy5lZGl0b3I9cix0aGlzLmRlZmF1bHRCbG9jaz12LHRoaXMuYmxvY2tzPWwsdGhpcy5jYXJldD1oLHRoaXMuc2hvdWxkU2F2ZUhpc3Rvcnk9ITAsdGhpcy5yZWFkT25seT1mLnJlYWRPbmx5LHRoaXMubWF4TGVuZ3RoPWN8fHUubWF4TGVuZ3RoLHRoaXMub25VcGRhdGU9c3x8dS5vblVwZGF0ZSx0aGlzLmNvbmZpZz17ZGVib3VuY2VUaW1lcjpFLHNob3J0Y3V0czp7dW5kbzptLHJlZG86eH19LG5ldyBkKChmdW5jdGlvbigpe3JldHVybiBuLnJlZ2lzdGVyQ2hhbmdlKCl9KSx0aGlzLmhvbGRlcix0aGlzLmNvbmZpZy5kZWJvdW5jZVRpbWVyKS5zZXRNdXRhdGlvbk9ic2VydmVyKCksdGhpcy5zZXRFdmVudExpc3RlbmVycygpLHRoaXMuaW5pdGlhbEl0ZW09bnVsbCx0aGlzLmNsZWFyKCl9KSxbe2tleTpcInRydW5jYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IoO3QubGVuZ3RoPmU7KXQuc2hpZnQoKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9XCJibG9ja3NcImluIHQ/dC5ibG9ja3M6dCxuPXtpbmRleDplLmxlbmd0aC0xLHN0YXRlOmV9O3RoaXMuc3RhY2tbMF09bix0aGlzLmluaXRpYWxJdGVtPW59fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhY2s9dGhpcy5pbml0aWFsSXRlbT9bdGhpcy5pbml0aWFsSXRlbV06W3tpbmRleDowLHN0YXRlOlt7dHlwZTp0aGlzLmRlZmF1bHRCbG9jayxkYXRhOnt9fV19XSx0aGlzLnBvc2l0aW9uPTAsdGhpcy5vblVwZGF0ZSgpfX0se2tleTpcInNldFJlYWRPbmx5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhvbGRlci5xdWVyeVNlbGVjdG9yKFwiLmNlLXRvb2xib3hcIik7dGhpcy5yZWFkT25seT0hdH19LHtrZXk6XCJyZWdpc3RlckNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnNldFJlYWRPbmx5KCksdGhpcy5yZWFkT25seXx8KHRoaXMuZWRpdG9yJiZ0aGlzLmVkaXRvci5zYXZlJiZ0aGlzLnNob3VsZFNhdmVIaXN0b3J5JiZ0aGlzLmVkaXRvci5zYXZlKCkudGhlbigoZnVuY3Rpb24oZSl7dC5lZGl0b3JEaWRVcGRhdGUoZS5ibG9ja3MpJiZ0LnNhdmUoZS5ibG9ja3MpfSkpLHRoaXMuc2hvdWxkU2F2ZUhpc3Rvcnk9ITApfX0se2tleTpcImVkaXRvckRpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhY2tbdGhpcy5wb3NpdGlvbl0uc3RhdGU7cmV0dXJuISF0Lmxlbmd0aCYmKHQubGVuZ3RoIT09ZS5sZW5ndGh8fEpTT04uc3RyaW5naWZ5KGUpIT09SlNPTi5zdHJpbmdpZnkodCkpfX0se2tleTpcInNhdmVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnBvc2l0aW9uPj10aGlzLm1heExlbmd0aCYmdGhpcy50cnVuY2F0ZSh0aGlzLnN0YWNrLHRoaXMubWF4TGVuZ3RoKSx0aGlzLnBvc2l0aW9uPU1hdGgubWluKHRoaXMucG9zaXRpb24sdGhpcy5zdGFjay5sZW5ndGgtMSksdGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5wb3NpdGlvbisxKTt2YXIgZT10aGlzLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLG49dGhpcy5ibG9ja3MuZ2V0QmxvY2tzQ291bnQoKSxyPWU7dFtlXXx8KHItPW4tdC5sZW5ndGgpO3ZhciBvPSF0W3JdfHxcInBhcmFncmFwaFwiIT09dFtyXS50eXBlJiZcImhlYWRlclwiIT09dFtyXS50eXBlP251bGw6dGhpcy5nZXRDYXJldEluZGV4KGUpO3RoaXMuc3RhY2sucHVzaCh7aW5kZXg6cixzdGF0ZTp0LGNhcmV0SW5kZXg6b30pLHRoaXMucG9zaXRpb24rPTEsdGhpcy5vblVwZGF0ZSgpfX0se2tleTpcImdldENhcmV0SW5kZXhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmhvbGRlci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2UtYmxvY2tfX2NvbnRlbnRcIik7cmV0dXJuIG5ldyhmKCkpKGVbdF0uZmlyc3RDaGlsZCkuZ2V0UG9zKCl9fSx7a2V5OlwiaW5zZXJ0RGVsZXRlZEJsb2NrXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cis9MSlpZighZVtyXXx8dFtyXS5pZCE9PWVbcl0uaWQpe3RoaXMuYmxvY2tzLmluc2VydCh0W3JdLnR5cGUsdFtyXS5kYXRhLHt9LHIsITApLHRoaXMuY2FyZXQuc2V0VG9CbG9jayhuLFwiZW5kXCIpO2JyZWFrfX19LHtrZXk6XCJibG9ja1dhc0Ryb3BwZWRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0Lmxlbmd0aD09PWUubGVuZ3RoJiZ0LnNvbWUoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQuaWQhPT1lW25dLmlkfSkpfX0se2tleTpcImJsb2NrV2FzU2tpcHBlZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoIT09ZS5sZW5ndGh9fSx7a2V5OlwiY29udGVudENoYW5nZWRJbk5vRm9jdXNCbG9ja1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPT1lfX0se2tleTpcImJsb2NrV2FzRGVsZXRlZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPmUubGVuZ3RofX0se2tleTpcImNvbnRlbnRXYXNDb3BpZWRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyh0W25dLmRhdGEpLmxlbmd0aCYmSlNPTi5zdHJpbmdpZnkoZVtuKzFdKSE9PUpTT04uc3RyaW5naWZ5KHRbbisxXSl9fSx7a2V5OlwidW5kb1wiLHZhbHVlOihpPWUobCgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsbyxpLGEscyxjLHUsaCxmO3JldHVybiBsKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYoIXRoaXMuY2FuVW5kbygpKXt0Lm5leHQ9NDc7YnJlYWt9aWYoZT10aGlzLnN0YWNrW3RoaXMucG9zaXRpb25dLG49ZS5pbmRleCxyPWUuc3RhdGUsdGhpcy5wb3NpdGlvbi09MSx0aGlzLnNob3VsZFNhdmVIaXN0b3J5PSExLG89dGhpcy5zdGFja1t0aGlzLnBvc2l0aW9uXS5pbmRleCxpPXRoaXMuc3RhY2tbdGhpcy5wb3NpdGlvbl0sYT1pLnN0YXRlLHM9aS5jYXJldEluZGV4LHRoaXMub25VcGRhdGUoKSxjPXRoaXMuYmxvY2tzLmdldEJsb2Nrc0NvdW50KCksYVtvXXx8KG8tPTEsdGhpcy5zdGFja1t0aGlzLnBvc2l0aW9uXS5pbmRleD1vKSwhdGhpcy5ibG9ja1dhc0RlbGV0ZWQoYSxyKSl7dC5uZXh0PTEzO2JyZWFrfXRoaXMuaW5zZXJ0RGVsZXRlZEJsb2NrKGEscixvKSx0Lm5leHQ9NDI7YnJlYWs7Y2FzZSAxMzppZighdGhpcy5jb250ZW50V2FzQ29waWVkKGEscixvKSl7dC5uZXh0PTE5O2JyZWFrfXJldHVybiB0Lm5leHQ9MTYsdGhpcy5ibG9ja3MucmVuZGVyKHtibG9ja3M6YX0pO2Nhc2UgMTY6dGhpcy5jYXJldC5zZXRUb0Jsb2NrKG8sXCJlbmRcIiksdC5uZXh0PTQyO2JyZWFrO2Nhc2UgMTk6aWYoIShvPG4mJnRoaXMuYmxvY2tXYXNTa2lwcGVkKGEscikpKXt0Lm5leHQ9MjU7YnJlYWt9cmV0dXJuIHQubmV4dD0yMix0aGlzLmJsb2Nrcy5kZWxldGUobik7Y2FzZSAyMjp0aGlzLmNhcmV0LnNldFRvQmxvY2sobyxcImVuZFwiKSx0Lm5leHQ9NDI7YnJlYWs7Y2FzZSAyNTppZighKGM+YS5sZW5ndGgpKXt0Lm5leHQ9MzE7YnJlYWt9cmV0dXJuIHQubmV4dD0yOCx0aGlzLmJsb2Nrcy5yZW5kZXIoe2Jsb2NrczphfSk7Y2FzZSAyODp0aGlzLnNldENhcmV0SW5kZXgobyxzKSx0Lm5leHQ9NDI7YnJlYWs7Y2FzZSAzMTppZighdGhpcy5ibG9ja1dhc0Ryb3BwZWQoYSxyKSl7dC5uZXh0PTM3O2JyZWFrfXJldHVybiB0Lm5leHQ9MzQsdGhpcy5ibG9ja3MucmVuZGVyKHtibG9ja3M6YX0pO2Nhc2UgMzQ6dGhpcy5jYXJldC5zZXRUb0Jsb2NrKG8sXCJlbmRcIiksdC5uZXh0PTQyO2JyZWFrO2Nhc2UgMzc6aWYoIXRoaXMuY29udGVudENoYW5nZWRJbk5vRm9jdXNCbG9jayhvLG4pKXt0Lm5leHQ9NDI7YnJlYWt9cmV0dXJuIHU9dGhpcy5ibG9ja3MuZ2V0QmxvY2tCeUluZGV4KG4pLGg9dS5pZCx0Lm5leHQ9NDEsdGhpcy5ibG9ja3MudXBkYXRlKGgsYVtuXS5kYXRhKTtjYXNlIDQxOnRoaXMuc2V0Q2FyZXRJbmRleChvLHMpO2Nhc2UgNDI6aWYoIShmPXRoaXMuYmxvY2tzLmdldEJsb2NrQnlJbmRleChvKSkpe3QubmV4dD00NzticmVha31yZXR1cm4gdC5uZXh0PTQ2LHRoaXMuYmxvY2tzLnVwZGF0ZShmLmlkLGFbb10uZGF0YSk7Y2FzZSA0Njp0aGlzLnNldENhcmV0SW5kZXgobyxzKTtjYXNlIDQ3OmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5Olwic2V0Q2FyZXRJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoZSYmLTEhPT1lKXt2YXIgbj10aGlzLmhvbGRlci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2UtYmxvY2tfX2NvbnRlbnRcIikscj1uZXcoZigpKShuW3RdLmZpcnN0Q2hpbGQpO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHIuc2V0UG9zKGUpfSksNTApfWVsc2UgdGhpcy5jYXJldC5zZXRUb0Jsb2NrKHQsXCJlbmRcIil9fSx7a2V5OlwiaW5zZXJ0QmxvY2tcIix2YWx1ZToobz1lKGwoKS5tYXJrKChmdW5jdGlvbiB0KGUsbil7cmV0dXJuIGwoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsdGhpcy5ibG9ja3MuaW5zZXJ0KGVbbl0udHlwZSxlW25dLmRhdGEse30sbiwhMCk7Y2FzZSAyOmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbih0LGUpe3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwiaW5zZXJ0U2tpcHBlZEJsb2Nrc1wiLHZhbHVlOihyPWUobCgpLm1hcmsoKGZ1bmN0aW9uIHQoZSxuLHIpe3ZhciBvO3JldHVybiBsKCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6Zm9yKG89ZS5sZW5ndGg7bzxuLmxlbmd0aDtvKz0xKXRoaXMuaW5zZXJ0QmxvY2sobixvKTtpZihKU09OLnN0cmluZ2lmeShlW3ItMV0pPT09SlNPTi5zdHJpbmdpZnkobltyLTFdKSl7dC5uZXh0PTQ7YnJlYWt9cmV0dXJuIHQubmV4dD00LHRoaXMudXBkYXRlTW9kaWZpZWRCbG9jayhuLHIpO2Nhc2UgNDpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24odCxlLG4pe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwidXBkYXRlTW9kaWZpZWRCbG9ja1wiLHZhbHVlOihuPWUobCgpLm1hcmsoKGZ1bmN0aW9uIHQoZSxuKXt2YXIgcjtyZXR1cm4gbCgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKHI9ZVtuLTFdLCF0aGlzLmVkaXRvci5ibG9ja3MuZ2V0QnlJZChyLmlkKSl7dC5uZXh0PTM7YnJlYWt9cmV0dXJuIHQuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5ibG9ja3MudXBkYXRlKHIuaWQsci5kYXRhKSk7Y2FzZSAzOnJldHVybiB0LmFicnVwdChcInJldHVyblwiLHRoaXMuYmxvY2tzLnJlbmRlcih7YmxvY2tzOmV9KSk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMpfSkpKSxmdW5jdGlvbih0LGUpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OlwicmVkb1wiLHZhbHVlOih0PWUobCgpLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxuLHIsbyxpLGEscztyZXR1cm4gbCgpLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmlmKCF0aGlzLmNhblJlZG8oKSl7dC5uZXh0PTI3O2JyZWFrfWlmKHRoaXMucG9zaXRpb24rPTEsdGhpcy5zaG91bGRTYXZlSGlzdG9yeT0hMSxlPXRoaXMuc3RhY2tbdGhpcy5wb3NpdGlvbl0sbj1lLmluZGV4LHI9ZS5zdGF0ZSxvPWUuY2FyZXRJbmRleCwoaT10aGlzLnN0YWNrW3RoaXMucG9zaXRpb24tMV0pLmluZGV4LGE9aS5zdGF0ZSwhdGhpcy5ibG9ja1dhc0RlbGV0ZWQoYSxyKSl7dC5uZXh0PTExO2JyZWFrfXJldHVybiB0Lm5leHQ9OCx0aGlzLmJsb2Nrcy5kZWxldGUoKTtjYXNlIDg6dGhpcy5jYXJldC5zZXRUb0Jsb2NrKG4sXCJlbmRcIiksdC5uZXh0PTIxO2JyZWFrO2Nhc2UgMTE6aWYoIXRoaXMuYmxvY2tXYXNTa2lwcGVkKHIsYSkpe3QubmV4dD0xNzticmVha31yZXR1cm4gdC5uZXh0PTE0LHRoaXMuaW5zZXJ0U2tpcHBlZEJsb2NrcyhhLHIsbik7Y2FzZSAxNDp0aGlzLmNhcmV0LnNldFRvQmxvY2sobixcImVuZFwiKSx0Lm5leHQ9MjE7YnJlYWs7Y2FzZSAxNzppZighdGhpcy5ibG9ja1dhc0Ryb3BwZWQocixhKXx8MT09PXRoaXMucG9zaXRpb24pe3QubmV4dD0yMTticmVha31yZXR1cm4gdC5uZXh0PTIwLHRoaXMuYmxvY2tzLnJlbmRlcih7YmxvY2tzOnJ9KTtjYXNlIDIwOnRoaXMuY2FyZXQuc2V0VG9CbG9jayhuLFwiZW5kXCIpO2Nhc2UgMjE6aWYodGhpcy5vblVwZGF0ZSgpLCEocz10aGlzLmJsb2Nrcy5nZXRCbG9ja0J5SW5kZXgobikpKXt0Lm5leHQ9Mjc7YnJlYWt9cmV0dXJuIHQubmV4dD0yNix0aGlzLmJsb2Nrcy51cGRhdGUocy5pZCxyW25dLmRhdGEpO2Nhc2UgMjY6dGhpcy5zZXRDYXJldEluZGV4KG4sbyk7Y2FzZSAyNzpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleTpcImNhblVuZG9cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLnJlYWRPbmx5JiZ0aGlzLnBvc2l0aW9uPjB9fSx7a2V5OlwiY2FuUmVkb1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucmVhZE9ubHkmJnRoaXMucG9zaXRpb248dGhpcy5jb3VudCgpfX0se2tleTpcImNvdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFjay5sZW5ndGgtMX19LHtrZXk6XCJwYXJzZUtleXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT17Q01EOi8oTWFjKS9pLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKT9cIm1ldGFLZXlcIjpcImN0cmxLZXlcIixBTFQ6XCJhbHRLZXlcIixTSElGVDpcInNoaWZ0S2V5XCJ9LG49dC5zbGljZSgwLC0xKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpLHI9bi5pbmNsdWRlcyhcInNoaWZ0S2V5XCIpJiYyPT09dC5sZW5ndGg/dFt0Lmxlbmd0aC0xXS50b1VwcGVyQ2FzZSgpOnRbdC5sZW5ndGgtMV0udG9Mb3dlckNhc2UoKTtyZXR1cm4gbi5wdXNoKHIpLG59fSx7a2V5Olwic2V0RXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmhvbGRlcixuPXRoaXMuY29uZmlnLnNob3J0Y3V0cyxyPW4udW5kbyxvPW4ucmVkbyxpPXIubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC8gL2csXCJcIikuc3BsaXQoXCIrXCIpfSkpLGE9by5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLyAvZyxcIlwiKS5zcGxpdChcIitcIil9KSkscz1pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQucGFyc2VLZXlzKGUpfSkpLGM9YS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnBhcnNlS2V5cyhlKX0pKSx1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBlfHxmdW5jdGlvbih0LGUpe3JldHVybiAzPT09ZS5sZW5ndGgmJnRbZVswXV0mJnRbZVsxXV0mJnQua2V5LnRvTG93ZXJDYXNlKCk9PT1lWzJdfSh0LG4pfSksITEpfSxsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hKCFmdW5jdGlvbih0LGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZXx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gMj09PWUubGVuZ3RoJiZ0W2VbMF1dJiZ0LmtleS50b0xvd2VyQ2FzZSgpPT09ZVsxXX0odCxuKX0pLCExKX0odCxlKXx8dSh0LG4pKXx8ISF1KHQsZSl9LGg9ZnVuY3Rpb24oZSl7bChlLHMsYykmJihlLnByZXZlbnREZWZhdWx0KCksdC51bmRvKCkpfSxmPWZ1bmN0aW9uKGUpe2woZSxjLHMpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHQucmVkbygpKX07ZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGgpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXN0cm95XCIsKGZ1bmN0aW9uKCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGgpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmKX0pKX19XSxbe2tleTpcImlzUmVhZE9ubHlTdXBwb3J0ZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH19XSk7dmFyIHQsbixyLG8saX0oKX0pKCksci5kZWZhdWx0fSkoKSkpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/editorjs-undo/dist/bundle.js\n");

/***/ }),

/***/ "./Assets/Editor.js/js/plugins/link/index.css":
/*!****************************************************!*\
  !*** ./Assets/Editor.js/js/plugins/link/index.css ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js!./index.css */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/link/index.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvbGluay9pbmRleC5jc3MiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsTUFBMkc7QUFDM0csTUFBaUc7QUFDakcsTUFBd0c7QUFDeEcsTUFBMkg7QUFDM0gsTUFBb0g7QUFDcEgsTUFBb0g7QUFDcEgsTUFBbUs7QUFDbks7QUFDQTs7QUFFQTs7QUFFQSw0QkFBNEIscUdBQW1CO0FBQy9DLHdCQUF3QixrSEFBYTtBQUNyQyxpQkFBaUIsdUdBQWE7QUFDOUIsaUJBQWlCLCtGQUFNO0FBQ3ZCLDZCQUE2QixzR0FBa0I7O0FBRS9DLGFBQWEsMEdBQUcsQ0FBQywySEFBTzs7OztBQUk2RztBQUNySSxPQUFPLGlFQUFlLDJIQUFPLElBQUksMkhBQU8sVUFBVSwySEFBTyxtQkFBbUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0Fzc2V0cy9FZGl0b3IuanMvanMvcGx1Z2lucy9saW5rL2luZGV4LmNzcz9mOTFlIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5vcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Assets/Editor.js/js/plugins/link/index.css\n");

/***/ }),

/***/ "./Assets/Editor.js/js/plugins/mediaLibrary/index.css":
/*!************************************************************!*\
  !*** ./Assets/Editor.js/js/plugins/mediaLibrary/index.css ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js!./index.css */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/mediaLibrary/index.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvbWVkaWFMaWJyYXJ5L2luZGV4LmNzcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxNQUEyRztBQUMzRyxNQUFpRztBQUNqRyxNQUF3RztBQUN4RyxNQUEySDtBQUMzSCxNQUFvSDtBQUNwSCxNQUFvSDtBQUNwSCxNQUFtSztBQUNuSztBQUNBOztBQUVBOztBQUVBLDRCQUE0QixxR0FBbUI7QUFDL0Msd0JBQXdCLGtIQUFhO0FBQ3JDLGlCQUFpQix1R0FBYTtBQUM5QixpQkFBaUIsK0ZBQU07QUFDdkIsNkJBQTZCLHNHQUFrQjs7QUFFL0MsYUFBYSwwR0FBRyxDQUFDLDJIQUFPOzs7O0FBSTZHO0FBQ3JJLE9BQU8saUVBQWUsMkhBQU8sSUFBSSwySEFBTyxVQUFVLDJIQUFPLG1CQUFtQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vQXNzZXRzL0VkaXRvci5qcy9qcy9wbHVnaW5zL21lZGlhTGlicmFyeS9pbmRleC5jc3M/OTg3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xub3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Assets/Editor.js/js/plugins/mediaLibrary/index.css\n");

/***/ }),

/***/ "./Assets/Editor.js/js/plugins/text-size/index.css":
/*!*********************************************************!*\
  !*** ./Assets/Editor.js/js/plugins/text-size/index.css ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js!./index.css */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./Assets/Editor.js/js/plugins/text-size/index.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9Bc3NldHMvRWRpdG9yLmpzL2pzL3BsdWdpbnMvdGV4dC1zaXplL2luZGV4LmNzcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxNQUEyRztBQUMzRyxNQUFpRztBQUNqRyxNQUF3RztBQUN4RyxNQUEySDtBQUMzSCxNQUFvSDtBQUNwSCxNQUFvSDtBQUNwSCxNQUFtSztBQUNuSztBQUNBOztBQUVBOztBQUVBLDRCQUE0QixxR0FBbUI7QUFDL0Msd0JBQXdCLGtIQUFhO0FBQ3JDLGlCQUFpQix1R0FBYTtBQUM5QixpQkFBaUIsK0ZBQU07QUFDdkIsNkJBQTZCLHNHQUFrQjs7QUFFL0MsYUFBYSwwR0FBRyxDQUFDLDJIQUFPOzs7O0FBSTZHO0FBQ3JJLE9BQU8saUVBQWUsMkhBQU8sSUFBSSwySEFBTyxVQUFVLDJIQUFPLG1CQUFtQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vQXNzZXRzL0VkaXRvci5qcy9qcy9wbHVnaW5zL3RleHQtc2l6ZS9pbmRleC5jc3M/MmNhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xub3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Assets/Editor.js/js/plugins/text-size/index.css\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0QkFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2QkFBNkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanM/MmRiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanM/YjIxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertBySelector.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcz9kZTZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertStyleElement.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBLGNBQWMsS0FBd0MsR0FBRyxzQkFBaUIsR0FBRyxDQUFJO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanM/ZGRjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzP2U0NzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleDomAPI.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzPzFkZGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleTagTransform.js\n");

/***/ }),

/***/ "bootstrap":
/*!****************************!*\
  !*** external "bootstrap" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = bootstrap;

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = jQuery;

/***/ }),

/***/ "./node_modules/@codexteam/icons/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@codexteam/icons/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IconAddBackground: () => (/* binding */ i),\n/* harmony export */   IconAddBorder: () => (/* binding */ l),\n/* harmony export */   IconAlignCenter: () => (/* binding */ h),\n/* harmony export */   IconAlignJustify: () => (/* binding */ d),\n/* harmony export */   IconAlignLeft: () => (/* binding */ w),\n/* harmony export */   IconAlignRight: () => (/* binding */ k),\n/* harmony export */   IconBold: () => (/* binding */ C),\n/* harmony export */   IconBrackets: () => (/* binding */ c),\n/* harmony export */   IconChecklist: () => (/* binding */ u),\n/* harmony export */   IconChevronDown: () => (/* binding */ g),\n/* harmony export */   IconChevronLeft: () => (/* binding */ p),\n/* harmony export */   IconChevronRight: () => (/* binding */ a),\n/* harmony export */   IconChevronUp: () => (/* binding */ v),\n/* harmony export */   IconClipboard: () => (/* binding */ M),\n/* harmony export */   IconCode: () => (/* binding */ L),\n/* harmony export */   IconCollapse: () => (/* binding */ x),\n/* harmony export */   IconColor: () => (/* binding */ H),\n/* harmony export */   IconCopy: () => (/* binding */ V),\n/* harmony export */   IconCross: () => (/* binding */ f),\n/* harmony export */   IconCurlyBrackets: () => (/* binding */ m),\n/* harmony export */   IconDelimiter: () => (/* binding */ B),\n/* harmony export */   IconDirectionDownRight: () => (/* binding */ I),\n/* harmony export */   IconDirectionLeftDown: () => (/* binding */ j),\n/* harmony export */   IconDirectionRightDown: () => (/* binding */ Z),\n/* harmony export */   IconDirectionUpRight: () => (/* binding */ y),\n/* harmony export */   IconEtcHorisontal: () => (/* binding */ D),\n/* harmony export */   IconEtcVertical: () => (/* binding */ R),\n/* harmony export */   IconFile: () => (/* binding */ A),\n/* harmony export */   IconGift: () => (/* binding */ U),\n/* harmony export */   IconH1: () => (/* binding */ o),\n/* harmony export */   IconH2: () => (/* binding */ t),\n/* harmony export */   IconH3: () => (/* binding */ r),\n/* harmony export */   IconH4: () => (/* binding */ e),\n/* harmony export */   IconH5: () => (/* binding */ n),\n/* harmony export */   IconH6: () => (/* binding */ s),\n/* harmony export */   IconHeading: () => (/* binding */ b),\n/* harmony export */   IconHeart: () => (/* binding */ T),\n/* harmony export */   IconHidden: () => (/* binding */ P),\n/* harmony export */   IconHtml: () => (/* binding */ S),\n/* harmony export */   IconInlineCode: () => (/* binding */ W),\n/* harmony export */   IconItalic: () => (/* binding */ E),\n/* harmony export */   IconLink: () => (/* binding */ G),\n/* harmony export */   IconListBulleted: () => (/* binding */ F),\n/* harmony export */   IconListNumbered: () => (/* binding */ J),\n/* harmony export */   IconMarker: () => (/* binding */ N),\n/* harmony export */   IconMenu: () => (/* binding */ Q),\n/* harmony export */   IconPicture: () => (/* binding */ q),\n/* harmony export */   IconPlay: () => (/* binding */ z),\n/* harmony export */   IconPlus: () => (/* binding */ K),\n/* harmony export */   IconQuote: () => (/* binding */ O),\n/* harmony export */   IconRedo: () => (/* binding */ X),\n/* harmony export */   IconRemoveBackground: () => (/* binding */ Y),\n/* harmony export */   IconReplace: () => (/* binding */ _),\n/* harmony export */   IconSearch: () => (/* binding */ $),\n/* harmony export */   IconStar: () => (/* binding */ o1),\n/* harmony export */   IconStretch: () => (/* binding */ t1),\n/* harmony export */   IconTable: () => (/* binding */ n1),\n/* harmony export */   IconTableWithHeadings: () => (/* binding */ r1),\n/* harmony export */   IconTableWithoutHeadings: () => (/* binding */ e1),\n/* harmony export */   IconText: () => (/* binding */ s1),\n/* harmony export */   IconTrash: () => (/* binding */ i1),\n/* harmony export */   IconUndo: () => (/* binding */ l1),\n/* harmony export */   IconUnlink: () => (/* binding */ h1),\n/* harmony export */   IconUser: () => (/* binding */ d1),\n/* harmony export */   IconUsersGroup: () => (/* binding */ w1),\n/* harmony export */   IconWarning: () => (/* binding */ k1)\n/* harmony export */ });\nconst o = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5\"/></svg>', t = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17\"/></svg>', r = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3\"/></svg>', e = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6\"/></svg>', n = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8\"/></svg>', s = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z\"/></svg>', i = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 13V16M16 19V16M19 16H16M16 16H13\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6.5 17.5L17.5 6.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 10.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.9919 19H11.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13L13 5\"/></svg>', l = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M14.625 4C14.0727 4 13.625 4.44772 13.625 5C13.625 5.55228 14.0727 6 14.625 6V4ZM18 9.375C18 9.92728 18.4477 10.375 19 10.375C19.5523 10.375 20 9.92728 20 9.375H18ZM9 6H9.375V4H9V6ZM14.625 6H15V4H14.625V6ZM9.375 18H9V20H9.375V18ZM6 9.375V9H4V9.375H6ZM6 15V14.625H4V15H6ZM18 9V9.375H20V9H18ZM9 18C7.34315 18 6 16.6569 6 15H4C4 17.7614 6.23858 20 9 20V18ZM15 6C16.6569 6 18 7.34315 18 9H20C20 6.23858 17.7614 4 15 4V6ZM9 4C6.23858 4 4 6.23858 4 9H6C6 7.34315 7.34315 6 9 6V4Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 9.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.3725 5H9.38207\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.5 5H14.5096\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.3725 19H9.38207\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 9.5H5.00957\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 14.55H5.00957\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 13V16M16 19V16M19 16H16M16 16H13\"/></svg>', h = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 7L6 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 17H6\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 12L8 12\"/></svg>', d = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 7L6 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 17H6\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 12L6 12\"/></svg>', w = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17 7L5 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17 17H5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M13 12L5 12\"/></svg>', k = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 7L7 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 17H7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 12L11 12\"/></svg>', C = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11\"/></svg>', c = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 8L5 12L9 16\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 8L19 12L15 16\"/></svg>', u = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', g = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10\"/></svg>', p = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5\"/></svg>', a = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5\"/></svg>', v = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15\"/></svg>', M = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.42857 7H7.71429C7.25963 7 6.82359 7.15804 6.5021 7.43934C6.18061 7.72064 6 8.10218 6 8.5V17.5C6 17.8978 6.18061 18.2794 6.5021 18.5607C6.82359 18.842 7.25963 19 7.71429 19H16.2857C16.7404 19 17.1764 18.842 17.4979 18.5607C17.8194 18.2794 18 17.8978 18 17.5V8.5C18 8.10218 17.8194 7.72064 17.4979 7.43934C17.1764 7.15804 16.7404 7 16.2857 7H14.5714\"/><rect width=\"5.15789\" height=\"3.36842\" x=\"9.42105\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"1.5\"/></svg>', L = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M15.078 5.62637L15.6153 4.78296L15.078 5.62637C15.4261 5.84808 15.7393 6.15354 16.5711 6.98528L17.2782 6.27817L16.5711 6.98528L17.5251 7.93934C17.8347 8.2489 17.9496 8.36494 18.0489 8.48177C18.5907 9.11982 18.9188 9.91178 18.9868 10.7461C18.9992 10.8989 19 11.0622 19 11.5V12C19 13.4166 18.9992 14.419 18.9352 15.2026C18.8721 15.9745 18.7527 16.4457 18.564 16.816C18.1805 17.5686 17.5686 18.1805 16.816 18.564C16.4457 18.7527 15.9745 18.8721 15.2026 18.9352C14.419 18.9992 13.4166 19 12 19C10.5834 19 9.58104 18.9992 8.79744 18.9352C8.02552 18.8721 7.55435 18.7527 7.18404 18.564C6.43139 18.1805 5.81947 17.5686 5.43597 16.816C5.24729 16.4457 5.12787 15.9745 5.0648 15.2026C5.00078 14.419 5 13.4166 5 12V11.7782C5 10.4673 5.00067 9.53987 5.05572 8.81299C5.10998 8.09655 5.21284 7.65673 5.37487 7.3093C5.77229 6.45718 6.45718 5.77229 7.3093 5.37487C7.65673 5.21284 8.09655 5.10998 8.81299 5.05572C9.53986 5.00067 10.4673 5 11.7782 5C12.9544 5 13.3919 5.00552 13.7948 5.09484C14.2503 5.19583 14.6846 5.37572 15.078 5.62637Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15C13.1046 15 14 14.1046 14 13C14 11.8954 13.1046 11 12 11C10.8954 11 10 11.8954 10 13C10 14.1046 10.8954 15 12 15Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 5.5V7C14 7.55228 13.5523 8 13 8H11C10.4477 8 10 7.55228 10 7V5.2\"/></svg>', x = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 9L10 12M10 12L7 15M10 12H4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 9L14 12M14 12L17 15M14 12H20\"/></svg>', H = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.36396 11.364H15.364\"/><path fill=\"currentColor\" d=\"M12.7071 12.2071C13.0976 11.8166 13.0976 11.1834 12.7071 10.7929C12.3166 10.4024 11.6834 10.4024 11.2929 10.7929L12.7071 12.2071ZM9.20711 15.7071L12.7071 12.2071L11.2929 10.7929L7.79289 14.2929L9.20711 15.7071Z\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M6.12132 13.4853C4.94975 12.3137 4.94975 10.4142 6.12132 9.24264L9.65685 5.70711C10.0474 5.31658 10.6809 5.31693 11.0714 5.70745C12.909 7.54503 14.1829 8.81893 16.0205 10.6565C16.411 11.047 16.4113 11.6805 16.0208 12.0711L12.4853 15.6066C11.3137 16.7782 9.41421 16.7782 8.24264 15.6066L6.12132 13.4853Z\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M20 17C20 17.8284 19.3284 18.5 18.5 18.5C17.6716 18.5 17 17.8284 17 17C17 16.634 17.218 16.0998 17.6897 15.4372C17.9337 15.0943 18.2151 14.7588 18.5 14.4449C18.7849 14.7588 19.0663 15.0943 19.3103 15.4372C19.782 16.0998 20 16.634 20 17Z\"/></svg>', V = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.25 8.5H10.25C9.2835 8.5 8.5 9.2835 8.5 10.25V17.25C8.5 18.2165 9.2835 19 10.25 19H17.25C18.2165 19 19 18.2165 19 17.25V10.25C19 9.2835 18.2165 8.5 17.25 8.5Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.5 8.5V6.75C15.5 6.28587 15.3156 5.84075 14.9874 5.51256C14.6592 5.18437 14.2141 5 13.75 5H6.75C6.28587 5 5.84075 5.18437 5.51256 5.51256C5.18437 5.84075 5 6.28587 5 6.75V13.75C5 14.2141 5.18437 14.6592 5.51256 14.9874C5.84075 15.3156 6.28587 15.5 6.75 15.5H8.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 12L15.5 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15.5L15.5 15.5\"/></svg>', f = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16\"/></svg>', m = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 17C7 17 7 15.2536 7 13.5L5.5 12L7 10.5C7 8.74644 7 7 9 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 17C17 17 17 15.2536 17 13.5L18.5 12L17 10.5C17 8.74644 17 7 15 7\"/></svg>', B = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"6\" x2=\"10\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"14\" x2=\"18\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', I = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666\"/></svg>', j = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75\"/></svg>', Z = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75\"/></svg>', y = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333\"/></svg>', D = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M7.30499 11.995L7.30499 12.005M12.005 11.995V12.005M16.705 11.995L16.705 12.005\"/></svg>', R = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M12.01 7.29999H12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M12.01 12H12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M12.01 16.7H12\"/></svg>', A = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.3236 8.43554L9.49533 12.1908C9.13119 12.5505 8.93118 13.043 8.9393 13.5598C8.94741 14.0767 9.163 14.5757 9.53862 14.947C9.91424 15.3182 10.4191 15.5314 10.9422 15.5397C11.4653 15.5479 11.9637 15.3504 12.3279 14.9908L16.1562 11.2355C16.8845 10.5161 17.2845 9.53123 17.2682 8.4975C17.252 7.46376 16.8208 6.46583 16.0696 5.72324C15.3184 4.98066 14.3086 4.55425 13.2624 4.53782C12.2162 4.52138 11.2193 4.91627 10.4911 5.63562L6.66277 9.39093C5.57035 10.4699 4.97032 11.9473 4.99467 13.4979C5.01903 15.0485 5.66578 16.5454 6.79264 17.6592C7.9195 18.7731 9.43417 19.4127 11.0034 19.4374C12.5727 19.462 14.068 18.8697 15.1604 17.7907L18.9887 14.0354\"/></svg>', U = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M13 18H16C16.5523 18 17 17.5523 17 17V15C17 14.4477 16.5523 14 16 14H13V18ZM11 12H8C6.34315 12 5 13.3431 5 15V17C5 18.6569 6.34315 20 8 20H16C17.6569 20 19 18.6569 19 17V15C19 13.3431 17.6569 12 16 12H13V9H11V12ZM11 14V18H8C7.44772 18 7 17.5523 7 17V15C7 14.4477 7.44772 14 8 14H11Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 11C5 9.89543 5.89543 9 7 9H17C18.1046 9 19 9.89543 19 11V11C19 12.1046 18.1046 13 17 13H7C5.89543 13 5 12.1046 5 11V11Z\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M16 9C16 7.89543 16 6 14 6C12 6 12 7.89543 12 9C12 7.89543 12 6 10 6C8 6 8 7.89543 8 9\"/></svg>', b = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12\"/></svg>', T = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-miterlimit=\"2.9238\" stroke-width=\"2\" d=\"M5.4694 7.85715C8.08167 3.67856 12 7.85716 12 7.85716C12 7.85716 15.9185 3.67859 18.5306 7.85715C21.1428 12.0357 12 19 12 19C12 19 2.85712 12.0357 5.4694 7.85715Z\"/></svg>', P = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6.77778 6L18.5 17.7222\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.687 10C10.2473 10.4392 10.0002 11.035 10 11.6564C9.99978 12.2777 10.2465 12.8737 10.6858 13.3132C11.1251 13.7527 11.7211 13.9998 12.3427 14C12.9642 14.0002 13.5604 13.7536 14 13.3144\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7C17 11.1666 20 11.17 20 11.67C20 12.17 19 13.17 19 13.17M8.2424 8.80936C7.59317 9.22876 6.97961 9.76732 6.4017 10.4251C5.70398 11.2193 5.35512 11.6164 5.35513 12.3702C5.35514 13.124 5.70406 13.5211 6.40191 14.3154C7.99587 16.1297 9.8618 17.0367 12 17.0367C13.1102 17.0367 14.1466 16.7917 15.1111 16.3024\"/></svg>', S = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394\"/></svg>', W = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16\"/></svg>', E = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M13.34 10C12.4223 12.7337 11 17 11 17\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.21 7H14.2\"/></svg>', G = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72\"/></svg>', F = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"9\" x2=\"19\" y1=\"7\" y2=\"7\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"9\" x2=\"19\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"9\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 17H4.99002\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 12H4.99002\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 7H4.99002\"/></svg>', J = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"12\" x2=\"19\" y1=\"7\" y2=\"7\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"12\" x2=\"19\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"12\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5\"/></svg>', N = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464\"/><line x1=\"15\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', Q = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.40999 7.29999H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 7.29999H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.30999 12H9.3\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 12H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.40999 16.7H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 16.7H14.59\"/></svg>', q = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.7778 9.33331H13.7867\"/></svg>', z = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 10.5606V13.4394C10 14.4777 11.1572 15.0971 12.0211 14.5211L14.1803 13.0817C14.9536 12.5661 14.9503 11.4317 14.18 10.9181L12.0214 9.47907C11.1591 8.9042 10 9.5203 10 10.5606Z\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', K = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 7V12M12 17V12M17 12H12M12 12H7\"/></svg>', O = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14\"/></svg>', X = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.6667 13.6667L18 10.3333L14.6667 7M18 10.3333H8.83333C7.94928 10.3333 7.10143 10.6845 6.47631 11.3096C5.85119 11.9348 5.5 12.7826 5.5 13.6667C5.5 14.5507 5.85119 15.3986 6.47631 16.0237C7.10143 16.6488 7.94928 17 8.83333 17H9.66667\"/></svg>', Y = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19.1187 14.8787L16.9974 17M14.876 19.1213L16.9974 17M19.1187 19.1213L16.9974 17M16.9974 17L14.876 14.8787\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6.5 17.5L17.5 6.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.9919 10.5H19.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.9919 19H11.0015\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13L13 5\"/></svg>', _ = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M10.7929 18.2071C11.1834 18.5976 11.8166 18.5976 12.2071 18.2071C12.5976 17.8166 12.5976 17.1834 12.2071 16.7929L10.7929 18.2071ZM5 11V10C4.44772 10 4 10.4477 4 11H5ZM4 15.5C4 16.0523 4.44772 16.5 5 16.5C5.55228 16.5 6 16.0523 6 15.5H4ZM9.5 12C10.0523 12 10.5 11.5523 10.5 11C10.5 10.4477 10.0523 10 9.5 10V12ZM12.2071 16.7929L5.70711 10.2929L4.29289 11.7071L10.7929 18.2071L12.2071 16.7929ZM4 11V15.5H6V11H4ZM5 12H9.5V10H5V12Z\"/><path fill=\"currentColor\" d=\"M13.2071 5.79289C12.8166 5.40237 12.1834 5.40237 11.7929 5.79289C11.4024 6.18342 11.4024 6.81658 11.7929 7.20711L13.2071 5.79289ZM19 13V14C19.5523 14 20 13.5523 20 13H19ZM20 8.5C20 7.94772 19.5523 7.5 19 7.5C18.4477 7.5 18 7.94772 18 8.5H20ZM14.5 12C13.9477 12 13.5 12.4477 13.5 13C13.5 13.5523 13.9477 14 14.5 14V12ZM11.7929 7.20711L18.2929 13.7071L19.7071 12.2929L13.2071 5.79289L11.7929 7.20711ZM20 13V8.5H18V13H20ZM19 12H14.5V14H19V12Z\"/></svg>', $ = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><circle cx=\"10.5\" cy=\"10.5\" r=\"5.5\" stroke=\"currentColor\" stroke-width=\"2\"/><line x1=\"15.4142\" x2=\"19\" y1=\"15\" y2=\"18.5858\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', o1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M11.8197 6.04369C11.8924 5.8925 12.1076 5.8925 12.1803 6.04369L13.9776 9.78496C14.0068 9.84564 14.0645 9.88759 14.1312 9.89657L18.2448 10.4498C18.411 10.4722 18.4776 10.6769 18.3562 10.7927L15.3535 13.6582C15.3048 13.7047 15.2827 13.7726 15.2948 13.8388L16.0398 17.922C16.0699 18.087 15.8957 18.2136 15.7481 18.1339L12 16.1124L8.25192 18.1339C8.10429 18.2136 7.93012 18.087 7.96023 17.922L8.7052 13.8388C8.71729 13.7726 8.69523 13.7047 8.64653 13.6582L5.64378 10.7927C5.52244 10.6769 5.58896 10.4722 5.7552 10.4498L9.86876 9.89657C9.93549 9.88759 9.99322 9.84564 10.0224 9.78496L11.8197 6.04369Z\"/></svg>', t1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 9L20 12L17 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 12H20\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 9L4 12L7 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 12H10\"/></svg>', r1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', e1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M14 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 14H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', n1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', s1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14\"/></svg>', i1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.1328 7.7234C18.423 7.7634 18.7115 7.80571 19 7.85109M18.1328 7.7234L17.2267 17.4023C17.1897 17.8371 16.973 18.2432 16.62 18.5394C16.267 18.8356 15.8037 19.0001 15.3227 19H8.67733C8.19632 19.0001 7.73299 18.8356 7.37998 18.5394C7.02698 18.2432 6.81032 17.8371 6.77333 17.4023L5.86715 7.7234M18.1328 7.7234C17.1536 7.58919 16.1693 7.48733 15.1818 7.41803M5.86715 7.7234C5.57697 7.76263 5.28848 7.80494 5 7.85032M5.86715 7.7234C6.84642 7.58919 7.83074 7.48733 8.81818 7.41803M15.1818 7.41803C13.0638 7.26963 10.9362 7.26963 8.81818 7.41803M15.1818 7.41803C15.1818 5.30368 13.7266 4.34834 12 4.34834C10.2734 4.34834 8.81818 5.43945 8.81818 7.41803\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.5 15.5L10 11\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 11L13.5 15.5\"/></svg>', l1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.33333 13.6667L6 10.3333L9.33333 7M6 10.3333H15.1667C16.0507 10.3333 16.8986 10.6845 17.5237 11.3096C18.1488 11.9348 18.5 12.7826 18.5 13.6667C18.5 14.5507 18.1488 15.3986 17.5237 16.0237C16.8986 16.6488 16.0507 17 15.1667 17H14.3333\"/></svg>', h1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.47 8.2475 16.578 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8795 8.49999\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8.24516 12.3883C8.24516 12.3883 7.9717 12.6922 7.47503 13.2161C6.5805 14.1598 6.55465 15.6408 7.44665 16.5869V16.5869C8.37652 17.5731 9.93743 17.5961 10.8959 16.6376L12.1452 15.3883\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6.39063 9.03238L7.58431 9.06668C8.17549 9.08366 8.65218 8.58665 8.61055 7.99669L8.52708 6.81397\"/><line x1=\"12.1142\" x2=\"11.7\" y1=\"12.2\" y2=\"11.7858\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', d1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M12 10C12.7145 10 13.239 9.56559 13.5392 9.11536C13.844 8.65814 14 8.0841 14 7.5C14 6.9159 13.844 6.34186 13.5392 5.88464C13.239 5.43441 12.7145 5 12 5C11.2855 5 10.761 5.43441 10.4608 5.88464C10.156 6.34186 10 6.9159 10 7.5C10 8.0841 10.156 8.65814 10.4608 9.11536C10.761 9.56559 11.2855 10 12 10Z\"/><ellipse cx=\"12\" cy=\"16\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"3\" ry=\"5\" transform=\"rotate(-90 12 16)\"/></svg>', w1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 10C10.7145 10 11.239 9.56559 11.5392 9.11536C11.844 8.65814 12 8.0841 12 7.5C12 6.9159 11.844 6.34186 11.5392 5.88464C11.239 5.43441 10.7145 5 10 5C9.28547 5 8.761 5.43441 8.46084 5.88464C8.15603 6.34186 8 6.9159 8 7.5C8 8.0841 8.15603 8.65814 8.46084 9.11536C8.761 9.56559 9.28547 10 10 10Z\"/><ellipse cx=\"10\" cy=\"16\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"3\" ry=\"5\" transform=\"rotate(-90 10 16)\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M15.5555 10.2222C16.5374 10.2222 17.3333 9.42629 17.3333 8.44445C17.3333 7.46261 16.5374 6.66667 15.5555 6.66667\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17.5 13C21 14.5 20.5 18 18 18.5\"/></svg>', k1 = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/><line x1=\"12\" x2=\"12\" y1=\"9\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 15.02V15.01\"/></svg>';\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNvZGV4dGVhbS9pY29ucy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQW9FRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY29kZXh0ZWFtL2ljb25zL2Rpc3QvaW5kZXgubWpzPzJlYmEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTkgMTdWMTAuMjEzNUMxOSAxMC4xMjg3IDE4LjkwMTEgMTAuMDgyNCAxOC44MzYgMTAuMTM2N0wxNiAxMi41XCIvPjwvc3ZnPicsIHQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDExQzE2IDEwIDE5IDkuNSAxOSAxMkMxOSAxMy45NzcxIDE2LjA2ODQgMTMuOTk5NyAxNi4wMDEyIDE2Ljg5ODFDMTUuOTk5OSAxNi45NTMzIDE2LjA0NDggMTcgMTYuMSAxN0wxOS4zIDE3XCIvPjwvc3ZnPicsIHIgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDExQzE2IDEwLjUgMTYuODMyMyAxMCAxNy42IDEwQzE4LjM2NzcgMTAgMTkuNSAxMC4zMTEgMTkuNSAxMS41QzE5LjUgMTIuNTMxNSAxOC43NDc0IDEyLjkwMjIgMTguNTQ4IDEyLjk4MjNDMTguNTM3OCAxMi45ODY0IDE4LjUzOTUgMTMuMDA0NyAxOC41NTAzIDEzLjAwNjNDMTguODExNSAxMy4wNDU2IDIwIDEzLjMwNjUgMjAgMTQuOEMyMCAxNiAxOS41IDE3IDE3LjggMTdDMTcuOCAxNyAxNiAxNyAxNiAxNi4zXCIvPjwvc3ZnPicsIGUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4IDEwTDE1LjI4MzQgMTQuODUxMUMxNS4yNDYgMTQuOTE3OCAxNS4yOTQgMTUgMTUuMzcwNCAxNUMxNi44NDg5IDE1IDE4Ljc1NjEgMTUgMjAuMiAxNU0xOSAxN0MxOSAxNS43MTg3IDE5IDE0Ljg4MTMgMTkgMTMuNlwiLz48L3N2Zz4nLCBuID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDdMNiAxMk02IDE3TDYgMTJNNiAxMkwxMiAxMk0xMiA3VjEyTTEyIDE3TDEyIDEyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiAxNS45QzE2IDE1LjkgMTYuMzc2OCAxNyAxNy44IDE3QzE5LjUgMTcgMjAgMTUuNjE5OSAyMCAxNC43QzIwIDEyLjczMjMgMTcuNjc0NSAxMi4wNDg2IDE2LjE2MzUgMTIuOTg5NEMxNi4wOTQgMTMuMDMyNyAxNiAxMi45ODQ2IDE2IDEyLjkwMjdWMTAuMUMxNiAxMC4wNDQ4IDE2LjA0NDggMTAgMTYuMSAxMEgxOS44XCIvPjwvc3ZnPicsIHMgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE5LjUgMTBDMTYuNSAxMC41IDE2IDEzLjMyODUgMTYgMTVNMTYgMTVWMTVDMTYgMTYuMTA0NiAxNi44OTU0IDE3IDE4IDE3SDE4LjMyNDZDMTkuMzI1MSAxNyAyMC4zMTkxIDE2LjM0OTIgMjAuMjUyMiAxNS4zNTA5QzIwLjA2MTIgMTIuNDk1OCAxNiAxMi42NjExIDE2IDE1WlwiLz48L3N2Zz4nLCBpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExIDE5VjE5QzkuMTM2MjMgMTkgOC4yMDQzNSAxOSA3LjQ2OTI3IDE4LjY5NTVDNi40ODkxNSAxOC4yODk1IDUuNzEwNDYgMTcuNTEwOCA1LjMwNDQ4IDE2LjUzMDdDNSAxNS43OTU2IDUgMTQuODYzOCA1IDEzVjEyQzUgOS4xOTEwOCA1IDcuNzg2NjEgNS42NzQxMiA2Ljc3NzcyQzUuOTY1OTYgNi4zNDA5NiA2LjM0MDk2IDUuOTY1OTYgNi43Nzc3MiA1LjY3NDEyQzcuNzg2NjEgNSA5LjE5MTA4IDUgMTIgNUgxMy41QzE0Ljg5NTYgNSAxNS41OTMzIDUgMTYuMTYxMSA1LjE3MjI0QzE3LjQzOTUgNS41NjAwNCAxOC40NCA2LjU2MDQ2IDE4LjgyNzggNy44Mzg4NkMxOSA4LjQwNjY2IDE5IDkuMTA0NDQgMTkgMTAuNVYxMC41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiAxM1YxNk0xNiAxOVYxNk0xOSAxNkgxNk0xNiAxNkgxM1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02LjUgMTcuNUwxNy41IDYuNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOC45OTE5IDEwLjVIMTkuMDAxNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMC45OTE5IDE5SDExLjAwMTVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM0wxMyA1XCIvPjwvc3ZnPicsIGwgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMTQuNjI1IDRDMTQuMDcyNyA0IDEzLjYyNSA0LjQ0NzcyIDEzLjYyNSA1QzEzLjYyNSA1LjU1MjI4IDE0LjA3MjcgNiAxNC42MjUgNlY0Wk0xOCA5LjM3NUMxOCA5LjkyNzI4IDE4LjQ0NzcgMTAuMzc1IDE5IDEwLjM3NUMxOS41NTIzIDEwLjM3NSAyMCA5LjkyNzI4IDIwIDkuMzc1SDE4Wk05IDZIOS4zNzVWNEg5VjZaTTE0LjYyNSA2SDE1VjRIMTQuNjI1VjZaTTkuMzc1IDE4SDlWMjBIOS4zNzVWMThaTTYgOS4zNzVWOUg0VjkuMzc1SDZaTTYgMTVWMTQuNjI1SDRWMTVINlpNMTggOVY5LjM3NUgyMFY5SDE4Wk05IDE4QzcuMzQzMTUgMTggNiAxNi42NTY5IDYgMTVINEM0IDE3Ljc2MTQgNi4yMzg1OCAyMCA5IDIwVjE4Wk0xNSA2QzE2LjY1NjkgNiAxOCA3LjM0MzE1IDE4IDlIMjBDMjAgNi4yMzg1OCAxNy43NjE0IDQgMTUgNFY2Wk05IDRDNi4yMzg1OCA0IDQgNi4yMzg1OCA0IDlINkM2IDcuMzQzMTUgNy4zNDMxNSA2IDkgNlY0WlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOC45OTE5IDkuNUgxOS4wMDE1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuMzcyNSA1SDkuMzgyMDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuNSA1SDE0LjUwOTZcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS4zNzI1IDE5SDkuMzgyMDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSA5LjVINS4wMDk1N1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDE0LjU1SDUuMDA5NTdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDEzVjE2TTE2IDE5VjE2TTE5IDE2SDE2TTE2IDE2SDEzXCIvPjwvc3ZnPicsIGggPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4IDdMNiA3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOCAxN0g2XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiAxMkw4IDEyXCIvPjwvc3ZnPicsIGQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4IDdMNiA3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOCAxN0g2XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOCAxMkw2IDEyXCIvPjwvc3ZnPicsIHcgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3IDdMNSA3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNyAxN0g1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMyAxMkw1IDEyXCIvPjwvc3ZnPicsIGsgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE5IDdMNyA3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOSAxN0g3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOSAxMkwxMSAxMlwiLz48L3N2Zz4nLCBDID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05IDEyTDkgNy4xQzkgNy4wNDQ3NyA5LjA0NDc3IDcgOS4xIDdIMTAuNEMxMS41IDcgMTQgNy4xIDE0IDkuNUMxNCA5LjUgMTQgMTIgMTEgMTJNOSAxMlYxNi44QzkgMTYuOTEwNSA5LjA4OTU0IDE3IDkuMiAxN0gxMi41QzE0IDE3IDE1IDE2IDE1IDE0LjVDMTUgMTEuNzA0NiAxMSAxMiAxMSAxMk05IDEySDExXCIvPjwvc3ZnPicsIGMgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOSA4TDUgMTJMOSAxNlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNSA4TDE5IDEyTDE1IDE2XCIvPjwvc3ZnPicsIHUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuMiAxMkwxMS4wNTg2IDEzLjg1ODZDMTEuMTM2NyAxMy45MzY3IDExLjI2MzMgMTMuOTM2NyAxMS4zNDE0IDEzLjg1ODZMMTQuNyAxMC41XCIvPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjwvc3ZnPicsIGcgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMTBMMTEuODU4NiAxNC44NTg2QzExLjkzNjcgMTQuOTM2NyAxMi4wNjMzIDE0LjkzNjcgMTIuMTQxNCAxNC44NTg2TDE3IDEwXCIvPjwvc3ZnPicsIHAgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0LjUgMTcuNUw5LjY0MTQyIDEyLjY0MTRDOS41NjMzMSAxMi41NjMzIDkuNTYzMzEgMTIuNDM2NyA5LjY0MTQyIDEyLjM1ODZMMTQuNSA3LjVcIi8+PC9zdmc+JywgYSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS41ODI4NCAxNy41TDE0LjQ0MTQgMTIuNjQxNEMxNC41MTk1IDEyLjU2MzMgMTQuNTE5NSAxMi40MzY3IDE0LjQ0MTQgMTIuMzU4Nkw5LjU4Mjg0IDcuNVwiLz48L3N2Zz4nLCB2ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDE1TDExLjg1ODYgMTAuMTQxNEMxMS45MzY3IDEwLjA2MzMgMTIuMDYzMyAxMC4wNjMzIDEyLjE0MTQgMTAuMTQxNEwxNyAxNVwiLz48L3N2Zz4nLCBNID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuNDI4NTcgN0g3LjcxNDI5QzcuMjU5NjMgNyA2LjgyMzU5IDcuMTU4MDQgNi41MDIxIDcuNDM5MzRDNi4xODA2MSA3LjcyMDY0IDYgOC4xMDIxOCA2IDguNVYxNy41QzYgMTcuODk3OCA2LjE4MDYxIDE4LjI3OTQgNi41MDIxIDE4LjU2MDdDNi44MjM1OSAxOC44NDIgNy4yNTk2MyAxOSA3LjcxNDI5IDE5SDE2LjI4NTdDMTYuNzQwNCAxOSAxNy4xNzY0IDE4Ljg0MiAxNy40OTc5IDE4LjU2MDdDMTcuODE5NCAxOC4yNzk0IDE4IDE3Ljg5NzggMTggMTcuNVY4LjVDMTggOC4xMDIxOCAxNy44MTk0IDcuNzIwNjQgMTcuNDk3OSA3LjQzOTM0QzE3LjE3NjQgNy4xNTgwNCAxNi43NDA0IDcgMTYuMjg1NyA3SDE0LjU3MTRcIi8+PHJlY3Qgd2lkdGg9XCI1LjE1Nzg5XCIgaGVpZ2h0PVwiMy4zNjg0MlwiIHg9XCI5LjQyMTA1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCIxLjVcIi8+PC9zdmc+JywgTCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNS4wNzggNS42MjYzN0wxNS42MTUzIDQuNzgyOTZMMTUuMDc4IDUuNjI2MzdDMTUuNDI2MSA1Ljg0ODA4IDE1LjczOTMgNi4xNTM1NCAxNi41NzExIDYuOTg1MjhMMTcuMjc4MiA2LjI3ODE3TDE2LjU3MTEgNi45ODUyOEwxNy41MjUxIDcuOTM5MzRDMTcuODM0NyA4LjI0ODkgMTcuOTQ5NiA4LjM2NDk0IDE4LjA0ODkgOC40ODE3N0MxOC41OTA3IDkuMTE5ODIgMTguOTE4OCA5LjkxMTc4IDE4Ljk4NjggMTAuNzQ2MUMxOC45OTkyIDEwLjg5ODkgMTkgMTEuMDYyMiAxOSAxMS41VjEyQzE5IDEzLjQxNjYgMTguOTk5MiAxNC40MTkgMTguOTM1MiAxNS4yMDI2QzE4Ljg3MjEgMTUuOTc0NSAxOC43NTI3IDE2LjQ0NTcgMTguNTY0IDE2LjgxNkMxOC4xODA1IDE3LjU2ODYgMTcuNTY4NiAxOC4xODA1IDE2LjgxNiAxOC41NjRDMTYuNDQ1NyAxOC43NTI3IDE1Ljk3NDUgMTguODcyMSAxNS4yMDI2IDE4LjkzNTJDMTQuNDE5IDE4Ljk5OTIgMTMuNDE2NiAxOSAxMiAxOUMxMC41ODM0IDE5IDkuNTgxMDQgMTguOTk5MiA4Ljc5NzQ0IDE4LjkzNTJDOC4wMjU1MiAxOC44NzIxIDcuNTU0MzUgMTguNzUyNyA3LjE4NDA0IDE4LjU2NEM2LjQzMTM5IDE4LjE4MDUgNS44MTk0NyAxNy41Njg2IDUuNDM1OTcgMTYuODE2QzUuMjQ3MjkgMTYuNDQ1NyA1LjEyNzg3IDE1Ljk3NDUgNS4wNjQ4IDE1LjIwMjZDNS4wMDA3OCAxNC40MTkgNSAxMy40MTY2IDUgMTJWMTEuNzc4MkM1IDEwLjQ2NzMgNS4wMDA2NyA5LjUzOTg3IDUuMDU1NzIgOC44MTI5OUM1LjEwOTk4IDguMDk2NTUgNS4yMTI4NCA3LjY1NjczIDUuMzc0ODcgNy4zMDkzQzUuNzcyMjkgNi40NTcxOCA2LjQ1NzE4IDUuNzcyMjkgNy4zMDkzIDUuMzc0ODdDNy42NTY3MyA1LjIxMjg0IDguMDk2NTUgNS4xMDk5OCA4LjgxMjk5IDUuMDU1NzJDOS41Mzk4NiA1LjAwMDY3IDEwLjQ2NzMgNSAxMS43NzgyIDVDMTIuOTU0NCA1IDEzLjM5MTkgNS4wMDU1MiAxMy43OTQ4IDUuMDk0ODRDMTQuMjUwMyA1LjE5NTgzIDE0LjY4NDYgNS4zNzU3MiAxNS4wNzggNS42MjYzN1pcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTIgMTVDMTMuMTA0NiAxNSAxNCAxNC4xMDQ2IDE0IDEzQzE0IDExLjg5NTQgMTMuMTA0NiAxMSAxMiAxMUMxMC44OTU0IDExIDEwIDExLjg5NTQgMTAgMTNDMTAgMTQuMTA0NiAxMC44OTU0IDE1IDEyIDE1WlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNCA1LjVWN0MxNCA3LjU1MjI4IDEzLjU1MjMgOCAxMyA4SDExQzEwLjQ0NzcgOCAxMCA3LjU1MjI4IDEwIDdWNS4yXCIvPjwvc3ZnPicsIHggPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyA5TDEwIDEyTTEwIDEyTDcgMTVNMTAgMTJINFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNyA5TDE0IDEyTTE0IDEyTDE3IDE1TTE0IDEySDIwXCIvPjwvc3ZnPicsIEggPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuMzYzOTYgMTEuMzY0SDE1LjM2NFwiLz48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0xMi43MDcxIDEyLjIwNzFDMTMuMDk3NiAxMS44MTY2IDEzLjA5NzYgMTEuMTgzNCAxMi43MDcxIDEwLjc5MjlDMTIuMzE2NiAxMC40MDI0IDExLjY4MzQgMTAuNDAyNCAxMS4yOTI5IDEwLjc5MjlMMTIuNzA3MSAxMi4yMDcxWk05LjIwNzExIDE1LjcwNzFMMTIuNzA3MSAxMi4yMDcxTDExLjI5MjkgMTAuNzkyOUw3Ljc5Mjg5IDE0LjI5MjlMOS4yMDcxMSAxNS43MDcxWlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02LjEyMTMyIDEzLjQ4NTNDNC45NDk3NSAxMi4zMTM3IDQuOTQ5NzUgMTAuNDE0MiA2LjEyMTMyIDkuMjQyNjRMOS42NTY4NSA1LjcwNzExQzEwLjA0NzQgNS4zMTY1OCAxMC42ODA5IDUuMzE2OTMgMTEuMDcxNCA1LjcwNzQ1QzEyLjkwOSA3LjU0NTAzIDE0LjE4MjkgOC44MTg5MyAxNi4wMjA1IDEwLjY1NjVDMTYuNDExIDExLjA0NyAxNi40MTEzIDExLjY4MDUgMTYuMDIwOCAxMi4wNzExTDEyLjQ4NTMgMTUuNjA2NkMxMS4zMTM3IDE2Ljc3ODIgOS40MTQyMSAxNi43NzgyIDguMjQyNjQgMTUuNjA2Nkw2LjEyMTMyIDEzLjQ4NTNaXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTIwIDE3QzIwIDE3LjgyODQgMTkuMzI4NCAxOC41IDE4LjUgMTguNUMxNy42NzE2IDE4LjUgMTcgMTcuODI4NCAxNyAxN0MxNyAxNi42MzQgMTcuMjE4IDE2LjA5OTggMTcuNjg5NyAxNS40MzcyQzE3LjkzMzcgMTUuMDk0MyAxOC4yMTUxIDE0Ljc1ODggMTguNSAxNC40NDQ5QzE4Ljc4NDkgMTQuNzU4OCAxOS4wNjYzIDE1LjA5NDMgMTkuMzEwMyAxNS40MzcyQzE5Ljc4MiAxNi4wOTk4IDIwIDE2LjYzNCAyMCAxN1pcIi8+PC9zdmc+JywgViA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNy4yNSA4LjVIMTAuMjVDOS4yODM1IDguNSA4LjUgOS4yODM1IDguNSAxMC4yNVYxNy4yNUM4LjUgMTguMjE2NSA5LjI4MzUgMTkgMTAuMjUgMTlIMTcuMjVDMTguMjE2NSAxOSAxOSAxOC4yMTY1IDE5IDE3LjI1VjEwLjI1QzE5IDkuMjgzNSAxOC4yMTY1IDguNSAxNy4yNSA4LjVaXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE1LjUgOC41VjYuNzVDMTUuNSA2LjI4NTg3IDE1LjMxNTYgNS44NDA3NSAxNC45ODc0IDUuNTEyNTZDMTQuNjU5MiA1LjE4NDM3IDE0LjIxNDEgNSAxMy43NSA1SDYuNzVDNi4yODU4NyA1IDUuODQwNzUgNS4xODQzNyA1LjUxMjU2IDUuNTEyNTZDNS4xODQzNyA1Ljg0MDc1IDUgNi4yODU4NyA1IDYuNzVWMTMuNzVDNSAxNC4yMTQxIDUuMTg0MzcgMTQuNjU5MiA1LjUxMjU2IDE0Ljk4NzRDNS44NDA3NSAxNS4zMTU2IDYuMjg1ODcgMTUuNSA2Ljc1IDE1LjVIOC41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDEyTDE1LjUgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTIgMTUuNUwxNS41IDE1LjVcIi8+PC9zdmc+JywgZiA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOCA4TDEyIDEyTTEyIDEyTDE2IDE2TTEyIDEyTDE2IDhNMTIgMTJMOCAxNlwiLz48L3N2Zz4nLCBtID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkgMTdDNyAxNyA3IDE1LjI1MzYgNyAxMy41TDUuNSAxMkw3IDEwLjVDNyA4Ljc0NjQ0IDcgNyA5IDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUgMTdDMTcgMTcgMTcgMTUuMjUzNiAxNyAxMy41TDE4LjUgMTJMMTcgMTAuNUMxNyA4Ljc0NjQ0IDE3IDcgMTUgN1wiLz48L3N2Zz4nLCBCID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxsaW5lIHgxPVwiNlwiIHgyPVwiMTBcIiB5MT1cIjEyXCIgeTI9XCIxMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiMTRcIiB4Mj1cIjE4XCIgeTE9XCIxMlwiIHkyPVwiMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L3N2Zz4nLCBJID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0Ljg4MzMgOS4xNjY2NkwxOC4yMTY3IDEyLjVNMTguMjE2NyAxMi41TDE0Ljg4MzMgMTUuODMzM00xOC4yMTY3IDEyLjVIMTAuMDVDOS4xNjU5NCAxMi41IDguMzE4MDkgMTIuMTQ4OCA3LjY5Mjk3IDExLjUyMzdDNy4wNjc4NSAxMC44OTg2IDYuNzE2NjYgMTAuMDUwNyA2LjcxNjY2IDkuMTY2NjZcIi8+PC9zdmc+JywgaiA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC45MTY3IDE0LjkxNjdMMTEuNTgzMyAxOC4yNU0xMS41ODMzIDE4LjI1TDguMjUgMTQuOTE2N00xMS41ODMzIDE4LjI1TDExLjU4MzMgMTAuMDgzM0MxMS41ODMzIDkuMTk5MjggMTEuOTM0NSA4LjM1MTQzIDEyLjU1OTYgNy43MjYzMUMxMy4xODQ4IDcuMTAxMTkgMTQuMDMyNiA2Ljc1IDE0LjkxNjcgNi43NVwiLz48L3N2Zz4nLCBaID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuMTMzMzMgMTQuOTE2N0wxMi40NjY3IDE4LjI1TTEyLjQ2NjcgMTguMjVMMTUuOCAxNC45MTY3TTEyLjQ2NjcgMTguMjVMMTIuNDY2NyAxMC4wODMzQzEyLjQ2NjcgOS4xOTkyOCAxMi4xMTU1IDguMzUxNDMgMTEuNDkwNCA3LjcyNjMxQzEwLjg2NTIgNy4xMDExOSAxMC4wMTc0IDYuNzUgOS4xMzMzMyA2Ljc1XCIvPjwvc3ZnPicsIHkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuODgzMyAxNS44MzMzTDE4LjIxNjcgMTIuNU0xOC4yMTY3IDEyLjVMMTQuODgzMyA5LjE2NjY3TTE4LjIxNjcgMTIuNUwxMC4wNSAxMi41QzkuMTY1OTUgMTIuNSA4LjMxODExIDEyLjg1MTIgNy42OTI5OSAxMy40NzYzQzcuMDY3ODcgMTQuMTAxNCA2LjcxNjY3IDE0Ljk0OTMgNi43MTY2NyAxNS44MzMzXCIvPjwvc3ZnPicsIEQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNNy4zMDQ5OSAxMS45OTVMNy4zMDQ5OSAxMi4wMDVNMTIuMDA1IDExLjk5NVYxMi4wMDVNMTYuNzA1IDExLjk5NUwxNi43MDUgMTIuMDA1XCIvPjwvc3ZnPicsIFIgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTIuMDEgNy4yOTk5OUgxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xMi4wMSAxMkgxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xMi4wMSAxNi43SDEyXCIvPjwvc3ZnPicsIEEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTMuMzIzNiA4LjQzNTU0TDkuNDk1MzMgMTIuMTkwOEM5LjEzMTE5IDEyLjU1MDUgOC45MzExOCAxMy4wNDMgOC45MzkzIDEzLjU1OThDOC45NDc0MSAxNC4wNzY3IDkuMTYzIDE0LjU3NTcgOS41Mzg2MiAxNC45NDdDOS45MTQyNCAxNS4zMTgyIDEwLjQxOTEgMTUuNTMxNCAxMC45NDIyIDE1LjUzOTdDMTEuNDY1MyAxNS41NDc5IDExLjk2MzcgMTUuMzUwNCAxMi4zMjc5IDE0Ljk5MDhMMTYuMTU2MiAxMS4yMzU1QzE2Ljg4NDUgMTAuNTE2MSAxNy4yODQ1IDkuNTMxMjMgMTcuMjY4MiA4LjQ5NzVDMTcuMjUyIDcuNDYzNzYgMTYuODIwOCA2LjQ2NTgzIDE2LjA2OTYgNS43MjMyNEMxNS4zMTg0IDQuOTgwNjYgMTQuMzA4NiA0LjU1NDI1IDEzLjI2MjQgNC41Mzc4MkMxMi4yMTYyIDQuNTIxMzggMTEuMjE5MyA0LjkxNjI3IDEwLjQ5MTEgNS42MzU2Mkw2LjY2Mjc3IDkuMzkwOTNDNS41NzAzNSAxMC40Njk5IDQuOTcwMzIgMTEuOTQ3MyA0Ljk5NDY3IDEzLjQ5NzlDNS4wMTkwMyAxNS4wNDg1IDUuNjY1NzggMTYuNTQ1NCA2Ljc5MjY0IDE3LjY1OTJDNy45MTk1IDE4Ljc3MzEgOS40MzQxNyAxOS40MTI3IDExLjAwMzQgMTkuNDM3NEMxMi41NzI3IDE5LjQ2MiAxNC4wNjggMTguODY5NyAxNS4xNjA0IDE3Ljc5MDdMMTguOTg4NyAxNC4wMzU0XCIvPjwvc3ZnPicsIFUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEzIDE4SDE2QzE2LjU1MjMgMTggMTcgMTcuNTUyMyAxNyAxN1YxNUMxNyAxNC40NDc3IDE2LjU1MjMgMTQgMTYgMTRIMTNWMThaTTExIDEySDhDNi4zNDMxNSAxMiA1IDEzLjM0MzEgNSAxNVYxN0M1IDE4LjY1NjkgNi4zNDMxNSAyMCA4IDIwSDE2QzE3LjY1NjkgMjAgMTkgMTguNjU2OSAxOSAxN1YxNUMxOSAxMy4zNDMxIDE3LjY1NjkgMTIgMTYgMTJIMTNWOUgxMVYxMlpNMTEgMTRWMThIOEM3LjQ0NzcyIDE4IDcgMTcuNTUyMyA3IDE3VjE1QzcgMTQuNDQ3NyA3LjQ0NzcyIDE0IDggMTRIMTFaXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDExQzUgOS44OTU0MyA1Ljg5NTQzIDkgNyA5SDE3QzE4LjEwNDYgOSAxOSA5Ljg5NTQzIDE5IDExVjExQzE5IDEyLjEwNDYgMTguMTA0NiAxMyAxNyAxM0g3QzUuODk1NDMgMTMgNSAxMi4xMDQ2IDUgMTFWMTFaXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDlDMTYgNy44OTU0MyAxNiA2IDE0IDZDMTIgNiAxMiA3Ljg5NTQzIDEyIDlDMTIgNy44OTU0MyAxMiA2IDEwIDZDOCA2IDggNy44OTU0MyA4IDlcIi8+PC9zdmc+JywgYiA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOSA3TDkgMTJNOSAxN1YxMk05IDEyTDE1IDEyTTE1IDdWMTJNMTUgMTdMMTUgMTJcIi8+PC9zdmc+JywgVCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjIuOTIzOFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuNDY5NCA3Ljg1NzE1QzguMDgxNjcgMy42Nzg1NiAxMiA3Ljg1NzE2IDEyIDcuODU3MTZDMTIgNy44NTcxNiAxNS45MTg1IDMuNjc4NTkgMTguNTMwNiA3Ljg1NzE1QzIxLjE0MjggMTIuMDM1NyAxMiAxOSAxMiAxOUMxMiAxOSAyLjg1NzEyIDEyLjAzNTcgNS40Njk0IDcuODU3MTVaXCIvPjwvc3ZnPicsIFAgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNi43Nzc3OCA2TDE4LjUgMTcuNzIyMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMC42ODcgMTBDMTAuMjQ3MyAxMC40MzkyIDEwLjAwMDIgMTEuMDM1IDEwIDExLjY1NjRDOS45OTk3OCAxMi4yNzc3IDEwLjI0NjUgMTIuODczNyAxMC42ODU4IDEzLjMxMzJDMTEuMTI1MSAxMy43NTI3IDExLjcyMTEgMTMuOTk5OCAxMi4zNDI3IDE0QzEyLjk2NDIgMTQuMDAwMiAxMy41NjA0IDEzLjc1MzYgMTQgMTMuMzE0NFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMyA3QzE3IDExLjE2NjYgMjAgMTEuMTcgMjAgMTEuNjdDMjAgMTIuMTcgMTkgMTMuMTcgMTkgMTMuMTdNOC4yNDI0IDguODA5MzZDNy41OTMxNyA5LjIyODc2IDYuOTc5NjEgOS43NjczMiA2LjQwMTcgMTAuNDI1MUM1LjcwMzk4IDExLjIxOTMgNS4zNTUxMiAxMS42MTY0IDUuMzU1MTMgMTIuMzcwMkM1LjM1NTE0IDEzLjEyNCA1LjcwNDA2IDEzLjUyMTEgNi40MDE5MSAxNC4zMTU0QzcuOTk1ODcgMTYuMTI5NyA5Ljg2MTggMTcuMDM2NyAxMiAxNy4wMzY3QzEzLjExMDIgMTcuMDM2NyAxNC4xNDY2IDE2Ljc5MTcgMTUuMTExMSAxNi4zMDI0XCIvPjwvc3ZnPicsIFMgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYuNjk1NCA1QzE3LjkxMiA1IDE4Ljg0NjggNi4wNzcxNiAxOC42NzU1IDcuMjgxNjVMMTcuNDI2IDE2LjA2NTlDMTcuMzE4MyAxNi44MjI5IDE2Ljc4ODUgMTcuNDUyMiAxNi4wNjEgMTcuNjg3M0wxMi42MTUxIDE4LjgwMTJDMTIuMjE1MiAxOC45MzA0IDExLjc4NDggMTguOTMwNCAxMS4zODQ5IDE4LjgwMTJMNy45Mzg5OCAxNy42ODczQzcuMjExNDggMTcuNDUyMiA2LjY4MTcgMTYuODIyOSA2LjU3NDAzIDE2LjA2NTlMNS4zMjQ1NCA3LjI4MTY1QzUuMTUzMjIgNi4wNzcxNiA2LjA4OCA1IDcuMzA0NjEgNUgxNi42OTU0WlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNSA4LjRIOUw5LjQyODU3IDExLjc5MzlIMTQuNTcxNEwxNC4zNTcxIDEzLjI3ODhMMTQuMTQyOSAxNC43NjM2TDEyIDE1LjRMOS44NTcxNCAxNC43NjM2TDkuNzcxNDMgMTQuMzM5NFwiLz48L3N2Zz4nLCBXID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjUgOEw2LjExNTI0IDExLjg2ODNDNi4wNDkyNiAxMS45NDM3IDYuMDQ5MjYgMTIuMDU2MyA2LjExNTI0IDEyLjEzMTdMOS41IDE2XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNSA4TDE4LjM4NDggMTEuODY4M0MxOC40NTA3IDExLjk0MzcgMTguNDUwNyAxMi4wNTYzIDE4LjM4NDggMTIuMTMxN0wxNSAxNlwiLz48L3N2Zz4nLCBFID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMy4zNCAxMEMxMi40MjIzIDEyLjczMzcgMTEgMTcgMTEgMTdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0LjIxIDdIMTQuMlwiLz48L3N2Zz4nLCBHID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03LjY5OTk4IDEyLjZMNy42Nzg5NiAxMi42MkM2LjUzOTkzIDEzLjcwNDggNi41MjAxMiAxNS41MTU1IDcuNjM1MTYgMTYuNjI1VjE2LjYyNUM4LjcyMjkzIDE3LjcwNzMgMTAuNDc5OSAxNy43MTAyIDExLjU3MTIgMTYuNjMxNEwxMy4wMjYzIDE1LjE5M0MxNC4wNzAzIDE0LjE2MDkgMTQuMjE0MSAxMi41MjUgMTMuMzY2MiAxMS4zMjY2TDEzLjIyIDExLjEyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNi4yMiAxMS4xMkwxNi4zNTY0IDEwLjk4MDVDMTcuMjg5NSAxMC4wMjY1IDE3LjM0NzggOC41MjA3IDE2LjQ5MTQgNy40OTczM1Y3LjQ5NzMzQzE1LjU2OSA2LjM5NTA5IDEzLjkyNjkgNi4yNTE0MyAxMi44MjcxIDcuMTc2NzVMMTEuMzkgOC4zODU4OEMxMC4wOTM1IDkuNDc2NzQgOS45NTcwNCAxMS40MjQxIDExLjA4ODcgMTIuNjg1MkwxMS4xMiAxMi43MlwiLz48L3N2Zz4nLCBGID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxsaW5lIHgxPVwiOVwiIHgyPVwiMTlcIiB5MT1cIjdcIiB5Mj1cIjdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjlcIiB4Mj1cIjE5XCIgeTE9XCIxMlwiIHkyPVwiMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjlcIiB4Mj1cIjE5XCIgeTE9XCIxN1wiIHkyPVwiMTdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNS4wMDAwMSAxN0g0Ljk5MDAyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01LjAwMDAxIDEySDQuOTkwMDJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuMDAwMDEgN0g0Ljk5MDAyXCIvPjwvc3ZnPicsIEogPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTlcIiB5MT1cIjdcIiB5Mj1cIjdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjEyXCIgeDI9XCIxOVwiIHkxPVwiMTJcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTlcIiB5MT1cIjE3XCIgeTI9XCIxN1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03Ljc5OTk5IDE0TDcuNzk5OTkgNy4yMTM1QzcuNzk5OTkgNy4xMjg3MiA3LjcwMTEgNy4wODI0IDcuNjM1OTcgNy4xMzY2OEw0Ljc5OTk5IDkuNVwiLz48L3N2Zz4nLCBOID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExLjM1MzYgOS4zMTgwMkwxMi43Njc4IDcuOTAzODFDMTMuNTQ4OCA3LjEyMjc2IDE0LjgxNTEgNy4xMjI3NiAxNS41OTYyIDcuOTAzODFDMTYuMzc3MiA4LjY4NDg2IDE2LjM3NzIgOS45NTExOSAxNS41OTYyIDEwLjczMjJMMTQuMTgyIDEyLjE0NjRNMTEuMzUzNiA5LjMxODAyTDcuOTY3MjkgMTIuNzA0M0M3LjQwODg5IDEzLjI2MjcgNy4wMjgyNyAxMy45NzM5IDYuODczNCAxNC43NDgyTDYuNjk3OTggMTUuNjI1M0M2LjU1ODA0IDE2LjMyNSA3LjE3NDk2IDE2Ljk0MiA3Ljg3NDY4IDE2LjgwMkw4Ljc1MTc2IDE2LjYyNjZDOS41MjYxMiAxNi40NzE3IDEwLjIzNzMgMTYuMDkxMSAxMC43OTU3IDE1LjUzMjdMMTQuMTgyIDEyLjE0NjRNMTEuMzUzNiA5LjMxODAyTDE0LjE4MiAxMi4xNDY0XCIvPjxsaW5lIHgxPVwiMTVcIiB4Mj1cIjE5XCIgeTE9XCIxN1wiIHkyPVwiMTdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L3N2Zz4nLCBRID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTkuNDA5OTkgNy4yOTk5OUg5LjRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTQuNiA3LjI5OTk5SDE0LjU5XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTkuMzA5OTkgMTJIOS4zXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTE0LjYgMTJIMTQuNTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS40MDk5OSAxNi43SDkuNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDE2LjdIMTQuNTlcIi8+PC9zdmc+JywgcSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cmVjdCB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiB4PVwiNVwiIHk9XCI1XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHJ4PVwiNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01LjEzOTY4IDE1LjMyTDguNjkwNTggMTEuNTY2MUM5LjAyOTM0IDExLjIwMzYgOS40ODg3MyAxMSA5Ljk2Nzc0IDExQzEwLjQ0NjcgMTEgMTAuOTA2MSAxMS4yMDM2IDExLjI0NDkgMTEuNTY2MUwxNS4zODcxIDE2TTEzLjU4MDYgMTQuMDY2NEwxNS4wMTMyIDEyLjUzM0MxNS4zNTE5IDEyLjE3MDUgMTUuODExMyAxMS45NjY4IDE2LjI5MDMgMTEuOTY2OEMxNi43NjkzIDExLjk2NjggMTcuMjI4NyAxMi4xNzA1IDE3LjU2NzUgMTIuNTMzTDE4Ljg0MSAxMy45NjM0XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEzLjc3NzggOS4zMzMzMUgxMy43ODY3XCIvPjwvc3ZnPicsIHogPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAgMTAuNTYwNlYxMy40Mzk0QzEwIDE0LjQ3NzcgMTEuMTU3MiAxNS4wOTcxIDEyLjAyMTEgMTQuNTIxMUwxNC4xODAzIDEzLjA4MTdDMTQuOTUzNiAxMi41NjYxIDE0Ljk1MDMgMTEuNDMxNyAxNC4xOCAxMC45MTgxTDEyLjAyMTQgOS40NzkwN0MxMS4xNTkxIDguOTA0MiAxMCA5LjUyMDMgMTAgMTAuNTYwNlpcIi8+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PC9zdmc+JywgSyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTIgN1YxMk0xMiAxN1YxMk0xNyAxMkgxMk0xMiAxMkg3XCIvPjwvc3ZnPicsIE8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAgMTAuODE4Mkw5IDEwLjgxODJDOC44MDIyMiAxMC44MTgyIDguNjA4ODggMTAuNzY0OSA4LjQ0NDQzIDEwLjY2NUM4LjI3OTk4IDEwLjU2NTEgOC4xNTE4MSAxMC40MjMxIDguMDc2MTIgMTAuMjU3QzguMDAwNDMgMTAuMDkwOSA3Ljk4MDYzIDkuOTA4MDggOC4wMTkyMiA5LjczMTc0QzguMDU3OCA5LjU1NTM5IDguMTUzMDQgOS4zOTM0MSA4LjI5Mjg5IDkuMjY2MjdDOC40MzI3NSA5LjEzOTEzIDguNjEwOTMgOS4wNTI1NSA4LjgwNDkxIDkuMDE3NDdDOC45OTg4OSA4Ljk4MjM5IDkuMTk5OTYgOS4wMDAzOSA5LjM4MjY4IDkuMDY5MkM5LjU2NTQxIDkuMTM4MDEgOS43MjE1OSA5LjI1NDUzIDkuODMxNDcgOS40MDQwM0M5Ljk0MTM1IDkuNTUzNTMgMTAgOS43MjkyOSAxMCA5LjkwOTA5TDEwIDEyLjE4MThDMTAgMTIuNjY0IDkuNzg5MjkgMTMuMTI2NSA5LjQxNDIxIDEzLjQ2NzVDOS4wMzkxNCAxMy44MDg0IDguNTMwNDMgMTQgOCAxNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiAxMC44MTgyTDE1IDEwLjgxODJDMTQuODAyMiAxMC44MTgyIDE0LjYwODkgMTAuNzY0OSAxNC40NDQ0IDEwLjY2NUMxNC4yOCAxMC41NjUxIDE0LjE1MTggMTAuNDIzMSAxNC4wNzYxIDEwLjI1N0MxNC4wMDA0IDEwLjA5MDkgMTMuOTgwNiA5LjkwODA4IDE0LjAxOTIgOS43MzE3NEMxNC4wNTc4IDkuNTU1MzkgMTQuMTUzIDkuMzkzNDEgMTQuMjkyOSA5LjI2NjI3QzE0LjQzMjcgOS4xMzkxMyAxNC42MTA5IDkuMDUyNTUgMTQuODA0OSA5LjAxNzQ3QzE0Ljk5ODkgOC45ODIzOSAxNS4yIDkuMDAwMzkgMTUuMzgyNyA5LjA2OTJDMTUuNTY1NCA5LjEzODAxIDE1LjcyMTYgOS4yNTQ1MyAxNS44MzE1IDkuNDA0MDNDMTUuOTQxNCA5LjU1MzUzIDE2IDkuNzI5MjkgMTYgOS45MDkwOUwxNiAxMi4xODE4QzE2IDEyLjY2NCAxNS43ODkzIDEzLjEyNjUgMTUuNDE0MiAxMy40Njc1QzE1LjAzOTEgMTMuODA4NCAxNC41MzA0IDE0IDE0IDE0XCIvPjwvc3ZnPicsIFggPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuNjY2NyAxMy42NjY3TDE4IDEwLjMzMzNMMTQuNjY2NyA3TTE4IDEwLjMzMzNIOC44MzMzM0M3Ljk0OTI4IDEwLjMzMzMgNy4xMDE0MyAxMC42ODQ1IDYuNDc2MzEgMTEuMzA5NkM1Ljg1MTE5IDExLjkzNDggNS41IDEyLjc4MjYgNS41IDEzLjY2NjdDNS41IDE0LjU1MDcgNS44NTExOSAxNS4zOTg2IDYuNDc2MzEgMTYuMDIzN0M3LjEwMTQzIDE2LjY0ODggNy45NDkyOCAxNyA4LjgzMzMzIDE3SDkuNjY2NjdcIi8+PC9zdmc+JywgWSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMSAxOVYxOUM5LjEzNjIzIDE5IDguMjA0MzUgMTkgNy40NjkyNyAxOC42OTU1QzYuNDg5MTUgMTguMjg5NSA1LjcxMDQ2IDE3LjUxMDggNS4zMDQ0OCAxNi41MzA3QzUgMTUuNzk1NiA1IDE0Ljg2MzggNSAxM1YxMkM1IDkuMTkxMDggNSA3Ljc4NjYxIDUuNjc0MTIgNi43Nzc3MkM1Ljk2NTk2IDYuMzQwOTYgNi4zNDA5NiA1Ljk2NTk2IDYuNzc3NzIgNS42NzQxMkM3Ljc4NjYxIDUgOS4xOTEwOCA1IDEyIDVIMTMuNUMxNC44OTU2IDUgMTUuNTkzMyA1IDE2LjE2MTEgNS4xNzIyNEMxNy40Mzk1IDUuNTYwMDQgMTguNDQgNi41NjA0NiAxOC44Mjc4IDcuODM4ODZDMTkgOC40MDY2NiAxOSA5LjEwNDQ0IDE5IDEwLjVWMTAuNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTkuMTE4NyAxNC44Nzg3TDE2Ljk5NzQgMTdNMTQuODc2IDE5LjEyMTNMMTYuOTk3NCAxN00xOS4xMTg3IDE5LjEyMTNMMTYuOTk3NCAxN00xNi45OTc0IDE3TDE0Ljg3NiAxNC44Nzg3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYuNSAxNy41TDE3LjUgNi41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4Ljk5MTkgMTAuNUgxOS4wMDE1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEwLjk5MTkgMTlIMTEuMDAxNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEzTDEzIDVcIi8+PC9zdmc+JywgXyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0xMC43OTI5IDE4LjIwNzFDMTEuMTgzNCAxOC41OTc2IDExLjgxNjYgMTguNTk3NiAxMi4yMDcxIDE4LjIwNzFDMTIuNTk3NiAxNy44MTY2IDEyLjU5NzYgMTcuMTgzNCAxMi4yMDcxIDE2Ljc5MjlMMTAuNzkyOSAxOC4yMDcxWk01IDExVjEwQzQuNDQ3NzIgMTAgNCAxMC40NDc3IDQgMTFINVpNNCAxNS41QzQgMTYuMDUyMyA0LjQ0NzcyIDE2LjUgNSAxNi41QzUuNTUyMjggMTYuNSA2IDE2LjA1MjMgNiAxNS41SDRaTTkuNSAxMkMxMC4wNTIzIDEyIDEwLjUgMTEuNTUyMyAxMC41IDExQzEwLjUgMTAuNDQ3NyAxMC4wNTIzIDEwIDkuNSAxMFYxMlpNMTIuMjA3MSAxNi43OTI5TDUuNzA3MTEgMTAuMjkyOUw0LjI5Mjg5IDExLjcwNzFMMTAuNzkyOSAxOC4yMDcxTDEyLjIwNzEgMTYuNzkyOVpNNCAxMVYxNS41SDZWMTFINFpNNSAxMkg5LjVWMTBINVYxMlpcIi8+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMTMuMjA3MSA1Ljc5Mjg5QzEyLjgxNjYgNS40MDIzNyAxMi4xODM0IDUuNDAyMzcgMTEuNzkyOSA1Ljc5Mjg5QzExLjQwMjQgNi4xODM0MiAxMS40MDI0IDYuODE2NTggMTEuNzkyOSA3LjIwNzExTDEzLjIwNzEgNS43OTI4OVpNMTkgMTNWMTRDMTkuNTUyMyAxNCAyMCAxMy41NTIzIDIwIDEzSDE5Wk0yMCA4LjVDMjAgNy45NDc3MiAxOS41NTIzIDcuNSAxOSA3LjVDMTguNDQ3NyA3LjUgMTggNy45NDc3MiAxOCA4LjVIMjBaTTE0LjUgMTJDMTMuOTQ3NyAxMiAxMy41IDEyLjQ0NzcgMTMuNSAxM0MxMy41IDEzLjU1MjMgMTMuOTQ3NyAxNCAxNC41IDE0VjEyWk0xMS43OTI5IDcuMjA3MTFMMTguMjkyOSAxMy43MDcxTDE5LjcwNzEgMTIuMjkyOUwxMy4yMDcxIDUuNzkyODlMMTEuNzkyOSA3LjIwNzExWk0yMCAxM1Y4LjVIMThWMTNIMjBaTTE5IDEySDE0LjVWMTRIMTlWMTJaXCIvPjwvc3ZnPicsICQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGNpcmNsZSBjeD1cIjEwLjVcIiBjeT1cIjEwLjVcIiByPVwiNS41XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjE1LjQxNDJcIiB4Mj1cIjE5XCIgeTE9XCIxNVwiIHkyPVwiMTguNTg1OFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIG8xID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTExLjgxOTcgNi4wNDM2OUMxMS44OTI0IDUuODkyNSAxMi4xMDc2IDUuODkyNSAxMi4xODAzIDYuMDQzNjlMMTMuOTc3NiA5Ljc4NDk2QzE0LjAwNjggOS44NDU2NCAxNC4wNjQ1IDkuODg3NTkgMTQuMTMxMiA5Ljg5NjU3TDE4LjI0NDggMTAuNDQ5OEMxOC40MTEgMTAuNDcyMiAxOC40Nzc2IDEwLjY3NjkgMTguMzU2MiAxMC43OTI3TDE1LjM1MzUgMTMuNjU4MkMxNS4zMDQ4IDEzLjcwNDcgMTUuMjgyNyAxMy43NzI2IDE1LjI5NDggMTMuODM4OEwxNi4wMzk4IDE3LjkyMkMxNi4wNjk5IDE4LjA4NyAxNS44OTU3IDE4LjIxMzYgMTUuNzQ4MSAxOC4xMzM5TDEyIDE2LjExMjRMOC4yNTE5MiAxOC4xMzM5QzguMTA0MjkgMTguMjEzNiA3LjkzMDEyIDE4LjA4NyA3Ljk2MDIzIDE3LjkyMkw4LjcwNTIgMTMuODM4OEM4LjcxNzI5IDEzLjc3MjYgOC42OTUyMyAxMy43MDQ3IDguNjQ2NTMgMTMuNjU4Mkw1LjY0Mzc4IDEwLjc5MjdDNS41MjI0NCAxMC42NzY5IDUuNTg4OTYgMTAuNDcyMiA1Ljc1NTIgMTAuNDQ5OEw5Ljg2ODc2IDkuODk2NTdDOS45MzU0OSA5Ljg4NzU5IDkuOTkzMjIgOS44NDU2NCAxMC4wMjI0IDkuNzg0OTZMMTEuODE5NyA2LjA0MzY5WlwiLz48L3N2Zz4nLCB0MSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNyA5TDIwIDEyTDE3IDE1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0IDEySDIwXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgOUw0IDEyTDcgMTVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNCAxMkgxMFwiLz48L3N2Zz4nLCByMSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEwSDE5XCIvPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjwvc3ZnPicsIGUxID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEwIDVWMTguNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNCA1VjE4LjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxMEgxOVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDE0SDE5XCIvPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjwvc3ZnPicsIG4xID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEwIDVWMTguNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEwSDE5XCIvPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjwvc3ZnPicsIHMxID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk04IDlWNy4yQzggNy4wODk1NCA4LjA4OTU0IDcgOC4yIDdMMTIgN00xNiA5VjcuMkMxNiA3LjA4OTU0IDE1LjkxMDUgNyAxNS44IDdMMTIgN00xMiA3TDEyIDE3TTEyIDE3SDEwTTEyIDE3SDE0XCIvPjwvc3ZnPicsIGkxID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4LjEzMjggNy43MjM0QzE4LjQyMyA3Ljc2MzQgMTguNzExNSA3LjgwNTcxIDE5IDcuODUxMDlNMTguMTMyOCA3LjcyMzRMMTcuMjI2NyAxNy40MDIzQzE3LjE4OTcgMTcuODM3MSAxNi45NzMgMTguMjQzMiAxNi42MiAxOC41Mzk0QzE2LjI2NyAxOC44MzU2IDE1LjgwMzcgMTkuMDAwMSAxNS4zMjI3IDE5SDguNjc3MzNDOC4xOTYzMiAxOS4wMDAxIDcuNzMyOTkgMTguODM1NiA3LjM3OTk4IDE4LjUzOTRDNy4wMjY5OCAxOC4yNDMyIDYuODEwMzIgMTcuODM3MSA2Ljc3MzMzIDE3LjQwMjNMNS44NjcxNSA3LjcyMzRNMTguMTMyOCA3LjcyMzRDMTcuMTUzNiA3LjU4OTE5IDE2LjE2OTMgNy40ODczMyAxNS4xODE4IDcuNDE4MDNNNS44NjcxNSA3LjcyMzRDNS41NzY5NyA3Ljc2MjYzIDUuMjg4NDggNy44MDQ5NCA1IDcuODUwMzJNNS44NjcxNSA3LjcyMzRDNi44NDY0MiA3LjU4OTE5IDcuODMwNzQgNy40ODczMyA4LjgxODE4IDcuNDE4MDNNMTUuMTgxOCA3LjQxODAzQzEzLjA2MzggNy4yNjk2MyAxMC45MzYyIDcuMjY5NjMgOC44MTgxOCA3LjQxODAzTTE1LjE4MTggNy40MTgwM0MxNS4xODE4IDUuMzAzNjggMTMuNzI2NiA0LjM0ODM0IDEyIDQuMzQ4MzRDMTAuMjczNCA0LjM0ODM0IDguODE4MTggNS40Mzk0NSA4LjgxODE4IDcuNDE4MDNcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAuNSAxNS41TDEwIDExXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0IDExTDEzLjUgMTUuNVwiLz48L3N2Zz4nLCBsMSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjMzMzMzIDEzLjY2NjdMNiAxMC4zMzMzTDkuMzMzMzMgN002IDEwLjMzMzNIMTUuMTY2N0MxNi4wNTA3IDEwLjMzMzMgMTYuODk4NiAxMC42ODQ1IDE3LjUyMzcgMTEuMzA5NkMxOC4xNDg4IDExLjkzNDggMTguNSAxMi43ODI2IDE4LjUgMTMuNjY2N0MxOC41IDE0LjU1MDcgMTguMTQ4OCAxNS4zOTg2IDE3LjUyMzcgMTYuMDIzN0MxNi44OTg2IDE2LjY0ODggMTYuMDUwNyAxNyAxNS4xNjY3IDE3SDE0LjMzMzNcIi8+PC9zdmc+JywgaDEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE1Ljc3OTUgMTEuNUMxNS43Nzk1IDExLjUgMTYuMDUzIDExLjE5NjIgMTYuNTQ5NyAxMC42NzIyQzE3LjQ0NDIgOS43Mjg1NiAxNy40NyA4LjI0NzUgMTYuNTc4IDcuMzAxNDVWNy4zMDE0NUMxNS42NDgyIDYuMzE1MjIgMTQuMDg3MyA2LjI5MjI3IDEzLjEyODggNy4yNTA3M0wxMS44Nzk1IDguNDk5OTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTguMjQ1MTYgMTIuMzg4M0M4LjI0NTE2IDEyLjM4ODMgNy45NzE3IDEyLjY5MjIgNy40NzUwMyAxMy4yMTYxQzYuNTgwNSAxNC4xNTk4IDYuNTU0NjUgMTUuNjQwOCA3LjQ0NjY1IDE2LjU4NjlWMTYuNTg2OUM4LjM3NjUyIDE3LjU3MzEgOS45Mzc0MyAxNy41OTYxIDEwLjg5NTkgMTYuNjM3NkwxMi4xNDUyIDE1LjM4ODNcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3Ljc4MDIgMTUuMTAzMkwxNi41OTcgMTQuOTQyMkMxNi4wMTA5IDE0Ljg2MjQgMTUuNDg0MSAxNS4zMDU5IDE1LjQ2MjcgMTUuODk2OUwxNS40MTk5IDE3LjA4MThcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYuMzkwNjMgOS4wMzIzOEw3LjU4NDMxIDkuMDY2NjhDOC4xNzU0OSA5LjA4MzY2IDguNjUyMTggOC41ODY2NSA4LjYxMDU1IDcuOTk2NjlMOC41MjcwOCA2LjgxMzk3XCIvPjxsaW5lIHgxPVwiMTIuMTE0MlwiIHgyPVwiMTEuN1wiIHkxPVwiMTIuMlwiIHkyPVwiMTEuNzg1OFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIGQxID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDEwQzEyLjcxNDUgMTAgMTMuMjM5IDkuNTY1NTkgMTMuNTM5MiA5LjExNTM2QzEzLjg0NCA4LjY1ODE0IDE0IDguMDg0MSAxNCA3LjVDMTQgNi45MTU5IDEzLjg0NCA2LjM0MTg2IDEzLjUzOTIgNS44ODQ2NEMxMy4yMzkgNS40MzQ0MSAxMi43MTQ1IDUgMTIgNUMxMS4yODU1IDUgMTAuNzYxIDUuNDM0NDEgMTAuNDYwOCA1Ljg4NDY0QzEwLjE1NiA2LjM0MTg2IDEwIDYuOTE1OSAxMCA3LjVDMTAgOC4wODQxIDEwLjE1NiA4LjY1ODE0IDEwLjQ2MDggOS4xMTUzNkMxMC43NjEgOS41NjU1OSAxMS4yODU1IDEwIDEyIDEwWlwiLz48ZWxsaXBzZSBjeD1cIjEyXCIgY3k9XCIxNlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjNcIiByeT1cIjVcIiB0cmFuc2Zvcm09XCJyb3RhdGUoLTkwIDEyIDE2KVwiLz48L3N2Zz4nLCB3MSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMCAxMEMxMC43MTQ1IDEwIDExLjIzOSA5LjU2NTU5IDExLjUzOTIgOS4xMTUzNkMxMS44NDQgOC42NTgxNCAxMiA4LjA4NDEgMTIgNy41QzEyIDYuOTE1OSAxMS44NDQgNi4zNDE4NiAxMS41MzkyIDUuODg0NjRDMTEuMjM5IDUuNDM0NDEgMTAuNzE0NSA1IDEwIDVDOS4yODU0NyA1IDguNzYxIDUuNDM0NDEgOC40NjA4NCA1Ljg4NDY0QzguMTU2MDMgNi4zNDE4NiA4IDYuOTE1OSA4IDcuNUM4IDguMDg0MSA4LjE1NjAzIDguNjU4MTQgOC40NjA4NCA5LjExNTM2QzguNzYxIDkuNTY1NTkgOS4yODU0NyAxMCAxMCAxMFpcIi8+PGVsbGlwc2UgY3g9XCIxMFwiIGN5PVwiMTZcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCIzXCIgcnk9XCI1XCIgdHJhbnNmb3JtPVwicm90YXRlKC05MCAxMCAxNilcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE1LjU1NTUgMTAuMjIyMkMxNi41Mzc0IDEwLjIyMjIgMTcuMzMzMyA5LjQyNjI5IDE3LjMzMzMgOC40NDQ0NUMxNy4zMzMzIDcuNDYyNjEgMTYuNTM3NCA2LjY2NjY3IDE1LjU1NTUgNi42NjY2N1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTcuNSAxM0MyMSAxNC41IDIwLjUgMTggMTggMTguNVwiLz48L3N2Zz4nLCBrMSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cmVjdCB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiB4PVwiNVwiIHk9XCI1XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHJ4PVwiNFwiLz48bGluZSB4MT1cIjEyXCIgeDI9XCIxMlwiIHkxPVwiOVwiIHkyPVwiMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTIgMTUuMDJWMTUuMDFcIi8+PC9zdmc+JztcbmV4cG9ydCB7XG4gIGkgYXMgSWNvbkFkZEJhY2tncm91bmQsXG4gIGwgYXMgSWNvbkFkZEJvcmRlcixcbiAgaCBhcyBJY29uQWxpZ25DZW50ZXIsXG4gIGQgYXMgSWNvbkFsaWduSnVzdGlmeSxcbiAgdyBhcyBJY29uQWxpZ25MZWZ0LFxuICBrIGFzIEljb25BbGlnblJpZ2h0LFxuICBDIGFzIEljb25Cb2xkLFxuICBjIGFzIEljb25CcmFja2V0cyxcbiAgdSBhcyBJY29uQ2hlY2tsaXN0LFxuICBnIGFzIEljb25DaGV2cm9uRG93bixcbiAgcCBhcyBJY29uQ2hldnJvbkxlZnQsXG4gIGEgYXMgSWNvbkNoZXZyb25SaWdodCxcbiAgdiBhcyBJY29uQ2hldnJvblVwLFxuICBNIGFzIEljb25DbGlwYm9hcmQsXG4gIEwgYXMgSWNvbkNvZGUsXG4gIHggYXMgSWNvbkNvbGxhcHNlLFxuICBIIGFzIEljb25Db2xvcixcbiAgViBhcyBJY29uQ29weSxcbiAgZiBhcyBJY29uQ3Jvc3MsXG4gIG0gYXMgSWNvbkN1cmx5QnJhY2tldHMsXG4gIEIgYXMgSWNvbkRlbGltaXRlcixcbiAgSSBhcyBJY29uRGlyZWN0aW9uRG93blJpZ2h0LFxuICBqIGFzIEljb25EaXJlY3Rpb25MZWZ0RG93bixcbiAgWiBhcyBJY29uRGlyZWN0aW9uUmlnaHREb3duLFxuICB5IGFzIEljb25EaXJlY3Rpb25VcFJpZ2h0LFxuICBEIGFzIEljb25FdGNIb3Jpc29udGFsLFxuICBSIGFzIEljb25FdGNWZXJ0aWNhbCxcbiAgQSBhcyBJY29uRmlsZSxcbiAgVSBhcyBJY29uR2lmdCxcbiAgbyBhcyBJY29uSDEsXG4gIHQgYXMgSWNvbkgyLFxuICByIGFzIEljb25IMyxcbiAgZSBhcyBJY29uSDQsXG4gIG4gYXMgSWNvbkg1LFxuICBzIGFzIEljb25INixcbiAgYiBhcyBJY29uSGVhZGluZyxcbiAgVCBhcyBJY29uSGVhcnQsXG4gIFAgYXMgSWNvbkhpZGRlbixcbiAgUyBhcyBJY29uSHRtbCxcbiAgVyBhcyBJY29uSW5saW5lQ29kZSxcbiAgRSBhcyBJY29uSXRhbGljLFxuICBHIGFzIEljb25MaW5rLFxuICBGIGFzIEljb25MaXN0QnVsbGV0ZWQsXG4gIEogYXMgSWNvbkxpc3ROdW1iZXJlZCxcbiAgTiBhcyBJY29uTWFya2VyLFxuICBRIGFzIEljb25NZW51LFxuICBxIGFzIEljb25QaWN0dXJlLFxuICB6IGFzIEljb25QbGF5LFxuICBLIGFzIEljb25QbHVzLFxuICBPIGFzIEljb25RdW90ZSxcbiAgWCBhcyBJY29uUmVkbyxcbiAgWSBhcyBJY29uUmVtb3ZlQmFja2dyb3VuZCxcbiAgXyBhcyBJY29uUmVwbGFjZSxcbiAgJCBhcyBJY29uU2VhcmNoLFxuICBvMSBhcyBJY29uU3RhcixcbiAgdDEgYXMgSWNvblN0cmV0Y2gsXG4gIG4xIGFzIEljb25UYWJsZSxcbiAgcjEgYXMgSWNvblRhYmxlV2l0aEhlYWRpbmdzLFxuICBlMSBhcyBJY29uVGFibGVXaXRob3V0SGVhZGluZ3MsXG4gIHMxIGFzIEljb25UZXh0LFxuICBpMSBhcyBJY29uVHJhc2gsXG4gIGwxIGFzIEljb25VbmRvLFxuICBoMSBhcyBJY29uVW5saW5rLFxuICBkMSBhcyBJY29uVXNlcixcbiAgdzEgYXMgSWNvblVzZXJzR3JvdXAsXG4gIGsxIGFzIEljb25XYXJuaW5nXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@codexteam/icons/dist/index.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/delimiter/dist/delimiter.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@editorjs/delimiter/dist/delimiter.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ n)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:\"***\";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(e)}}catch(t){console.error(\"vite-plugin-css-injected-by-js\",t)}})();\nconst r = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"6\" x2=\"10\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"14\" x2=\"18\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>';\n/**\n * Delimiter Block for the Editor.js.\n *\n * @author CodeX (team@ifmo.su)\n * @copyright CodeX 2018\n * @license The MIT License (MIT)\n * @version 2.0.0\n */\nclass n {\n  /**\n   * Notify core that read-only mode is supported\n   * @return {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Allow Tool to have no content\n   * @return {boolean}\n   */\n  static get contentless() {\n    return !0;\n  }\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {{data: DelimiterData, config: object, api: object}}\n   *   data — previously saved data\n   *   config - user config for Tool\n   *   api - Editor.js API\n   */\n  constructor({ data: t, config: s, api: e }) {\n    this.api = e, this._CSS = {\n      block: this.api.styles.block,\n      wrapper: \"ce-delimiter\"\n    }, this._element = this.drawView(), this.data = t;\n  }\n  /**\n   * Create Tool's view\n   * @return {HTMLDivElement}\n   * @private\n   */\n  drawView() {\n    let t = document.createElement(\"div\");\n    return t.classList.add(this._CSS.wrapper, this._CSS.block), t;\n  }\n  /**\n   * Return Tool's view\n   * @returns {HTMLDivElement}\n   * @public\n   */\n  render() {\n    return this._element;\n  }\n  /**\n   * Extract Tool's data from the view\n   * @param {HTMLDivElement} toolsContent - Paragraph tools rendered view\n   * @returns {DelimiterData} - saved data\n   * @public\n   */\n  save(t) {\n    return {};\n  }\n  /**\n   * Get Tool toolbox settings\n   * icon - Tool icon's SVG\n   * title - title to show in toolbox\n   *\n   * @return {{icon: string, title: string}}\n   */\n  static get toolbox() {\n    return {\n      icon: r,\n      title: \"Delimiter\"\n    };\n  }\n  /**\n   * Delimiter onPaste configuration\n   *\n   * @public\n   */\n  static get pasteConfig() {\n    return { tags: [\"HR\"] };\n  }\n  /**\n   * On paste callback that is fired from Editor\n   *\n   * @param {PasteEvent} event - event with pasted data\n   */\n  onPaste(t) {\n    this.data = {};\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2RlbGltaXRlci9kaXN0L2RlbGltaXRlci5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLFlBQVksYUFBYSxJQUFJLHdCQUF3QixzQ0FBc0MscURBQXFELGtCQUFrQixXQUFXLGtCQUFrQixxQkFBcUIscUJBQXFCLGNBQWMsZUFBZSxpQkFBaUIsWUFBWSxvQkFBb0Isa0NBQWtDLFNBQVMsbURBQW1EO0FBQ3JaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNEJBQTRCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0JBQWdCO0FBQzdCLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2RlbGltaXRlci9kaXN0L2RlbGltaXRlci5tanM/NTk3NSJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0cnl7aWYodHlwZW9mIGRvY3VtZW50PFwidVwiKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnLmNlLWRlbGltaXRlcntsaW5lLWhlaWdodDoxLjZlbTt3aWR0aDoxMDAlO3RleHQtYWxpZ246Y2VudGVyfS5jZS1kZWxpbWl0ZXI6YmVmb3Jle2Rpc3BsYXk6aW5saW5lLWJsb2NrO2NvbnRlbnQ6XCIqKipcIjtmb250LXNpemU6MzBweDtsaW5lLWhlaWdodDo2NXB4O2hlaWdodDozMHB4O2xldHRlci1zcGFjaW5nOi4yZW19JykpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZSl9fWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIix0KX19KSgpO1xuY29uc3QgciA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48bGluZSB4MT1cIjZcIiB4Mj1cIjEwXCIgeTE9XCIxMlwiIHkyPVwiMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjE0XCIgeDI9XCIxOFwiIHkxPVwiMTJcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PC9zdmc+Jztcbi8qKlxuICogRGVsaW1pdGVyIEJsb2NrIGZvciB0aGUgRWRpdG9yLmpzLlxuICpcbiAqIEBhdXRob3IgQ29kZVggKHRlYW1AaWZtby5zdSlcbiAqIEBjb3B5cmlnaHQgQ29kZVggMjAxOFxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKiBAdmVyc2lvbiAyLjAuMFxuICovXG5jbGFzcyBuIHtcbiAgLyoqXG4gICAqIE5vdGlmeSBjb3JlIHRoYXQgcmVhZC1vbmx5IG1vZGUgaXMgc3VwcG9ydGVkXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyBUb29sIHRvIGhhdmUgbm8gY29udGVudFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBjb250ZW50bGVzcygpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBwbHVnaW5gcyBtYWluIEVsZW1lbnQgYW5kIGZpbGwgaXQgd2l0aCBzYXZlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7e2RhdGE6IERlbGltaXRlckRhdGEsIGNvbmZpZzogb2JqZWN0LCBhcGk6IG9iamVjdH19XG4gICAqICAgZGF0YSDigJQgcHJldmlvdXNseSBzYXZlZCBkYXRhXG4gICAqICAgY29uZmlnIC0gdXNlciBjb25maWcgZm9yIFRvb2xcbiAgICogICBhcGkgLSBFZGl0b3IuanMgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGRhdGE6IHQsIGNvbmZpZzogcywgYXBpOiBlIH0pIHtcbiAgICB0aGlzLmFwaSA9IGUsIHRoaXMuX0NTUyA9IHtcbiAgICAgIGJsb2NrOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICB3cmFwcGVyOiBcImNlLWRlbGltaXRlclwiXG4gICAgfSwgdGhpcy5fZWxlbWVudCA9IHRoaXMuZHJhd1ZpZXcoKSwgdGhpcy5kYXRhID0gdDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIFRvb2wncyB2aWV3XG4gICAqIEByZXR1cm4ge0hUTUxEaXZFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZHJhd1ZpZXcoKSB7XG4gICAgbGV0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHJldHVybiB0LmNsYXNzTGlzdC5hZGQodGhpcy5fQ1NTLndyYXBwZXIsIHRoaXMuX0NTUy5ibG9jayksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBUb29sJ3Mgdmlld1xuICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBUb29sJ3MgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IHRvb2xzQ29udGVudCAtIFBhcmFncmFwaCB0b29scyByZW5kZXJlZCB2aWV3XG4gICAqIEByZXR1cm5zIHtEZWxpbWl0ZXJEYXRhfSAtIHNhdmVkIGRhdGFcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2F2ZSh0KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgVG9vbCB0b29sYm94IHNldHRpbmdzXG4gICAqIGljb24gLSBUb29sIGljb24ncyBTVkdcbiAgICogdGl0bGUgLSB0aXRsZSB0byBzaG93IGluIHRvb2xib3hcbiAgICpcbiAgICogQHJldHVybiB7e2ljb246IHN0cmluZywgdGl0bGU6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IHRvb2xib3goKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IHIsXG4gICAgICB0aXRsZTogXCJEZWxpbWl0ZXJcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERlbGltaXRlciBvblBhc3RlIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc3RhdGljIGdldCBwYXN0ZUNvbmZpZygpIHtcbiAgICByZXR1cm4geyB0YWdzOiBbXCJIUlwiXSB9O1xuICB9XG4gIC8qKlxuICAgKiBPbiBwYXN0ZSBjYWxsYmFjayB0aGF0IGlzIGZpcmVkIGZyb20gRWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gZXZlbnQgLSBldmVudCB3aXRoIHBhc3RlZCBkYXRhXG4gICAqL1xuICBvblBhc3RlKHQpIHtcbiAgICB0aGlzLmRhdGEgPSB7fTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgbiBhcyBkZWZhdWx0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/delimiter/dist/delimiter.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/editorjs/dist/editorjs.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@editorjs/editorjs/dist/editorjs.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Ts)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}\")),document.head.appendChild(e)}}catch(t){console.error(\"vite-plugin-css-injected-by-js\",t)}})();\nvar ko = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {};\nfunction Fe(n) {\n  return n && n.__esModule && Object.prototype.hasOwnProperty.call(n, \"default\") ? n.default : n;\n}\nfunction ze() {\n}\nObject.assign(ze, {\n  default: ze,\n  register: ze,\n  revert: function() {\n  },\n  __esModule: !0\n});\nElement.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function(n) {\n  const e = (this.document || this.ownerDocument).querySelectorAll(n);\n  let t = e.length;\n  for (; --t >= 0 && e.item(t) !== this; )\n    ;\n  return t > -1;\n});\nElement.prototype.closest || (Element.prototype.closest = function(n) {\n  let e = this;\n  if (!document.documentElement.contains(e))\n    return null;\n  do {\n    if (e.matches(n))\n      return e;\n    e = e.parentElement || e.parentNode;\n  } while (e !== null);\n  return null;\n});\nElement.prototype.prepend || (Element.prototype.prepend = function(e) {\n  const t = document.createDocumentFragment();\n  Array.isArray(e) || (e = [e]), e.forEach((o) => {\n    const i = o instanceof Node;\n    t.appendChild(i ? o : document.createTextNode(o));\n  }), this.insertBefore(t, this.firstChild);\n});\nElement.prototype.scrollIntoViewIfNeeded || (Element.prototype.scrollIntoViewIfNeeded = function(n) {\n  n = arguments.length === 0 ? !0 : !!n;\n  const e = this.parentNode, t = window.getComputedStyle(e, null), o = parseInt(t.getPropertyValue(\"border-top-width\")), i = parseInt(t.getPropertyValue(\"border-left-width\")), s = this.offsetTop - e.offsetTop < e.scrollTop, r = this.offsetTop - e.offsetTop + this.clientHeight - o > e.scrollTop + e.clientHeight, l = this.offsetLeft - e.offsetLeft < e.scrollLeft, a = this.offsetLeft - e.offsetLeft + this.clientWidth - i > e.scrollLeft + e.clientWidth, c = s && !r;\n  (s || r) && n && (e.scrollTop = this.offsetTop - e.offsetTop - e.clientHeight / 2 - o + this.clientHeight / 2), (l || a) && n && (e.scrollLeft = this.offsetLeft - e.offsetLeft - e.clientWidth / 2 - i + this.clientWidth / 2), (s || r || l || a) && !n && this.scrollIntoView(c);\n});\nwindow.requestIdleCallback = window.requestIdleCallback || function(n) {\n  const e = Date.now();\n  return setTimeout(function() {\n    n({\n      didTimeout: !1,\n      timeRemaining: function() {\n        return Math.max(0, 50 - (Date.now() - e));\n      }\n    });\n  }, 1);\n};\nwindow.cancelIdleCallback = window.cancelIdleCallback || function(n) {\n  clearTimeout(n);\n};\nlet vo = (n = 21) => crypto.getRandomValues(new Uint8Array(n)).reduce((e, t) => (t &= 63, t < 36 ? e += t.toString(36) : t < 62 ? e += (t - 26).toString(36).toUpperCase() : t > 62 ? e += \"-\" : e += \"_\", e), \"\");\nvar It = /* @__PURE__ */ ((n) => (n.VERBOSE = \"VERBOSE\", n.INFO = \"INFO\", n.WARN = \"WARN\", n.ERROR = \"ERROR\", n))(It || {});\nconst w = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  DOWN: 40,\n  RIGHT: 39,\n  DELETE: 46,\n  META: 91,\n  SLASH: 191\n}, wo = {\n  LEFT: 0,\n  WHEEL: 1,\n  RIGHT: 2,\n  BACKWARD: 3,\n  FORWARD: 4\n};\nfunction Be(n, e, t = \"log\", o, i = \"color: inherit\") {\n  if (!(\"console\" in window) || !window.console[t])\n    return;\n  const s = [\"info\", \"log\", \"warn\", \"error\"].includes(t), r = [];\n  switch (Be.logLevel) {\n    case \"ERROR\":\n      if (t !== \"error\")\n        return;\n      break;\n    case \"WARN\":\n      if (![\"error\", \"warn\"].includes(t))\n        return;\n      break;\n    case \"INFO\":\n      if (!s || n)\n        return;\n      break;\n  }\n  o && r.push(o);\n  const l = \"Editor.js 2.30.6\", a = `line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;`;\n  n && (s ? (r.unshift(a, i), e = `%c${l}%c ${e}`) : e = `( ${l} )${e}`);\n  try {\n    s ? o ? console[t](`${e} %o`, ...r) : console[t](e, ...r) : console[t](e);\n  } catch {\n  }\n}\nBe.logLevel = \"VERBOSE\";\nfunction xo(n) {\n  Be.logLevel = n;\n}\nconst I = Be.bind(window, !1), X = Be.bind(window, !0);\nfunction re(n) {\n  return Object.prototype.toString.call(n).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}\nfunction O(n) {\n  return re(n) === \"function\" || re(n) === \"asyncfunction\";\n}\nfunction R(n) {\n  return re(n) === \"object\";\n}\nfunction Q(n) {\n  return re(n) === \"string\";\n}\nfunction yo(n) {\n  return re(n) === \"boolean\";\n}\nfunction bt(n) {\n  return re(n) === \"number\";\n}\nfunction kt(n) {\n  return re(n) === \"undefined\";\n}\nfunction V(n) {\n  return n ? Object.keys(n).length === 0 && n.constructor === Object : !0;\n}\nfunction Mt(n) {\n  return n > 47 && n < 58 || // number keys\n  n === 32 || n === 13 || // Space bar & return key(s)\n  n === 229 || // processing key input for certain languages — Chinese, Japanese, etc.\n  n > 64 && n < 91 || // letter keys\n  n > 95 && n < 112 || // Numpad keys\n  n > 185 && n < 193 || // ;=,-./` (in order)\n  n > 218 && n < 223;\n}\nasync function Eo(n, e = () => {\n}, t = () => {\n}) {\n  async function o(i, s, r) {\n    try {\n      await i.function(i.data), await s(kt(i.data) ? {} : i.data);\n    } catch {\n      r(kt(i.data) ? {} : i.data);\n    }\n  }\n  return n.reduce(async (i, s) => (await i, o(s, e, t)), Promise.resolve());\n}\nfunction At(n) {\n  return Array.prototype.slice.call(n);\n}\nfunction Oe(n, e) {\n  return function() {\n    const t = this, o = arguments;\n    window.setTimeout(() => n.apply(t, o), e);\n  };\n}\nfunction Bo(n) {\n  return n.name.split(\".\").pop();\n}\nfunction To(n) {\n  return /^[-\\w]+\\/([-+\\w]+|\\*)$/.test(n);\n}\nfunction vt(n, e, t) {\n  let o;\n  return (...i) => {\n    const s = this, r = () => {\n      o = null, t || n.apply(s, i);\n    }, l = t && !o;\n    window.clearTimeout(o), o = window.setTimeout(r, e), l && n.apply(s, i);\n  };\n}\nfunction Ve(n, e, t = void 0) {\n  let o, i, s, r = null, l = 0;\n  t || (t = {});\n  const a = function() {\n    l = t.leading === !1 ? 0 : Date.now(), r = null, s = n.apply(o, i), r || (o = i = null);\n  };\n  return function() {\n    const c = Date.now();\n    !l && t.leading === !1 && (l = c);\n    const u = e - (c - l);\n    return o = this, i = arguments, u <= 0 || u > e ? (r && (clearTimeout(r), r = null), l = c, s = n.apply(o, i), r || (o = i = null)) : !r && t.trailing !== !1 && (r = setTimeout(a, u)), s;\n  };\n}\nfunction Co() {\n  const n = {\n    win: !1,\n    mac: !1,\n    x11: !1,\n    linux: !1\n  }, e = Object.keys(n).find((t) => window.navigator.appVersion.toLowerCase().indexOf(t) !== -1);\n  return e && (n[e] = !0), n;\n}\nfunction Le(n) {\n  return n[0].toUpperCase() + n.slice(1);\n}\nfunction qe(n, ...e) {\n  if (!e.length)\n    return n;\n  const t = e.shift();\n  if (R(n) && R(t))\n    for (const o in t)\n      R(t[o]) ? (n[o] || Object.assign(n, { [o]: {} }), qe(n[o], t[o])) : Object.assign(n, { [o]: t[o] });\n  return qe(n, ...e);\n}\nfunction tt(n) {\n  const e = Co();\n  return n = n.replace(/shift/gi, \"⇧\").replace(/backspace/gi, \"⌫\").replace(/enter/gi, \"⏎\").replace(/up/gi, \"↑\").replace(/left/gi, \"→\").replace(/down/gi, \"↓\").replace(/right/gi, \"←\").replace(/escape/gi, \"⎋\").replace(/insert/gi, \"Ins\").replace(/delete/gi, \"␡\").replace(/\\+/gi, \" + \"), e.mac ? n = n.replace(/ctrl|cmd/gi, \"⌘\").replace(/alt/gi, \"⌥\") : n = n.replace(/cmd/gi, \"Ctrl\").replace(/windows/gi, \"WIN\"), n;\n}\nfunction So(n) {\n  try {\n    return new URL(n).href;\n  } catch {\n  }\n  return n.substring(0, 2) === \"//\" ? window.location.protocol + n : window.location.origin + n;\n}\nfunction Io() {\n  return vo(10);\n}\nfunction Mo(n) {\n  window.open(n, \"_blank\");\n}\nfunction Ao(n = \"\") {\n  return `${n}${Math.floor(Math.random() * 1e8).toString(16)}`;\n}\nfunction Ze(n, e, t) {\n  const o = `«${e}» is deprecated and will be removed in the next major release. Please use the «${t}» instead.`;\n  n && X(o, \"warn\");\n}\nfunction ue(n, e, t) {\n  const o = t.value ? \"value\" : \"get\", i = t[o], s = `#${e}Cache`;\n  if (t[o] = function(...r) {\n    return this[s] === void 0 && (this[s] = i.apply(this, ...r)), this[s];\n  }, o === \"get\" && t.set) {\n    const r = t.set;\n    t.set = function(l) {\n      delete n[s], r.apply(this, l);\n    };\n  }\n  return t;\n}\nconst Ot = 650;\nfunction pe() {\n  return window.matchMedia(`(max-width: ${Ot}px)`).matches;\n}\nconst Ge = typeof window < \"u\" && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === \"MacIntel\" && window.navigator.maxTouchPoints > 1);\nfunction Oo(n, e) {\n  const t = Array.isArray(n) || R(n), o = Array.isArray(e) || R(e);\n  return t || o ? JSON.stringify(n) === JSON.stringify(e) : n === e;\n}\nclass d {\n  /**\n   * Check if passed tag has no closed tag\n   *\n   * @param {HTMLElement} tag - element to check\n   * @returns {boolean}\n   */\n  static isSingleTag(e) {\n    return e.tagName && [\n      \"AREA\",\n      \"BASE\",\n      \"BR\",\n      \"COL\",\n      \"COMMAND\",\n      \"EMBED\",\n      \"HR\",\n      \"IMG\",\n      \"INPUT\",\n      \"KEYGEN\",\n      \"LINK\",\n      \"META\",\n      \"PARAM\",\n      \"SOURCE\",\n      \"TRACK\",\n      \"WBR\"\n    ].includes(e.tagName);\n  }\n  /**\n   * Check if element is BR or WBR\n   *\n   * @param {HTMLElement} element - element to check\n   * @returns {boolean}\n   */\n  static isLineBreakTag(e) {\n    return e && e.tagName && [\n      \"BR\",\n      \"WBR\"\n    ].includes(e.tagName);\n  }\n  /**\n   * Helper for making Elements with class name and attributes\n   *\n   * @param  {string} tagName - new Element tag name\n   * @param  {string[]|string} [classNames] - list or name of CSS class name(s)\n   * @param  {object} [attributes] - any attributes\n   * @returns {HTMLElement}\n   */\n  static make(e, t = null, o = {}) {\n    const i = document.createElement(e);\n    if (Array.isArray(t)) {\n      const s = t.filter((r) => r !== void 0);\n      i.classList.add(...s);\n    } else\n      t && i.classList.add(t);\n    for (const s in o)\n      Object.prototype.hasOwnProperty.call(o, s) && (i[s] = o[s]);\n    return i;\n  }\n  /**\n   * Creates Text Node with the passed content\n   *\n   * @param {string} content - text content\n   * @returns {Text}\n   */\n  static text(e) {\n    return document.createTextNode(e);\n  }\n  /**\n   * Append one or several elements to the parent\n   *\n   * @param  {Element|DocumentFragment} parent - where to append\n   * @param  {Element|Element[]|DocumentFragment|Text|Text[]} elements - element or elements list\n   */\n  static append(e, t) {\n    Array.isArray(t) ? t.forEach((o) => e.appendChild(o)) : e.appendChild(t);\n  }\n  /**\n   * Append element or a couple to the beginning of the parent elements\n   *\n   * @param {Element} parent - where to append\n   * @param {Element|Element[]} elements - element or elements list\n   */\n  static prepend(e, t) {\n    Array.isArray(t) ? (t = t.reverse(), t.forEach((o) => e.prepend(o))) : e.prepend(t);\n  }\n  /**\n   * Swap two elements in parent\n   *\n   * @param {HTMLElement} el1 - from\n   * @param {HTMLElement} el2 - to\n   * @deprecated\n   */\n  static swap(e, t) {\n    const o = document.createElement(\"div\"), i = e.parentNode;\n    i.insertBefore(o, e), i.insertBefore(e, t), i.insertBefore(t, o), i.removeChild(o);\n  }\n  /**\n   * Selector Decorator\n   *\n   * Returns first match\n   *\n   * @param {Element} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   * @returns {Element}\n   */\n  static find(e = document, t) {\n    return e.querySelector(t);\n  }\n  /**\n   * Get Element by Id\n   *\n   * @param {string} id - id to find\n   * @returns {HTMLElement | null}\n   */\n  static get(e) {\n    return document.getElementById(e);\n  }\n  /**\n   * Selector Decorator.\n   *\n   * Returns all matches\n   *\n   * @param {Element|Document} el - element we searching inside. Default - DOM Document\n   * @param {string} selector - searching string\n   * @returns {NodeList}\n   */\n  static findAll(e = document, t) {\n    return e.querySelectorAll(t);\n  }\n  /**\n   * Returns CSS selector for all text inputs\n   */\n  static get allInputsSelector() {\n    return \"[contenteditable=true], textarea, input:not([type]), \" + [\"text\", \"password\", \"email\", \"number\", \"search\", \"tel\", \"url\"].map((t) => `input[type=\"${t}\"]`).join(\", \");\n  }\n  /**\n   * Find all contenteditable, textarea and editable input elements passed holder contains\n   *\n   * @param holder - element where to find inputs\n   */\n  static findAllInputs(e) {\n    return At(e.querySelectorAll(d.allInputsSelector)).reduce((t, o) => d.isNativeInput(o) || d.containsOnlyInlineElements(o) ? [...t, o] : [...t, ...d.getDeepestBlockElements(o)], []);\n  }\n  /**\n   * Search for deepest node which is Leaf.\n   * Leaf is the vertex that doesn't have any child nodes\n   *\n   * @description Method recursively goes throw the all Node until it finds the Leaf\n   * @param {Node} node - root Node. From this vertex we start Deep-first search\n   *                      {@link https://en.wikipedia.org/wiki/Depth-first_search}\n   * @param {boolean} [atLast] - find last text node\n   * @returns - it can be text Node or Element Node, so that caret will able to work with it\n   *            Can return null if node is Document or DocumentFragment, or node is not attached to the DOM\n   */\n  static getDeepestNode(e, t = !1) {\n    const o = t ? \"lastChild\" : \"firstChild\", i = t ? \"previousSibling\" : \"nextSibling\";\n    if (e && e.nodeType === Node.ELEMENT_NODE && e[o]) {\n      let s = e[o];\n      if (d.isSingleTag(s) && !d.isNativeInput(s) && !d.isLineBreakTag(s))\n        if (s[i])\n          s = s[i];\n        else if (s.parentNode[i])\n          s = s.parentNode[i];\n        else\n          return s.parentNode;\n      return this.getDeepestNode(s, t);\n    }\n    return e;\n  }\n  /**\n   * Check if object is DOM node\n   *\n   * @param {*} node - object to check\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static isElement(e) {\n    return bt(e) ? !1 : e && e.nodeType && e.nodeType === Node.ELEMENT_NODE;\n  }\n  /**\n   * Check if object is DocumentFragment node\n   *\n   * @param {object} node - object to check\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static isFragment(e) {\n    return bt(e) ? !1 : e && e.nodeType && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n  }\n  /**\n   * Check if passed element is contenteditable\n   *\n   * @param {HTMLElement} element - html element to check\n   * @returns {boolean}\n   */\n  static isContentEditable(e) {\n    return e.contentEditable === \"true\";\n  }\n  /**\n   * Checks target if it is native input\n   *\n   * @param {*} target - HTML element or string\n   * @returns {boolean}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  static isNativeInput(e) {\n    const t = [\n      \"INPUT\",\n      \"TEXTAREA\"\n    ];\n    return e && e.tagName ? t.includes(e.tagName) : !1;\n  }\n  /**\n   * Checks if we can set caret\n   *\n   * @param {HTMLElement} target - target to check\n   * @returns {boolean}\n   */\n  static canSetCaret(e) {\n    let t = !0;\n    if (d.isNativeInput(e))\n      switch (e.type) {\n        case \"file\":\n        case \"checkbox\":\n        case \"radio\":\n        case \"hidden\":\n        case \"submit\":\n        case \"button\":\n        case \"image\":\n        case \"reset\":\n          t = !1;\n          break;\n      }\n    else\n      t = d.isContentEditable(e);\n    return t;\n  }\n  /**\n   * Checks node if it is empty\n   *\n   * @description Method checks simple Node without any childs for emptiness\n   * If you have Node with 2 or more children id depth, you better use {@link Dom#isEmpty} method\n   * @param {Node} node - node to check\n   * @param {string} [ignoreChars] - char or substring to treat as empty\n   * @returns {boolean} true if it is empty\n   */\n  static isNodeEmpty(e, t) {\n    let o;\n    return this.isSingleTag(e) && !this.isLineBreakTag(e) ? !1 : (this.isElement(e) && this.isNativeInput(e) ? o = e.value : o = e.textContent.replace(\"​\", \"\"), t && (o = o.replace(new RegExp(t, \"g\"), \"\")), o.trim().length === 0);\n  }\n  /**\n   * checks node if it is doesn't have any child nodes\n   *\n   * @param {Node} node - node to check\n   * @returns {boolean}\n   */\n  static isLeaf(e) {\n    return e ? e.childNodes.length === 0 : !1;\n  }\n  /**\n   * breadth-first search (BFS)\n   * {@link https://en.wikipedia.org/wiki/Breadth-first_search}\n   *\n   * @description Pushes to stack all DOM leafs and checks for emptiness\n   * @param {Node} node - node to check\n   * @param {string} [ignoreChars] - char or substring to treat as empty\n   * @returns {boolean}\n   */\n  static isEmpty(e, t) {\n    e.normalize();\n    const o = [e];\n    for (; o.length > 0; )\n      if (e = o.shift(), !!e) {\n        if (this.isLeaf(e) && !this.isNodeEmpty(e, t))\n          return !1;\n        e.childNodes && o.push(...Array.from(e.childNodes));\n      }\n    return !0;\n  }\n  /**\n   * Check if string contains html elements\n   *\n   * @param {string} str - string to check\n   * @returns {boolean}\n   */\n  static isHTMLString(e) {\n    const t = d.make(\"div\");\n    return t.innerHTML = e, t.childElementCount > 0;\n  }\n  /**\n   * Return length of node`s text content\n   *\n   * @param {Node} node - node with content\n   * @returns {number}\n   */\n  static getContentLength(e) {\n    return d.isNativeInput(e) ? e.value.length : e.nodeType === Node.TEXT_NODE ? e.length : e.textContent.length;\n  }\n  /**\n   * Return array of names of block html elements\n   *\n   * @returns {string[]}\n   */\n  static get blockElements() {\n    return [\n      \"address\",\n      \"article\",\n      \"aside\",\n      \"blockquote\",\n      \"canvas\",\n      \"div\",\n      \"dl\",\n      \"dt\",\n      \"fieldset\",\n      \"figcaption\",\n      \"figure\",\n      \"footer\",\n      \"form\",\n      \"h1\",\n      \"h2\",\n      \"h3\",\n      \"h4\",\n      \"h5\",\n      \"h6\",\n      \"header\",\n      \"hgroup\",\n      \"hr\",\n      \"li\",\n      \"main\",\n      \"nav\",\n      \"noscript\",\n      \"ol\",\n      \"output\",\n      \"p\",\n      \"pre\",\n      \"ruby\",\n      \"section\",\n      \"table\",\n      \"tbody\",\n      \"thead\",\n      \"tr\",\n      \"tfoot\",\n      \"ul\",\n      \"video\"\n    ];\n  }\n  /**\n   * Check if passed content includes only inline elements\n   *\n   * @param {string|HTMLElement} data - element or html string\n   * @returns {boolean}\n   */\n  static containsOnlyInlineElements(e) {\n    let t;\n    Q(e) ? (t = document.createElement(\"div\"), t.innerHTML = e) : t = e;\n    const o = (i) => !d.blockElements.includes(i.tagName.toLowerCase()) && Array.from(i.children).every(o);\n    return Array.from(t.children).every(o);\n  }\n  /**\n   * Find and return all block elements in the passed parent (including subtree)\n   *\n   * @param {HTMLElement} parent - root element\n   * @returns {HTMLElement[]}\n   */\n  static getDeepestBlockElements(e) {\n    return d.containsOnlyInlineElements(e) ? [e] : Array.from(e.children).reduce((t, o) => [...t, ...d.getDeepestBlockElements(o)], []);\n  }\n  /**\n   * Helper for get holder from {string} or return HTMLElement\n   *\n   * @param {string | HTMLElement} element - holder's id or holder's HTML Element\n   * @returns {HTMLElement}\n   */\n  static getHolder(e) {\n    return Q(e) ? document.getElementById(e) : e;\n  }\n  /**\n   * Returns true if element is anchor (is A tag)\n   *\n   * @param {Element} element - element to check\n   * @returns {boolean}\n   */\n  static isAnchor(e) {\n    return e.tagName.toLowerCase() === \"a\";\n  }\n  /**\n   * Return element's offset related to the document\n   *\n   * @todo handle case when editor initialized in scrollable popup\n   * @param el - element to compute offset\n   */\n  static offset(e) {\n    const t = e.getBoundingClientRect(), o = window.pageXOffset || document.documentElement.scrollLeft, i = window.pageYOffset || document.documentElement.scrollTop, s = t.top + i, r = t.left + o;\n    return {\n      top: s,\n      left: r,\n      bottom: s + t.height,\n      right: r + t.width\n    };\n  }\n}\nfunction Lo(n) {\n  return !/[^\\t\\n\\r ]/.test(n);\n}\nfunction _o(n) {\n  const e = window.getComputedStyle(n), t = parseFloat(e.fontSize), o = parseFloat(e.lineHeight) || t * 1.2, i = parseFloat(e.paddingTop), s = parseFloat(e.borderTopWidth), r = parseFloat(e.marginTop), l = t * 0.8, a = (o - t) / 2;\n  return r + s + i + a + l;\n}\nfunction Lt(n) {\n  n.dataset.empty = d.isEmpty(n) ? \"true\" : \"false\";\n}\nconst No = {\n  blockTunes: {\n    toggler: {\n      \"Click to tune\": \"\",\n      \"or drag to move\": \"\"\n    }\n  },\n  inlineToolbar: {\n    converter: {\n      \"Convert to\": \"\"\n    }\n  },\n  toolbar: {\n    toolbox: {\n      Add: \"\"\n    }\n  },\n  popover: {\n    Filter: \"\",\n    \"Nothing found\": \"\",\n    \"Convert to\": \"\"\n  }\n}, Po = {\n  Text: \"\",\n  Link: \"\",\n  Bold: \"\",\n  Italic: \"\"\n}, Do = {\n  link: {\n    \"Add a link\": \"\"\n  },\n  stub: {\n    \"The block can not be displayed correctly.\": \"\"\n  }\n}, Ro = {\n  delete: {\n    Delete: \"\",\n    \"Click to delete\": \"\"\n  },\n  moveUp: {\n    \"Move up\": \"\"\n  },\n  moveDown: {\n    \"Move down\": \"\"\n  }\n}, _t = {\n  ui: No,\n  toolNames: Po,\n  tools: Do,\n  blockTunes: Ro\n}, Nt = class ae {\n  /**\n   * Type-safe translation for internal UI texts:\n   * Perform translation of the string by namespace and a key\n   *\n   * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune')\n   * @param internalNamespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  static ui(e, t) {\n    return ae._t(e, t);\n  }\n  /**\n   * Translate for external strings that is not presented in default dictionary.\n   * For example, for user-specified tool names\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  static t(e, t) {\n    return ae._t(e, t);\n  }\n  /**\n   * Adjust module for using external dictionary\n   *\n   * @param dictionary - new messages list to override default\n   */\n  static setDictionary(e) {\n    ae.currentDictionary = e;\n  }\n  /**\n   * Perform translation both for internal and external namespaces\n   * If there is no translation found, returns passed key as a translated message\n   *\n   * @param namespace - path to translated string in dictionary\n   * @param dictKey - dictionary key. Better to use default locale original text\n   */\n  static _t(e, t) {\n    const o = ae.getNamespace(e);\n    return !o || !o[t] ? t : o[t];\n  }\n  /**\n   * Find messages section by namespace path\n   *\n   * @param namespace - path to section\n   */\n  static getNamespace(e) {\n    return e.split(\".\").reduce((o, i) => !o || !Object.keys(o).length ? {} : o[i], ae.currentDictionary);\n  }\n};\nNt.currentDictionary = _t;\nlet z = Nt;\nclass Pt extends Error {\n}\nclass Te {\n  constructor() {\n    this.subscribers = {};\n  }\n  /**\n   * Subscribe any event on callback\n   *\n   * @param eventName - event name\n   * @param callback - subscriber\n   */\n  on(e, t) {\n    e in this.subscribers || (this.subscribers[e] = []), this.subscribers[e].push(t);\n  }\n  /**\n   * Subscribe any event on callback. Callback will be called once and be removed from subscribers array after call.\n   *\n   * @param eventName - event name\n   * @param callback - subscriber\n   */\n  once(e, t) {\n    e in this.subscribers || (this.subscribers[e] = []);\n    const o = (i) => {\n      const s = t(i), r = this.subscribers[e].indexOf(o);\n      return r !== -1 && this.subscribers[e].splice(r, 1), s;\n    };\n    this.subscribers[e].push(o);\n  }\n  /**\n   * Emit callbacks with passed data\n   *\n   * @param eventName - event name\n   * @param data - subscribers get this data when they were fired\n   */\n  emit(e, t) {\n    V(this.subscribers) || !this.subscribers[e] || this.subscribers[e].reduce((o, i) => {\n      const s = i(o);\n      return s !== void 0 ? s : o;\n    }, t);\n  }\n  /**\n   * Unsubscribe callback from event\n   *\n   * @param eventName - event name\n   * @param callback - event handler\n   */\n  off(e, t) {\n    if (this.subscribers[e] === void 0) {\n      console.warn(`EventDispatcher .off(): there is no subscribers for event \"${e.toString()}\". Probably, .off() called before .on()`);\n      return;\n    }\n    for (let o = 0; o < this.subscribers[e].length; o++)\n      if (this.subscribers[e][o] === t) {\n        delete this.subscribers[e][o];\n        break;\n      }\n  }\n  /**\n   * Destroyer\n   * clears subscribers list\n   */\n  destroy() {\n    this.subscribers = {};\n  }\n}\nfunction G(n) {\n  Object.setPrototypeOf(this, {\n    /**\n     * Block id\n     *\n     * @returns {string}\n     */\n    get id() {\n      return n.id;\n    },\n    /**\n     * Tool name\n     *\n     * @returns {string}\n     */\n    get name() {\n      return n.name;\n    },\n    /**\n     * Tool config passed on Editor's initialization\n     *\n     * @returns {ToolConfig}\n     */\n    get config() {\n      return n.config;\n    },\n    /**\n     * .ce-block element, that wraps plugin contents\n     *\n     * @returns {HTMLElement}\n     */\n    get holder() {\n      return n.holder;\n    },\n    /**\n     * True if Block content is empty\n     *\n     * @returns {boolean}\n     */\n    get isEmpty() {\n      return n.isEmpty;\n    },\n    /**\n     * True if Block is selected with Cross-Block selection\n     *\n     * @returns {boolean}\n     */\n    get selected() {\n      return n.selected;\n    },\n    /**\n     * Set Block's stretch state\n     *\n     * @param {boolean} state — state to set\n     */\n    set stretched(t) {\n      n.stretched = t;\n    },\n    /**\n     * True if Block is stretched\n     *\n     * @returns {boolean}\n     */\n    get stretched() {\n      return n.stretched;\n    },\n    /**\n     * True if Block has inputs to be focused\n     */\n    get focusable() {\n      return n.focusable;\n    },\n    /**\n     * Call Tool method with errors handler under-the-hood\n     *\n     * @param {string} methodName - method to call\n     * @param {object} param - object with parameters\n     * @returns {unknown}\n     */\n    call(t, o) {\n      return n.call(t, o);\n    },\n    /**\n     * Save Block content\n     *\n     * @returns {Promise<void|SavedData>}\n     */\n    save() {\n      return n.save();\n    },\n    /**\n     * Validate Block data\n     *\n     * @param {BlockToolData} data - data to validate\n     * @returns {Promise<boolean>}\n     */\n    validate(t) {\n      return n.validate(t);\n    },\n    /**\n     * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback\n     * Can be useful for block changes invisible for editor core.\n     */\n    dispatchChange() {\n      n.dispatchChange();\n    },\n    /**\n     * Tool could specify several entries to be displayed at the Toolbox (for example, \"Heading 1\", \"Heading 2\", \"Heading 3\")\n     * This method returns the entry that is related to the Block (depended on the Block data)\n     */\n    getActiveToolboxEntry() {\n      return n.getActiveToolboxEntry();\n    }\n  });\n}\nclass Ce {\n  constructor() {\n    this.allListeners = [];\n  }\n  /**\n   * Assigns event listener on element and returns unique identifier\n   *\n   * @param {EventTarget} element - DOM element that needs to be listened\n   * @param {string} eventType - event type\n   * @param {Function} handler - method that will be fired on event\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   */\n  on(e, t, o, i = !1) {\n    const s = Ao(\"l\"), r = {\n      id: s,\n      element: e,\n      eventType: t,\n      handler: o,\n      options: i\n    };\n    if (!this.findOne(e, t, o))\n      return this.allListeners.push(r), e.addEventListener(t, o, i), s;\n  }\n  /**\n   * Removes event listener from element\n   *\n   * @param {EventTarget} element - DOM element that we removing listener\n   * @param {string} eventType - event type\n   * @param {Function} handler - remove handler, if element listens several handlers on the same event type\n   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}\n   */\n  off(e, t, o, i) {\n    const s = this.findAll(e, t, o);\n    s.forEach((r, l) => {\n      const a = this.allListeners.indexOf(s[l]);\n      a > -1 && (this.allListeners.splice(a, 1), r.element.removeEventListener(r.eventType, r.handler, r.options));\n    });\n  }\n  /**\n   * Removes listener by id\n   *\n   * @param {string} id - listener identifier\n   */\n  offById(e) {\n    const t = this.findById(e);\n    t && t.element.removeEventListener(t.eventType, t.handler, t.options);\n  }\n  /**\n   * Finds and returns first listener by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} [eventType] - event type\n   * @param {Function} [handler] - event handler\n   * @returns {ListenerData|null}\n   */\n  findOne(e, t, o) {\n    const i = this.findAll(e, t, o);\n    return i.length > 0 ? i[0] : null;\n  }\n  /**\n   * Return all stored listeners by passed params\n   *\n   * @param {EventTarget} element - event target\n   * @param {string} eventType - event type\n   * @param {Function} handler - event handler\n   * @returns {ListenerData[]}\n   */\n  findAll(e, t, o) {\n    let i;\n    const s = e ? this.findByEventTarget(e) : [];\n    return e && t && o ? i = s.filter((r) => r.eventType === t && r.handler === o) : e && t ? i = s.filter((r) => r.eventType === t) : i = s, i;\n  }\n  /**\n   * Removes all listeners\n   */\n  removeAll() {\n    this.allListeners.map((e) => {\n      e.element.removeEventListener(e.eventType, e.handler, e.options);\n    }), this.allListeners = [];\n  }\n  /**\n   * Module cleanup on destruction\n   */\n  destroy() {\n    this.removeAll();\n  }\n  /**\n   * Search method: looks for listener by passed element\n   *\n   * @param {EventTarget} element - searching element\n   * @returns {Array} listeners that found on element\n   */\n  findByEventTarget(e) {\n    return this.allListeners.filter((t) => {\n      if (t.element === e)\n        return t;\n    });\n  }\n  /**\n   * Search method: looks for listener by passed event type\n   *\n   * @param {string} eventType - event type\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  findByType(e) {\n    return this.allListeners.filter((t) => {\n      if (t.eventType === e)\n        return t;\n    });\n  }\n  /**\n   * Search method: looks for listener by passed handler\n   *\n   * @param {Function} handler - event handler\n   * @returns {ListenerData[]} listeners that found on element\n   */\n  findByHandler(e) {\n    return this.allListeners.filter((t) => {\n      if (t.handler === e)\n        return t;\n    });\n  }\n  /**\n   * Returns listener data found by id\n   *\n   * @param {string} id - listener identifier\n   * @returns {ListenerData}\n   */\n  findById(e) {\n    return this.allListeners.find((t) => t.id === e);\n  }\n}\nclass y {\n  /**\n   * @class\n   * @param options - Module options\n   * @param options.config - Module config\n   * @param options.eventsDispatcher - Common event bus\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    if (this.nodes = {}, this.listeners = new Ce(), this.readOnlyMutableListeners = {\n      /**\n       * Assigns event listener on DOM element and pushes into special array that might be removed\n       *\n       * @param {EventTarget} element - DOM Element\n       * @param {string} eventType - Event name\n       * @param {Function} handler - Event handler\n       * @param {boolean|AddEventListenerOptions} options - Listening options\n       */\n      on: (o, i, s, r = !1) => {\n        this.mutableListenerIds.push(\n          this.listeners.on(o, i, s, r)\n        );\n      },\n      /**\n       * Clears all mutable listeners\n       */\n      clearAll: () => {\n        for (const o of this.mutableListenerIds)\n          this.listeners.offById(o);\n        this.mutableListenerIds = [];\n      }\n    }, this.mutableListenerIds = [], new.target === y)\n      throw new TypeError(\"Constructors for abstract class Module are not allowed.\");\n    this.config = e, this.eventsDispatcher = t;\n  }\n  /**\n   * Editor modules setter\n   *\n   * @param {EditorModules} Editor - Editor's Modules\n   */\n  set state(e) {\n    this.Editor = e;\n  }\n  /**\n   * Remove memorized nodes\n   */\n  removeAllNodes() {\n    for (const e in this.nodes) {\n      const t = this.nodes[e];\n      t instanceof HTMLElement && t.remove();\n    }\n  }\n  /**\n   * Returns true if current direction is RTL (Right-To-Left)\n   */\n  get isRtl() {\n    return this.config.i18n.direction === \"rtl\";\n  }\n}\nclass b {\n  constructor() {\n    this.instance = null, this.selection = null, this.savedSelectionRange = null, this.isFakeBackgroundEnabled = !1, this.commandBackground = \"backColor\", this.commandRemoveFormat = \"removeFormat\";\n  }\n  /**\n   * Editor styles\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  static get CSS() {\n    return {\n      editorWrapper: \"codex-editor\",\n      editorZone: \"codex-editor__redactor\"\n    };\n  }\n  /**\n   * Returns selected anchor\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorNode}\n   *\n   * @returns {Node|null}\n   */\n  static get anchorNode() {\n    const e = window.getSelection();\n    return e ? e.anchorNode : null;\n  }\n  /**\n   * Returns selected anchor element\n   *\n   * @returns {Element|null}\n   */\n  static get anchorElement() {\n    const e = window.getSelection();\n    if (!e)\n      return null;\n    const t = e.anchorNode;\n    return t ? d.isElement(t) ? t : t.parentElement : null;\n  }\n  /**\n   * Returns selection offset according to the anchor node\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorOffset}\n   *\n   * @returns {number|null}\n   */\n  static get anchorOffset() {\n    const e = window.getSelection();\n    return e ? e.anchorOffset : null;\n  }\n  /**\n   * Is current selection range collapsed\n   *\n   * @returns {boolean|null}\n   */\n  static get isCollapsed() {\n    const e = window.getSelection();\n    return e ? e.isCollapsed : null;\n  }\n  /**\n   * Check current selection if it is at Editor's zone\n   *\n   * @returns {boolean}\n   */\n  static get isAtEditor() {\n    return this.isSelectionAtEditor(b.get());\n  }\n  /**\n   * Check if passed selection is at Editor's zone\n   *\n   * @param selection - Selection object to check\n   */\n  static isSelectionAtEditor(e) {\n    if (!e)\n      return !1;\n    let t = e.anchorNode || e.focusNode;\n    t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);\n    let o = null;\n    return t && t instanceof Element && (o = t.closest(`.${b.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : !1;\n  }\n  /**\n   * Check if passed range at Editor zone\n   *\n   * @param range - range to check\n   */\n  static isRangeAtEditor(e) {\n    if (!e)\n      return;\n    let t = e.startContainer;\n    t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);\n    let o = null;\n    return t && t instanceof Element && (o = t.closest(`.${b.CSS.editorZone}`)), o ? o.nodeType === Node.ELEMENT_NODE : !1;\n  }\n  /**\n   * Methods return boolean that true if selection exists on the page\n   */\n  static get isSelectionExists() {\n    return !!b.get().anchorNode;\n  }\n  /**\n   * Return first range\n   *\n   * @returns {Range|null}\n   */\n  static get range() {\n    return this.getRangeFromSelection(this.get());\n  }\n  /**\n   * Returns range from passed Selection object\n   *\n   * @param selection - Selection object to get Range from\n   */\n  static getRangeFromSelection(e) {\n    return e && e.rangeCount ? e.getRangeAt(0) : null;\n  }\n  /**\n   * Calculates position and size of selected text\n   *\n   * @returns {DOMRect | ClientRect}\n   */\n  static get rect() {\n    let e = document.selection, t, o = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n    if (e && e.type !== \"Control\")\n      return e = e, t = e.createRange(), o.x = t.boundingLeft, o.y = t.boundingTop, o.width = t.boundingWidth, o.height = t.boundingHeight, o;\n    if (!window.getSelection)\n      return I(\"Method window.getSelection is not supported\", \"warn\"), o;\n    if (e = window.getSelection(), e.rangeCount === null || isNaN(e.rangeCount))\n      return I(\"Method SelectionUtils.rangeCount is not supported\", \"warn\"), o;\n    if (e.rangeCount === 0)\n      return o;\n    if (t = e.getRangeAt(0).cloneRange(), t.getBoundingClientRect && (o = t.getBoundingClientRect()), o.x === 0 && o.y === 0) {\n      const i = document.createElement(\"span\");\n      if (i.getBoundingClientRect) {\n        i.appendChild(document.createTextNode(\"​\")), t.insertNode(i), o = i.getBoundingClientRect();\n        const s = i.parentNode;\n        s.removeChild(i), s.normalize();\n      }\n    }\n    return o;\n  }\n  /**\n   * Returns selected text as String\n   *\n   * @returns {string}\n   */\n  static get text() {\n    return window.getSelection ? window.getSelection().toString() : \"\";\n  }\n  /**\n   * Returns window SelectionUtils\n   * {@link https://developer.mozilla.org/ru/docs/Web/API/Window/getSelection}\n   *\n   * @returns {Selection}\n   */\n  static get() {\n    return window.getSelection();\n  }\n  /**\n   * Set focus to contenteditable or native input element\n   *\n   * @param element - element where to set focus\n   * @param offset - offset of cursor\n   */\n  static setCursor(e, t = 0) {\n    const o = document.createRange(), i = window.getSelection();\n    return d.isNativeInput(e) ? d.canSetCaret(e) ? (e.focus(), e.selectionStart = e.selectionEnd = t, e.getBoundingClientRect()) : void 0 : (o.setStart(e, t), o.setEnd(e, t), i.removeAllRanges(), i.addRange(o), o.getBoundingClientRect());\n  }\n  /**\n   * Check if current range exists and belongs to container\n   *\n   * @param container - where range should be\n   */\n  static isRangeInsideContainer(e) {\n    const t = b.range;\n    return t === null ? !1 : e.contains(t.startContainer);\n  }\n  /**\n   * Adds fake cursor to the current range\n   */\n  static addFakeCursor() {\n    const e = b.range;\n    if (e === null)\n      return;\n    const t = d.make(\"span\", \"codex-editor__fake-cursor\");\n    t.dataset.mutationFree = \"true\", e.collapse(), e.insertNode(t);\n  }\n  /**\n   * Check if passed element contains a fake cursor\n   *\n   * @param el - where to check\n   */\n  static isFakeCursorInsideContainer(e) {\n    return d.find(e, \".codex-editor__fake-cursor\") !== null;\n  }\n  /**\n   * Removes fake cursor from a container\n   *\n   * @param container - container to look for\n   */\n  static removeFakeCursor(e = document.body) {\n    const t = d.find(e, \".codex-editor__fake-cursor\");\n    t && t.remove();\n  }\n  /**\n   * Removes fake background\n   */\n  removeFakeBackground() {\n    this.isFakeBackgroundEnabled && (this.isFakeBackgroundEnabled = !1, document.execCommand(this.commandRemoveFormat));\n  }\n  /**\n   * Sets fake background\n   */\n  setFakeBackground() {\n    document.execCommand(this.commandBackground, !1, \"#a8d6ff\"), this.isFakeBackgroundEnabled = !0;\n  }\n  /**\n   * Save SelectionUtils's range\n   */\n  save() {\n    this.savedSelectionRange = b.range;\n  }\n  /**\n   * Restore saved SelectionUtils's range\n   */\n  restore() {\n    if (!this.savedSelectionRange)\n      return;\n    const e = window.getSelection();\n    e.removeAllRanges(), e.addRange(this.savedSelectionRange);\n  }\n  /**\n   * Clears saved selection\n   */\n  clearSaved() {\n    this.savedSelectionRange = null;\n  }\n  /**\n   * Collapse current selection\n   */\n  collapseToEnd() {\n    const e = window.getSelection(), t = document.createRange();\n    t.selectNodeContents(e.focusNode), t.collapse(!1), e.removeAllRanges(), e.addRange(t);\n  }\n  /**\n   * Looks ahead to find passed tag from current selection\n   *\n   * @param  {string} tagName       - tag to found\n   * @param  {string} [className]   - tag's class name\n   * @param  {number} [searchDepth] - count of tags that can be included. For better performance.\n   * @returns {HTMLElement|null}\n   */\n  findParentTag(e, t, o = 10) {\n    const i = window.getSelection();\n    let s = null;\n    return !i || !i.anchorNode || !i.focusNode ? null : ([\n      /** the Node in which the selection begins */\n      i.anchorNode,\n      /** the Node in which the selection ends */\n      i.focusNode\n    ].forEach((l) => {\n      let a = o;\n      for (; a > 0 && l.parentNode && !(l.tagName === e && (s = l, t && l.classList && !l.classList.contains(t) && (s = null), s)); )\n        l = l.parentNode, a--;\n    }), s);\n  }\n  /**\n   * Expands selection range to the passed parent node\n   *\n   * @param {HTMLElement} element - element which contents should be selected\n   */\n  expandToTag(e) {\n    const t = window.getSelection();\n    t.removeAllRanges();\n    const o = document.createRange();\n    o.selectNodeContents(e), t.addRange(o);\n  }\n}\nfunction Fo(n, e) {\n  const { type: t, target: o, addedNodes: i, removedNodes: s } = n;\n  return n.type === \"attributes\" && n.attributeName === \"data-empty\" ? !1 : !!(e.contains(o) || t === \"childList\" && (Array.from(i).some((a) => a === e) || Array.from(s).some((a) => a === e)));\n}\nconst Je = \"redactor dom changed\", Dt = \"block changed\", Rt = \"fake cursor is about to be toggled\", Ft = \"fake cursor have been set\", ye = \"editor mobile layout toggled\";\nfunction Qe(n, e) {\n  if (!n.conversionConfig)\n    return !1;\n  const t = n.conversionConfig[e];\n  return O(t) || Q(t);\n}\nfunction _e(n, e) {\n  return Qe(n.tool, e);\n}\nfunction Ht(n, e) {\n  return Object.entries(n).some(([t, o]) => e[t] && Oo(e[t], o));\n}\nasync function zt(n, e) {\n  const o = (await n.save()).data, i = e.find((s) => s.name === n.name);\n  return i !== void 0 && !Qe(i, \"export\") ? [] : e.reduce((s, r) => {\n    if (!Qe(r, \"import\") || r.toolbox === void 0)\n      return s;\n    const l = r.toolbox.filter((a) => {\n      if (V(a) || a.icon === void 0)\n        return !1;\n      if (a.data !== void 0) {\n        if (Ht(a.data, o))\n          return !1;\n      } else if (r.name === n.name)\n        return !1;\n      return !0;\n    });\n    return s.push({\n      ...r,\n      toolbox: l\n    }), s;\n  }, []);\n}\nfunction wt(n, e) {\n  return n.mergeable ? n.name === e.name ? !0 : _e(e, \"export\") && _e(n, \"import\") : !1;\n}\nfunction Ho(n, e) {\n  const t = e == null ? void 0 : e.export;\n  return O(t) ? t(n) : Q(t) ? n[t] : (t !== void 0 && I(\"Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export.\"), \"\");\n}\nfunction xt(n, e) {\n  const t = e == null ? void 0 : e.import;\n  return O(t) ? t(n) : Q(t) ? {\n    [t]: n\n  } : (t !== void 0 && I(\"Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.\"), {});\n}\nvar A = /* @__PURE__ */ ((n) => (n.Default = \"default\", n.Separator = \"separator\", n.Html = \"html\", n))(A || {}), J = /* @__PURE__ */ ((n) => (n.APPEND_CALLBACK = \"appendCallback\", n.RENDERED = \"rendered\", n.MOVED = \"moved\", n.UPDATED = \"updated\", n.REMOVED = \"removed\", n.ON_PASTE = \"onPaste\", n))(J || {});\nclass D extends Te {\n  /**\n   * @param options - block constructor options\n   * @param [options.id] - block's id. Will be generated if omitted.\n   * @param options.data - Tool's initial data\n   * @param options.tool — block's tool\n   * @param options.api - Editor API module for pass it to the Block Tunes\n   * @param options.readOnly - Read-Only flag\n   * @param [eventBus] - Editor common event bus. Allows to subscribe on some Editor events. Could be omitted when \"virtual\" Block is created. See BlocksAPI@composeBlockData.\n   */\n  constructor({\n    id: e = Io(),\n    data: t,\n    tool: o,\n    readOnly: i,\n    tunesData: s\n  }, r) {\n    super(), this.cachedInputs = [], this.toolRenderedElement = null, this.tunesInstances = /* @__PURE__ */ new Map(), this.defaultTunesInstances = /* @__PURE__ */ new Map(), this.unavailableTunesData = {}, this.inputIndex = 0, this.editorEventBus = null, this.handleFocus = () => {\n      this.dropInputsCache(), this.updateCurrentInput();\n    }, this.didMutated = (l = void 0) => {\n      const a = l === void 0, c = l instanceof InputEvent;\n      !a && !c && this.detectToolRootChange(l);\n      let u;\n      a || c ? u = !0 : u = !(l.length > 0 && l.every((p) => {\n        const { addedNodes: g, removedNodes: f, target: k } = p;\n        return [\n          ...Array.from(g),\n          ...Array.from(f),\n          k\n        ].some((S) => (d.isElement(S) || (S = S.parentElement), S && S.closest('[data-mutation-free=\"true\"]') !== null));\n      })), u && (this.dropInputsCache(), this.updateCurrentInput(), this.toggleInputsEmptyMark(), this.call(\n        \"updated\"\n        /* UPDATED */\n      ), this.emit(\"didMutated\", this));\n    }, this.name = o.name, this.id = e, this.settings = o.settings, this.config = o.settings.config || {}, this.editorEventBus = r || null, this.blockAPI = new G(this), this.tool = o, this.toolInstance = o.create(t, this.blockAPI, i), this.tunes = o.tunes, this.composeTunes(s), this.holder = this.compose(), window.requestIdleCallback(() => {\n      this.watchBlockMutations(), this.addInputEvents(), this.toggleInputsEmptyMark();\n    });\n  }\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  static get CSS() {\n    return {\n      wrapper: \"ce-block\",\n      wrapperStretched: \"ce-block--stretched\",\n      content: \"ce-block__content\",\n      selected: \"ce-block--selected\",\n      dropTarget: \"ce-block--drop-target\"\n    };\n  }\n  /**\n   * Find and return all editable elements (contenteditable and native inputs) in the Tool HTML\n   */\n  get inputs() {\n    if (this.cachedInputs.length !== 0)\n      return this.cachedInputs;\n    const e = d.findAllInputs(this.holder);\n    return this.inputIndex > e.length - 1 && (this.inputIndex = e.length - 1), this.cachedInputs = e, e;\n  }\n  /**\n   * Return current Tool`s input\n   * If Block doesn't contain inputs, return undefined\n   */\n  get currentInput() {\n    return this.inputs[this.inputIndex];\n  }\n  /**\n   * Set input index to the passed element\n   *\n   * @param element - HTML Element to set as current input\n   */\n  set currentInput(e) {\n    const t = this.inputs.findIndex((o) => o === e || o.contains(e));\n    t !== -1 && (this.inputIndex = t);\n  }\n  /**\n   * Return first Tool`s input\n   * If Block doesn't contain inputs, return undefined\n   */\n  get firstInput() {\n    return this.inputs[0];\n  }\n  /**\n   * Return first Tool`s input\n   * If Block doesn't contain inputs, return undefined\n   */\n  get lastInput() {\n    const e = this.inputs;\n    return e[e.length - 1];\n  }\n  /**\n   * Return next Tool`s input or undefined if it doesn't exist\n   * If Block doesn't contain inputs, return undefined\n   */\n  get nextInput() {\n    return this.inputs[this.inputIndex + 1];\n  }\n  /**\n   * Return previous Tool`s input or undefined if it doesn't exist\n   * If Block doesn't contain inputs, return undefined\n   */\n  get previousInput() {\n    return this.inputs[this.inputIndex - 1];\n  }\n  /**\n   * Get Block's JSON data\n   *\n   * @returns {object}\n   */\n  get data() {\n    return this.save().then((e) => e && !V(e.data) ? e.data : {});\n  }\n  /**\n   * Returns tool's sanitizer config\n   *\n   * @returns {object}\n   */\n  get sanitize() {\n    return this.tool.sanitizeConfig;\n  }\n  /**\n   * is block mergeable\n   * We plugin have merge function then we call it mergeable\n   *\n   * @returns {boolean}\n   */\n  get mergeable() {\n    return O(this.toolInstance.merge);\n  }\n  /**\n   * If Block contains inputs, it is focusable\n   */\n  get focusable() {\n    return this.inputs.length !== 0;\n  }\n  /**\n   * Check block for emptiness\n   *\n   * @returns {boolean}\n   */\n  get isEmpty() {\n    const e = d.isEmpty(this.pluginsContent, \"/\"), t = !this.hasMedia;\n    return e && t;\n  }\n  /**\n   * Check if block has a media content such as images, iframe and other\n   *\n   * @returns {boolean}\n   */\n  get hasMedia() {\n    const e = [\n      \"img\",\n      \"iframe\",\n      \"video\",\n      \"audio\",\n      \"source\",\n      \"input\",\n      \"textarea\",\n      \"twitterwidget\"\n    ];\n    return !!this.holder.querySelector(e.join(\",\"));\n  }\n  /**\n   * Set selected state\n   * We don't need to mark Block as Selected when it is empty\n   *\n   * @param {boolean} state - 'true' to select, 'false' to remove selection\n   */\n  set selected(e) {\n    var i, s;\n    this.holder.classList.toggle(D.CSS.selected, e);\n    const t = e === !0 && b.isRangeInsideContainer(this.holder), o = e === !1 && b.isFakeCursorInsideContainer(this.holder);\n    (t || o) && ((i = this.editorEventBus) == null || i.emit(Rt, { state: e }), t ? b.addFakeCursor() : b.removeFakeCursor(this.holder), (s = this.editorEventBus) == null || s.emit(Ft, { state: e }));\n  }\n  /**\n   * Returns True if it is Selected\n   *\n   * @returns {boolean}\n   */\n  get selected() {\n    return this.holder.classList.contains(D.CSS.selected);\n  }\n  /**\n   * Set stretched state\n   *\n   * @param {boolean} state - 'true' to enable, 'false' to disable stretched state\n   */\n  set stretched(e) {\n    this.holder.classList.toggle(D.CSS.wrapperStretched, e);\n  }\n  /**\n   * Return Block's stretched state\n   *\n   * @returns {boolean}\n   */\n  get stretched() {\n    return this.holder.classList.contains(D.CSS.wrapperStretched);\n  }\n  /**\n   * Toggle drop target state\n   *\n   * @param {boolean} state - 'true' if block is drop target, false otherwise\n   */\n  set dropTarget(e) {\n    this.holder.classList.toggle(D.CSS.dropTarget, e);\n  }\n  /**\n   * Returns Plugins content\n   *\n   * @returns {HTMLElement}\n   */\n  get pluginsContent() {\n    return this.toolRenderedElement;\n  }\n  /**\n   * Calls Tool's method\n   *\n   * Method checks tool property {MethodName}. Fires method with passes params If it is instance of Function\n   *\n   * @param {string} methodName - method to call\n   * @param {object} params - method argument\n   */\n  call(e, t) {\n    if (O(this.toolInstance[e])) {\n      e === \"appendCallback\" && I(\n        \"`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead\",\n        \"warn\"\n      );\n      try {\n        this.toolInstance[e].call(this.toolInstance, t);\n      } catch (o) {\n        I(`Error during '${e}' call: ${o.message}`, \"error\");\n      }\n    }\n  }\n  /**\n   * Call plugins merge method\n   *\n   * @param {BlockToolData} data - data to merge\n   */\n  async mergeWith(e) {\n    await this.toolInstance.merge(e);\n  }\n  /**\n   * Extracts data from Block\n   * Groups Tool's save processing time\n   *\n   * @returns {object}\n   */\n  async save() {\n    const e = await this.toolInstance.save(this.pluginsContent), t = this.unavailableTunesData;\n    [\n      ...this.tunesInstances.entries(),\n      ...this.defaultTunesInstances.entries()\n    ].forEach(([s, r]) => {\n      if (O(r.save))\n        try {\n          t[s] = r.save();\n        } catch (l) {\n          I(`Tune ${r.constructor.name} save method throws an Error %o`, \"warn\", l);\n        }\n    });\n    const o = window.performance.now();\n    let i;\n    return Promise.resolve(e).then((s) => (i = window.performance.now(), {\n      id: this.id,\n      tool: this.name,\n      data: s,\n      tunes: t,\n      time: i - o\n    })).catch((s) => {\n      I(`Saving process for ${this.name} tool failed due to the ${s}`, \"log\", \"red\");\n    });\n  }\n  /**\n   * Uses Tool's validation method to check the correctness of output data\n   * Tool's validation method is optional\n   *\n   * @description Method returns true|false whether data passed the validation or not\n   * @param {BlockToolData} data - data to validate\n   * @returns {Promise<boolean>} valid\n   */\n  async validate(e) {\n    let t = !0;\n    return this.toolInstance.validate instanceof Function && (t = await this.toolInstance.validate(e)), t;\n  }\n  /**\n   * Returns data to render in Block Tunes menu.\n   * Splits block tunes into 2 groups: block specific tunes and common tunes\n   */\n  getTunes() {\n    const e = [], t = [], o = typeof this.toolInstance.renderSettings == \"function\" ? this.toolInstance.renderSettings() : [];\n    return d.isElement(o) ? e.push({\n      type: A.Html,\n      element: o\n    }) : Array.isArray(o) ? e.push(...o) : e.push(o), [\n      ...this.tunesInstances.values(),\n      ...this.defaultTunesInstances.values()\n    ].map((s) => s.render()).forEach((s) => {\n      d.isElement(s) ? t.push({\n        type: A.Html,\n        element: s\n      }) : Array.isArray(s) ? t.push(...s) : t.push(s);\n    }), {\n      toolTunes: e,\n      commonTunes: t\n    };\n  }\n  /**\n   * Update current input index with selection anchor node\n   */\n  updateCurrentInput() {\n    this.currentInput = d.isNativeInput(document.activeElement) || !b.anchorNode ? document.activeElement : b.anchorNode;\n  }\n  /**\n   * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback\n   * Can be useful for block changes invisible for editor core.\n   */\n  dispatchChange() {\n    this.didMutated();\n  }\n  /**\n   * Call Tool instance destroy method\n   */\n  destroy() {\n    this.unwatchBlockMutations(), this.removeInputEvents(), super.destroy(), O(this.toolInstance.destroy) && this.toolInstance.destroy();\n  }\n  /**\n   * Tool could specify several entries to be displayed at the Toolbox (for example, \"Heading 1\", \"Heading 2\", \"Heading 3\")\n   * This method returns the entry that is related to the Block (depended on the Block data)\n   */\n  async getActiveToolboxEntry() {\n    const e = this.tool.toolbox;\n    if (e.length === 1)\n      return Promise.resolve(this.tool.toolbox[0]);\n    const t = await this.data, o = e;\n    return o == null ? void 0 : o.find((i) => Ht(i.data, t));\n  }\n  /**\n   * Exports Block data as string using conversion config\n   */\n  async exportDataAsString() {\n    const e = await this.data;\n    return Ho(e, this.tool.conversionConfig);\n  }\n  /**\n   * Make default Block wrappers and put Tool`s content there\n   *\n   * @returns {HTMLDivElement}\n   */\n  compose() {\n    const e = d.make(\"div\", D.CSS.wrapper), t = d.make(\"div\", D.CSS.content), o = this.toolInstance.render();\n    e.dataset.id = this.id, this.toolRenderedElement = o, t.appendChild(this.toolRenderedElement);\n    let i = t;\n    return [...this.tunesInstances.values(), ...this.defaultTunesInstances.values()].forEach((s) => {\n      if (O(s.wrap))\n        try {\n          i = s.wrap(i);\n        } catch (r) {\n          I(`Tune ${s.constructor.name} wrap method throws an Error %o`, \"warn\", r);\n        }\n    }), e.appendChild(i), e;\n  }\n  /**\n   * Instantiate Block Tunes\n   *\n   * @param tunesData - current Block tunes data\n   * @private\n   */\n  composeTunes(e) {\n    Array.from(this.tunes.values()).forEach((t) => {\n      (t.isInternal ? this.defaultTunesInstances : this.tunesInstances).set(t.name, t.create(e[t.name], this.blockAPI));\n    }), Object.entries(e).forEach(([t, o]) => {\n      this.tunesInstances.has(t) || (this.unavailableTunesData[t] = o);\n    });\n  }\n  /**\n   * Adds focus event listeners to all inputs and contenteditable\n   */\n  addInputEvents() {\n    this.inputs.forEach((e) => {\n      e.addEventListener(\"focus\", this.handleFocus), d.isNativeInput(e) && e.addEventListener(\"input\", this.didMutated);\n    });\n  }\n  /**\n   * removes focus event listeners from all inputs and contenteditable\n   */\n  removeInputEvents() {\n    this.inputs.forEach((e) => {\n      e.removeEventListener(\"focus\", this.handleFocus), d.isNativeInput(e) && e.removeEventListener(\"input\", this.didMutated);\n    });\n  }\n  /**\n   * Listen common editor Dom Changed event and detect mutations related to the  Block\n   */\n  watchBlockMutations() {\n    var e;\n    this.redactorDomChangedCallback = (t) => {\n      const { mutations: o } = t;\n      o.some((s) => Fo(s, this.toolRenderedElement)) && this.didMutated(o);\n    }, (e = this.editorEventBus) == null || e.on(Je, this.redactorDomChangedCallback);\n  }\n  /**\n   * Remove redactor dom change event listener\n   */\n  unwatchBlockMutations() {\n    var e;\n    (e = this.editorEventBus) == null || e.off(Je, this.redactorDomChangedCallback);\n  }\n  /**\n   * Sometimes Tool can replace own main element, for example H2 -> H4 or UL -> OL\n   * We need to detect such changes and update a link to tools main element with the new one\n   *\n   * @param mutations - records of block content mutations\n   */\n  detectToolRootChange(e) {\n    e.forEach((t) => {\n      if (Array.from(t.removedNodes).includes(this.toolRenderedElement)) {\n        const i = t.addedNodes[t.addedNodes.length - 1];\n        this.toolRenderedElement = i;\n      }\n    });\n  }\n  /**\n   * Clears inputs cached value\n   */\n  dropInputsCache() {\n    this.cachedInputs = [];\n  }\n  /**\n   * Mark inputs with 'data-empty' attribute with the empty state\n   */\n  toggleInputsEmptyMark() {\n    this.inputs.forEach(Lt);\n  }\n}\nclass zo extends y {\n  constructor() {\n    super(...arguments), this.insert = (e = this.config.defaultBlock, t = {}, o = {}, i, s, r, l) => {\n      const a = this.Editor.BlockManager.insert({\n        id: l,\n        tool: e,\n        data: t,\n        index: i,\n        needToFocus: s,\n        replace: r\n      });\n      return new G(a);\n    }, this.composeBlockData = async (e) => {\n      const t = this.Editor.Tools.blockTools.get(e);\n      return new D({\n        tool: t,\n        api: this.Editor.API,\n        readOnly: !0,\n        data: {},\n        tunesData: {}\n      }).data;\n    }, this.update = async (e, t, o) => {\n      const { BlockManager: i } = this.Editor, s = i.getBlockById(e);\n      if (s === void 0)\n        throw new Error(`Block with id \"${e}\" not found`);\n      const r = await i.update(s, t, o);\n      return new G(r);\n    }, this.convert = async (e, t, o) => {\n      var h, p;\n      const { BlockManager: i, Tools: s } = this.Editor, r = i.getBlockById(e);\n      if (!r)\n        throw new Error(`Block with id \"${e}\" not found`);\n      const l = s.blockTools.get(r.name), a = s.blockTools.get(t);\n      if (!a)\n        throw new Error(`Block Tool with type \"${t}\" not found`);\n      const c = ((h = l == null ? void 0 : l.conversionConfig) == null ? void 0 : h.export) !== void 0, u = ((p = a.conversionConfig) == null ? void 0 : p.import) !== void 0;\n      if (c && u) {\n        const g = await i.convert(r, t, o);\n        return new G(g);\n      } else {\n        const g = [\n          c ? !1 : Le(r.name),\n          u ? !1 : Le(t)\n        ].filter(Boolean).join(\" and \");\n        throw new Error(`Conversion from \"${r.name}\" to \"${t}\" is not possible. ${g} tool(s) should provide a \"conversionConfig\"`);\n      }\n    }, this.insertMany = (e, t = this.Editor.BlockManager.blocks.length - 1) => {\n      this.validateIndex(t);\n      const o = e.map(({ id: i, type: s, data: r }) => this.Editor.BlockManager.composeBlock({\n        id: i,\n        tool: s || this.config.defaultBlock,\n        data: r\n      }));\n      return this.Editor.BlockManager.insertMany(o, t), o.map((i) => new G(i));\n    };\n  }\n  /**\n   * Available methods\n   *\n   * @returns {Blocks}\n   */\n  get methods() {\n    return {\n      clear: () => this.clear(),\n      render: (e) => this.render(e),\n      renderFromHTML: (e) => this.renderFromHTML(e),\n      delete: (e) => this.delete(e),\n      swap: (e, t) => this.swap(e, t),\n      move: (e, t) => this.move(e, t),\n      getBlockByIndex: (e) => this.getBlockByIndex(e),\n      getById: (e) => this.getById(e),\n      getCurrentBlockIndex: () => this.getCurrentBlockIndex(),\n      getBlockIndex: (e) => this.getBlockIndex(e),\n      getBlocksCount: () => this.getBlocksCount(),\n      getBlockByElement: (e) => this.getBlockByElement(e),\n      stretchBlock: (e, t = !0) => this.stretchBlock(e, t),\n      insertNewBlock: () => this.insertNewBlock(),\n      insert: this.insert,\n      insertMany: this.insertMany,\n      update: this.update,\n      composeBlockData: this.composeBlockData,\n      convert: this.convert\n    };\n  }\n  /**\n   * Returns Blocks count\n   *\n   * @returns {number}\n   */\n  getBlocksCount() {\n    return this.Editor.BlockManager.blocks.length;\n  }\n  /**\n   * Returns current block index\n   *\n   * @returns {number}\n   */\n  getCurrentBlockIndex() {\n    return this.Editor.BlockManager.currentBlockIndex;\n  }\n  /**\n   * Returns the index of Block by id;\n   *\n   * @param id - block id\n   */\n  getBlockIndex(e) {\n    const t = this.Editor.BlockManager.getBlockById(e);\n    if (!t) {\n      X(\"There is no block with id `\" + e + \"`\", \"warn\");\n      return;\n    }\n    return this.Editor.BlockManager.getBlockIndex(t);\n  }\n  /**\n   * Returns BlockAPI object by Block index\n   *\n   * @param {number} index - index to get\n   */\n  getBlockByIndex(e) {\n    const t = this.Editor.BlockManager.getBlockByIndex(e);\n    if (t === void 0) {\n      X(\"There is no block at index `\" + e + \"`\", \"warn\");\n      return;\n    }\n    return new G(t);\n  }\n  /**\n   * Returns BlockAPI object by Block id\n   *\n   * @param id - id of block to get\n   */\n  getById(e) {\n    const t = this.Editor.BlockManager.getBlockById(e);\n    return t === void 0 ? (X(\"There is no block with id `\" + e + \"`\", \"warn\"), null) : new G(t);\n  }\n  /**\n   * Get Block API object by any child html element\n   *\n   * @param element - html element to get Block by\n   */\n  getBlockByElement(e) {\n    const t = this.Editor.BlockManager.getBlock(e);\n    if (t === void 0) {\n      X(\"There is no block corresponding to element `\" + e + \"`\", \"warn\");\n      return;\n    }\n    return new G(t);\n  }\n  /**\n   * Call Block Manager method that swap Blocks\n   *\n   * @param {number} fromIndex - position of first Block\n   * @param {number} toIndex - position of second Block\n   * @deprecated — use 'move' instead\n   */\n  swap(e, t) {\n    I(\n      \"`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead\",\n      \"info\"\n    ), this.Editor.BlockManager.swap(e, t);\n  }\n  /**\n   * Move block from one index to another\n   *\n   * @param {number} toIndex - index to move to\n   * @param {number} fromIndex - index to move from\n   */\n  move(e, t) {\n    this.Editor.BlockManager.move(e, t);\n  }\n  /**\n   * Deletes Block\n   *\n   * @param {number} blockIndex - index of Block to delete\n   */\n  delete(e = this.Editor.BlockManager.currentBlockIndex) {\n    try {\n      const t = this.Editor.BlockManager.getBlockByIndex(e);\n      this.Editor.BlockManager.removeBlock(t);\n    } catch (t) {\n      X(t, \"warn\");\n      return;\n    }\n    this.Editor.BlockManager.blocks.length === 0 && this.Editor.BlockManager.insert(), this.Editor.BlockManager.currentBlock && this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END), this.Editor.Toolbar.close();\n  }\n  /**\n   * Clear Editor's area\n   */\n  async clear() {\n    await this.Editor.BlockManager.clear(!0), this.Editor.InlineToolbar.close();\n  }\n  /**\n   * Fills Editor with Blocks data\n   *\n   * @param {OutputData} data — Saved Editor data\n   */\n  async render(e) {\n    if (e === void 0 || e.blocks === void 0)\n      throw new Error(\"Incorrect data passed to the render() method\");\n    this.Editor.ModificationsObserver.disable(), await this.Editor.BlockManager.clear(), await this.Editor.Renderer.render(e.blocks), this.Editor.ModificationsObserver.enable();\n  }\n  /**\n   * Render passed HTML string\n   *\n   * @param {string} data - HTML string to render\n   * @returns {Promise<void>}\n   */\n  renderFromHTML(e) {\n    return this.Editor.BlockManager.clear(), this.Editor.Paste.processText(e, !0);\n  }\n  /**\n   * Stretch Block's content\n   *\n   * @param {number} index - index of Block to stretch\n   * @param {boolean} status - true to enable, false to disable\n   * @deprecated Use BlockAPI interface to stretch Blocks\n   */\n  stretchBlock(e, t = !0) {\n    Ze(\n      !0,\n      \"blocks.stretchBlock()\",\n      \"BlockAPI\"\n    );\n    const o = this.Editor.BlockManager.getBlockByIndex(e);\n    o && (o.stretched = t);\n  }\n  /**\n   * Insert new Block\n   * After set caret to this Block\n   *\n   * @todo remove in 3.0.0\n   * @deprecated with insert() method\n   */\n  insertNewBlock() {\n    I(\"Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.\", \"warn\"), this.insert();\n  }\n  /**\n   * Validated block index and throws an error if it's invalid\n   *\n   * @param index - index to validate\n   */\n  validateIndex(e) {\n    if (typeof e != \"number\")\n      throw new Error(\"Index should be a number\");\n    if (e < 0)\n      throw new Error(\"Index should be greater than or equal to 0\");\n    if (e === null)\n      throw new Error(\"Index should be greater than or equal to 0\");\n  }\n}\nfunction Uo(n, e) {\n  return typeof n == \"number\" ? e.BlockManager.getBlockByIndex(n) : typeof n == \"string\" ? e.BlockManager.getBlockById(n) : e.BlockManager.getBlockById(n.id);\n}\nclass jo extends y {\n  constructor() {\n    super(...arguments), this.setToFirstBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.firstBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock, e, t), !0) : !1, this.setToLastBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.lastBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock, e, t), !0) : !1, this.setToPreviousBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.previousBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock, e, t), !0) : !1, this.setToNextBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.nextBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock, e, t), !0) : !1, this.setToBlock = (e, t = this.Editor.Caret.positions.DEFAULT, o = 0) => {\n      const i = Uo(e, this.Editor);\n      return i === void 0 ? !1 : (this.Editor.Caret.setToBlock(i, t, o), !0);\n    }, this.focus = (e = !1) => e ? this.setToLastBlock(this.Editor.Caret.positions.END) : this.setToFirstBlock(this.Editor.Caret.positions.START);\n  }\n  /**\n   * Available methods\n   *\n   * @returns {Caret}\n   */\n  get methods() {\n    return {\n      setToFirstBlock: this.setToFirstBlock,\n      setToLastBlock: this.setToLastBlock,\n      setToPreviousBlock: this.setToPreviousBlock,\n      setToNextBlock: this.setToNextBlock,\n      setToBlock: this.setToBlock,\n      focus: this.focus\n    };\n  }\n}\nclass $o extends y {\n  /**\n   * Available methods\n   *\n   * @returns {Events}\n   */\n  get methods() {\n    return {\n      emit: (e, t) => this.emit(e, t),\n      off: (e, t) => this.off(e, t),\n      on: (e, t) => this.on(e, t)\n    };\n  }\n  /**\n   * Subscribe on Events\n   *\n   * @param {string} eventName - event name to subscribe\n   * @param {Function} callback - event handler\n   */\n  on(e, t) {\n    this.eventsDispatcher.on(e, t);\n  }\n  /**\n   * Emit event with data\n   *\n   * @param {string} eventName - event to emit\n   * @param {object} data - event's data\n   */\n  emit(e, t) {\n    this.eventsDispatcher.emit(e, t);\n  }\n  /**\n   * Unsubscribe from Event\n   *\n   * @param {string} eventName - event to unsubscribe\n   * @param {Function} callback - event handler\n   */\n  off(e, t) {\n    this.eventsDispatcher.off(e, t);\n  }\n}\nclass ot extends y {\n  /**\n   * Return namespace section for tool or block tune\n   *\n   * @param toolName - tool name\n   * @param isTune - is tool a block tune\n   */\n  static getNamespace(e, t) {\n    return t ? `blockTunes.${e}` : `tools.${e}`;\n  }\n  /**\n   * Return I18n API methods with global dictionary access\n   */\n  get methods() {\n    return {\n      t: () => {\n        X(\"I18n.t() method can be accessed only from Tools\", \"warn\");\n      }\n    };\n  }\n  /**\n   * Return I18n API methods with tool namespaced dictionary\n   *\n   * @param toolName - tool name\n   * @param isTune - is tool a block tune\n   */\n  getMethodsForTool(e, t) {\n    return Object.assign(\n      this.methods,\n      {\n        t: (o) => z.t(ot.getNamespace(e, t), o)\n      }\n    );\n  }\n}\nclass Yo extends y {\n  /**\n   * Editor.js Core API modules\n   */\n  get methods() {\n    return {\n      blocks: this.Editor.BlocksAPI.methods,\n      caret: this.Editor.CaretAPI.methods,\n      tools: this.Editor.ToolsAPI.methods,\n      events: this.Editor.EventsAPI.methods,\n      listeners: this.Editor.ListenersAPI.methods,\n      notifier: this.Editor.NotifierAPI.methods,\n      sanitizer: this.Editor.SanitizerAPI.methods,\n      saver: this.Editor.SaverAPI.methods,\n      selection: this.Editor.SelectionAPI.methods,\n      styles: this.Editor.StylesAPI.classes,\n      toolbar: this.Editor.ToolbarAPI.methods,\n      inlineToolbar: this.Editor.InlineToolbarAPI.methods,\n      tooltip: this.Editor.TooltipAPI.methods,\n      i18n: this.Editor.I18nAPI.methods,\n      readOnly: this.Editor.ReadOnlyAPI.methods,\n      ui: this.Editor.UiAPI.methods\n    };\n  }\n  /**\n   * Returns Editor.js Core API methods for passed tool\n   *\n   * @param toolName - tool name\n   * @param isTune - is tool a block tune\n   */\n  getMethodsForTool(e, t) {\n    return Object.assign(\n      this.methods,\n      {\n        i18n: this.Editor.I18nAPI.getMethodsForTool(e, t)\n      }\n    );\n  }\n}\nclass Wo extends y {\n  /**\n   * Available methods\n   *\n   * @returns {InlineToolbar}\n   */\n  get methods() {\n    return {\n      close: () => this.close(),\n      open: () => this.open()\n    };\n  }\n  /**\n   * Open Inline Toolbar\n   */\n  open() {\n    this.Editor.InlineToolbar.tryToShow();\n  }\n  /**\n   * Close Inline Toolbar\n   */\n  close() {\n    this.Editor.InlineToolbar.close();\n  }\n}\nclass Ko extends y {\n  /**\n   * Available methods\n   *\n   * @returns {Listeners}\n   */\n  get methods() {\n    return {\n      on: (e, t, o, i) => this.on(e, t, o, i),\n      off: (e, t, o, i) => this.off(e, t, o, i),\n      offById: (e) => this.offById(e)\n    };\n  }\n  /**\n   * Ads a DOM event listener. Return it's id.\n   *\n   * @param {HTMLElement} element - Element to set handler to\n   * @param {string} eventType - event type\n   * @param {() => void} handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  on(e, t, o, i) {\n    return this.listeners.on(e, t, o, i);\n  }\n  /**\n   * Removes DOM listener from element\n   *\n   * @param {Element} element - Element to remove handler from\n   * @param eventType - event type\n   * @param handler - event handler\n   * @param {boolean} useCapture - capture event or not\n   */\n  off(e, t, o, i) {\n    this.listeners.off(e, t, o, i);\n  }\n  /**\n   * Removes DOM listener by the listener id\n   *\n   * @param id - id of the listener to remove\n   */\n  offById(e) {\n    this.listeners.offById(e);\n  }\n}\nvar Ut = { exports: {} };\n(function(n, e) {\n  (function(t, o) {\n    n.exports = o();\n  })(window, function() {\n    return function(t) {\n      var o = {};\n      function i(s) {\n        if (o[s])\n          return o[s].exports;\n        var r = o[s] = { i: s, l: !1, exports: {} };\n        return t[s].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n      }\n      return i.m = t, i.c = o, i.d = function(s, r, l) {\n        i.o(s, r) || Object.defineProperty(s, r, { enumerable: !0, get: l });\n      }, i.r = function(s) {\n        typeof Symbol < \"u\" && Symbol.toStringTag && Object.defineProperty(s, Symbol.toStringTag, { value: \"Module\" }), Object.defineProperty(s, \"__esModule\", { value: !0 });\n      }, i.t = function(s, r) {\n        if (1 & r && (s = i(s)), 8 & r || 4 & r && typeof s == \"object\" && s && s.__esModule)\n          return s;\n        var l = /* @__PURE__ */ Object.create(null);\n        if (i.r(l), Object.defineProperty(l, \"default\", { enumerable: !0, value: s }), 2 & r && typeof s != \"string\")\n          for (var a in s)\n            i.d(l, a, (function(c) {\n              return s[c];\n            }).bind(null, a));\n        return l;\n      }, i.n = function(s) {\n        var r = s && s.__esModule ? function() {\n          return s.default;\n        } : function() {\n          return s;\n        };\n        return i.d(r, \"a\", r), r;\n      }, i.o = function(s, r) {\n        return Object.prototype.hasOwnProperty.call(s, r);\n      }, i.p = \"/\", i(i.s = 0);\n    }([function(t, o, i) {\n      i(1), /*!\n       * Codex JavaScript Notification module\n       * https://github.com/codex-team/js-notifier\n       */\n      t.exports = function() {\n        var s = i(6), r = \"cdx-notify--bounce-in\", l = null;\n        return { show: function(a) {\n          if (a.message) {\n            (function() {\n              if (l)\n                return !0;\n              l = s.getWrapper(), document.body.appendChild(l);\n            })();\n            var c = null, u = a.time || 8e3;\n            switch (a.type) {\n              case \"confirm\":\n                c = s.confirm(a);\n                break;\n              case \"prompt\":\n                c = s.prompt(a);\n                break;\n              default:\n                c = s.alert(a), window.setTimeout(function() {\n                  c.remove();\n                }, u);\n            }\n            l.appendChild(c), c.classList.add(r);\n          }\n        } };\n      }();\n    }, function(t, o, i) {\n      var s = i(2);\n      typeof s == \"string\" && (s = [[t.i, s, \"\"]]);\n      var r = { hmr: !0, transform: void 0, insertInto: void 0 };\n      i(4)(s, r), s.locals && (t.exports = s.locals);\n    }, function(t, o, i) {\n      (t.exports = i(3)(!1)).push([t.i, `.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen,Ubuntu,Cantarell,\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`, \"\"]);\n    }, function(t, o) {\n      t.exports = function(i) {\n        var s = [];\n        return s.toString = function() {\n          return this.map(function(r) {\n            var l = function(a, c) {\n              var u = a[1] || \"\", h = a[3];\n              if (!h)\n                return u;\n              if (c && typeof btoa == \"function\") {\n                var p = (f = h, \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(f)))) + \" */\"), g = h.sources.map(function(k) {\n                  return \"/*# sourceURL=\" + h.sourceRoot + k + \" */\";\n                });\n                return [u].concat(g).concat([p]).join(`\n`);\n              }\n              var f;\n              return [u].join(`\n`);\n            }(r, i);\n            return r[2] ? \"@media \" + r[2] + \"{\" + l + \"}\" : l;\n          }).join(\"\");\n        }, s.i = function(r, l) {\n          typeof r == \"string\" && (r = [[null, r, \"\"]]);\n          for (var a = {}, c = 0; c < this.length; c++) {\n            var u = this[c][0];\n            typeof u == \"number\" && (a[u] = !0);\n          }\n          for (c = 0; c < r.length; c++) {\n            var h = r[c];\n            typeof h[0] == \"number\" && a[h[0]] || (l && !h[2] ? h[2] = l : l && (h[2] = \"(\" + h[2] + \") and (\" + l + \")\"), s.push(h));\n          }\n        }, s;\n      };\n    }, function(t, o, i) {\n      var s, r, l = {}, a = (s = function() {\n        return window && document && document.all && !window.atob;\n      }, function() {\n        return r === void 0 && (r = s.apply(this, arguments)), r;\n      }), c = function(v) {\n        var m = {};\n        return function(x) {\n          if (typeof x == \"function\")\n            return x();\n          if (m[x] === void 0) {\n            var E = (function(M) {\n              return document.querySelector(M);\n            }).call(this, x);\n            if (window.HTMLIFrameElement && E instanceof window.HTMLIFrameElement)\n              try {\n                E = E.contentDocument.head;\n              } catch {\n                E = null;\n              }\n            m[x] = E;\n          }\n          return m[x];\n        };\n      }(), u = null, h = 0, p = [], g = i(5);\n      function f(v, m) {\n        for (var x = 0; x < v.length; x++) {\n          var E = v[x], M = l[E.id];\n          if (M) {\n            M.refs++;\n            for (var T = 0; T < M.parts.length; T++)\n              M.parts[T](E.parts[T]);\n            for (; T < E.parts.length; T++)\n              M.parts.push(j(E.parts[T], m));\n          } else {\n            var P = [];\n            for (T = 0; T < E.parts.length; T++)\n              P.push(j(E.parts[T], m));\n            l[E.id] = { id: E.id, refs: 1, parts: P };\n          }\n        }\n      }\n      function k(v, m) {\n        for (var x = [], E = {}, M = 0; M < v.length; M++) {\n          var T = v[M], P = m.base ? T[0] + m.base : T[0], B = { css: T[1], media: T[2], sourceMap: T[3] };\n          E[P] ? E[P].parts.push(B) : x.push(E[P] = { id: P, parts: [B] });\n        }\n        return x;\n      }\n      function C(v, m) {\n        var x = c(v.insertInto);\n        if (!x)\n          throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n        var E = p[p.length - 1];\n        if (v.insertAt === \"top\")\n          E ? E.nextSibling ? x.insertBefore(m, E.nextSibling) : x.appendChild(m) : x.insertBefore(m, x.firstChild), p.push(m);\n        else if (v.insertAt === \"bottom\")\n          x.appendChild(m);\n        else {\n          if (typeof v.insertAt != \"object\" || !v.insertAt.before)\n            throw new Error(`[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n`);\n          var M = c(v.insertInto + \" \" + v.insertAt.before);\n          x.insertBefore(m, M);\n        }\n      }\n      function S(v) {\n        if (v.parentNode === null)\n          return !1;\n        v.parentNode.removeChild(v);\n        var m = p.indexOf(v);\n        m >= 0 && p.splice(m, 1);\n      }\n      function _(v) {\n        var m = document.createElement(\"style\");\n        return v.attrs.type === void 0 && (v.attrs.type = \"text/css\"), ee(m, v.attrs), C(v, m), m;\n      }\n      function ee(v, m) {\n        Object.keys(m).forEach(function(x) {\n          v.setAttribute(x, m[x]);\n        });\n      }\n      function j(v, m) {\n        var x, E, M, T;\n        if (m.transform && v.css) {\n          if (!(T = m.transform(v.css)))\n            return function() {\n            };\n          v.css = T;\n        }\n        if (m.singleton) {\n          var P = h++;\n          x = u || (u = _(m)), E = fe.bind(null, x, P, !1), M = fe.bind(null, x, P, !0);\n        } else\n          v.sourceMap && typeof URL == \"function\" && typeof URL.createObjectURL == \"function\" && typeof URL.revokeObjectURL == \"function\" && typeof Blob == \"function\" && typeof btoa == \"function\" ? (x = function(B) {\n            var Y = document.createElement(\"link\");\n            return B.attrs.type === void 0 && (B.attrs.type = \"text/css\"), B.attrs.rel = \"stylesheet\", ee(Y, B.attrs), C(B, Y), Y;\n          }(m), E = (function(B, Y, ge) {\n            var ie = ge.css, He = ge.sourceMap, mo = Y.convertToAbsoluteUrls === void 0 && He;\n            (Y.convertToAbsoluteUrls || mo) && (ie = g(ie)), He && (ie += `\n/*# sourceMappingURL=data:application/json;base64,` + btoa(unescape(encodeURIComponent(JSON.stringify(He)))) + \" */\");\n            var bo = new Blob([ie], { type: \"text/css\" }), mt = B.href;\n            B.href = URL.createObjectURL(bo), mt && URL.revokeObjectURL(mt);\n          }).bind(null, x, m), M = function() {\n            S(x), x.href && URL.revokeObjectURL(x.href);\n          }) : (x = _(m), E = (function(B, Y) {\n            var ge = Y.css, ie = Y.media;\n            if (ie && B.setAttribute(\"media\", ie), B.styleSheet)\n              B.styleSheet.cssText = ge;\n            else {\n              for (; B.firstChild; )\n                B.removeChild(B.firstChild);\n              B.appendChild(document.createTextNode(ge));\n            }\n          }).bind(null, x), M = function() {\n            S(x);\n          });\n        return E(v), function(B) {\n          if (B) {\n            if (B.css === v.css && B.media === v.media && B.sourceMap === v.sourceMap)\n              return;\n            E(v = B);\n          } else\n            M();\n        };\n      }\n      t.exports = function(v, m) {\n        if (typeof DEBUG < \"u\" && DEBUG && typeof document != \"object\")\n          throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n        (m = m || {}).attrs = typeof m.attrs == \"object\" ? m.attrs : {}, m.singleton || typeof m.singleton == \"boolean\" || (m.singleton = a()), m.insertInto || (m.insertInto = \"head\"), m.insertAt || (m.insertAt = \"bottom\");\n        var x = k(v, m);\n        return f(x, m), function(E) {\n          for (var M = [], T = 0; T < x.length; T++) {\n            var P = x[T];\n            (B = l[P.id]).refs--, M.push(B);\n          }\n          for (E && f(k(E, m), m), T = 0; T < M.length; T++) {\n            var B;\n            if ((B = M[T]).refs === 0) {\n              for (var Y = 0; Y < B.parts.length; Y++)\n                B.parts[Y]();\n              delete l[B.id];\n            }\n          }\n        };\n      };\n      var $, oe = ($ = [], function(v, m) {\n        return $[v] = m, $.filter(Boolean).join(`\n`);\n      });\n      function fe(v, m, x, E) {\n        var M = x ? \"\" : E.css;\n        if (v.styleSheet)\n          v.styleSheet.cssText = oe(m, M);\n        else {\n          var T = document.createTextNode(M), P = v.childNodes;\n          P[m] && v.removeChild(P[m]), P.length ? v.insertBefore(T, P[m]) : v.appendChild(T);\n        }\n      }\n    }, function(t, o) {\n      t.exports = function(i) {\n        var s = typeof window < \"u\" && window.location;\n        if (!s)\n          throw new Error(\"fixUrls requires window.location\");\n        if (!i || typeof i != \"string\")\n          return i;\n        var r = s.protocol + \"//\" + s.host, l = r + s.pathname.replace(/\\/[^\\/]*$/, \"/\");\n        return i.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(a, c) {\n          var u, h = c.trim().replace(/^\"(.*)\"$/, function(p, g) {\n            return g;\n          }).replace(/^'(.*)'$/, function(p, g) {\n            return g;\n          });\n          return /^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(h) ? a : (u = h.indexOf(\"//\") === 0 ? h : h.indexOf(\"/\") === 0 ? r + h : l + h.replace(/^\\.\\//, \"\"), \"url(\" + JSON.stringify(u) + \")\");\n        });\n      };\n    }, function(t, o, i) {\n      var s, r, l, a, c, u, h, p, g;\n      t.exports = (s = \"cdx-notifies\", r = \"cdx-notify\", l = \"cdx-notify__cross\", a = \"cdx-notify__button--confirm\", c = \"cdx-notify__button--cancel\", u = \"cdx-notify__input\", h = \"cdx-notify__button\", p = \"cdx-notify__btns-wrapper\", { alert: g = function(f) {\n        var k = document.createElement(\"DIV\"), C = document.createElement(\"DIV\"), S = f.message, _ = f.style;\n        return k.classList.add(r), _ && k.classList.add(r + \"--\" + _), k.innerHTML = S, C.classList.add(l), C.addEventListener(\"click\", k.remove.bind(k)), k.appendChild(C), k;\n      }, confirm: function(f) {\n        var k = g(f), C = document.createElement(\"div\"), S = document.createElement(\"button\"), _ = document.createElement(\"button\"), ee = k.querySelector(\".\" + l), j = f.cancelHandler, $ = f.okHandler;\n        return C.classList.add(p), S.innerHTML = f.okText || \"Confirm\", _.innerHTML = f.cancelText || \"Cancel\", S.classList.add(h), _.classList.add(h), S.classList.add(a), _.classList.add(c), j && typeof j == \"function\" && (_.addEventListener(\"click\", j), ee.addEventListener(\"click\", j)), $ && typeof $ == \"function\" && S.addEventListener(\"click\", $), S.addEventListener(\"click\", k.remove.bind(k)), _.addEventListener(\"click\", k.remove.bind(k)), C.appendChild(S), C.appendChild(_), k.appendChild(C), k;\n      }, prompt: function(f) {\n        var k = g(f), C = document.createElement(\"div\"), S = document.createElement(\"button\"), _ = document.createElement(\"input\"), ee = k.querySelector(\".\" + l), j = f.cancelHandler, $ = f.okHandler;\n        return C.classList.add(p), S.innerHTML = f.okText || \"Ok\", S.classList.add(h), S.classList.add(a), _.classList.add(u), f.placeholder && _.setAttribute(\"placeholder\", f.placeholder), f.default && (_.value = f.default), f.inputType && (_.type = f.inputType), j && typeof j == \"function\" && ee.addEventListener(\"click\", j), $ && typeof $ == \"function\" && S.addEventListener(\"click\", function() {\n          $(_.value);\n        }), S.addEventListener(\"click\", k.remove.bind(k)), C.appendChild(_), C.appendChild(S), k.appendChild(C), k;\n      }, getWrapper: function() {\n        var f = document.createElement(\"DIV\");\n        return f.classList.add(s), f;\n      } });\n    }]);\n  });\n})(Ut);\nvar Xo = Ut.exports;\nconst Vo = /* @__PURE__ */ Fe(Xo);\nclass qo {\n  /**\n   * Show web notification\n   *\n   * @param {NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions} options - notification options\n   */\n  show(e) {\n    Vo.show(e);\n  }\n}\nclass Zo extends y {\n  /**\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    }), this.notifier = new qo();\n  }\n  /**\n   * Available methods\n   */\n  get methods() {\n    return {\n      show: (e) => this.show(e)\n    };\n  }\n  /**\n   * Show notification\n   *\n   * @param {NotifierOptions} options - message option\n   */\n  show(e) {\n    return this.notifier.show(e);\n  }\n}\nclass Go extends y {\n  /**\n   * Available methods\n   */\n  get methods() {\n    const e = () => this.isEnabled;\n    return {\n      toggle: (t) => this.toggle(t),\n      get isEnabled() {\n        return e();\n      }\n    };\n  }\n  /**\n   * Set or toggle read-only state\n   *\n   * @param {boolean|undefined} state - set or toggle state\n   * @returns {boolean} current value\n   */\n  toggle(e) {\n    return this.Editor.ReadOnly.toggle(e);\n  }\n  /**\n   * Returns current read-only state\n   */\n  get isEnabled() {\n    return this.Editor.ReadOnly.isEnabled;\n  }\n}\nvar jt = { exports: {} };\n(function(n, e) {\n  (function(t, o) {\n    n.exports = o();\n  })(ko, function() {\n    function t(h) {\n      var p = h.tags, g = Object.keys(p), f = g.map(function(k) {\n        return typeof p[k];\n      }).every(function(k) {\n        return k === \"object\" || k === \"boolean\" || k === \"function\";\n      });\n      if (!f)\n        throw new Error(\"The configuration was invalid\");\n      this.config = h;\n    }\n    var o = [\"P\", \"LI\", \"TD\", \"TH\", \"DIV\", \"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\", \"PRE\"];\n    function i(h) {\n      return o.indexOf(h.nodeName) !== -1;\n    }\n    var s = [\"A\", \"B\", \"STRONG\", \"I\", \"EM\", \"SUB\", \"SUP\", \"U\", \"STRIKE\"];\n    function r(h) {\n      return s.indexOf(h.nodeName) !== -1;\n    }\n    t.prototype.clean = function(h) {\n      const p = document.implementation.createHTMLDocument(), g = p.createElement(\"div\");\n      return g.innerHTML = h, this._sanitize(p, g), g.innerHTML;\n    }, t.prototype._sanitize = function(h, p) {\n      var g = l(h, p), f = g.firstChild();\n      if (f)\n        do {\n          if (f.nodeType === Node.TEXT_NODE)\n            if (f.data.trim() === \"\" && (f.previousElementSibling && i(f.previousElementSibling) || f.nextElementSibling && i(f.nextElementSibling))) {\n              p.removeChild(f), this._sanitize(h, p);\n              break;\n            } else\n              continue;\n          if (f.nodeType === Node.COMMENT_NODE) {\n            p.removeChild(f), this._sanitize(h, p);\n            break;\n          }\n          var k = r(f), C;\n          k && (C = Array.prototype.some.call(f.childNodes, i));\n          var S = !!p.parentNode, _ = i(p) && i(f) && S, ee = f.nodeName.toLowerCase(), j = a(this.config, ee, f), $ = k && C;\n          if ($ || c(f, j) || !this.config.keepNestedBlockElements && _) {\n            if (!(f.nodeName === \"SCRIPT\" || f.nodeName === \"STYLE\"))\n              for (; f.childNodes.length > 0; )\n                p.insertBefore(f.childNodes[0], f);\n            p.removeChild(f), this._sanitize(h, p);\n            break;\n          }\n          for (var oe = 0; oe < f.attributes.length; oe += 1) {\n            var fe = f.attributes[oe];\n            u(fe, j, f) && (f.removeAttribute(fe.name), oe = oe - 1);\n          }\n          this._sanitize(h, f);\n        } while (f = g.nextSibling());\n    };\n    function l(h, p) {\n      return h.createTreeWalker(\n        p,\n        NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT,\n        null,\n        !1\n      );\n    }\n    function a(h, p, g) {\n      return typeof h.tags[p] == \"function\" ? h.tags[p](g) : h.tags[p];\n    }\n    function c(h, p) {\n      return typeof p > \"u\" ? !0 : typeof p == \"boolean\" ? !p : !1;\n    }\n    function u(h, p, g) {\n      var f = h.name.toLowerCase();\n      return p === !0 ? !1 : typeof p[f] == \"function\" ? !p[f](h.value, g) : typeof p[f] > \"u\" || p[f] === !1 ? !0 : typeof p[f] == \"string\" ? p[f] !== h.value : !1;\n    }\n    return t;\n  });\n})(jt);\nvar Jo = jt.exports;\nconst Qo = /* @__PURE__ */ Fe(Jo);\nfunction it(n, e) {\n  return n.map((t) => {\n    const o = O(e) ? e(t.tool) : e;\n    return V(o) || (t.data = st(t.data, o)), t;\n  });\n}\nfunction q(n, e = {}) {\n  const t = {\n    tags: e\n  };\n  return new Qo(t).clean(n);\n}\nfunction st(n, e) {\n  return Array.isArray(n) ? ei(n, e) : R(n) ? ti(n, e) : Q(n) ? oi(n, e) : n;\n}\nfunction ei(n, e) {\n  return n.map((t) => st(t, e));\n}\nfunction ti(n, e) {\n  const t = {};\n  for (const o in n) {\n    if (!Object.prototype.hasOwnProperty.call(n, o))\n      continue;\n    const i = n[o], s = ii(e[o]) ? e[o] : e;\n    t[o] = st(i, s);\n  }\n  return t;\n}\nfunction oi(n, e) {\n  return R(e) ? q(n, e) : e === !1 ? q(n, {}) : n;\n}\nfunction ii(n) {\n  return R(n) || yo(n) || O(n);\n}\nclass si extends y {\n  /**\n   * Available methods\n   *\n   * @returns {SanitizerConfig}\n   */\n  get methods() {\n    return {\n      clean: (e, t) => this.clean(e, t)\n    };\n  }\n  /**\n   * Perform sanitizing of a string\n   *\n   * @param {string} taintString - what to sanitize\n   * @param {SanitizerConfig} config - sanitizer config\n   * @returns {string}\n   */\n  clean(e, t) {\n    return q(e, t);\n  }\n}\nclass ni extends y {\n  /**\n   * Available methods\n   *\n   * @returns {Saver}\n   */\n  get methods() {\n    return {\n      save: () => this.save()\n    };\n  }\n  /**\n   * Return Editor's data\n   *\n   * @returns {OutputData}\n   */\n  save() {\n    const e = \"Editor's content can not be saved in read-only mode\";\n    return this.Editor.ReadOnly.isEnabled ? (X(e, \"warn\"), Promise.reject(new Error(e))) : this.Editor.Saver.save();\n  }\n}\nclass ri extends y {\n  constructor() {\n    super(...arguments), this.selectionUtils = new b();\n  }\n  /**\n   * Available methods\n   *\n   * @returns {SelectionAPIInterface}\n   */\n  get methods() {\n    return {\n      findParentTag: (e, t) => this.findParentTag(e, t),\n      expandToTag: (e) => this.expandToTag(e),\n      save: () => this.selectionUtils.save(),\n      restore: () => this.selectionUtils.restore(),\n      setFakeBackground: () => this.selectionUtils.setFakeBackground(),\n      removeFakeBackground: () => this.selectionUtils.removeFakeBackground()\n    };\n  }\n  /**\n   * Looks ahead from selection and find passed tag with class name\n   *\n   * @param {string} tagName - tag to find\n   * @param {string} className - tag's class name\n   * @returns {HTMLElement|null}\n   */\n  findParentTag(e, t) {\n    return this.selectionUtils.findParentTag(e, t);\n  }\n  /**\n   * Expand selection to passed tag\n   *\n   * @param {HTMLElement} node - tag that should contain selection\n   */\n  expandToTag(e) {\n    this.selectionUtils.expandToTag(e);\n  }\n}\nclass li extends y {\n  /**\n   * Available methods\n   */\n  get methods() {\n    return {\n      getBlockTools: () => Array.from(this.Editor.Tools.blockTools.values())\n    };\n  }\n}\nclass ai extends y {\n  /**\n   * Exported classes\n   */\n  get classes() {\n    return {\n      /**\n       * Base Block styles\n       */\n      block: \"cdx-block\",\n      /**\n       * Inline Tools styles\n       */\n      inlineToolButton: \"ce-inline-tool\",\n      inlineToolButtonActive: \"ce-inline-tool--active\",\n      /**\n       * UI elements\n       */\n      input: \"cdx-input\",\n      loader: \"cdx-loader\",\n      button: \"cdx-button\",\n      /**\n       * Settings styles\n       */\n      settingsButton: \"cdx-settings-button\",\n      settingsButtonActive: \"cdx-settings-button--active\"\n    };\n  }\n}\nclass ci extends y {\n  /**\n   * Available methods\n   *\n   * @returns {Toolbar}\n   */\n  get methods() {\n    return {\n      close: () => this.close(),\n      open: () => this.open(),\n      toggleBlockSettings: (e) => this.toggleBlockSettings(e),\n      toggleToolbox: (e) => this.toggleToolbox(e)\n    };\n  }\n  /**\n   * Open toolbar\n   */\n  open() {\n    this.Editor.Toolbar.moveAndOpen();\n  }\n  /**\n   * Close toolbar and all included elements\n   */\n  close() {\n    this.Editor.Toolbar.close();\n  }\n  /**\n   * Toggles Block Setting of the current block\n   *\n   * @param {boolean} openingState —  opening state of Block Setting\n   */\n  toggleBlockSettings(e) {\n    if (this.Editor.BlockManager.currentBlockIndex === -1) {\n      X(\"Could't toggle the Toolbar because there is no block selected \", \"warn\");\n      return;\n    }\n    e ?? !this.Editor.BlockSettings.opened ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.BlockSettings.open()) : this.Editor.BlockSettings.close();\n  }\n  /**\n   * Open toolbox\n   *\n   * @param {boolean} openingState - Opening state of toolbox\n   */\n  toggleToolbox(e) {\n    if (this.Editor.BlockManager.currentBlockIndex === -1) {\n      X(\"Could't toggle the Toolbox because there is no block selected \", \"warn\");\n      return;\n    }\n    e ?? !this.Editor.Toolbar.toolbox.opened ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open()) : this.Editor.Toolbar.toolbox.close();\n  }\n}\nvar $t = { exports: {} };\n/*!\n * CodeX.Tooltips\n * \n * @version 1.0.5\n * \n * @licence MIT\n * @author CodeX <https://codex.so>\n * \n * \n */\n(function(n, e) {\n  (function(t, o) {\n    n.exports = o();\n  })(window, function() {\n    return function(t) {\n      var o = {};\n      function i(s) {\n        if (o[s])\n          return o[s].exports;\n        var r = o[s] = { i: s, l: !1, exports: {} };\n        return t[s].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n      }\n      return i.m = t, i.c = o, i.d = function(s, r, l) {\n        i.o(s, r) || Object.defineProperty(s, r, { enumerable: !0, get: l });\n      }, i.r = function(s) {\n        typeof Symbol < \"u\" && Symbol.toStringTag && Object.defineProperty(s, Symbol.toStringTag, { value: \"Module\" }), Object.defineProperty(s, \"__esModule\", { value: !0 });\n      }, i.t = function(s, r) {\n        if (1 & r && (s = i(s)), 8 & r || 4 & r && typeof s == \"object\" && s && s.__esModule)\n          return s;\n        var l = /* @__PURE__ */ Object.create(null);\n        if (i.r(l), Object.defineProperty(l, \"default\", { enumerable: !0, value: s }), 2 & r && typeof s != \"string\")\n          for (var a in s)\n            i.d(l, a, (function(c) {\n              return s[c];\n            }).bind(null, a));\n        return l;\n      }, i.n = function(s) {\n        var r = s && s.__esModule ? function() {\n          return s.default;\n        } : function() {\n          return s;\n        };\n        return i.d(r, \"a\", r), r;\n      }, i.o = function(s, r) {\n        return Object.prototype.hasOwnProperty.call(s, r);\n      }, i.p = \"\", i(i.s = 0);\n    }([function(t, o, i) {\n      t.exports = i(1);\n    }, function(t, o, i) {\n      i.r(o), i.d(o, \"default\", function() {\n        return s;\n      });\n      class s {\n        constructor() {\n          this.nodes = { wrapper: null, content: null }, this.showed = !1, this.offsetTop = 10, this.offsetLeft = 10, this.offsetRight = 10, this.hidingDelay = 0, this.handleWindowScroll = () => {\n            this.showed && this.hide(!0);\n          }, this.loadStyles(), this.prepare(), window.addEventListener(\"scroll\", this.handleWindowScroll, { passive: !0 });\n        }\n        get CSS() {\n          return { tooltip: \"ct\", tooltipContent: \"ct__content\", tooltipShown: \"ct--shown\", placement: { left: \"ct--left\", bottom: \"ct--bottom\", right: \"ct--right\", top: \"ct--top\" } };\n        }\n        show(l, a, c) {\n          this.nodes.wrapper || this.prepare(), this.hidingTimeout && clearTimeout(this.hidingTimeout);\n          const u = Object.assign({ placement: \"bottom\", marginTop: 0, marginLeft: 0, marginRight: 0, marginBottom: 0, delay: 70, hidingDelay: 0 }, c);\n          if (u.hidingDelay && (this.hidingDelay = u.hidingDelay), this.nodes.content.innerHTML = \"\", typeof a == \"string\")\n            this.nodes.content.appendChild(document.createTextNode(a));\n          else {\n            if (!(a instanceof Node))\n              throw Error(\"[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But \" + typeof a + \" given.\");\n            this.nodes.content.appendChild(a);\n          }\n          switch (this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)), u.placement) {\n            case \"top\":\n              this.placeTop(l, u);\n              break;\n            case \"left\":\n              this.placeLeft(l, u);\n              break;\n            case \"right\":\n              this.placeRight(l, u);\n              break;\n            case \"bottom\":\n            default:\n              this.placeBottom(l, u);\n          }\n          u && u.delay ? this.showingTimeout = setTimeout(() => {\n            this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = !0;\n          }, u.delay) : (this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = !0);\n        }\n        hide(l = !1) {\n          if (this.hidingDelay && !l)\n            return this.hidingTimeout && clearTimeout(this.hidingTimeout), void (this.hidingTimeout = setTimeout(() => {\n              this.hide(!0);\n            }, this.hidingDelay));\n          this.nodes.wrapper.classList.remove(this.CSS.tooltipShown), this.showed = !1, this.showingTimeout && clearTimeout(this.showingTimeout);\n        }\n        onHover(l, a, c) {\n          l.addEventListener(\"mouseenter\", () => {\n            this.show(l, a, c);\n          }), l.addEventListener(\"mouseleave\", () => {\n            this.hide();\n          });\n        }\n        destroy() {\n          this.nodes.wrapper.remove(), window.removeEventListener(\"scroll\", this.handleWindowScroll);\n        }\n        prepare() {\n          this.nodes.wrapper = this.make(\"div\", this.CSS.tooltip), this.nodes.content = this.make(\"div\", this.CSS.tooltipContent), this.append(this.nodes.wrapper, this.nodes.content), this.append(document.body, this.nodes.wrapper);\n        }\n        loadStyles() {\n          const l = \"codex-tooltips-style\";\n          if (document.getElementById(l))\n            return;\n          const a = i(2), c = this.make(\"style\", null, { textContent: a.toString(), id: l });\n          this.prepend(document.head, c);\n        }\n        placeBottom(l, a) {\n          const c = l.getBoundingClientRect(), u = c.left + l.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.bottom + window.pageYOffset + this.offsetTop + a.marginTop;\n          this.applyPlacement(\"bottom\", u, h);\n        }\n        placeTop(l, a) {\n          const c = l.getBoundingClientRect(), u = c.left + l.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h = c.top + window.pageYOffset - this.nodes.wrapper.clientHeight - this.offsetTop;\n          this.applyPlacement(\"top\", u, h);\n        }\n        placeLeft(l, a) {\n          const c = l.getBoundingClientRect(), u = c.left - this.nodes.wrapper.offsetWidth - this.offsetLeft - a.marginLeft, h = c.top + window.pageYOffset + l.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;\n          this.applyPlacement(\"left\", u, h);\n        }\n        placeRight(l, a) {\n          const c = l.getBoundingClientRect(), u = c.right + this.offsetRight + a.marginRight, h = c.top + window.pageYOffset + l.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;\n          this.applyPlacement(\"right\", u, h);\n        }\n        applyPlacement(l, a, c) {\n          this.nodes.wrapper.classList.add(this.CSS.placement[l]), this.nodes.wrapper.style.left = a + \"px\", this.nodes.wrapper.style.top = c + \"px\";\n        }\n        make(l, a = null, c = {}) {\n          const u = document.createElement(l);\n          Array.isArray(a) ? u.classList.add(...a) : a && u.classList.add(a);\n          for (const h in c)\n            c.hasOwnProperty(h) && (u[h] = c[h]);\n          return u;\n        }\n        append(l, a) {\n          Array.isArray(a) ? a.forEach((c) => l.appendChild(c)) : l.appendChild(a);\n        }\n        prepend(l, a) {\n          Array.isArray(a) ? (a = a.reverse()).forEach((c) => l.prepend(c)) : l.prepend(a);\n        }\n      }\n    }, function(t, o) {\n      t.exports = `.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:\"\";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url(\"\")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"><path d=\"M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z\"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:\"\";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`;\n    }]).default;\n  });\n})($t);\nvar di = $t.exports;\nconst hi = /* @__PURE__ */ Fe(di);\nlet U = null;\nfunction nt() {\n  U || (U = new hi());\n}\nfunction ui(n, e, t) {\n  nt(), U == null || U.show(n, e, t);\n}\nfunction Ne(n = !1) {\n  nt(), U == null || U.hide(n);\n}\nfunction Pe(n, e, t) {\n  nt(), U == null || U.onHover(n, e, t);\n}\nfunction pi() {\n  U == null || U.destroy(), U = null;\n}\nclass fi extends y {\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    });\n  }\n  /**\n   * Available methods\n   */\n  get methods() {\n    return {\n      show: (e, t, o) => this.show(e, t, o),\n      hide: () => this.hide(),\n      onHover: (e, t, o) => this.onHover(e, t, o)\n    };\n  }\n  /**\n   * Method show tooltip on element with passed HTML content\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  show(e, t, o) {\n    ui(e, t, o);\n  }\n  /**\n   * Method hides tooltip on HTML page\n   */\n  hide() {\n    Ne();\n  }\n  /**\n   * Decorator for showing Tooltip by mouseenter/mouseleave\n   *\n   * @param {HTMLElement} element - element on which tooltip should be shown\n   * @param {TooltipContent} content - tooltip content\n   * @param {TooltipOptions} options - tooltip options\n   */\n  onHover(e, t, o) {\n    Pe(e, t, o);\n  }\n}\nclass gi extends y {\n  /**\n   * Available methods / getters\n   */\n  get methods() {\n    return {\n      nodes: this.editorNodes\n      /**\n       * There can be added some UI methods, like toggleThinMode() etc\n       */\n    };\n  }\n  /**\n   * Exported classes\n   */\n  get editorNodes() {\n    return {\n      /**\n       * Top-level editor instance wrapper\n       */\n      wrapper: this.Editor.UI.nodes.wrapper,\n      /**\n       * Element that holds all the Blocks\n       */\n      redactor: this.Editor.UI.nodes.redactor\n    };\n  }\n}\nfunction Yt(n, e) {\n  const t = {};\n  return Object.entries(n).forEach(([o, i]) => {\n    if (R(i)) {\n      const s = e ? `${e}.${o}` : o;\n      Object.values(i).every((l) => Q(l)) ? t[o] = s : t[o] = Yt(i, s);\n      return;\n    }\n    t[o] = i;\n  }), t;\n}\nconst K = Yt(_t);\nfunction mi(n, e) {\n  const t = {};\n  return Object.keys(n).forEach((o) => {\n    const i = e[o];\n    i !== void 0 ? t[i] = n[o] : t[o] = n[o];\n  }), t;\n}\nconst Wt = class ve {\n  /**\n   * @param {HTMLElement[]} nodeList — the list of iterable HTML-items\n   * @param {string} focusedCssClass - user-provided CSS-class that will be set in flipping process\n   */\n  constructor(e, t) {\n    this.cursor = -1, this.items = [], this.items = e || [], this.focusedCssClass = t;\n  }\n  /**\n   * Returns Focused button Node\n   *\n   * @returns {HTMLElement}\n   */\n  get currentItem() {\n    return this.cursor === -1 ? null : this.items[this.cursor];\n  }\n  /**\n   * Sets cursor to specified position\n   *\n   * @param cursorPosition - new cursor position\n   */\n  setCursor(e) {\n    e < this.items.length && e >= -1 && (this.dropCursor(), this.cursor = e, this.items[this.cursor].classList.add(this.focusedCssClass));\n  }\n  /**\n   * Sets items. Can be used when iterable items changed dynamically\n   *\n   * @param {HTMLElement[]} nodeList - nodes to iterate\n   */\n  setItems(e) {\n    this.items = e;\n  }\n  /**\n   * Sets cursor next to the current\n   */\n  next() {\n    this.cursor = this.leafNodesAndReturnIndex(ve.directions.RIGHT);\n  }\n  /**\n   * Sets cursor before current\n   */\n  previous() {\n    this.cursor = this.leafNodesAndReturnIndex(ve.directions.LEFT);\n  }\n  /**\n   * Sets cursor to the default position and removes CSS-class from previously focused item\n   */\n  dropCursor() {\n    this.cursor !== -1 && (this.items[this.cursor].classList.remove(this.focusedCssClass), this.cursor = -1);\n  }\n  /**\n   * Leafs nodes inside the target list from active element\n   *\n   * @param {string} direction - leaf direction. Can be 'left' or 'right'\n   * @returns {number} index of focused node\n   */\n  leafNodesAndReturnIndex(e) {\n    if (this.items.length === 0)\n      return this.cursor;\n    let t = this.cursor;\n    return t === -1 ? t = e === ve.directions.RIGHT ? -1 : 0 : this.items[t].classList.remove(this.focusedCssClass), e === ve.directions.RIGHT ? t = (t + 1) % this.items.length : t = (this.items.length + t - 1) % this.items.length, d.canSetCaret(this.items[t]) && Oe(() => b.setCursor(this.items[t]), 50)(), this.items[t].classList.add(this.focusedCssClass), t;\n  }\n};\nWt.directions = {\n  RIGHT: \"right\",\n  LEFT: \"left\"\n};\nlet me = Wt;\nclass le {\n  /**\n   * @param options - different constructing settings\n   */\n  constructor(e) {\n    this.iterator = null, this.activated = !1, this.flipCallbacks = [], this.onKeyDown = (t) => {\n      if (this.isEventReadyForHandling(t))\n        switch (le.usedKeys.includes(t.keyCode) && t.preventDefault(), t.keyCode) {\n          case w.TAB:\n            this.handleTabPress(t);\n            break;\n          case w.LEFT:\n          case w.UP:\n            this.flipLeft();\n            break;\n          case w.RIGHT:\n          case w.DOWN:\n            this.flipRight();\n            break;\n          case w.ENTER:\n            this.handleEnterPress(t);\n            break;\n        }\n    }, this.iterator = new me(e.items, e.focusedItemClass), this.activateCallback = e.activateCallback, this.allowedKeys = e.allowedKeys || le.usedKeys;\n  }\n  /**\n   * True if flipper is currently activated\n   */\n  get isActivated() {\n    return this.activated;\n  }\n  /**\n   * Array of keys (codes) that is handled by Flipper\n   * Used to:\n   *  - preventDefault only for this keys, not all keydowns (@see constructor)\n   *  - to skip external behaviours only for these keys, when filler is activated (@see BlockEvents@arrowRightAndDown)\n   */\n  static get usedKeys() {\n    return [\n      w.TAB,\n      w.LEFT,\n      w.RIGHT,\n      w.ENTER,\n      w.UP,\n      w.DOWN\n    ];\n  }\n  /**\n   * Active tab/arrows handling by flipper\n   *\n   * @param items - Some modules (like, InlineToolbar, BlockSettings) might refresh buttons dynamically\n   * @param cursorPosition - index of the item that should be focused once flipper is activated\n   */\n  activate(e, t) {\n    this.activated = !0, e && this.iterator.setItems(e), t !== void 0 && this.iterator.setCursor(t), document.addEventListener(\"keydown\", this.onKeyDown, !0);\n  }\n  /**\n   * Disable tab/arrows handling by flipper\n   */\n  deactivate() {\n    this.activated = !1, this.dropCursor(), document.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n  /**\n   * Focus first item\n   */\n  focusFirst() {\n    this.dropCursor(), this.flipRight();\n  }\n  /**\n   * Focuses previous flipper iterator item\n   */\n  flipLeft() {\n    this.iterator.previous(), this.flipCallback();\n  }\n  /**\n   * Focuses next flipper iterator item\n   */\n  flipRight() {\n    this.iterator.next(), this.flipCallback();\n  }\n  /**\n   * Return true if some button is focused\n   */\n  hasFocus() {\n    return !!this.iterator.currentItem;\n  }\n  /**\n   * Registeres function that should be executed on each navigation action\n   *\n   * @param cb - function to execute\n   */\n  onFlip(e) {\n    this.flipCallbacks.push(e);\n  }\n  /**\n   * Unregisteres function that is executed on each navigation action\n   *\n   * @param cb - function to stop executing\n   */\n  removeOnFlip(e) {\n    this.flipCallbacks = this.flipCallbacks.filter((t) => t !== e);\n  }\n  /**\n   * Drops flipper's iterator cursor\n   *\n   * @see DomIterator#dropCursor\n   */\n  dropCursor() {\n    this.iterator.dropCursor();\n  }\n  /**\n   * This function is fired before handling flipper keycodes\n   * The result of this function defines if it is need to be handled or not\n   *\n   * @param {KeyboardEvent} event - keydown keyboard event\n   * @returns {boolean}\n   */\n  isEventReadyForHandling(e) {\n    return this.activated && this.allowedKeys.includes(e.keyCode);\n  }\n  /**\n   * When flipper is activated tab press will leaf the items\n   *\n   * @param {KeyboardEvent} event - tab keydown event\n   */\n  handleTabPress(e) {\n    switch (e.shiftKey ? me.directions.LEFT : me.directions.RIGHT) {\n      case me.directions.RIGHT:\n        this.flipRight();\n        break;\n      case me.directions.LEFT:\n        this.flipLeft();\n        break;\n    }\n  }\n  /**\n   * Enter press will click current item if flipper is activated\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  handleEnterPress(e) {\n    this.activated && (this.iterator.currentItem && (e.stopPropagation(), e.preventDefault(), this.iterator.currentItem.click()), O(this.activateCallback) && this.activateCallback(this.iterator.currentItem));\n  }\n  /**\n   * Fired after flipping in any direction\n   */\n  flipCallback() {\n    this.iterator.currentItem && this.iterator.currentItem.scrollIntoViewIfNeeded(), this.flipCallbacks.forEach((e) => e());\n  }\n}\nconst bi = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11\"/></svg>', ki = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10\"/></svg>', vi = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5\"/></svg>', wi = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5\"/></svg>', xi = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15\"/></svg>', yi = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16\"/></svg>', Ei = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><circle cx=\"12\" cy=\"12\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\"/></svg>', Bi = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M13.34 10C12.4223 12.7337 11 17 11 17\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M14.21 7H14.2\"/></svg>', yt = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72\"/></svg>', Ti = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.40999 7.29999H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 7.29999H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.30999 12H9.3\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 12H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.40999 16.7H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 16.7H14.59\"/></svg>', Ci = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 7V12M12 17V12M17 12H12M12 12H7\"/></svg>', Kt = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M11.5 17.5L5 11M5 11V15.5M5 11H9.5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12.5 6.5L19 13M19 13V8.5M19 13H14.5\"/></svg>', Si = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><circle cx=\"10.5\" cy=\"10.5\" r=\"5.5\" stroke=\"currentColor\" stroke-width=\"2\"/><line x1=\"15.4142\" x2=\"19\" y1=\"15\" y2=\"18.5858\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', Ii = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397\"/><line x1=\"12.1142\" x2=\"11.7\" y1=\"12.2\" y2=\"11.7858\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/></svg>', Mi = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/><line x1=\"12\" x2=\"12\" y1=\"9\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 15.02V15.01\"/></svg>', Ai = \"__\", Oi = \"--\";\nfunction te(n) {\n  return (e, t) => [[n, e].filter((i) => !!i).join(Ai), t].filter((i) => !!i).join(Oi);\n}\nconst be = te(\"ce-hint\"), ke = {\n  root: be(),\n  alignedStart: be(null, \"align-left\"),\n  alignedCenter: be(null, \"align-center\"),\n  title: be(\"title\"),\n  description: be(\"description\")\n};\nclass Li {\n  /**\n   * Constructs the hint content instance\n   *\n   * @param params - hint content parameters\n   */\n  constructor(e) {\n    this.nodes = {\n      root: d.make(\"div\", [ke.root, e.alignment === \"center\" ? ke.alignedCenter : ke.alignedStart]),\n      title: d.make(\"div\", ke.title, { textContent: e.title })\n    }, this.nodes.root.appendChild(this.nodes.title), e.description !== void 0 && (this.nodes.description = d.make(\"div\", ke.description, { textContent: e.description }), this.nodes.root.appendChild(this.nodes.description));\n  }\n  /**\n   * Returns the root element of the hint content\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n}\nclass rt {\n  /**\n   * Constructs the instance\n   *\n   * @param params - instance parameters\n   */\n  constructor(e) {\n    this.params = e;\n  }\n  /**\n   * Item name if exists\n   */\n  get name() {\n    if (this.params !== void 0 && \"name\" in this.params)\n      return this.params.name;\n  }\n  /**\n   * Destroys the instance\n   */\n  destroy() {\n    Ne();\n  }\n  /**\n   * Called when children popover is opened (if exists)\n   */\n  onChildrenOpen() {\n    var e;\n    this.params !== void 0 && \"children\" in this.params && typeof ((e = this.params.children) == null ? void 0 : e.onOpen) == \"function\" && this.params.children.onOpen();\n  }\n  /**\n   * Called when children popover is closed (if exists)\n   */\n  onChildrenClose() {\n    var e;\n    this.params !== void 0 && \"children\" in this.params && typeof ((e = this.params.children) == null ? void 0 : e.onClose) == \"function\" && this.params.children.onClose();\n  }\n  /**\n   * Called on popover item click\n   */\n  handleClick() {\n    var e, t;\n    this.params !== void 0 && \"onActivate\" in this.params && ((t = (e = this.params).onActivate) == null || t.call(e, this.params));\n  }\n  /**\n   * Adds hint to the item element if hint data is provided\n   *\n   * @param itemElement - popover item root element to add hint to\n   * @param hintData - hint data\n   */\n  addHint(e, t) {\n    const o = new Li(t);\n    Pe(e, o.getElement(), {\n      placement: t.position,\n      hidingDelay: 100\n    });\n  }\n  /**\n   * Returns item children that are represented as popover items\n   */\n  get children() {\n    var e;\n    return this.params !== void 0 && \"children\" in this.params && ((e = this.params.children) == null ? void 0 : e.items) !== void 0 ? this.params.children.items : [];\n  }\n  /**\n   * Returns true if item has any type of children\n   */\n  get hasChildren() {\n    return this.children.length > 0;\n  }\n  /**\n   * Returns true if item children should be open instantly after popover is opened and not on item click/hover\n   */\n  get isChildrenOpen() {\n    var e;\n    return this.params !== void 0 && \"children\" in this.params && ((e = this.params.children) == null ? void 0 : e.isOpen) === !0;\n  }\n  /**\n   * True if item children items should be navigatable via keyboard\n   */\n  get isChildrenFlippable() {\n    var e;\n    return !(this.params === void 0 || !(\"children\" in this.params) || ((e = this.params.children) == null ? void 0 : e.isFlippable) === !1);\n  }\n  /**\n   * Returns true if item has children that should be searchable\n   */\n  get isChildrenSearchable() {\n    var e;\n    return this.params !== void 0 && \"children\" in this.params && ((e = this.params.children) == null ? void 0 : e.searchable) === !0;\n  }\n  /**\n   * True if popover should close once item is activated\n   */\n  get closeOnActivate() {\n    return this.params !== void 0 && \"closeOnActivate\" in this.params && this.params.closeOnActivate;\n  }\n  /**\n   * True if item is active\n   */\n  get isActive() {\n    return this.params === void 0 || !(\"isActive\" in this.params) ? !1 : typeof this.params.isActive == \"function\" ? this.params.isActive() : this.params.isActive === !0;\n  }\n}\nconst W = te(\"ce-popover-item\"), L = {\n  container: W(),\n  active: W(null, \"active\"),\n  disabled: W(null, \"disabled\"),\n  focused: W(null, \"focused\"),\n  hidden: W(null, \"hidden\"),\n  confirmationState: W(null, \"confirmation\"),\n  noHover: W(null, \"no-hover\"),\n  noFocus: W(null, \"no-focus\"),\n  title: W(\"title\"),\n  secondaryTitle: W(\"secondary-title\"),\n  icon: W(\"icon\"),\n  iconTool: W(\"icon\", \"tool\"),\n  iconChevronRight: W(\"icon\", \"chevron-right\"),\n  wobbleAnimation: te(\"wobble\")()\n};\nclass se extends rt {\n  /**\n   * Constructs popover item instance\n   *\n   * @param params - popover item construction params\n   * @param renderParams - popover item render params.\n   * The parameters that are not set by user via popover api but rather depend on technical implementation\n   */\n  constructor(e, t) {\n    super(e), this.params = e, this.nodes = {\n      root: null,\n      icon: null\n    }, this.confirmationState = null, this.removeSpecialFocusBehavior = () => {\n      var o;\n      (o = this.nodes.root) == null || o.classList.remove(L.noFocus);\n    }, this.removeSpecialHoverBehavior = () => {\n      var o;\n      (o = this.nodes.root) == null || o.classList.remove(L.noHover);\n    }, this.onErrorAnimationEnd = () => {\n      var o, i;\n      (o = this.nodes.icon) == null || o.classList.remove(L.wobbleAnimation), (i = this.nodes.icon) == null || i.removeEventListener(\"animationend\", this.onErrorAnimationEnd);\n    }, this.nodes.root = this.make(e, t);\n  }\n  /**\n   * True if item is disabled and hence not clickable\n   */\n  get isDisabled() {\n    return this.params.isDisabled === !0;\n  }\n  /**\n   * Exposes popover item toggle parameter\n   */\n  get toggle() {\n    return this.params.toggle;\n  }\n  /**\n   * Item title\n   */\n  get title() {\n    return this.params.title;\n  }\n  /**\n   * True if confirmation state is enabled for popover item\n   */\n  get isConfirmationStateEnabled() {\n    return this.confirmationState !== null;\n  }\n  /**\n   * True if item is focused in keyboard navigation process\n   */\n  get isFocused() {\n    return this.nodes.root === null ? !1 : this.nodes.root.classList.contains(L.focused);\n  }\n  /**\n   * Returns popover item root element\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n  /**\n   * Called on popover item click\n   */\n  handleClick() {\n    if (this.isConfirmationStateEnabled && this.confirmationState !== null) {\n      this.activateOrEnableConfirmationMode(this.confirmationState);\n      return;\n    }\n    this.activateOrEnableConfirmationMode(this.params);\n  }\n  /**\n   * Toggles item active state\n   *\n   * @param isActive - true if item should strictly should become active\n   */\n  toggleActive(e) {\n    var t;\n    (t = this.nodes.root) == null || t.classList.toggle(L.active, e);\n  }\n  /**\n   * Toggles item hidden state\n   *\n   * @param isHidden - true if item should be hidden\n   */\n  toggleHidden(e) {\n    var t;\n    (t = this.nodes.root) == null || t.classList.toggle(L.hidden, e);\n  }\n  /**\n   * Resets popover item to its original state\n   */\n  reset() {\n    this.isConfirmationStateEnabled && this.disableConfirmationMode();\n  }\n  /**\n   * Method called once item becomes focused during keyboard navigation\n   */\n  onFocus() {\n    this.disableSpecialHoverAndFocusBehavior();\n  }\n  /**\n   * Constructs HTML element corresponding to popover item params\n   *\n   * @param params - item construction params\n   * @param renderParams - popover item render params\n   */\n  make(e, t) {\n    var s, r;\n    const o = (t == null ? void 0 : t.wrapperTag) || \"div\", i = d.make(o, L.container, {\n      type: o === \"button\" ? \"button\" : void 0\n    });\n    return e.name && (i.dataset.itemName = e.name), this.nodes.icon = d.make(\"div\", [L.icon, L.iconTool], {\n      innerHTML: e.icon || Ei\n    }), i.appendChild(this.nodes.icon), e.title !== void 0 && i.appendChild(d.make(\"div\", L.title, {\n      innerHTML: e.title || \"\"\n    })), e.secondaryLabel && i.appendChild(d.make(\"div\", L.secondaryTitle, {\n      textContent: e.secondaryLabel\n    })), this.hasChildren && i.appendChild(d.make(\"div\", [L.icon, L.iconChevronRight], {\n      innerHTML: wi\n    })), this.isActive && i.classList.add(L.active), e.isDisabled && i.classList.add(L.disabled), e.hint !== void 0 && ((s = t == null ? void 0 : t.hint) == null ? void 0 : s.enabled) !== !1 && this.addHint(i, {\n      ...e.hint,\n      position: ((r = t == null ? void 0 : t.hint) == null ? void 0 : r.position) || \"right\"\n    }), i;\n  }\n  /**\n   * Activates confirmation mode for the item.\n   *\n   * @param newState - new popover item params that should be applied\n   */\n  enableConfirmationMode(e) {\n    if (this.nodes.root === null)\n      return;\n    const t = {\n      ...this.params,\n      ...e,\n      confirmation: \"confirmation\" in e ? e.confirmation : void 0\n    }, o = this.make(t);\n    this.nodes.root.innerHTML = o.innerHTML, this.nodes.root.classList.add(L.confirmationState), this.confirmationState = e, this.enableSpecialHoverAndFocusBehavior();\n  }\n  /**\n   * Returns item to its original state\n   */\n  disableConfirmationMode() {\n    if (this.nodes.root === null)\n      return;\n    const e = this.make(this.params);\n    this.nodes.root.innerHTML = e.innerHTML, this.nodes.root.classList.remove(L.confirmationState), this.confirmationState = null, this.disableSpecialHoverAndFocusBehavior();\n  }\n  /**\n   * Enables special focus and hover behavior for item in confirmation state.\n   * This is needed to prevent item from being highlighted as hovered/focused just after click.\n   */\n  enableSpecialHoverAndFocusBehavior() {\n    var e, t, o;\n    (e = this.nodes.root) == null || e.classList.add(L.noHover), (t = this.nodes.root) == null || t.classList.add(L.noFocus), (o = this.nodes.root) == null || o.addEventListener(\"mouseleave\", this.removeSpecialHoverBehavior, { once: !0 });\n  }\n  /**\n   * Disables special focus and hover behavior\n   */\n  disableSpecialHoverAndFocusBehavior() {\n    var e;\n    this.removeSpecialFocusBehavior(), this.removeSpecialHoverBehavior(), (e = this.nodes.root) == null || e.removeEventListener(\"mouseleave\", this.removeSpecialHoverBehavior);\n  }\n  /**\n   * Executes item's onActivate callback if the item has no confirmation configured\n   *\n   * @param item - item to activate or bring to confirmation mode\n   */\n  activateOrEnableConfirmationMode(e) {\n    var t;\n    if (!(\"confirmation\" in e) || e.confirmation === void 0)\n      try {\n        (t = e.onActivate) == null || t.call(e, e), this.disableConfirmationMode();\n      } catch {\n        this.animateError();\n      }\n    else\n      this.enableConfirmationMode(e.confirmation);\n  }\n  /**\n   * Animates item which symbolizes that error occured while executing 'onActivate()' callback\n   */\n  animateError() {\n    var e, t, o;\n    (e = this.nodes.icon) != null && e.classList.contains(L.wobbleAnimation) || ((t = this.nodes.icon) == null || t.classList.add(L.wobbleAnimation), (o = this.nodes.icon) == null || o.addEventListener(\"animationend\", this.onErrorAnimationEnd));\n  }\n}\nconst Ue = te(\"ce-popover-item-separator\"), je = {\n  container: Ue(),\n  line: Ue(\"line\"),\n  hidden: Ue(null, \"hidden\")\n};\nclass Xt extends rt {\n  /**\n   * Constructs the instance\n   */\n  constructor() {\n    super(), this.nodes = {\n      root: d.make(\"div\", je.container),\n      line: d.make(\"div\", je.line)\n    }, this.nodes.root.appendChild(this.nodes.line);\n  }\n  /**\n   * Returns popover separator root element\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n  /**\n   * Toggles item hidden state\n   *\n   * @param isHidden - true if item should be hidden\n   */\n  toggleHidden(e) {\n    var t;\n    (t = this.nodes.root) == null || t.classList.toggle(je.hidden, e);\n  }\n}\nvar Z = /* @__PURE__ */ ((n) => (n.Closed = \"closed\", n.ClosedOnActivate = \"closed-on-activate\", n))(Z || {});\nconst H = te(\"ce-popover\"), N = {\n  popover: H(),\n  popoverContainer: H(\"container\"),\n  popoverOpenTop: H(null, \"open-top\"),\n  popoverOpenLeft: H(null, \"open-left\"),\n  popoverOpened: H(null, \"opened\"),\n  search: H(\"search\"),\n  nothingFoundMessage: H(\"nothing-found-message\"),\n  nothingFoundMessageDisplayed: H(\"nothing-found-message\", \"displayed\"),\n  items: H(\"items\"),\n  overlay: H(\"overlay\"),\n  overlayHidden: H(\"overlay\", \"hidden\"),\n  popoverNested: H(null, \"nested\"),\n  getPopoverNestedClass: (n) => H(null, `nested-level-${n.toString()}`),\n  popoverInline: H(null, \"inline\"),\n  popoverHeader: H(\"header\")\n};\nvar de = /* @__PURE__ */ ((n) => (n.NestingLevel = \"--nesting-level\", n.PopoverHeight = \"--popover-height\", n.InlinePopoverWidth = \"--inline-popover-width\", n.TriggerItemLeft = \"--trigger-item-left\", n.TriggerItemTop = \"--trigger-item-top\", n))(de || {});\nconst Et = te(\"ce-popover-item-html\"), Bt = {\n  root: Et(),\n  hidden: Et(null, \"hidden\")\n};\nclass Ee extends rt {\n  /**\n   * Constructs the instance\n   *\n   * @param params – instance parameters\n   * @param renderParams – popover item render params.\n   * The parameters that are not set by user via popover api but rather depend on technical implementation\n   */\n  constructor(e, t) {\n    var o, i;\n    super(e), this.nodes = {\n      root: d.make(\"div\", Bt.root)\n    }, this.nodes.root.appendChild(e.element), e.name && (this.nodes.root.dataset.itemName = e.name), e.hint !== void 0 && ((o = t == null ? void 0 : t.hint) == null ? void 0 : o.enabled) !== !1 && this.addHint(this.nodes.root, {\n      ...e.hint,\n      position: ((i = t == null ? void 0 : t.hint) == null ? void 0 : i.position) || \"right\"\n    });\n  }\n  /**\n   * Returns popover item root element\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n  /**\n   * Toggles item hidden state\n   *\n   * @param isHidden - true if item should be hidden\n   */\n  toggleHidden(e) {\n    var t;\n    (t = this.nodes.root) == null || t.classList.toggle(Bt.hidden, e);\n  }\n  /**\n   * Returns list of buttons and inputs inside custom content\n   */\n  getControls() {\n    const e = this.nodes.root.querySelectorAll(\n      `button, ${d.allInputsSelector}`\n    );\n    return Array.from(e);\n  }\n}\nclass Vt extends Te {\n  /**\n   * Constructs the instance\n   *\n   * @param params - popover construction params\n   * @param itemsRenderParams - popover item render params.\n   * The parameters that are not set by user via popover api but rather depend on technical implementation\n   */\n  constructor(e, t = {}) {\n    super(), this.params = e, this.itemsRenderParams = t, this.listeners = new Ce(), this.messages = {\n      nothingFound: \"Nothing found\",\n      search: \"Search\"\n    }, this.items = this.buildItems(e.items), e.messages && (this.messages = {\n      ...this.messages,\n      ...e.messages\n    }), this.nodes = {}, this.nodes.popoverContainer = d.make(\"div\", [N.popoverContainer]), this.nodes.nothingFoundMessage = d.make(\"div\", [N.nothingFoundMessage], {\n      textContent: this.messages.nothingFound\n    }), this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage), this.nodes.items = d.make(\"div\", [N.items]), this.items.forEach((o) => {\n      const i = o.getElement();\n      i !== null && this.nodes.items.appendChild(i);\n    }), this.nodes.popoverContainer.appendChild(this.nodes.items), this.listeners.on(this.nodes.popoverContainer, \"click\", (o) => this.handleClick(o)), this.nodes.popover = d.make(\"div\", [\n      N.popover,\n      this.params.class\n    ]), this.nodes.popover.appendChild(this.nodes.popoverContainer);\n  }\n  /**\n   * List of default popover items that are searchable and may have confirmation state\n   */\n  get itemsDefault() {\n    return this.items.filter((e) => e instanceof se);\n  }\n  /**\n   * Returns HTML element corresponding to the popover\n   */\n  getElement() {\n    return this.nodes.popover;\n  }\n  /**\n   * Open popover\n   */\n  show() {\n    this.nodes.popover.classList.add(N.popoverOpened), this.search !== void 0 && this.search.focus();\n  }\n  /**\n   * Closes popover\n   */\n  hide() {\n    this.nodes.popover.classList.remove(N.popoverOpened), this.nodes.popover.classList.remove(N.popoverOpenTop), this.itemsDefault.forEach((e) => e.reset()), this.search !== void 0 && this.search.clear(), this.emit(Z.Closed);\n  }\n  /**\n   * Clears memory\n   */\n  destroy() {\n    var e;\n    this.items.forEach((t) => t.destroy()), this.nodes.popover.remove(), this.listeners.removeAll(), (e = this.search) == null || e.destroy();\n  }\n  /**\n   * Looks for the item by name and imitates click on it\n   *\n   * @param name - name of the item to activate\n   */\n  activateItemByName(e) {\n    const t = this.items.find((o) => o.name === e);\n    this.handleItemClick(t);\n  }\n  /**\n   * Factory method for creating popover items\n   *\n   * @param items - list of items params\n   */\n  buildItems(e) {\n    return e.map((t) => {\n      switch (t.type) {\n        case A.Separator:\n          return new Xt();\n        case A.Html:\n          return new Ee(t, this.itemsRenderParams[A.Html]);\n        default:\n          return new se(t, this.itemsRenderParams[A.Default]);\n      }\n    });\n  }\n  /**\n   * Retrieves popover item that is the target of the specified event\n   *\n   * @param event - event to retrieve popover item from\n   */\n  getTargetItem(e) {\n    return this.items.filter((t) => t instanceof se || t instanceof Ee).find((t) => {\n      const o = t.getElement();\n      return o === null ? !1 : e.composedPath().includes(o);\n    });\n  }\n  /**\n   * Handles popover item click\n   *\n   * @param item - item to handle click of\n   */\n  handleItemClick(e) {\n    if (!(\"isDisabled\" in e && e.isDisabled)) {\n      if (e.hasChildren) {\n        this.showNestedItems(e), \"handleClick\" in e && typeof e.handleClick == \"function\" && e.handleClick();\n        return;\n      }\n      this.itemsDefault.filter((t) => t !== e).forEach((t) => t.reset()), \"handleClick\" in e && typeof e.handleClick == \"function\" && e.handleClick(), this.toggleItemActivenessIfNeeded(e), e.closeOnActivate && (this.hide(), this.emit(Z.ClosedOnActivate));\n    }\n  }\n  /**\n   * Handles clicks inside popover\n   *\n   * @param event - item to handle click of\n   */\n  handleClick(e) {\n    const t = this.getTargetItem(e);\n    t !== void 0 && this.handleItemClick(t);\n  }\n  /**\n   * - Toggles item active state, if clicked popover item has property 'toggle' set to true.\n   *\n   * - Performs radiobutton-like behavior if the item has property 'toggle' set to string key.\n   * (All the other items with the same key get inactive, and the item gets active)\n   *\n   * @param clickedItem - popover item that was clicked\n   */\n  toggleItemActivenessIfNeeded(e) {\n    if (e instanceof se && (e.toggle === !0 && e.toggleActive(), typeof e.toggle == \"string\")) {\n      const t = this.itemsDefault.filter((o) => o.toggle === e.toggle);\n      if (t.length === 1) {\n        e.toggleActive();\n        return;\n      }\n      t.forEach((o) => {\n        o.toggleActive(o === e);\n      });\n    }\n  }\n}\nvar De = /* @__PURE__ */ ((n) => (n.Search = \"search\", n))(De || {});\nconst $e = te(\"cdx-search-field\"), Ye = {\n  wrapper: $e(),\n  icon: $e(\"icon\"),\n  input: $e(\"input\")\n};\nclass _i extends Te {\n  /**\n   * @param options - available config\n   * @param options.items - searchable items list\n   * @param options.placeholder - input placeholder\n   */\n  constructor({ items: e, placeholder: t }) {\n    super(), this.listeners = new Ce(), this.items = e, this.wrapper = d.make(\"div\", Ye.wrapper);\n    const o = d.make(\"div\", Ye.icon, {\n      innerHTML: Si\n    });\n    this.input = d.make(\"input\", Ye.input, {\n      placeholder: t,\n      /**\n       * Used to prevent focusing on the input by Tab key\n       * (Popover in the Toolbar lays below the blocks,\n       * so Tab in the last block will focus this hidden input if this property is not set)\n       */\n      tabIndex: -1\n    }), this.wrapper.appendChild(o), this.wrapper.appendChild(this.input), this.listeners.on(this.input, \"input\", () => {\n      this.searchQuery = this.input.value, this.emit(De.Search, {\n        query: this.searchQuery,\n        items: this.foundItems\n      });\n    });\n  }\n  /**\n   * Returns search field element\n   */\n  getElement() {\n    return this.wrapper;\n  }\n  /**\n   * Sets focus to the input\n   */\n  focus() {\n    this.input.focus();\n  }\n  /**\n   * Clears search query and results\n   */\n  clear() {\n    this.input.value = \"\", this.searchQuery = \"\", this.emit(De.Search, {\n      query: \"\",\n      items: this.foundItems\n    });\n  }\n  /**\n   * Clears memory\n   */\n  destroy() {\n    this.listeners.removeAll();\n  }\n  /**\n   * Returns list of found items for the current search query\n   */\n  get foundItems() {\n    return this.items.filter((e) => this.checkItem(e));\n  }\n  /**\n   * Contains logic for checking whether passed item conforms the search query\n   *\n   * @param item - item to be checked\n   */\n  checkItem(e) {\n    var i, s;\n    const t = ((i = e.title) == null ? void 0 : i.toLowerCase()) || \"\", o = (s = this.searchQuery) == null ? void 0 : s.toLowerCase();\n    return o !== void 0 ? t.includes(o) : !1;\n  }\n}\nvar Ni = Object.defineProperty, Pi = Object.getOwnPropertyDescriptor, Di = (n, e, t, o) => {\n  for (var i = o > 1 ? void 0 : o ? Pi(e, t) : e, s = n.length - 1, r; s >= 0; s--)\n    (r = n[s]) && (i = (o ? r(e, t, i) : r(i)) || i);\n  return o && i && Ni(e, t, i), i;\n};\nconst qt = class Zt extends Vt {\n  /**\n   * Construct the instance\n   *\n   * @param params - popover params\n   * @param itemsRenderParams – popover item render params.\n   * The parameters that are not set by user via popover api but rather depend on technical implementation\n   */\n  constructor(e, t) {\n    super(e, t), this.nestingLevel = 0, this.nestedPopoverTriggerItem = null, this.previouslyHoveredItem = null, this.scopeElement = document.body, this.hide = () => {\n      var o;\n      super.hide(), this.destroyNestedPopoverIfExists(), (o = this.flipper) == null || o.deactivate(), this.previouslyHoveredItem = null;\n    }, this.onFlip = () => {\n      const o = this.itemsDefault.find((i) => i.isFocused);\n      o == null || o.onFocus();\n    }, this.onSearch = (o) => {\n      var l;\n      const i = o.query === \"\", s = o.items.length === 0;\n      this.items.forEach((a) => {\n        let c = !1;\n        a instanceof se ? c = !o.items.includes(a) : (a instanceof Xt || a instanceof Ee) && (c = s || !i), a.toggleHidden(c);\n      }), this.toggleNothingFoundMessage(s);\n      const r = o.query === \"\" ? this.flippableElements : o.items.map((a) => a.getElement());\n      (l = this.flipper) != null && l.isActivated && (this.flipper.deactivate(), this.flipper.activate(r));\n    }, e.nestingLevel !== void 0 && (this.nestingLevel = e.nestingLevel), this.nestingLevel > 0 && this.nodes.popover.classList.add(N.popoverNested), e.scopeElement !== void 0 && (this.scopeElement = e.scopeElement), this.nodes.popoverContainer !== null && this.listeners.on(this.nodes.popoverContainer, \"mouseover\", (o) => this.handleHover(o)), e.searchable && this.addSearch(), e.flippable !== !1 && (this.flipper = new le({\n      items: this.flippableElements,\n      focusedItemClass: L.focused,\n      allowedKeys: [\n        w.TAB,\n        w.UP,\n        w.DOWN,\n        w.ENTER\n      ]\n    }), this.flipper.onFlip(this.onFlip));\n  }\n  /**\n   * Returns true if some item inside popover is focused\n   */\n  hasFocus() {\n    return this.flipper === void 0 ? !1 : this.flipper.hasFocus();\n  }\n  /**\n   * Scroll position inside items container of the popover\n   */\n  get scrollTop() {\n    return this.nodes.items === null ? 0 : this.nodes.items.scrollTop;\n  }\n  /**\n   * Returns visible element offset top\n   */\n  get offsetTop() {\n    return this.nodes.popoverContainer === null ? 0 : this.nodes.popoverContainer.offsetTop;\n  }\n  /**\n   * Open popover\n   */\n  show() {\n    var e;\n    this.nodes.popover.style.setProperty(de.PopoverHeight, this.size.height + \"px\"), this.shouldOpenBottom || this.nodes.popover.classList.add(N.popoverOpenTop), this.shouldOpenRight || this.nodes.popover.classList.add(N.popoverOpenLeft), super.show(), (e = this.flipper) == null || e.activate(this.flippableElements);\n  }\n  /**\n   * Clears memory\n   */\n  destroy() {\n    this.hide(), super.destroy();\n  }\n  /**\n   * Handles displaying nested items for the item.\n   *\n   * @param item – item to show nested popover for\n   */\n  showNestedItems(e) {\n    this.nestedPopover !== null && this.nestedPopover !== void 0 || (this.nestedPopoverTriggerItem = e, this.showNestedPopoverForItem(e));\n  }\n  /**\n   * Handles hover events inside popover items container\n   *\n   * @param event - hover event data\n   */\n  handleHover(e) {\n    const t = this.getTargetItem(e);\n    t !== void 0 && this.previouslyHoveredItem !== t && (this.destroyNestedPopoverIfExists(), this.previouslyHoveredItem = t, t.hasChildren && this.showNestedPopoverForItem(t));\n  }\n  /**\n   * Sets CSS variable with position of item near which nested popover should be displayed.\n   * Is used for correct positioning of the nested popover\n   *\n   * @param nestedPopoverEl - nested popover element\n   * @param item – item near which nested popover should be displayed\n   */\n  setTriggerItemPosition(e, t) {\n    const o = t.getElement(), i = (o ? o.offsetTop : 0) - this.scrollTop, s = this.offsetTop + i;\n    e.style.setProperty(de.TriggerItemTop, s + \"px\");\n  }\n  /**\n   * Destroys existing nested popover\n   */\n  destroyNestedPopoverIfExists() {\n    var e, t;\n    this.nestedPopover === void 0 || this.nestedPopover === null || (this.nestedPopover.off(Z.ClosedOnActivate, this.hide), this.nestedPopover.hide(), this.nestedPopover.destroy(), this.nestedPopover.getElement().remove(), this.nestedPopover = null, (e = this.flipper) == null || e.activate(this.flippableElements), (t = this.nestedPopoverTriggerItem) == null || t.onChildrenClose());\n  }\n  /**\n   * Creates and displays nested popover for specified item.\n   * Is used only on desktop\n   *\n   * @param item - item to display nested popover by\n   */\n  showNestedPopoverForItem(e) {\n    var o;\n    this.nestedPopover = new Zt({\n      searchable: e.isChildrenSearchable,\n      items: e.children,\n      nestingLevel: this.nestingLevel + 1,\n      flippable: e.isChildrenFlippable,\n      messages: this.messages\n    }), e.onChildrenOpen(), this.nestedPopover.on(Z.ClosedOnActivate, this.hide);\n    const t = this.nestedPopover.getElement();\n    return this.nodes.popover.appendChild(t), this.setTriggerItemPosition(t, e), t.style.setProperty(de.NestingLevel, this.nestedPopover.nestingLevel.toString()), this.nestedPopover.show(), (o = this.flipper) == null || o.deactivate(), this.nestedPopover;\n  }\n  /**\n   * Checks if popover should be opened bottom.\n   * It should happen when there is enough space below or not enough space above\n   */\n  get shouldOpenBottom() {\n    if (this.nodes.popover === void 0 || this.nodes.popover === null)\n      return !1;\n    const e = this.nodes.popoverContainer.getBoundingClientRect(), t = this.scopeElement.getBoundingClientRect(), o = this.size.height, i = e.top + o, s = e.top - o, r = Math.min(window.innerHeight, t.bottom);\n    return s < t.top || i <= r;\n  }\n  /**\n   * Checks if popover should be opened left.\n   * It should happen when there is enough space in the right or not enough space in the left\n   */\n  get shouldOpenRight() {\n    if (this.nodes.popover === void 0 || this.nodes.popover === null)\n      return !1;\n    const e = this.nodes.popover.getBoundingClientRect(), t = this.scopeElement.getBoundingClientRect(), o = this.size.width, i = e.right + o, s = e.left - o, r = Math.min(window.innerWidth, t.right);\n    return s < t.left || i <= r;\n  }\n  get size() {\n    var i;\n    const e = {\n      height: 0,\n      width: 0\n    };\n    if (this.nodes.popover === null)\n      return e;\n    const t = this.nodes.popover.cloneNode(!0);\n    t.style.visibility = \"hidden\", t.style.position = \"absolute\", t.style.top = \"-1000px\", t.classList.add(N.popoverOpened), (i = t.querySelector(\".\" + N.popoverNested)) == null || i.remove(), document.body.appendChild(t);\n    const o = t.querySelector(\".\" + N.popoverContainer);\n    return e.height = o.offsetHeight, e.width = o.offsetWidth, t.remove(), e;\n  }\n  /**\n   * Returns list of elements available for keyboard navigation.\n   */\n  get flippableElements() {\n    return this.items.map((t) => {\n      if (t instanceof se)\n        return t.getElement();\n      if (t instanceof Ee)\n        return t.getControls();\n    }).flat().filter((t) => t != null);\n  }\n  /**\n   * Adds search to the popover\n   */\n  addSearch() {\n    this.search = new _i({\n      items: this.itemsDefault,\n      placeholder: this.messages.search\n    }), this.search.on(De.Search, this.onSearch);\n    const e = this.search.getElement();\n    e.classList.add(N.search), this.nodes.popoverContainer.insertBefore(e, this.nodes.popoverContainer.firstChild);\n  }\n  /**\n   * Toggles nothing found message visibility\n   *\n   * @param isDisplayed - true if the message should be displayed\n   */\n  toggleNothingFoundMessage(e) {\n    this.nodes.nothingFoundMessage.classList.toggle(N.nothingFoundMessageDisplayed, e);\n  }\n};\nDi([\n  ue\n], qt.prototype, \"size\", 1);\nlet lt = qt;\nclass Ri extends lt {\n  /**\n   * Constructs the instance\n   *\n   * @param params - instance parameters\n   */\n  constructor(e) {\n    const t = !pe();\n    super(\n      {\n        ...e,\n        class: N.popoverInline\n      },\n      {\n        [A.Default]: {\n          /**\n           * We use button instead of div here to fix bug associated with focus loss (which leads to selection change) on click in safari\n           *\n           * @todo figure out better way to solve the issue\n           */\n          wrapperTag: \"button\",\n          hint: {\n            position: \"top\",\n            alignment: \"center\",\n            enabled: t\n          }\n        },\n        [A.Html]: {\n          hint: {\n            position: \"top\",\n            alignment: \"center\",\n            enabled: t\n          }\n        }\n      }\n    ), this.items.forEach((o) => {\n      !(o instanceof se) && !(o instanceof Ee) || o.hasChildren && o.isChildrenOpen && this.showNestedItems(o);\n    });\n  }\n  /**\n   * Returns visible element offset top\n   */\n  get offsetLeft() {\n    return this.nodes.popoverContainer === null ? 0 : this.nodes.popoverContainer.offsetLeft;\n  }\n  /**\n   * Open popover\n   */\n  show() {\n    this.nestingLevel === 0 && this.nodes.popover.style.setProperty(\n      de.InlinePopoverWidth,\n      this.size.width + \"px\"\n    ), super.show();\n  }\n  /**\n   * Disable hover event handling.\n   * Overrides parent's class behavior\n   */\n  handleHover() {\n  }\n  /**\n   * Sets CSS variable with position of item near which nested popover should be displayed.\n   * Is used to position nested popover right below clicked item\n   *\n   * @param nestedPopoverEl - nested popover element\n   * @param item – item near which nested popover should be displayed\n   */\n  setTriggerItemPosition(e, t) {\n    const o = t.getElement(), i = o ? o.offsetLeft : 0, s = this.offsetLeft + i;\n    e.style.setProperty(\n      de.TriggerItemLeft,\n      s + \"px\"\n    );\n  }\n  /**\n   * Handles displaying nested items for the item.\n   * Overriding in order to add toggling behaviour\n   *\n   * @param item – item to toggle nested popover for\n   */\n  showNestedItems(e) {\n    if (this.nestedPopoverTriggerItem === e) {\n      this.destroyNestedPopoverIfExists(), this.nestedPopoverTriggerItem = null;\n      return;\n    }\n    super.showNestedItems(e);\n  }\n  /**\n   * Creates and displays nested popover for specified item.\n   * Is used only on desktop\n   *\n   * @param item - item to display nested popover by\n   */\n  showNestedPopoverForItem(e) {\n    const t = super.showNestedPopoverForItem(e);\n    return t.getElement().classList.add(N.getPopoverNestedClass(t.nestingLevel)), t;\n  }\n  /**\n   * Overrides default item click handling.\n   * Helps to close nested popover once other item is clicked.\n   *\n   * @param item - clicked item\n   */\n  handleItemClick(e) {\n    var t;\n    e !== this.nestedPopoverTriggerItem && ((t = this.nestedPopoverTriggerItem) == null || t.handleClick(), super.destroyNestedPopoverIfExists()), super.handleItemClick(e);\n  }\n}\nconst Gt = class we {\n  constructor() {\n    this.scrollPosition = null;\n  }\n  /**\n   * Locks body element scroll\n   */\n  lock() {\n    Ge ? this.lockHard() : document.body.classList.add(we.CSS.scrollLocked);\n  }\n  /**\n   * Unlocks body element scroll\n   */\n  unlock() {\n    Ge ? this.unlockHard() : document.body.classList.remove(we.CSS.scrollLocked);\n  }\n  /**\n   * Locks scroll in a hard way (via setting fixed position to body element)\n   */\n  lockHard() {\n    this.scrollPosition = window.pageYOffset, document.documentElement.style.setProperty(\n      \"--window-scroll-offset\",\n      `${this.scrollPosition}px`\n    ), document.body.classList.add(we.CSS.scrollLockedHard);\n  }\n  /**\n   * Unlocks hard scroll lock\n   */\n  unlockHard() {\n    document.body.classList.remove(we.CSS.scrollLockedHard), this.scrollPosition !== null && window.scrollTo(0, this.scrollPosition), this.scrollPosition = null;\n  }\n};\nGt.CSS = {\n  scrollLocked: \"ce-scroll-locked\",\n  scrollLockedHard: \"ce-scroll-locked--hard\"\n};\nlet Fi = Gt;\nconst We = te(\"ce-popover-header\"), Ke = {\n  root: We(),\n  text: We(\"text\"),\n  backButton: We(\"back-button\")\n};\nclass Hi {\n  /**\n   * Constructs the instance\n   *\n   * @param params - popover header params\n   */\n  constructor({ text: e, onBackButtonClick: t }) {\n    this.listeners = new Ce(), this.text = e, this.onBackButtonClick = t, this.nodes = {\n      root: d.make(\"div\", [Ke.root]),\n      backButton: d.make(\"button\", [Ke.backButton]),\n      text: d.make(\"div\", [Ke.text])\n    }, this.nodes.backButton.innerHTML = vi, this.nodes.root.appendChild(this.nodes.backButton), this.listeners.on(this.nodes.backButton, \"click\", this.onBackButtonClick), this.nodes.text.innerText = this.text, this.nodes.root.appendChild(this.nodes.text);\n  }\n  /**\n   * Returns popover header root html element\n   */\n  getElement() {\n    return this.nodes.root;\n  }\n  /**\n   * Destroys the instance\n   */\n  destroy() {\n    this.nodes.root.remove(), this.listeners.destroy();\n  }\n}\nclass zi {\n  constructor() {\n    this.history = [];\n  }\n  /**\n   * Push new popover state\n   *\n   * @param state - new state\n   */\n  push(e) {\n    this.history.push(e);\n  }\n  /**\n   * Pop last popover state\n   */\n  pop() {\n    return this.history.pop();\n  }\n  /**\n   * Title retrieved from the current state\n   */\n  get currentTitle() {\n    return this.history.length === 0 ? \"\" : this.history[this.history.length - 1].title;\n  }\n  /**\n   * Items list retrieved from the current state\n   */\n  get currentItems() {\n    return this.history.length === 0 ? [] : this.history[this.history.length - 1].items;\n  }\n  /**\n   * Returns history to initial popover state\n   */\n  reset() {\n    for (; this.history.length > 1; )\n      this.pop();\n  }\n}\nclass Jt extends Vt {\n  /**\n   * Construct the instance\n   *\n   * @param params - popover params\n   */\n  constructor(e) {\n    super(e, {\n      [A.Default]: {\n        hint: {\n          enabled: !1\n        }\n      },\n      [A.Html]: {\n        hint: {\n          enabled: !1\n        }\n      }\n    }), this.scrollLocker = new Fi(), this.history = new zi(), this.isHidden = !0, this.nodes.overlay = d.make(\"div\", [N.overlay, N.overlayHidden]), this.nodes.popover.insertBefore(this.nodes.overlay, this.nodes.popover.firstChild), this.listeners.on(this.nodes.overlay, \"click\", () => {\n      this.hide();\n    }), this.history.push({ items: e.items });\n  }\n  /**\n   * Open popover\n   */\n  show() {\n    this.nodes.overlay.classList.remove(N.overlayHidden), super.show(), this.scrollLocker.lock(), this.isHidden = !1;\n  }\n  /**\n   * Closes popover\n   */\n  hide() {\n    this.isHidden || (super.hide(), this.nodes.overlay.classList.add(N.overlayHidden), this.scrollLocker.unlock(), this.history.reset(), this.isHidden = !0);\n  }\n  /**\n   * Clears memory\n   */\n  destroy() {\n    super.destroy(), this.scrollLocker.unlock();\n  }\n  /**\n   * Handles displaying nested items for the item\n   *\n   * @param item – item to show nested popover for\n   */\n  showNestedItems(e) {\n    this.updateItemsAndHeader(e.children, e.title), this.history.push({\n      title: e.title,\n      items: e.children\n    });\n  }\n  /**\n   * Removes rendered popover items and header and displays new ones\n   *\n   * @param items - new popover items\n   * @param title - new popover header text\n   */\n  updateItemsAndHeader(e, t) {\n    if (this.header !== null && this.header !== void 0 && (this.header.destroy(), this.header = null), t !== void 0) {\n      this.header = new Hi({\n        text: t,\n        onBackButtonClick: () => {\n          this.history.pop(), this.updateItemsAndHeader(this.history.currentItems, this.history.currentTitle);\n        }\n      });\n      const o = this.header.getElement();\n      o !== null && this.nodes.popoverContainer.insertBefore(o, this.nodes.popoverContainer.firstChild);\n    }\n    this.items.forEach((o) => {\n      var i;\n      return (i = o.getElement()) == null ? void 0 : i.remove();\n    }), this.items = this.buildItems(e), this.items.forEach((o) => {\n      var s;\n      const i = o.getElement();\n      i !== null && ((s = this.nodes.items) == null || s.appendChild(i));\n    });\n  }\n}\nclass Ui extends y {\n  constructor() {\n    super(...arguments), this.opened = !1, this.selection = new b(), this.popover = null, this.close = () => {\n      this.opened && (this.opened = !1, b.isAtEditor || this.selection.restore(), this.selection.clearSaved(), !this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted && this.Editor.BlockManager.currentBlock && this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock), this.eventsDispatcher.emit(this.events.closed), this.popover && (this.popover.off(Z.Closed, this.onPopoverClose), this.popover.destroy(), this.popover.getElement().remove(), this.popover = null));\n    }, this.onPopoverClose = () => {\n      this.close();\n    };\n  }\n  /**\n   * Module Events\n   */\n  get events() {\n    return {\n      opened: \"block-settings-opened\",\n      closed: \"block-settings-closed\"\n    };\n  }\n  /**\n   * Block Settings CSS\n   */\n  get CSS() {\n    return {\n      settings: \"ce-settings\"\n    };\n  }\n  /**\n   * Getter for inner popover's flipper instance\n   *\n   * @todo remove once BlockSettings becomes standalone non-module class\n   */\n  get flipper() {\n    var e;\n    if (this.popover !== null)\n      return \"flipper\" in this.popover ? (e = this.popover) == null ? void 0 : e.flipper : void 0;\n  }\n  /**\n   * Panel with block settings with 2 sections:\n   *  - Tool's Settings\n   *  - Default Settings [Move, Remove, etc]\n   */\n  make() {\n    this.nodes.wrapper = d.make(\"div\", [this.CSS.settings]), this.eventsDispatcher.on(ye, this.close);\n  }\n  /**\n   * Destroys module\n   */\n  destroy() {\n    this.removeAllNodes(), this.listeners.destroy(), this.eventsDispatcher.off(ye, this.close);\n  }\n  /**\n   * Open Block Settings pane\n   *\n   * @param targetBlock - near which Block we should open BlockSettings\n   */\n  async open(e = this.Editor.BlockManager.currentBlock) {\n    var s;\n    this.opened = !0, this.selection.save(), this.Editor.BlockSelection.selectBlock(e), this.Editor.BlockSelection.clearCache();\n    const { toolTunes: t, commonTunes: o } = e.getTunes();\n    this.eventsDispatcher.emit(this.events.opened);\n    const i = pe() ? Jt : lt;\n    this.popover = new i({\n      searchable: !0,\n      items: await this.getTunesItems(e, o, t),\n      scopeElement: this.Editor.API.methods.ui.nodes.redactor,\n      messages: {\n        nothingFound: z.ui(K.ui.popover, \"Nothing found\"),\n        search: z.ui(K.ui.popover, \"Filter\")\n      }\n    }), this.popover.on(Z.Closed, this.onPopoverClose), (s = this.nodes.wrapper) == null || s.append(this.popover.getElement()), this.popover.show();\n  }\n  /**\n   * Returns root block settings element\n   */\n  getElement() {\n    return this.nodes.wrapper;\n  }\n  /**\n   * Returns list of items to be displayed in block tunes menu.\n   * Merges tool specific tunes, conversion menu and common tunes in one list in predefined order\n   *\n   * @param currentBlock –  block we are about to open block tunes for\n   * @param commonTunes – common tunes\n   * @param toolTunes - tool specific tunes\n   */\n  async getTunesItems(e, t, o) {\n    const i = [];\n    o !== void 0 && o.length > 0 && (i.push(...o), i.push({\n      type: A.Separator\n    }));\n    const s = Array.from(this.Editor.Tools.blockTools.values()), l = (await zt(e, s)).reduce((a, c) => (c.toolbox.forEach((u) => {\n      a.push({\n        icon: u.icon,\n        title: z.t(K.toolNames, u.title),\n        name: c.name,\n        closeOnActivate: !0,\n        onActivate: async () => {\n          const { BlockManager: h, Caret: p, Toolbar: g } = this.Editor, f = await h.convert(e, c.name, u.data);\n          g.close(), p.setToBlock(f, p.positions.END);\n        }\n      });\n    }), a), []);\n    return l.length > 0 && (i.push({\n      icon: Kt,\n      name: \"convert-to\",\n      title: z.ui(K.ui.popover, \"Convert to\"),\n      children: {\n        searchable: !0,\n        items: l\n      }\n    }), i.push({\n      type: A.Separator\n    })), i.push(...t), i.map((a) => this.resolveTuneAliases(a));\n  }\n  /**\n   * Resolves aliases in tunes menu items\n   *\n   * @param item - item with resolved aliases\n   */\n  resolveTuneAliases(e) {\n    if (e.type === A.Separator || e.type === A.Html)\n      return e;\n    const t = mi(e, { label: \"title\" });\n    return e.confirmation && (t.confirmation = this.resolveTuneAliases(e.confirmation)), t;\n  }\n}\nvar Qt = { exports: {} };\n/*!\n * Library for handling keyboard shortcuts\n * @copyright CodeX (https://codex.so)\n * @license MIT\n * @author CodeX (https://codex.so)\n * @version 1.2.0\n */\n(function(n, e) {\n  (function(t, o) {\n    n.exports = o();\n  })(window, function() {\n    return function(t) {\n      var o = {};\n      function i(s) {\n        if (o[s])\n          return o[s].exports;\n        var r = o[s] = { i: s, l: !1, exports: {} };\n        return t[s].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n      }\n      return i.m = t, i.c = o, i.d = function(s, r, l) {\n        i.o(s, r) || Object.defineProperty(s, r, { enumerable: !0, get: l });\n      }, i.r = function(s) {\n        typeof Symbol < \"u\" && Symbol.toStringTag && Object.defineProperty(s, Symbol.toStringTag, { value: \"Module\" }), Object.defineProperty(s, \"__esModule\", { value: !0 });\n      }, i.t = function(s, r) {\n        if (1 & r && (s = i(s)), 8 & r || 4 & r && typeof s == \"object\" && s && s.__esModule)\n          return s;\n        var l = /* @__PURE__ */ Object.create(null);\n        if (i.r(l), Object.defineProperty(l, \"default\", { enumerable: !0, value: s }), 2 & r && typeof s != \"string\")\n          for (var a in s)\n            i.d(l, a, (function(c) {\n              return s[c];\n            }).bind(null, a));\n        return l;\n      }, i.n = function(s) {\n        var r = s && s.__esModule ? function() {\n          return s.default;\n        } : function() {\n          return s;\n        };\n        return i.d(r, \"a\", r), r;\n      }, i.o = function(s, r) {\n        return Object.prototype.hasOwnProperty.call(s, r);\n      }, i.p = \"\", i(i.s = 0);\n    }([function(t, o, i) {\n      function s(a, c) {\n        for (var u = 0; u < c.length; u++) {\n          var h = c[u];\n          h.enumerable = h.enumerable || !1, h.configurable = !0, \"value\" in h && (h.writable = !0), Object.defineProperty(a, h.key, h);\n        }\n      }\n      function r(a, c, u) {\n        return c && s(a.prototype, c), u && s(a, u), a;\n      }\n      i.r(o);\n      var l = function() {\n        function a(c) {\n          var u = this;\n          (function(h, p) {\n            if (!(h instanceof p))\n              throw new TypeError(\"Cannot call a class as a function\");\n          })(this, a), this.commands = {}, this.keys = {}, this.name = c.name, this.parseShortcutName(c.name), this.element = c.on, this.callback = c.callback, this.executeShortcut = function(h) {\n            u.execute(h);\n          }, this.element.addEventListener(\"keydown\", this.executeShortcut, !1);\n        }\n        return r(a, null, [{ key: \"supportedCommands\", get: function() {\n          return { SHIFT: [\"SHIFT\"], CMD: [\"CMD\", \"CONTROL\", \"COMMAND\", \"WINDOWS\", \"CTRL\"], ALT: [\"ALT\", \"OPTION\"] };\n        } }, { key: \"keyCodes\", get: function() {\n          return { 0: 48, 1: 49, 2: 50, 3: 51, 4: 52, 5: 53, 6: 54, 7: 55, 8: 56, 9: 57, A: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, BACKSPACE: 8, ENTER: 13, ESCAPE: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, INSERT: 45, DELETE: 46, \".\": 190 };\n        } }]), r(a, [{ key: \"parseShortcutName\", value: function(c) {\n          c = c.split(\"+\");\n          for (var u = 0; u < c.length; u++) {\n            c[u] = c[u].toUpperCase();\n            var h = !1;\n            for (var p in a.supportedCommands)\n              if (a.supportedCommands[p].includes(c[u])) {\n                h = this.commands[p] = !0;\n                break;\n              }\n            h || (this.keys[c[u]] = !0);\n          }\n          for (var g in a.supportedCommands)\n            this.commands[g] || (this.commands[g] = !1);\n        } }, { key: \"execute\", value: function(c) {\n          var u, h = { CMD: c.ctrlKey || c.metaKey, SHIFT: c.shiftKey, ALT: c.altKey }, p = !0;\n          for (u in this.commands)\n            this.commands[u] !== h[u] && (p = !1);\n          var g, f = !0;\n          for (g in this.keys)\n            f = f && c.keyCode === a.keyCodes[g];\n          p && f && this.callback(c);\n        } }, { key: \"remove\", value: function() {\n          this.element.removeEventListener(\"keydown\", this.executeShortcut);\n        } }]), a;\n      }();\n      o.default = l;\n    }]).default;\n  });\n})(Qt);\nvar ji = Qt.exports;\nconst $i = /* @__PURE__ */ Fe(ji);\nclass Yi {\n  constructor() {\n    this.registeredShortcuts = /* @__PURE__ */ new Map();\n  }\n  /**\n   * Register shortcut\n   *\n   * @param shortcut - shortcut options\n   */\n  add(e) {\n    if (this.findShortcut(e.on, e.name))\n      throw Error(\n        `Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`\n      );\n    const o = new $i({\n      name: e.name,\n      on: e.on,\n      callback: e.handler\n    }), i = this.registeredShortcuts.get(e.on) || [];\n    this.registeredShortcuts.set(e.on, [...i, o]);\n  }\n  /**\n   * Remove shortcut\n   *\n   * @param element - Element shortcut is set for\n   * @param name - shortcut name\n   */\n  remove(e, t) {\n    const o = this.findShortcut(e, t);\n    if (!o)\n      return;\n    o.remove();\n    const i = this.registeredShortcuts.get(e);\n    this.registeredShortcuts.set(e, i.filter((s) => s !== o));\n  }\n  /**\n   * Get Shortcut instance if exist\n   *\n   * @param element - Element shorcut is set for\n   * @param shortcut - shortcut name\n   * @returns {number} index - shortcut index if exist\n   */\n  findShortcut(e, t) {\n    return (this.registeredShortcuts.get(e) || []).find(({ name: i }) => i === t);\n  }\n}\nconst he = new Yi();\nvar Wi = Object.defineProperty, Ki = Object.getOwnPropertyDescriptor, eo = (n, e, t, o) => {\n  for (var i = o > 1 ? void 0 : o ? Ki(e, t) : e, s = n.length - 1, r; s >= 0; s--)\n    (r = n[s]) && (i = (o ? r(e, t, i) : r(i)) || i);\n  return o && i && Wi(e, t, i), i;\n}, Se = /* @__PURE__ */ ((n) => (n.Opened = \"toolbox-opened\", n.Closed = \"toolbox-closed\", n.BlockAdded = \"toolbox-block-added\", n))(Se || {});\nconst at = class to extends Te {\n  /**\n   * Toolbox constructor\n   *\n   * @param options - available parameters\n   * @param options.api - Editor API methods\n   * @param options.tools - Tools available to check whether some of them should be displayed at the Toolbox or not\n   */\n  constructor({ api: e, tools: t, i18nLabels: o }) {\n    super(), this.opened = !1, this.listeners = new Ce(), this.popover = null, this.handleMobileLayoutToggle = () => {\n      this.destroyPopover(), this.initPopover();\n    }, this.onPopoverClose = () => {\n      this.opened = !1, this.emit(\n        \"toolbox-closed\"\n        /* Closed */\n      );\n    }, this.api = e, this.tools = t, this.i18nLabels = o, this.enableShortcuts(), this.nodes = {\n      toolbox: d.make(\"div\", to.CSS.toolbox)\n    }, this.initPopover(), this.api.events.on(ye, this.handleMobileLayoutToggle);\n  }\n  /**\n   * Returns True if Toolbox is Empty and nothing to show\n   *\n   * @returns {boolean}\n   */\n  get isEmpty() {\n    return this.toolsToBeDisplayed.length === 0;\n  }\n  /**\n   * CSS styles\n   */\n  static get CSS() {\n    return {\n      toolbox: \"ce-toolbox\"\n    };\n  }\n  /**\n   * Returns root block settings element\n   */\n  getElement() {\n    return this.nodes.toolbox;\n  }\n  /**\n   * Returns true if the Toolbox has the Flipper activated and the Flipper has selected button\n   */\n  hasFocus() {\n    if (this.popover !== null)\n      return \"hasFocus\" in this.popover ? this.popover.hasFocus() : void 0;\n  }\n  /**\n   * Destroy Module\n   */\n  destroy() {\n    var e;\n    super.destroy(), this.nodes && this.nodes.toolbox && this.nodes.toolbox.remove(), this.removeAllShortcuts(), (e = this.popover) == null || e.off(Z.Closed, this.onPopoverClose), this.listeners.destroy(), this.api.events.off(ye, this.handleMobileLayoutToggle);\n  }\n  /**\n   * Toolbox Tool's button click handler\n   *\n   * @param toolName - tool type to be activated\n   * @param blockDataOverrides - Block data predefined by the activated Toolbox item\n   */\n  toolButtonActivated(e, t) {\n    this.insertNewBlock(e, t);\n  }\n  /**\n   * Open Toolbox with Tools\n   */\n  open() {\n    var e;\n    this.isEmpty || ((e = this.popover) == null || e.show(), this.opened = !0, this.emit(\n      \"toolbox-opened\"\n      /* Opened */\n    ));\n  }\n  /**\n   * Close Toolbox\n   */\n  close() {\n    var e;\n    (e = this.popover) == null || e.hide(), this.opened = !1, this.emit(\n      \"toolbox-closed\"\n      /* Closed */\n    );\n  }\n  /**\n   * Close Toolbox\n   */\n  toggle() {\n    this.opened ? this.close() : this.open();\n  }\n  /**\n   * Creates toolbox popover and appends it inside wrapper element\n   */\n  initPopover() {\n    var t;\n    const e = pe() ? Jt : lt;\n    this.popover = new e({\n      scopeElement: this.api.ui.nodes.redactor,\n      searchable: !0,\n      messages: {\n        nothingFound: this.i18nLabels.nothingFound,\n        search: this.i18nLabels.filter\n      },\n      items: this.toolboxItemsToBeDisplayed\n    }), this.popover.on(Z.Closed, this.onPopoverClose), (t = this.nodes.toolbox) == null || t.append(this.popover.getElement());\n  }\n  /**\n   * Destroys popover instance and removes it from DOM\n   */\n  destroyPopover() {\n    this.popover !== null && (this.popover.hide(), this.popover.off(Z.Closed, this.onPopoverClose), this.popover.destroy(), this.popover = null), this.nodes.toolbox !== null && (this.nodes.toolbox.innerHTML = \"\");\n  }\n  get toolsToBeDisplayed() {\n    const e = [];\n    return this.tools.forEach((t) => {\n      t.toolbox && e.push(t);\n    }), e;\n  }\n  get toolboxItemsToBeDisplayed() {\n    const e = (t, o) => ({\n      icon: t.icon,\n      title: z.t(K.toolNames, t.title || Le(o.name)),\n      name: o.name,\n      onActivate: () => {\n        this.toolButtonActivated(o.name, t.data);\n      },\n      secondaryLabel: o.shortcut ? tt(o.shortcut) : \"\"\n    });\n    return this.toolsToBeDisplayed.reduce((t, o) => (Array.isArray(o.toolbox) ? o.toolbox.forEach((i) => {\n      t.push(e(i, o));\n    }) : o.toolbox !== void 0 && t.push(e(o.toolbox, o)), t), []);\n  }\n  /**\n   * Iterate all tools and enable theirs shortcuts if specified\n   */\n  enableShortcuts() {\n    this.toolsToBeDisplayed.forEach((e) => {\n      const t = e.shortcut;\n      t && this.enableShortcutForTool(e.name, t);\n    });\n  }\n  /**\n   * Enable shortcut Block Tool implemented shortcut\n   *\n   * @param {string} toolName - Tool name\n   * @param {string} shortcut - shortcut according to the ShortcutData Module format\n   */\n  enableShortcutForTool(e, t) {\n    he.add({\n      name: t,\n      on: this.api.ui.nodes.redactor,\n      handler: async (o) => {\n        o.preventDefault();\n        const i = this.api.blocks.getCurrentBlockIndex(), s = this.api.blocks.getBlockByIndex(i);\n        if (s)\n          try {\n            const r = await this.api.blocks.convert(s.id, e);\n            this.api.caret.setToBlock(r, \"end\");\n            return;\n          } catch {\n          }\n        this.insertNewBlock(e);\n      }\n    });\n  }\n  /**\n   * Removes all added shortcuts\n   * Fired when the Read-Only mode is activated\n   */\n  removeAllShortcuts() {\n    this.toolsToBeDisplayed.forEach((e) => {\n      const t = e.shortcut;\n      t && he.remove(this.api.ui.nodes.redactor, t);\n    });\n  }\n  /**\n   * Inserts new block\n   * Can be called when button clicked on Toolbox or by ShortcutData\n   *\n   * @param {string} toolName - Tool name\n   * @param blockDataOverrides - predefined Block data\n   */\n  async insertNewBlock(e, t) {\n    const o = this.api.blocks.getCurrentBlockIndex(), i = this.api.blocks.getBlockByIndex(o);\n    if (!i)\n      return;\n    const s = i.isEmpty ? o : o + 1;\n    let r;\n    if (t) {\n      const a = await this.api.blocks.composeBlockData(e);\n      r = Object.assign(a, t);\n    }\n    const l = this.api.blocks.insert(\n      e,\n      r,\n      void 0,\n      s,\n      void 0,\n      i.isEmpty\n    );\n    l.call(J.APPEND_CALLBACK), this.api.caret.setToBlock(s), this.emit(\"toolbox-block-added\", {\n      block: l\n    }), this.api.toolbar.close();\n  }\n};\neo([\n  ue\n], at.prototype, \"toolsToBeDisplayed\", 1);\neo([\n  ue\n], at.prototype, \"toolboxItemsToBeDisplayed\", 1);\nlet Xi = at;\nconst oo = \"block hovered\";\nasync function Vi(n, e) {\n  const t = navigator.keyboard;\n  if (!t)\n    return e;\n  try {\n    return (await t.getLayoutMap()).get(n) || e;\n  } catch (o) {\n    return console.error(o), e;\n  }\n}\nclass qi extends y {\n  /**\n   * @class\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    }), this.toolboxInstance = null;\n  }\n  /**\n   * CSS styles\n   *\n   * @returns {object}\n   */\n  get CSS() {\n    return {\n      toolbar: \"ce-toolbar\",\n      content: \"ce-toolbar__content\",\n      actions: \"ce-toolbar__actions\",\n      actionsOpened: \"ce-toolbar__actions--opened\",\n      toolbarOpened: \"ce-toolbar--opened\",\n      openedToolboxHolderModifier: \"codex-editor--toolbox-opened\",\n      plusButton: \"ce-toolbar__plus\",\n      plusButtonShortcut: \"ce-toolbar__plus-shortcut\",\n      settingsToggler: \"ce-toolbar__settings-btn\",\n      settingsTogglerHidden: \"ce-toolbar__settings-btn--hidden\"\n    };\n  }\n  /**\n   * Returns the Toolbar opening state\n   *\n   * @returns {boolean}\n   */\n  get opened() {\n    return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened);\n  }\n  /**\n   * Public interface for accessing the Toolbox\n   */\n  get toolbox() {\n    var e;\n    return {\n      opened: (e = this.toolboxInstance) == null ? void 0 : e.opened,\n      close: () => {\n        var t;\n        (t = this.toolboxInstance) == null || t.close();\n      },\n      open: () => {\n        if (this.toolboxInstance === null) {\n          I(\"toolbox.open() called before initialization is finished\", \"warn\");\n          return;\n        }\n        this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.toolboxInstance.open();\n      },\n      toggle: () => {\n        if (this.toolboxInstance === null) {\n          I(\"toolbox.toggle() called before initialization is finished\", \"warn\");\n          return;\n        }\n        this.toolboxInstance.toggle();\n      },\n      hasFocus: () => {\n        var t;\n        return (t = this.toolboxInstance) == null ? void 0 : t.hasFocus();\n      }\n    };\n  }\n  /**\n   * Block actions appearance manipulations\n   */\n  get blockActions() {\n    return {\n      hide: () => {\n        this.nodes.actions.classList.remove(this.CSS.actionsOpened);\n      },\n      show: () => {\n        this.nodes.actions.classList.add(this.CSS.actionsOpened);\n      }\n    };\n  }\n  /**\n   * Methods for working with Block Tunes toggler\n   */\n  get blockTunesToggler() {\n    return {\n      hide: () => this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),\n      show: () => this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)\n    };\n  }\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  toggleReadOnly(e) {\n    e ? (this.destroy(), this.Editor.BlockSettings.destroy(), this.disableModuleBindings()) : window.requestIdleCallback(() => {\n      this.drawUI(), this.enableModuleBindings();\n    }, { timeout: 2e3 });\n  }\n  /**\n   * Move Toolbar to the passed (or current) Block\n   *\n   * @param block - block to move Toolbar near it\n   */\n  moveAndOpen(e = this.Editor.BlockManager.currentBlock) {\n    if (this.toolboxInstance === null) {\n      I(\"Can't open Toolbar since Editor initialization is not finished yet\", \"warn\");\n      return;\n    }\n    if (this.toolboxInstance.opened && this.toolboxInstance.close(), this.Editor.BlockSettings.opened && this.Editor.BlockSettings.close(), !e)\n      return;\n    this.hoveredBlock = e;\n    const t = e.holder, { isMobile: o } = this.Editor.UI;\n    let i;\n    const s = 20, r = e.firstInput, l = t.getBoundingClientRect(), a = r !== void 0 ? r.getBoundingClientRect() : null, c = a !== null ? a.top - l.top : null, u = c !== null ? c > s : void 0;\n    if (o)\n      i = t.offsetTop + t.offsetHeight;\n    else if (r === void 0 || u) {\n      const h = parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);\n      i = t.offsetTop + h;\n    } else {\n      const h = _o(r), p = parseInt(window.getComputedStyle(this.nodes.plusButton).height, 10), g = 8;\n      i = t.offsetTop + h - p + g + c;\n    }\n    this.nodes.wrapper.style.top = `${Math.floor(i)}px`, this.Editor.BlockManager.blocks.length === 1 && e.isEmpty ? this.blockTunesToggler.hide() : this.blockTunesToggler.show(), this.open();\n  }\n  /**\n   * Close the Toolbar\n   */\n  close() {\n    var e, t;\n    this.Editor.ReadOnly.isEnabled || ((e = this.nodes.wrapper) == null || e.classList.remove(this.CSS.toolbarOpened), this.blockActions.hide(), (t = this.toolboxInstance) == null || t.close(), this.Editor.BlockSettings.close(), this.reset());\n  }\n  /**\n   * Reset the Toolbar position to prevent DOM height growth, for example after blocks deletion\n   */\n  reset() {\n    this.nodes.wrapper.style.top = \"unset\";\n  }\n  /**\n   * Open Toolbar with Plus Button and Actions\n   *\n   * @param {boolean} withBlockActions - by default, Toolbar opens with Block Actions.\n   *                                     This flag allows to open Toolbar without Actions.\n   */\n  open(e = !0) {\n    this.nodes.wrapper.classList.add(this.CSS.toolbarOpened), e ? this.blockActions.show() : this.blockActions.hide();\n  }\n  /**\n   * Draws Toolbar elements\n   */\n  async make() {\n    this.nodes.wrapper = d.make(\"div\", this.CSS.toolbar), [\"content\", \"actions\"].forEach((s) => {\n      this.nodes[s] = d.make(\"div\", this.CSS[s]);\n    }), d.append(this.nodes.wrapper, this.nodes.content), d.append(this.nodes.content, this.nodes.actions), this.nodes.plusButton = d.make(\"div\", this.CSS.plusButton, {\n      innerHTML: Ci\n    }), d.append(this.nodes.actions, this.nodes.plusButton), this.readOnlyMutableListeners.on(this.nodes.plusButton, \"click\", () => {\n      Ne(!0), this.plusButtonClicked();\n    }, !1);\n    const e = d.make(\"div\");\n    e.appendChild(document.createTextNode(z.ui(K.ui.toolbar.toolbox, \"Add\"))), e.appendChild(d.make(\"div\", this.CSS.plusButtonShortcut, {\n      textContent: \"/\"\n    })), Pe(this.nodes.plusButton, e, {\n      hidingDelay: 400\n    }), this.nodes.settingsToggler = d.make(\"span\", this.CSS.settingsToggler, {\n      innerHTML: Ti\n    }), d.append(this.nodes.actions, this.nodes.settingsToggler);\n    const t = d.make(\"div\"), o = d.text(z.ui(K.ui.blockTunes.toggler, \"Click to tune\")), i = await Vi(\"Slash\", \"/\");\n    t.appendChild(o), t.appendChild(d.make(\"div\", this.CSS.plusButtonShortcut, {\n      textContent: tt(`CMD + ${i}`)\n    })), Pe(this.nodes.settingsToggler, t, {\n      hidingDelay: 400\n    }), d.append(this.nodes.actions, this.makeToolbox()), d.append(this.nodes.actions, this.Editor.BlockSettings.getElement()), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n  }\n  /**\n   * Creates the Toolbox instance and return it's rendered element\n   */\n  makeToolbox() {\n    return this.toolboxInstance = new Xi({\n      api: this.Editor.API.methods,\n      tools: this.Editor.Tools.blockTools,\n      i18nLabels: {\n        filter: z.ui(K.ui.popover, \"Filter\"),\n        nothingFound: z.ui(K.ui.popover, \"Nothing found\")\n      }\n    }), this.toolboxInstance.on(Se.Opened, () => {\n      this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier);\n    }), this.toolboxInstance.on(Se.Closed, () => {\n      this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier);\n    }), this.toolboxInstance.on(Se.BlockAdded, ({ block: e }) => {\n      const { BlockManager: t, Caret: o } = this.Editor, i = t.getBlockById(e.id);\n      i.inputs.length === 0 && (i === t.lastBlock ? (t.insertAtEnd(), o.setToBlock(t.lastBlock)) : o.setToBlock(t.nextBlock));\n    }), this.toolboxInstance.getElement();\n  }\n  /**\n   * Handler for Plus Button\n   */\n  plusButtonClicked() {\n    var e;\n    this.Editor.BlockManager.currentBlock = this.hoveredBlock, (e = this.toolboxInstance) == null || e.toggle();\n  }\n  /**\n   * Enable bindings\n   */\n  enableModuleBindings() {\n    this.readOnlyMutableListeners.on(this.nodes.settingsToggler, \"mousedown\", (e) => {\n      var t;\n      e.stopPropagation(), this.settingsTogglerClicked(), (t = this.toolboxInstance) != null && t.opened && this.toolboxInstance.close(), Ne(!0);\n    }, !0), pe() || this.eventsDispatcher.on(oo, (e) => {\n      var t;\n      this.Editor.BlockSettings.opened || (t = this.toolboxInstance) != null && t.opened || this.moveAndOpen(e.block);\n    });\n  }\n  /**\n   * Disable bindings\n   */\n  disableModuleBindings() {\n    this.readOnlyMutableListeners.clearAll();\n  }\n  /**\n   * Clicks on the Block Settings toggler\n   */\n  settingsTogglerClicked() {\n    this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.BlockSettings.open(this.hoveredBlock);\n  }\n  /**\n   * Draws Toolbar UI\n   *\n   * Toolbar contains BlockSettings and Toolbox.\n   * That's why at first we draw its components and then Toolbar itself\n   *\n   * Steps:\n   *  - Make Toolbar dependent components like BlockSettings, Toolbox and so on\n   *  - Make itself and append dependent nodes to itself\n   *\n   */\n  drawUI() {\n    this.Editor.BlockSettings.make(), this.make();\n  }\n  /**\n   * Removes all created and saved HTMLElements\n   * It is used in Read-Only mode\n   */\n  destroy() {\n    this.removeAllNodes(), this.toolboxInstance && this.toolboxInstance.destroy();\n  }\n}\nvar ne = /* @__PURE__ */ ((n) => (n[n.Block = 0] = \"Block\", n[n.Inline = 1] = \"Inline\", n[n.Tune = 2] = \"Tune\", n))(ne || {}), Ie = /* @__PURE__ */ ((n) => (n.Shortcut = \"shortcut\", n.Toolbox = \"toolbox\", n.EnabledInlineTools = \"inlineToolbar\", n.EnabledBlockTunes = \"tunes\", n.Config = \"config\", n))(Ie || {}), io = /* @__PURE__ */ ((n) => (n.Shortcut = \"shortcut\", n.SanitizeConfig = \"sanitize\", n))(io || {}), ce = /* @__PURE__ */ ((n) => (n.IsEnabledLineBreaks = \"enableLineBreaks\", n.Toolbox = \"toolbox\", n.ConversionConfig = \"conversionConfig\", n.IsReadOnlySupported = \"isReadOnlySupported\", n.PasteConfig = \"pasteConfig\", n))(ce || {}), ct = /* @__PURE__ */ ((n) => (n.IsInline = \"isInline\", n.Title = \"title\", n))(ct || {}), et = /* @__PURE__ */ ((n) => (n.IsTune = \"isTune\", n))(et || {});\nclass dt {\n  /**\n   * @class\n   * @param {ConstructorOptions} options - Constructor options\n   */\n  constructor({\n    name: e,\n    constructable: t,\n    config: o,\n    api: i,\n    isDefault: s,\n    isInternal: r = !1,\n    defaultPlaceholder: l\n  }) {\n    this.api = i, this.name = e, this.constructable = t, this.config = o, this.isDefault = s, this.isInternal = r, this.defaultPlaceholder = l;\n  }\n  /**\n   * Returns Tool user configuration\n   */\n  get settings() {\n    const e = this.config.config || {};\n    return this.isDefault && !(\"placeholder\" in e) && this.defaultPlaceholder && (e.placeholder = this.defaultPlaceholder), e;\n  }\n  /**\n   * Calls Tool's reset method\n   */\n  reset() {\n    if (O(this.constructable.reset))\n      return this.constructable.reset();\n  }\n  /**\n   * Calls Tool's prepare method\n   */\n  prepare() {\n    if (O(this.constructable.prepare))\n      return this.constructable.prepare({\n        toolName: this.name,\n        config: this.settings\n      });\n  }\n  /**\n   * Returns shortcut for Tool (internal or specified by user)\n   */\n  get shortcut() {\n    const e = this.constructable.shortcut;\n    return this.config.shortcut || e;\n  }\n  /**\n   * Returns Tool's sanitizer configuration\n   */\n  get sanitizeConfig() {\n    return this.constructable.sanitize || {};\n  }\n  /**\n   * Returns true if Tools is inline\n   */\n  isInline() {\n    return this.type === ne.Inline;\n  }\n  /**\n   * Returns true if Tools is block\n   */\n  isBlock() {\n    return this.type === ne.Block;\n  }\n  /**\n   * Returns true if Tools is tune\n   */\n  isTune() {\n    return this.type === ne.Tune;\n  }\n}\nclass Zi extends y {\n  /**\n   * @param moduleConfiguration - Module Configuration\n   * @param moduleConfiguration.config - Editor's config\n   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    }), this.CSS = {\n      inlineToolbar: \"ce-inline-toolbar\"\n    }, this.opened = !1, this.popover = null, this.toolbarVerticalMargin = pe() ? 20 : 6, this.toolsInstances = /* @__PURE__ */ new Map();\n  }\n  /**\n   * Toggles read-only mode\n   *\n   * @param {boolean} readOnlyEnabled - read-only mode\n   */\n  toggleReadOnly(e) {\n    e ? this.destroy() : window.requestIdleCallback(() => {\n      this.make();\n    }, { timeout: 2e3 });\n  }\n  /**\n   *  Moving / appearance\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n  /**\n   * Shows Inline Toolbar if something is selected\n   *\n   * @param [needToClose] - pass true to close toolbar if it is not allowed.\n   *                                  Avoid to use it just for closing IT, better call .close() clearly.\n   */\n  async tryToShow(e = !1) {\n    e && this.close(), this.allowedToShow() && (await this.open(), this.Editor.Toolbar.close());\n  }\n  /**\n   * Hides Inline Toolbar\n   */\n  close() {\n    var e, t;\n    this.opened && (this.Editor.ReadOnly.isEnabled || (Array.from(this.toolsInstances.entries()).forEach(([o, i]) => {\n      const s = this.getToolShortcut(o);\n      s && he.remove(this.Editor.UI.nodes.redactor, s), O(i.clear) && i.clear();\n    }), this.toolsInstances = null, this.reset(), this.opened = !1, (e = this.popover) == null || e.hide(), (t = this.popover) == null || t.destroy(), this.popover = null));\n  }\n  /**\n   * Check if node is contained by Inline Toolbar\n   *\n   * @param {Node} node — node to check\n   */\n  containsNode(e) {\n    return this.nodes.wrapper === void 0 ? !1 : this.nodes.wrapper.contains(e);\n  }\n  /**\n   * Removes UI and its components\n   */\n  destroy() {\n    var e;\n    this.removeAllNodes(), (e = this.popover) == null || e.destroy(), this.popover = null;\n  }\n  /**\n   * Making DOM\n   */\n  make() {\n    this.nodes.wrapper = d.make(\"div\", [\n      this.CSS.inlineToolbar,\n      ...this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []\n    ]), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);\n  }\n  /**\n   * Shows Inline Toolbar\n   */\n  async open() {\n    var t;\n    if (this.opened)\n      return;\n    this.opened = !0, this.popover !== null && this.popover.destroy();\n    const e = await this.getInlineTools();\n    this.popover = new Ri({\n      items: e,\n      scopeElement: this.Editor.API.methods.ui.nodes.redactor,\n      messages: {\n        nothingFound: z.ui(K.ui.popover, \"Nothing found\"),\n        search: z.ui(K.ui.popover, \"Filter\")\n      }\n    }), this.move(this.popover.size.width), (t = this.nodes.wrapper) == null || t.append(this.popover.getElement()), this.popover.show();\n  }\n  /**\n   * Move Toolbar to the selected text\n   *\n   * @param popoverWidth - width of the toolbar popover\n   */\n  move(e) {\n    const t = b.rect, o = this.Editor.UI.nodes.wrapper.getBoundingClientRect(), i = {\n      x: t.x - o.x,\n      y: t.y + t.height - // + window.scrollY\n      o.top + this.toolbarVerticalMargin\n    };\n    i.x + e + o.x > this.Editor.UI.contentRect.right && (i.x = this.Editor.UI.contentRect.right - e - o.x), this.nodes.wrapper.style.left = Math.floor(i.x) + \"px\", this.nodes.wrapper.style.top = Math.floor(i.y) + \"px\";\n  }\n  /**\n   * Clear orientation classes and reset position\n   */\n  reset() {\n    this.nodes.wrapper.style.left = \"0\", this.nodes.wrapper.style.top = \"0\";\n  }\n  /**\n   * Need to show Inline Toolbar or not\n   */\n  allowedToShow() {\n    const e = [\"IMG\", \"INPUT\"], t = b.get(), o = b.text;\n    if (!t || !t.anchorNode || t.isCollapsed || o.length < 1)\n      return !1;\n    const i = d.isElement(t.anchorNode) ? t.anchorNode : t.anchorNode.parentElement;\n    if (i === null || t && e.includes(i.tagName) || i.closest('[contenteditable=\"true\"]') === null)\n      return !1;\n    const r = this.Editor.BlockManager.getBlock(t.anchorNode);\n    return r ? r.tool.inlineTools.size !== 0 : !1;\n  }\n  /**\n   *  Working with Tools\n   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n   */\n  /**\n   * Returns Inline Tools segregated by their appearance type: popover items and custom html elements.\n   * Sets this.toolsInstances map\n   */\n  async getInlineTools() {\n    const e = b.get(), t = this.Editor.BlockManager.getBlock(e.anchorNode), o = Array.from(t.tool.inlineTools.values()), i = [];\n    this.toolsInstances === null && (this.toolsInstances = /* @__PURE__ */ new Map());\n    for (let s = 0; s < o.length; s++) {\n      const r = o[s], l = r.create(), a = await l.render();\n      this.toolsInstances.set(r.name, l);\n      const c = this.getToolShortcut(r.name);\n      if (c)\n        try {\n          this.enableShortcuts(r.name, c);\n        } catch {\n        }\n      const u = c !== void 0 ? tt(c) : void 0, h = z.t(\n        K.toolNames,\n        r.title || Le(r.name)\n      );\n      [a].flat().forEach((p) => {\n        var f, k;\n        const g = {\n          name: r.name,\n          onActivate: () => {\n            this.toolClicked(l);\n          },\n          hint: {\n            title: h,\n            description: u\n          }\n        };\n        if (d.isElement(p)) {\n          const C = {\n            ...g,\n            element: p,\n            type: A.Html\n          };\n          if (O(l.renderActions)) {\n            const S = l.renderActions();\n            C.children = {\n              isOpen: (f = l.checkState) == null ? void 0 : f.call(l, b.get()),\n              /** Disable keyboard navigation in actions, as it might conflict with enter press handling */\n              isFlippable: !1,\n              items: [\n                {\n                  type: A.Html,\n                  element: S\n                }\n              ]\n            };\n          } else\n            (k = l.checkState) == null || k.call(l, b.get());\n          i.push(C);\n        } else if (p.type === A.Html)\n          i.push({\n            ...g,\n            ...p,\n            type: A.Html\n          });\n        else if (p.type === A.Separator)\n          i.push({\n            type: A.Separator\n          });\n        else {\n          const C = {\n            ...g,\n            ...p,\n            type: A.Default\n          };\n          \"children\" in C && s !== 0 && i.push({\n            type: A.Separator\n          }), i.push(C), \"children\" in C && s < o.length - 1 && i.push({\n            type: A.Separator\n          });\n        }\n      });\n    }\n    return i;\n  }\n  /**\n   * Get shortcut name for tool\n   *\n   * @param toolName — Tool name\n   */\n  getToolShortcut(e) {\n    const { Tools: t } = this.Editor, o = t.inlineTools.get(e), i = t.internal.inlineTools;\n    return Array.from(i.keys()).includes(e) ? this.inlineTools[e][io.Shortcut] : o == null ? void 0 : o.shortcut;\n  }\n  /**\n   * Enable Tool shortcut with Editor Shortcuts Module\n   *\n   * @param toolName - tool name\n   * @param shortcut - shortcut according to the ShortcutData Module format\n   */\n  enableShortcuts(e, t) {\n    he.add({\n      name: t,\n      handler: (o) => {\n        var s;\n        const { currentBlock: i } = this.Editor.BlockManager;\n        i && i.tool.enabledInlineTools && (o.preventDefault(), (s = this.popover) == null || s.activateItemByName(e));\n      },\n      on: this.Editor.UI.nodes.redactor\n    });\n  }\n  /**\n   * Inline Tool button clicks\n   *\n   * @param tool - Tool's instance\n   */\n  toolClicked(e) {\n    var o;\n    const t = b.range;\n    (o = e.surround) == null || o.call(e, t), this.checkToolsState();\n  }\n  /**\n   * Check Tools` state by selection\n   */\n  checkToolsState() {\n    var e;\n    (e = this.toolsInstances) == null || e.forEach((t) => {\n      var o;\n      (o = t.checkState) == null || o.call(t, b.get());\n    });\n  }\n  /**\n   * Get inline tools tools\n   * Tools that has isInline is true\n   */\n  get inlineTools() {\n    const e = {};\n    return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t, o]) => {\n      e[t] = o.create();\n    }), e;\n  }\n}\nfunction so() {\n  const n = window.getSelection();\n  if (n === null)\n    return [null, 0];\n  let e = n.focusNode, t = n.focusOffset;\n  return e === null ? [null, 0] : (e.nodeType !== Node.TEXT_NODE && e.childNodes.length > 0 && (e.childNodes[t] ? (e = e.childNodes[t], t = 0) : (e = e.childNodes[t - 1], t = e.textContent.length)), [e, t]);\n}\nfunction no(n, e, t, o) {\n  const i = document.createRange();\n  o === \"left\" ? (i.setStart(n, 0), i.setEnd(e, t)) : (i.setStart(e, t), i.setEnd(n, n.childNodes.length));\n  const s = i.cloneContents(), r = document.createElement(\"div\");\n  r.appendChild(s);\n  const l = r.textContent || \"\";\n  return Lo(l);\n}\nfunction Me(n) {\n  const e = d.getDeepestNode(n);\n  if (e === null || d.isEmpty(n))\n    return !0;\n  if (d.isNativeInput(e))\n    return e.selectionEnd === 0;\n  if (d.isEmpty(n))\n    return !0;\n  const [t, o] = so();\n  return t === null ? !1 : no(n, t, o, \"left\");\n}\nfunction Ae(n) {\n  const e = d.getDeepestNode(n, !0);\n  if (e === null)\n    return !0;\n  if (d.isNativeInput(e))\n    return e.selectionEnd === e.value.length;\n  const [t, o] = so();\n  return t === null ? !1 : no(n, t, o, \"right\");\n}\nclass Gi extends y {\n  /**\n   * All keydowns on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  keydown(e) {\n    switch (this.beforeKeydownProcessing(e), e.keyCode) {\n      case w.BACKSPACE:\n        this.backspace(e);\n        break;\n      case w.DELETE:\n        this.delete(e);\n        break;\n      case w.ENTER:\n        this.enter(e);\n        break;\n      case w.DOWN:\n      case w.RIGHT:\n        this.arrowRightAndDown(e);\n        break;\n      case w.UP:\n      case w.LEFT:\n        this.arrowLeftAndUp(e);\n        break;\n      case w.TAB:\n        this.tabPressed(e);\n        break;\n    }\n    e.key === \"/\" && !e.ctrlKey && !e.metaKey && this.slashPressed(e), e.code === \"Slash\" && (e.ctrlKey || e.metaKey) && (e.preventDefault(), this.commandSlashPressed());\n  }\n  /**\n   * Fires on keydown before event processing\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  beforeKeydownProcessing(e) {\n    this.needToolbarClosing(e) && Mt(e.keyCode) && (this.Editor.Toolbar.close(), e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || this.Editor.BlockSelection.clearSelection(e));\n  }\n  /**\n   * Key up on Block:\n   * - shows Inline Toolbar if something selected\n   * - shows conversion toolbar with 85% of block selection\n   *\n   * @param {KeyboardEvent} event - keyup event\n   */\n  keyup(e) {\n    e.shiftKey || this.Editor.UI.checkEmptiness();\n  }\n  /**\n   * Add drop target styles\n   *\n   * @param {DragEvent} event - drag over event\n   */\n  dragOver(e) {\n    const t = this.Editor.BlockManager.getBlockByChildNode(e.target);\n    t.dropTarget = !0;\n  }\n  /**\n   * Remove drop target style\n   *\n   * @param {DragEvent} event - drag leave event\n   */\n  dragLeave(e) {\n    const t = this.Editor.BlockManager.getBlockByChildNode(e.target);\n    t.dropTarget = !1;\n  }\n  /**\n   * Copying selected blocks\n   * Before putting to the clipboard we sanitize all blocks and then copy to the clipboard\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  handleCommandC(e) {\n    const { BlockSelection: t } = this.Editor;\n    t.anyBlockSelected && t.copySelectedBlocks(e);\n  }\n  /**\n   * Copy and Delete selected Blocks\n   *\n   * @param {ClipboardEvent} event - clipboard event\n   */\n  handleCommandX(e) {\n    const { BlockSelection: t, BlockManager: o, Caret: i } = this.Editor;\n    t.anyBlockSelected && t.copySelectedBlocks(e).then(() => {\n      const s = o.removeSelectedBlocks(), r = o.insertDefaultBlockAtIndex(s, !0);\n      i.setToBlock(r, i.positions.START), t.clearSelection(e);\n    });\n  }\n  /**\n   * Tab pressed inside a Block.\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  tabPressed(e) {\n    const { InlineToolbar: t, Caret: o } = this.Editor;\n    if (t.opened)\n      return;\n    (e.shiftKey ? o.navigatePrevious(!0) : o.navigateNext(!0)) && e.preventDefault();\n  }\n  /**\n   * '/' + 'command' keydown inside a Block\n   */\n  commandSlashPressed() {\n    this.Editor.BlockSelection.selectedBlocks.length > 1 || this.activateBlockSettings();\n  }\n  /**\n   * '/' keydown inside a Block\n   *\n   * @param event - keydown\n   */\n  slashPressed(e) {\n    this.Editor.BlockManager.currentBlock.isEmpty && (e.preventDefault(), this.Editor.Caret.insertContentAtCaretPosition(\"/\"), this.activateToolbox());\n  }\n  /**\n   * ENTER pressed on block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  enter(e) {\n    const { BlockManager: t, UI: o } = this.Editor, i = t.currentBlock;\n    if (i === void 0 || i.tool.isLineBreaksEnabled || o.someToolbarOpened && o.someFlipperButtonFocused || e.shiftKey && !Ge)\n      return;\n    let s = i;\n    i.currentInput !== void 0 && Me(i.currentInput) && !i.hasMedia ? this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex) : i.currentInput && Ae(i.currentInput) ? s = this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex + 1) : s = this.Editor.BlockManager.split(), this.Editor.Caret.setToBlock(s), this.Editor.Toolbar.moveAndOpen(s), e.preventDefault();\n  }\n  /**\n   * Handle backspace keydown on Block\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  backspace(e) {\n    const { BlockManager: t, Caret: o } = this.Editor, { currentBlock: i, previousBlock: s } = t;\n    if (i === void 0 || !b.isCollapsed || !i.currentInput || !Me(i.currentInput))\n      return;\n    if (e.preventDefault(), this.Editor.Toolbar.close(), !(i.currentInput === i.firstInput)) {\n      o.navigatePrevious();\n      return;\n    }\n    if (s === null)\n      return;\n    if (s.isEmpty) {\n      t.removeBlock(s);\n      return;\n    }\n    if (i.isEmpty) {\n      t.removeBlock(i);\n      const a = t.currentBlock;\n      o.setToBlock(a, o.positions.END);\n      return;\n    }\n    wt(s, i) ? this.mergeBlocks(s, i) : o.setToBlock(s, o.positions.END);\n  }\n  /**\n   * Handles delete keydown on Block\n   * Removes char after the caret.\n   * If caret is at the end of the block, merge next block with current\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  delete(e) {\n    const { BlockManager: t, Caret: o } = this.Editor, { currentBlock: i, nextBlock: s } = t;\n    if (!b.isCollapsed || !Ae(i.currentInput))\n      return;\n    if (e.preventDefault(), this.Editor.Toolbar.close(), !(i.currentInput === i.lastInput)) {\n      o.navigateNext();\n      return;\n    }\n    if (s === null)\n      return;\n    if (s.isEmpty) {\n      t.removeBlock(s);\n      return;\n    }\n    if (i.isEmpty) {\n      t.removeBlock(i), o.setToBlock(s, o.positions.START);\n      return;\n    }\n    wt(i, s) ? this.mergeBlocks(i, s) : o.setToBlock(s, o.positions.START);\n  }\n  /**\n   * Merge passed Blocks\n   *\n   * @param targetBlock - to which Block we want to merge\n   * @param blockToMerge - what Block we want to merge\n   */\n  mergeBlocks(e, t) {\n    const { BlockManager: o, Caret: i, Toolbar: s } = this.Editor;\n    i.createShadow(e.lastInput), o.mergeBlocks(e, t).then(() => {\n      i.restoreCaret(e.pluginsContent), s.close();\n    });\n  }\n  /**\n   * Handle right and down keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  arrowRightAndDown(e) {\n    const t = le.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === w.TAB);\n    if (this.Editor.UI.someToolbarOpened && t)\n      return;\n    this.Editor.Toolbar.close();\n    const { currentBlock: o } = this.Editor.BlockManager, s = ((o == null ? void 0 : o.currentInput) !== void 0 ? Ae(o.currentInput) : void 0) || this.Editor.BlockSelection.anyBlockSelected;\n    if (e.shiftKey && e.keyCode === w.DOWN && s) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState();\n      return;\n    }\n    if (e.keyCode === w.DOWN || e.keyCode === w.RIGHT && !this.isRtl ? this.Editor.Caret.navigateNext() : this.Editor.Caret.navigatePrevious()) {\n      e.preventDefault();\n      return;\n    }\n    Oe(() => {\n      this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();\n    }, 20)(), this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * Handle left and up keyboard keys\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  arrowLeftAndUp(e) {\n    if (this.Editor.UI.someToolbarOpened) {\n      if (le.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === w.TAB))\n        return;\n      this.Editor.UI.closeAllToolbars();\n    }\n    this.Editor.Toolbar.close();\n    const { currentBlock: t } = this.Editor.BlockManager, i = ((t == null ? void 0 : t.currentInput) !== void 0 ? Me(t.currentInput) : void 0) || this.Editor.BlockSelection.anyBlockSelected;\n    if (e.shiftKey && e.keyCode === w.UP && i) {\n      this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);\n      return;\n    }\n    if (e.keyCode === w.UP || e.keyCode === w.LEFT && !this.isRtl ? this.Editor.Caret.navigatePrevious() : this.Editor.Caret.navigateNext()) {\n      e.preventDefault();\n      return;\n    }\n    Oe(() => {\n      this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();\n    }, 20)(), this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * Cases when we need to close Toolbar\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  needToolbarClosing(e) {\n    const t = e.keyCode === w.ENTER && this.Editor.Toolbar.toolbox.opened, o = e.keyCode === w.ENTER && this.Editor.BlockSettings.opened, i = e.keyCode === w.ENTER && this.Editor.InlineToolbar.opened, s = e.keyCode === w.TAB;\n    return !(e.shiftKey || s || t || o || i);\n  }\n  /**\n   * If Toolbox is not open, then just open it and show plus button\n   */\n  activateToolbox() {\n    this.Editor.Toolbar.opened || this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open();\n  }\n  /**\n   * Open Toolbar and show BlockSettings before flipping Tools\n   */\n  activateBlockSettings() {\n    this.Editor.Toolbar.opened || this.Editor.Toolbar.moveAndOpen(), this.Editor.BlockSettings.opened || this.Editor.BlockSettings.open();\n  }\n}\nclass Xe {\n  /**\n   * @class\n   * @param {HTMLElement} workingArea — editor`s working node\n   */\n  constructor(e) {\n    this.blocks = [], this.workingArea = e;\n  }\n  /**\n   * Get length of Block instances array\n   *\n   * @returns {number}\n   */\n  get length() {\n    return this.blocks.length;\n  }\n  /**\n   * Get Block instances array\n   *\n   * @returns {Block[]}\n   */\n  get array() {\n    return this.blocks;\n  }\n  /**\n   * Get blocks html elements array\n   *\n   * @returns {HTMLElement[]}\n   */\n  get nodes() {\n    return At(this.workingArea.children);\n  }\n  /**\n   * Proxy trap to implement array-like setter\n   *\n   * @example\n   * blocks[0] = new Block(...)\n   * @param {Blocks} instance — Blocks instance\n   * @param {PropertyKey} property — block index or any Blocks class property key to set\n   * @param {Block} value — value to set\n   * @returns {boolean}\n   */\n  static set(e, t, o) {\n    return isNaN(Number(t)) ? (Reflect.set(e, t, o), !0) : (e.insert(+t, o), !0);\n  }\n  /**\n   * Proxy trap to implement array-like getter\n   *\n   * @param {Blocks} instance — Blocks instance\n   * @param {PropertyKey} property — Blocks class property key\n   * @returns {Block|*}\n   */\n  static get(e, t) {\n    return isNaN(Number(t)) ? Reflect.get(e, t) : e.get(+t);\n  }\n  /**\n   * Push new Block to the blocks array and append it to working area\n   *\n   * @param {Block} block - Block to add\n   */\n  push(e) {\n    this.blocks.push(e), this.insertToDOM(e);\n  }\n  /**\n   * Swaps blocks with indexes first and second\n   *\n   * @param {number} first - first block index\n   * @param {number} second - second block index\n   * @deprecated — use 'move' instead\n   */\n  swap(e, t) {\n    const o = this.blocks[t];\n    d.swap(this.blocks[e].holder, o.holder), this.blocks[t] = this.blocks[e], this.blocks[e] = o;\n  }\n  /**\n   * Move a block from one to another index\n   *\n   * @param {number} toIndex - new index of the block\n   * @param {number} fromIndex - block to move\n   */\n  move(e, t) {\n    const o = this.blocks.splice(t, 1)[0], i = e - 1, s = Math.max(0, i), r = this.blocks[s];\n    e > 0 ? this.insertToDOM(o, \"afterend\", r) : this.insertToDOM(o, \"beforebegin\", r), this.blocks.splice(e, 0, o);\n    const l = this.composeBlockEvent(\"move\", {\n      fromIndex: t,\n      toIndex: e\n    });\n    o.call(J.MOVED, l);\n  }\n  /**\n   * Insert new Block at passed index\n   *\n   * @param {number} index — index to insert Block\n   * @param {Block} block — Block to insert\n   * @param {boolean} replace — it true, replace block on given index\n   */\n  insert(e, t, o = !1) {\n    if (!this.length) {\n      this.push(t);\n      return;\n    }\n    e > this.length && (e = this.length), o && (this.blocks[e].holder.remove(), this.blocks[e].call(J.REMOVED));\n    const i = o ? 1 : 0;\n    if (this.blocks.splice(e, i, t), e > 0) {\n      const s = this.blocks[e - 1];\n      this.insertToDOM(t, \"afterend\", s);\n    } else {\n      const s = this.blocks[e + 1];\n      s ? this.insertToDOM(t, \"beforebegin\", s) : this.insertToDOM(t);\n    }\n  }\n  /**\n   * Replaces block under passed index with passed block\n   *\n   * @param index - index of existed block\n   * @param block - new block\n   */\n  replace(e, t) {\n    if (this.blocks[e] === void 0)\n      throw Error(\"Incorrect index\");\n    this.blocks[e].holder.replaceWith(t.holder), this.blocks[e] = t;\n  }\n  /**\n   * Inserts several blocks at once\n   *\n   * @param blocks - blocks to insert\n   * @param index - index to insert blocks at\n   */\n  insertMany(e, t) {\n    const o = new DocumentFragment();\n    for (const i of e)\n      o.appendChild(i.holder);\n    if (this.length > 0) {\n      if (t > 0) {\n        const i = Math.min(t - 1, this.length - 1);\n        this.blocks[i].holder.after(o);\n      } else\n        t === 0 && this.workingArea.prepend(o);\n      this.blocks.splice(t, 0, ...e);\n    } else\n      this.blocks.push(...e), this.workingArea.appendChild(o);\n    e.forEach((i) => i.call(J.RENDERED));\n  }\n  /**\n   * Remove block\n   *\n   * @param {number} index - index of Block to remove\n   */\n  remove(e) {\n    isNaN(e) && (e = this.length - 1), this.blocks[e].holder.remove(), this.blocks[e].call(J.REMOVED), this.blocks.splice(e, 1);\n  }\n  /**\n   * Remove all blocks\n   */\n  removeAll() {\n    this.workingArea.innerHTML = \"\", this.blocks.forEach((e) => e.call(J.REMOVED)), this.blocks.length = 0;\n  }\n  /**\n   * Insert Block after passed target\n   *\n   * @todo decide if this method is necessary\n   * @param {Block} targetBlock — target after which Block should be inserted\n   * @param {Block} newBlock — Block to insert\n   */\n  insertAfter(e, t) {\n    const o = this.blocks.indexOf(e);\n    this.insert(o + 1, t);\n  }\n  /**\n   * Get Block by index\n   *\n   * @param {number} index — Block index\n   * @returns {Block}\n   */\n  get(e) {\n    return this.blocks[e];\n  }\n  /**\n   * Return index of passed Block\n   *\n   * @param {Block} block - Block to find\n   * @returns {number}\n   */\n  indexOf(e) {\n    return this.blocks.indexOf(e);\n  }\n  /**\n   * Insert new Block into DOM\n   *\n   * @param {Block} block - Block to insert\n   * @param {InsertPosition} position — insert position (if set, will use insertAdjacentElement)\n   * @param {Block} target — Block related to position\n   */\n  insertToDOM(e, t, o) {\n    t ? o.holder.insertAdjacentElement(t, e.holder) : this.workingArea.appendChild(e.holder), e.call(J.RENDERED);\n  }\n  /**\n   * Composes Block event with passed type and details\n   *\n   * @param {string} type - event type\n   * @param {object} detail - event detail\n   */\n  composeBlockEvent(e, t) {\n    return new CustomEvent(e, {\n      detail: t\n    });\n  }\n}\nconst Tt = \"block-removed\", Ct = \"block-added\", Ji = \"block-moved\", St = \"block-changed\";\nclass Qi {\n  constructor() {\n    this.completed = Promise.resolve();\n  }\n  /**\n   * Add new promise to queue\n   *\n   * @param operation - promise should be added to queue\n   */\n  add(e) {\n    return new Promise((t, o) => {\n      this.completed = this.completed.then(e).then(t).catch(o);\n    });\n  }\n}\nclass es extends y {\n  constructor() {\n    super(...arguments), this._currentBlockIndex = -1, this._blocks = null;\n  }\n  /**\n   * Returns current Block index\n   *\n   * @returns {number}\n   */\n  get currentBlockIndex() {\n    return this._currentBlockIndex;\n  }\n  /**\n   * Set current Block index and fire Block lifecycle callbacks\n   *\n   * @param {number} newIndex - index of Block to set as current\n   */\n  set currentBlockIndex(e) {\n    this._currentBlockIndex = e;\n  }\n  /**\n   * returns first Block\n   *\n   * @returns {Block}\n   */\n  get firstBlock() {\n    return this._blocks[0];\n  }\n  /**\n   * returns last Block\n   *\n   * @returns {Block}\n   */\n  get lastBlock() {\n    return this._blocks[this._blocks.length - 1];\n  }\n  /**\n   * Get current Block instance\n   *\n   * @returns {Block}\n   */\n  get currentBlock() {\n    return this._blocks[this.currentBlockIndex];\n  }\n  /**\n   * Set passed Block as a current\n   *\n   * @param block - block to set as a current\n   */\n  set currentBlock(e) {\n    this.currentBlockIndex = this.getBlockIndex(e);\n  }\n  /**\n   * Returns next Block instance\n   *\n   * @returns {Block|null}\n   */\n  get nextBlock() {\n    return this.currentBlockIndex === this._blocks.length - 1 ? null : this._blocks[this.currentBlockIndex + 1];\n  }\n  /**\n   * Return first Block with inputs after current Block\n   *\n   * @returns {Block | undefined}\n   */\n  get nextContentfulBlock() {\n    return this.blocks.slice(this.currentBlockIndex + 1).find((t) => !!t.inputs.length);\n  }\n  /**\n   * Return first Block with inputs before current Block\n   *\n   * @returns {Block | undefined}\n   */\n  get previousContentfulBlock() {\n    return this.blocks.slice(0, this.currentBlockIndex).reverse().find((t) => !!t.inputs.length);\n  }\n  /**\n   * Returns previous Block instance\n   *\n   * @returns {Block|null}\n   */\n  get previousBlock() {\n    return this.currentBlockIndex === 0 ? null : this._blocks[this.currentBlockIndex - 1];\n  }\n  /**\n   * Get array of Block instances\n   *\n   * @returns {Block[]} {@link Blocks#array}\n   */\n  get blocks() {\n    return this._blocks.array;\n  }\n  /**\n   * Check if each Block is empty\n   *\n   * @returns {boolean}\n   */\n  get isEditorEmpty() {\n    return this.blocks.every((e) => e.isEmpty);\n  }\n  /**\n   * Should be called after Editor.UI preparation\n   * Define this._blocks property\n   */\n  prepare() {\n    const e = new Xe(this.Editor.UI.nodes.redactor);\n    this._blocks = new Proxy(e, {\n      set: Xe.set,\n      get: Xe.get\n    }), this.listeners.on(\n      document,\n      \"copy\",\n      (t) => this.Editor.BlockEvents.handleCommandC(t)\n    );\n  }\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - Unbind event handlers from created Blocks\n   *\n   * if readOnly is false:\n   *  - Bind event handlers to all existing Blocks\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  toggleReadOnly(e) {\n    e ? this.disableModuleBindings() : this.enableModuleBindings();\n  }\n  /**\n   * Creates Block instance by tool name\n   *\n   * @param {object} options - block creation options\n   * @param {string} options.tool - tools passed in editor config {@link EditorConfig#tools}\n   * @param {string} [options.id] - unique id for this block\n   * @param {BlockToolData} [options.data] - constructor params\n   * @returns {Block}\n   */\n  composeBlock({\n    tool: e,\n    data: t = {},\n    id: o = void 0,\n    tunes: i = {}\n  }) {\n    const s = this.Editor.ReadOnly.isEnabled, r = this.Editor.Tools.blockTools.get(e), l = new D({\n      id: o,\n      data: t,\n      tool: r,\n      api: this.Editor.API,\n      readOnly: s,\n      tunesData: i\n    }, this.eventsDispatcher);\n    return s || window.requestIdleCallback(() => {\n      this.bindBlockEvents(l);\n    }, { timeout: 2e3 }), l;\n  }\n  /**\n   * Insert new block into _blocks\n   *\n   * @param {object} options - insert options\n   * @param {string} [options.id] - block's unique id\n   * @param {string} [options.tool] - plugin name, by default method inserts the default block type\n   * @param {object} [options.data] - plugin data\n   * @param {number} [options.index] - index where to insert new Block\n   * @param {boolean} [options.needToFocus] - flag shows if needed to update current Block index\n   * @param {boolean} [options.replace] - flag shows if block by passed index should be replaced with inserted one\n   * @returns {Block}\n   */\n  insert({\n    id: e = void 0,\n    tool: t = this.config.defaultBlock,\n    data: o = {},\n    index: i,\n    needToFocus: s = !0,\n    replace: r = !1,\n    tunes: l = {}\n  } = {}) {\n    let a = i;\n    a === void 0 && (a = this.currentBlockIndex + (r ? 0 : 1));\n    const c = this.composeBlock({\n      id: e,\n      tool: t,\n      data: o,\n      tunes: l\n    });\n    return r && this.blockDidMutated(Tt, this.getBlockByIndex(a), {\n      index: a\n    }), this._blocks.insert(a, c, r), this.blockDidMutated(Ct, c, {\n      index: a\n    }), s ? this.currentBlockIndex = a : a <= this.currentBlockIndex && this.currentBlockIndex++, c;\n  }\n  /**\n   * Inserts several blocks at once\n   *\n   * @param blocks - blocks to insert\n   * @param index - index where to insert\n   */\n  insertMany(e, t = 0) {\n    this._blocks.insertMany(e, t);\n  }\n  /**\n   * Update Block data.\n   *\n   * Currently we don't have an 'update' method in the Tools API, so we just create a new block with the same id and type\n   * Should not trigger 'block-removed' or 'block-added' events.\n   *\n   * If neither data nor tunes is provided, return the provided block instead.\n   *\n   * @param block - block to update\n   * @param data - (optional) new data\n   * @param tunes - (optional) tune data\n   */\n  async update(e, t, o) {\n    if (!t && !o)\n      return e;\n    const i = await e.data, s = this.composeBlock({\n      id: e.id,\n      tool: e.name,\n      data: Object.assign({}, i, t ?? {}),\n      tunes: o ?? e.tunes\n    }), r = this.getBlockIndex(e);\n    return this._blocks.replace(r, s), this.blockDidMutated(St, s, {\n      index: r\n    }), s;\n  }\n  /**\n   * Replace passed Block with the new one with specified Tool and data\n   *\n   * @param block - block to replace\n   * @param newTool - new Tool name\n   * @param data - new Tool data\n   */\n  replace(e, t, o) {\n    const i = this.getBlockIndex(e);\n    return this.insert({\n      tool: t,\n      data: o,\n      index: i,\n      replace: !0\n    });\n  }\n  /**\n   * Insert pasted content. Call onPaste callback after insert.\n   *\n   * @param {string} toolName - name of Tool to insert\n   * @param {PasteEvent} pasteEvent - pasted data\n   * @param {boolean} replace - should replace current block\n   */\n  paste(e, t, o = !1) {\n    const i = this.insert({\n      tool: e,\n      replace: o\n    });\n    try {\n      window.requestIdleCallback(() => {\n        i.call(J.ON_PASTE, t);\n      });\n    } catch (s) {\n      I(`${e}: onPaste callback call is failed`, \"error\", s);\n    }\n    return i;\n  }\n  /**\n   * Insert new default block at passed index\n   *\n   * @param {number} index - index where Block should be inserted\n   * @param {boolean} needToFocus - if true, updates current Block index\n   *\n   * TODO: Remove method and use insert() with index instead (?)\n   * @returns {Block} inserted Block\n   */\n  insertDefaultBlockAtIndex(e, t = !1) {\n    const o = this.composeBlock({ tool: this.config.defaultBlock });\n    return this._blocks[e] = o, this.blockDidMutated(Ct, o, {\n      index: e\n    }), t ? this.currentBlockIndex = e : e <= this.currentBlockIndex && this.currentBlockIndex++, o;\n  }\n  /**\n   * Always inserts at the end\n   *\n   * @returns {Block}\n   */\n  insertAtEnd() {\n    return this.currentBlockIndex = this.blocks.length - 1, this.insert();\n  }\n  /**\n   * Merge two blocks\n   *\n   * @param {Block} targetBlock - previous block will be append to this block\n   * @param {Block} blockToMerge - block that will be merged with target block\n   * @returns {Promise} - the sequence that can be continued\n   */\n  async mergeBlocks(e, t) {\n    let o;\n    if (e.name === t.name && e.mergeable) {\n      const i = await t.data;\n      if (V(i)) {\n        console.error(\"Could not merge Block. Failed to extract original Block data.\");\n        return;\n      }\n      const [s] = it([i], e.tool.sanitizeConfig);\n      o = s;\n    } else if (e.mergeable && _e(t, \"export\") && _e(e, \"import\")) {\n      const i = await t.exportDataAsString(), s = q(i, e.tool.sanitizeConfig);\n      o = xt(s, e.tool.conversionConfig);\n    }\n    o !== void 0 && (await e.mergeWith(o), this.removeBlock(t), this.currentBlockIndex = this._blocks.indexOf(e));\n  }\n  /**\n   * Remove passed Block\n   *\n   * @param block - Block to remove\n   * @param addLastBlock - if true, adds new default block at the end. @todo remove this logic and use event-bus instead\n   */\n  removeBlock(e, t = !0) {\n    return new Promise((o) => {\n      const i = this._blocks.indexOf(e);\n      if (!this.validateIndex(i))\n        throw new Error(\"Can't find a Block to remove\");\n      e.destroy(), this._blocks.remove(i), this.blockDidMutated(Tt, e, {\n        index: i\n      }), this.currentBlockIndex >= i && this.currentBlockIndex--, this.blocks.length ? i === 0 && (this.currentBlockIndex = 0) : (this.unsetCurrentBlock(), t && this.insert()), o();\n    });\n  }\n  /**\n   * Remove only selected Blocks\n   * and returns first Block index where started removing...\n   *\n   * @returns {number|undefined}\n   */\n  removeSelectedBlocks() {\n    let e;\n    for (let t = this.blocks.length - 1; t >= 0; t--)\n      this.blocks[t].selected && (this.removeBlock(this.blocks[t]), e = t);\n    return e;\n  }\n  /**\n   * Attention!\n   * After removing insert the new default typed Block and focus on it\n   * Removes all blocks\n   */\n  removeAllBlocks() {\n    for (let e = this.blocks.length - 1; e >= 0; e--)\n      this._blocks.remove(e);\n    this.unsetCurrentBlock(), this.insert(), this.currentBlock.firstInput.focus();\n  }\n  /**\n   * Split current Block\n   * 1. Extract content from Caret position to the Block`s end\n   * 2. Insert a new Block below current one with extracted content\n   *\n   * @returns {Block}\n   */\n  split() {\n    const e = this.Editor.Caret.extractFragmentFromCaretPosition(), t = d.make(\"div\");\n    t.appendChild(e);\n    const o = {\n      text: d.isEmpty(t) ? \"\" : t.innerHTML\n    };\n    return this.insert({ data: o });\n  }\n  /**\n   * Returns Block by passed index\n   *\n   * @param {number} index - index to get. -1 to get last\n   * @returns {Block}\n   */\n  getBlockByIndex(e) {\n    return e === -1 && (e = this._blocks.length - 1), this._blocks[e];\n  }\n  /**\n   * Returns an index for passed Block\n   *\n   * @param block - block to find index\n   */\n  getBlockIndex(e) {\n    return this._blocks.indexOf(e);\n  }\n  /**\n   * Returns the Block by passed id\n   *\n   * @param id - id of block to get\n   * @returns {Block}\n   */\n  getBlockById(e) {\n    return this._blocks.array.find((t) => t.id === e);\n  }\n  /**\n   * Get Block instance by html element\n   *\n   * @param {Node} element - html element to get Block by\n   */\n  getBlock(e) {\n    d.isElement(e) || (e = e.parentNode);\n    const t = this._blocks.nodes, o = e.closest(`.${D.CSS.wrapper}`), i = t.indexOf(o);\n    if (i >= 0)\n      return this._blocks[i];\n  }\n  /**\n   * 1) Find first-level Block from passed child Node\n   * 2) Mark it as current\n   *\n   * @param {Node} childNode - look ahead from this node.\n   * @returns {Block | undefined} can return undefined in case when the passed child note is not a part of the current editor instance\n   */\n  setCurrentBlockByChildNode(e) {\n    d.isElement(e) || (e = e.parentNode);\n    const t = e.closest(`.${D.CSS.wrapper}`);\n    if (!t)\n      return;\n    const o = t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);\n    if (o != null && o.isEqualNode(this.Editor.UI.nodes.wrapper))\n      return this.currentBlockIndex = this._blocks.nodes.indexOf(t), this.currentBlock.updateCurrentInput(), this.currentBlock;\n  }\n  /**\n   * Return block which contents passed node\n   *\n   * @param {Node} childNode - node to get Block by\n   * @returns {Block}\n   */\n  getBlockByChildNode(e) {\n    if (!e || !(e instanceof Node))\n      return;\n    d.isElement(e) || (e = e.parentNode);\n    const t = e.closest(`.${D.CSS.wrapper}`);\n    return this.blocks.find((o) => o.holder === t);\n  }\n  /**\n   * Swap Blocks Position\n   *\n   * @param {number} fromIndex - index of first block\n   * @param {number} toIndex - index of second block\n   * @deprecated — use 'move' instead\n   */\n  swap(e, t) {\n    this._blocks.swap(e, t), this.currentBlockIndex = t;\n  }\n  /**\n   * Move a block to a new index\n   *\n   * @param {number} toIndex - index where to move Block\n   * @param {number} fromIndex - index of Block to move\n   */\n  move(e, t = this.currentBlockIndex) {\n    if (isNaN(e) || isNaN(t)) {\n      I(\"Warning during 'move' call: incorrect indices provided.\", \"warn\");\n      return;\n    }\n    if (!this.validateIndex(e) || !this.validateIndex(t)) {\n      I(\"Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.\", \"warn\");\n      return;\n    }\n    this._blocks.move(e, t), this.currentBlockIndex = e, this.blockDidMutated(Ji, this.currentBlock, {\n      fromIndex: t,\n      toIndex: e\n    });\n  }\n  /**\n   * Converts passed Block to the new Tool\n   * Uses Conversion Config\n   *\n   * @param blockToConvert - Block that should be converted\n   * @param targetToolName - name of the Tool to convert to\n   * @param blockDataOverrides - optional new Block data overrides\n   */\n  async convert(e, t, o) {\n    if (!await e.save())\n      throw new Error(\"Could not convert Block. Failed to extract original Block data.\");\n    const s = this.Editor.Tools.blockTools.get(t);\n    if (!s)\n      throw new Error(`Could not convert Block. Tool «${t}» not found.`);\n    const r = await e.exportDataAsString(), l = q(\n      r,\n      s.sanitizeConfig\n    );\n    let a = xt(l, s.conversionConfig);\n    return o && (a = Object.assign(a, o)), this.replace(e, s.name, a);\n  }\n  /**\n   * Sets current Block Index -1 which means unknown\n   * and clear highlights\n   */\n  unsetCurrentBlock() {\n    this.currentBlockIndex = -1;\n  }\n  /**\n   * Clears Editor\n   *\n   * @param {boolean} needToAddDefaultBlock - 1) in internal calls (for example, in api.blocks.render)\n   *                                             we don't need to add an empty default block\n   *                                        2) in api.blocks.clear we should add empty block\n   */\n  async clear(e = !1) {\n    const t = new Qi();\n    this.blocks.forEach((o) => {\n      t.add(async () => {\n        await this.removeBlock(o, !1);\n      });\n    }), await t.completed, this.unsetCurrentBlock(), e && this.insert(), this.Editor.UI.checkEmptiness();\n  }\n  /**\n   * Cleans up all the block tools' resources\n   * This is called when editor is destroyed\n   */\n  async destroy() {\n    await Promise.all(this.blocks.map((e) => e.destroy()));\n  }\n  /**\n   * Bind Block events\n   *\n   * @param {Block} block - Block to which event should be bound\n   */\n  bindBlockEvents(e) {\n    const { BlockEvents: t } = this.Editor;\n    this.readOnlyMutableListeners.on(e.holder, \"keydown\", (o) => {\n      t.keydown(o);\n    }), this.readOnlyMutableListeners.on(e.holder, \"keyup\", (o) => {\n      t.keyup(o);\n    }), this.readOnlyMutableListeners.on(e.holder, \"dragover\", (o) => {\n      t.dragOver(o);\n    }), this.readOnlyMutableListeners.on(e.holder, \"dragleave\", (o) => {\n      t.dragLeave(o);\n    }), e.on(\"didMutated\", (o) => this.blockDidMutated(St, o, {\n      index: this.getBlockIndex(o)\n    }));\n  }\n  /**\n   * Disable mutable handlers and bindings\n   */\n  disableModuleBindings() {\n    this.readOnlyMutableListeners.clearAll();\n  }\n  /**\n   * Enables all module handlers and bindings for all Blocks\n   */\n  enableModuleBindings() {\n    this.readOnlyMutableListeners.on(\n      document,\n      \"cut\",\n      (e) => this.Editor.BlockEvents.handleCommandX(e)\n    ), this.blocks.forEach((e) => {\n      this.bindBlockEvents(e);\n    });\n  }\n  /**\n   * Validates that the given index is not lower than 0 or higher than the amount of blocks\n   *\n   * @param {number} index - index of blocks array to validate\n   * @returns {boolean}\n   */\n  validateIndex(e) {\n    return !(e < 0 || e >= this._blocks.length);\n  }\n  /**\n   * Block mutation callback\n   *\n   * @param mutationType - what happened with block\n   * @param block - mutated block\n   * @param detailData - additional data to pass with change event\n   */\n  blockDidMutated(e, t, o) {\n    const i = new CustomEvent(e, {\n      detail: {\n        target: new G(t),\n        ...o\n      }\n    });\n    return this.eventsDispatcher.emit(Dt, {\n      event: i\n    }), t;\n  }\n}\nclass ts extends y {\n  constructor() {\n    super(...arguments), this.anyBlockSelectedCache = null, this.needToSelectAll = !1, this.nativeInputSelected = !1, this.readyToBlockSelection = !1;\n  }\n  /**\n   * Sanitizer Config\n   *\n   * @returns {SanitizerConfig}\n   */\n  get sanitizerConfig() {\n    return {\n      p: {},\n      h1: {},\n      h2: {},\n      h3: {},\n      h4: {},\n      h5: {},\n      h6: {},\n      ol: {},\n      ul: {},\n      li: {},\n      br: !0,\n      img: {\n        src: !0,\n        width: !0,\n        height: !0\n      },\n      a: {\n        href: !0\n      },\n      b: {},\n      i: {},\n      u: {}\n    };\n  }\n  /**\n   * Flag that identifies all Blocks selection\n   *\n   * @returns {boolean}\n   */\n  get allBlocksSelected() {\n    const { BlockManager: e } = this.Editor;\n    return e.blocks.every((t) => t.selected === !0);\n  }\n  /**\n   * Set selected all blocks\n   *\n   * @param {boolean} state - state to set\n   */\n  set allBlocksSelected(e) {\n    const { BlockManager: t } = this.Editor;\n    t.blocks.forEach((o) => {\n      o.selected = e;\n    }), this.clearCache();\n  }\n  /**\n   * Flag that identifies any Block selection\n   *\n   * @returns {boolean}\n   */\n  get anyBlockSelected() {\n    const { BlockManager: e } = this.Editor;\n    return this.anyBlockSelectedCache === null && (this.anyBlockSelectedCache = e.blocks.some((t) => t.selected === !0)), this.anyBlockSelectedCache;\n  }\n  /**\n   * Return selected Blocks array\n   *\n   * @returns {Block[]}\n   */\n  get selectedBlocks() {\n    return this.Editor.BlockManager.blocks.filter((e) => e.selected);\n  }\n  /**\n   * Module Preparation\n   * Registers Shortcuts CMD+A and CMD+C\n   * to select all and copy them\n   */\n  prepare() {\n    this.selection = new b(), he.add({\n      name: \"CMD+A\",\n      handler: (e) => {\n        const { BlockManager: t, ReadOnly: o } = this.Editor;\n        if (o.isEnabled) {\n          e.preventDefault(), this.selectAllBlocks();\n          return;\n        }\n        t.currentBlock && this.handleCommandA(e);\n      },\n      on: this.Editor.UI.nodes.redactor\n    });\n  }\n  /**\n   * Toggle read-only state\n   *\n   *  - Remove all ranges\n   *  - Unselect all Blocks\n   */\n  toggleReadOnly() {\n    b.get().removeAllRanges(), this.allBlocksSelected = !1;\n  }\n  /**\n   * Remove selection of Block\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  unSelectBlockByIndex(e) {\n    const { BlockManager: t } = this.Editor;\n    let o;\n    isNaN(e) ? o = t.currentBlock : o = t.getBlockByIndex(e), o.selected = !1, this.clearCache();\n  }\n  /**\n   * Clear selection from Blocks\n   *\n   * @param {Event} reason - event caused clear of selection\n   * @param {boolean} restoreSelection - if true, restore saved selection\n   */\n  clearSelection(e, t = !1) {\n    const { BlockManager: o, Caret: i, RectangleSelection: s } = this.Editor;\n    this.needToSelectAll = !1, this.nativeInputSelected = !1, this.readyToBlockSelection = !1;\n    const r = e && e instanceof KeyboardEvent, l = r && Mt(e.keyCode);\n    if (this.anyBlockSelected && r && l && !b.isSelectionExists) {\n      const a = o.removeSelectedBlocks();\n      o.insertDefaultBlockAtIndex(a, !0), i.setToBlock(o.currentBlock), Oe(() => {\n        const c = e.key;\n        i.insertContentAtCaretPosition(c.length > 1 ? \"\" : c);\n      }, 20)();\n    }\n    if (this.Editor.CrossBlockSelection.clear(e), !this.anyBlockSelected || s.isRectActivated()) {\n      this.Editor.RectangleSelection.clearSelection();\n      return;\n    }\n    t && this.selection.restore(), this.allBlocksSelected = !1;\n  }\n  /**\n   * Reduce each Block and copy its content\n   *\n   * @param {ClipboardEvent} e - copy/cut event\n   * @returns {Promise<void>}\n   */\n  copySelectedBlocks(e) {\n    e.preventDefault();\n    const t = d.make(\"div\");\n    this.selectedBlocks.forEach((s) => {\n      const r = q(s.holder.innerHTML, this.sanitizerConfig), l = d.make(\"p\");\n      l.innerHTML = r, t.appendChild(l);\n    });\n    const o = Array.from(t.childNodes).map((s) => s.textContent).join(`\n\n`), i = t.innerHTML;\n    return e.clipboardData.setData(\"text/plain\", o), e.clipboardData.setData(\"text/html\", i), Promise.all(this.selectedBlocks.map((s) => s.save())).then((s) => {\n      try {\n        e.clipboardData.setData(this.Editor.Paste.MIME_TYPE, JSON.stringify(s));\n      } catch {\n      }\n    });\n  }\n  /**\n   * Select Block by its index\n   *\n   * @param {number?} index - Block index according to the BlockManager's indexes\n   */\n  selectBlockByIndex(e) {\n    const { BlockManager: t } = this.Editor, o = t.getBlockByIndex(e);\n    o !== void 0 && this.selectBlock(o);\n  }\n  /**\n   * Select passed Block\n   *\n   * @param {Block} block - Block to select\n   */\n  selectBlock(e) {\n    this.selection.save(), b.get().removeAllRanges(), e.selected = !0, this.clearCache(), this.Editor.InlineToolbar.close();\n  }\n  /**\n   * Remove selection from passed Block\n   *\n   * @param {Block} block - Block to unselect\n   */\n  unselectBlock(e) {\n    e.selected = !1, this.clearCache();\n  }\n  /**\n   * Clear anyBlockSelected cache\n   */\n  clearCache() {\n    this.anyBlockSelectedCache = null;\n  }\n  /**\n   * Module destruction\n   * De-registers Shortcut CMD+A\n   */\n  destroy() {\n    he.remove(this.Editor.UI.nodes.redactor, \"CMD+A\");\n  }\n  /**\n   * First CMD+A selects all input content by native behaviour,\n   * next CMD+A keypress selects all blocks\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  handleCommandA(e) {\n    if (this.Editor.RectangleSelection.clearSelection(), d.isNativeInput(e.target) && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = !0;\n      return;\n    }\n    const t = this.Editor.BlockManager.getBlock(e.target), o = t.inputs;\n    if (o.length > 1 && !this.readyToBlockSelection) {\n      this.readyToBlockSelection = !0;\n      return;\n    }\n    if (o.length === 1 && !this.needToSelectAll) {\n      this.needToSelectAll = !0;\n      return;\n    }\n    this.needToSelectAll ? (e.preventDefault(), this.selectAllBlocks(), this.needToSelectAll = !1, this.readyToBlockSelection = !1) : this.readyToBlockSelection && (e.preventDefault(), this.selectBlock(t), this.needToSelectAll = !0);\n  }\n  /**\n   * Select All Blocks\n   * Each Block has selected setter that makes Block copyable\n   */\n  selectAllBlocks() {\n    this.selection.save(), b.get().removeAllRanges(), this.allBlocksSelected = !0, this.Editor.InlineToolbar.close();\n  }\n}\nclass Re extends y {\n  /**\n   * Allowed caret positions in input\n   *\n   * @static\n   * @returns {{START: string, END: string, DEFAULT: string}}\n   */\n  get positions() {\n    return {\n      START: \"start\",\n      END: \"end\",\n      DEFAULT: \"default\"\n    };\n  }\n  /**\n   * Elements styles that can be useful for Caret Module\n   */\n  static get CSS() {\n    return {\n      shadowCaret: \"cdx-shadow-caret\"\n    };\n  }\n  /**\n   * Method gets Block instance and puts caret to the text node with offset\n   * There two ways that method applies caret position:\n   *   - first found text node: sets at the beginning, but you can pass an offset\n   *   - last found text node: sets at the end of the node. Also, you can customize the behaviour\n   *\n   * @param {Block} block - Block class\n   * @param {string} position - position where to set caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  setToBlock(e, t = this.positions.DEFAULT, o = 0) {\n    var c;\n    const { BlockManager: i, BlockSelection: s } = this.Editor;\n    if (s.clearSelection(), !e.focusable) {\n      (c = window.getSelection()) == null || c.removeAllRanges(), s.selectBlock(e), i.currentBlock = e;\n      return;\n    }\n    let r;\n    switch (t) {\n      case this.positions.START:\n        r = e.firstInput;\n        break;\n      case this.positions.END:\n        r = e.lastInput;\n        break;\n      default:\n        r = e.currentInput;\n    }\n    if (!r)\n      return;\n    const l = d.getDeepestNode(r, t === this.positions.END), a = d.getContentLength(l);\n    switch (!0) {\n      case t === this.positions.START:\n        o = 0;\n        break;\n      case t === this.positions.END:\n      case o > a:\n        o = a;\n        break;\n    }\n    this.set(l, o), i.setCurrentBlockByChildNode(e.holder), i.currentBlock.currentInput = r;\n  }\n  /**\n   * Set caret to the current input of current Block.\n   *\n   * @param {HTMLElement} input - input where caret should be set\n   * @param {string} position - position of the caret.\n   *                            If default - leave default behaviour and apply offset if it's passed\n   * @param {number} offset - caret offset regarding to the text node\n   */\n  setToInput(e, t = this.positions.DEFAULT, o = 0) {\n    const { currentBlock: i } = this.Editor.BlockManager, s = d.getDeepestNode(e);\n    switch (t) {\n      case this.positions.START:\n        this.set(s, 0);\n        break;\n      case this.positions.END:\n        this.set(s, d.getContentLength(s));\n        break;\n      default:\n        o && this.set(s, o);\n    }\n    i.currentInput = e;\n  }\n  /**\n   * Creates Document Range and sets caret to the element with offset\n   *\n   * @param {HTMLElement} element - target node.\n   * @param {number} offset - offset\n   */\n  set(e, t = 0) {\n    const { top: i, bottom: s } = b.setCursor(e, t), { innerHeight: r } = window;\n    i < 0 ? window.scrollBy(0, i - 30) : s > r && window.scrollBy(0, s - r + 30);\n  }\n  /**\n   * Set Caret to the last Block\n   * If last block is not empty, append another empty block\n   */\n  setToTheLastBlock() {\n    const e = this.Editor.BlockManager.lastBlock;\n    if (e)\n      if (e.tool.isDefault && e.isEmpty)\n        this.setToBlock(e);\n      else {\n        const t = this.Editor.BlockManager.insertAtEnd();\n        this.setToBlock(t);\n      }\n  }\n  /**\n   * Extract content fragment of current Block from Caret position to the end of the Block\n   */\n  extractFragmentFromCaretPosition() {\n    const e = b.get();\n    if (e.rangeCount) {\n      const t = e.getRangeAt(0), o = this.Editor.BlockManager.currentBlock.currentInput;\n      if (t.deleteContents(), o)\n        if (d.isNativeInput(o)) {\n          const i = o, s = document.createDocumentFragment(), r = i.value.substring(0, i.selectionStart), l = i.value.substring(i.selectionStart);\n          return s.textContent = l, i.value = r, s;\n        } else {\n          const i = t.cloneRange();\n          return i.selectNodeContents(o), i.setStart(t.endContainer, t.endOffset), i.extractContents();\n        }\n    }\n  }\n  /**\n   * Set's caret to the next Block or Tool`s input\n   * Before moving caret, we should check if caret position is at the end of Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @param {boolean} force - pass true to skip check for caret position\n   */\n  navigateNext(e = !1) {\n    const { BlockManager: t } = this.Editor, { currentBlock: o, nextBlock: i } = t;\n    if (o === void 0)\n      return !1;\n    const { nextInput: s, currentInput: r } = o, l = r !== void 0 ? Ae(r) : void 0;\n    let a = i;\n    const c = e || l || !o.focusable;\n    if (s && c)\n      return this.setToInput(s, this.positions.START), !0;\n    if (a === null) {\n      if (o.tool.isDefault || !c)\n        return !1;\n      a = t.insertAtEnd();\n    }\n    return c ? (this.setToBlock(a, this.positions.START), !0) : !1;\n  }\n  /**\n   * Set's caret to the previous Tool`s input or Block\n   * Before moving caret, we should check if caret position is start of the Plugins node\n   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection\n   *\n   * @param {boolean} force - pass true to skip check for caret position\n   */\n  navigatePrevious(e = !1) {\n    const { currentBlock: t, previousBlock: o } = this.Editor.BlockManager;\n    if (!t)\n      return !1;\n    const { previousInput: i, currentInput: s } = t, r = s !== void 0 ? Me(s) : void 0, l = e || r || !t.focusable;\n    return i && l ? (this.setToInput(i, this.positions.END), !0) : o !== null && l ? (this.setToBlock(o, this.positions.END), !0) : !1;\n  }\n  /**\n   * Inserts shadow element after passed element where caret can be placed\n   *\n   * @param {Element} element - element after which shadow caret should be inserted\n   */\n  createShadow(e) {\n    const t = document.createElement(\"span\");\n    t.classList.add(Re.CSS.shadowCaret), e.insertAdjacentElement(\"beforeend\", t);\n  }\n  /**\n   * Restores caret position\n   *\n   * @param {HTMLElement} element - element where caret should be restored\n   */\n  restoreCaret(e) {\n    const t = e.querySelector(`.${Re.CSS.shadowCaret}`);\n    if (!t)\n      return;\n    new b().expandToTag(t);\n    const i = document.createRange();\n    i.selectNode(t), i.extractContents();\n  }\n  /**\n   * Inserts passed content at caret position\n   *\n   * @param {string} content - content to insert\n   */\n  insertContentAtCaretPosition(e) {\n    const t = document.createDocumentFragment(), o = document.createElement(\"div\"), i = b.get(), s = b.range;\n    o.innerHTML = e, Array.from(o.childNodes).forEach((c) => t.appendChild(c)), t.childNodes.length === 0 && t.appendChild(new Text());\n    const r = t.lastChild;\n    s.deleteContents(), s.insertNode(t);\n    const l = document.createRange(), a = r.nodeType === Node.TEXT_NODE ? r : r.firstChild;\n    a !== null && a.textContent !== null && l.setStart(a, a.textContent.length), i.removeAllRanges(), i.addRange(l);\n  }\n}\nclass os extends y {\n  constructor() {\n    super(...arguments), this.onMouseUp = () => {\n      this.listeners.off(document, \"mouseover\", this.onMouseOver), this.listeners.off(document, \"mouseup\", this.onMouseUp);\n    }, this.onMouseOver = (e) => {\n      const { BlockManager: t, BlockSelection: o } = this.Editor;\n      if (e.relatedTarget === null && e.target === null)\n        return;\n      const i = t.getBlockByChildNode(e.relatedTarget) || this.lastSelectedBlock, s = t.getBlockByChildNode(e.target);\n      if (!(!i || !s) && s !== i) {\n        if (i === this.firstSelectedBlock) {\n          b.get().removeAllRanges(), i.selected = !0, s.selected = !0, o.clearCache();\n          return;\n        }\n        if (s === this.firstSelectedBlock) {\n          i.selected = !1, s.selected = !1, o.clearCache();\n          return;\n        }\n        this.Editor.InlineToolbar.close(), this.toggleBlocksSelectedState(i, s), this.lastSelectedBlock = s;\n      }\n    };\n  }\n  /**\n   * Module preparation\n   *\n   * @returns {Promise}\n   */\n  async prepare() {\n    this.listeners.on(document, \"mousedown\", (e) => {\n      this.enableCrossBlockSelection(e);\n    });\n  }\n  /**\n   * Sets up listeners\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  watchSelection(e) {\n    if (e.button !== wo.LEFT)\n      return;\n    const { BlockManager: t } = this.Editor;\n    this.firstSelectedBlock = t.getBlock(e.target), this.lastSelectedBlock = this.firstSelectedBlock, this.listeners.on(document, \"mouseover\", this.onMouseOver), this.listeners.on(document, \"mouseup\", this.onMouseUp);\n  }\n  /**\n   * Return boolean is cross block selection started:\n   * there should be at least 2 selected blocks\n   */\n  get isCrossBlockSelectionStarted() {\n    return !!this.firstSelectedBlock && !!this.lastSelectedBlock && this.firstSelectedBlock !== this.lastSelectedBlock;\n  }\n  /**\n   * Change selection state of the next Block\n   * Used for CBS via Shift + arrow keys\n   *\n   * @param {boolean} next - if true, toggle next block. Previous otherwise\n   */\n  toggleBlockSelectedState(e = !0) {\n    const { BlockManager: t, BlockSelection: o } = this.Editor;\n    this.lastSelectedBlock || (this.lastSelectedBlock = this.firstSelectedBlock = t.currentBlock), this.firstSelectedBlock === this.lastSelectedBlock && (this.firstSelectedBlock.selected = !0, o.clearCache(), b.get().removeAllRanges());\n    const i = t.blocks.indexOf(this.lastSelectedBlock) + (e ? 1 : -1), s = t.blocks[i];\n    s && (this.lastSelectedBlock.selected !== s.selected ? (s.selected = !0, o.clearCache()) : (this.lastSelectedBlock.selected = !1, o.clearCache()), this.lastSelectedBlock = s, this.Editor.InlineToolbar.close(), s.holder.scrollIntoView({\n      block: \"nearest\"\n    }));\n  }\n  /**\n   * Clear saved state\n   *\n   * @param {Event} reason - event caused clear of selection\n   */\n  clear(e) {\n    const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor, s = t.blocks.indexOf(this.firstSelectedBlock), r = t.blocks.indexOf(this.lastSelectedBlock);\n    if (o.anyBlockSelected && s > -1 && r > -1 && e && e instanceof KeyboardEvent)\n      switch (e.keyCode) {\n        case w.DOWN:\n        case w.RIGHT:\n          i.setToBlock(t.blocks[Math.max(s, r)], i.positions.END);\n          break;\n        case w.UP:\n        case w.LEFT:\n          i.setToBlock(t.blocks[Math.min(s, r)], i.positions.START);\n          break;\n        default:\n          i.setToBlock(t.blocks[Math.max(s, r)], i.positions.END);\n      }\n    this.firstSelectedBlock = this.lastSelectedBlock = null;\n  }\n  /**\n   * Enables Cross Block Selection\n   *\n   * @param {MouseEvent} event - mouse down event\n   */\n  enableCrossBlockSelection(e) {\n    const { UI: t } = this.Editor;\n    b.isCollapsed || this.Editor.BlockSelection.clearSelection(e), t.nodes.redactor.contains(e.target) ? this.watchSelection(e) : this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * Change blocks selection state between passed two blocks.\n   *\n   * @param {Block} firstBlock - first block in range\n   * @param {Block} lastBlock - last block in range\n   */\n  toggleBlocksSelectedState(e, t) {\n    const { BlockManager: o, BlockSelection: i } = this.Editor, s = o.blocks.indexOf(e), r = o.blocks.indexOf(t), l = e.selected !== t.selected;\n    for (let a = Math.min(s, r); a <= Math.max(s, r); a++) {\n      const c = o.blocks[a];\n      c !== this.firstSelectedBlock && c !== (l ? e : t) && (o.blocks[a].selected = !o.blocks[a].selected, i.clearCache());\n    }\n  }\n}\nclass is extends y {\n  constructor() {\n    super(...arguments), this.isStartedAtEditor = !1;\n  }\n  /**\n   * Toggle read-only state\n   *\n   * if state is true:\n   *  - disable all drag-n-drop event handlers\n   *\n   * if state is false:\n   *  - restore drag-n-drop event handlers\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  toggleReadOnly(e) {\n    e ? this.disableModuleBindings() : this.enableModuleBindings();\n  }\n  /**\n   * Add drag events listeners to editor zone\n   */\n  enableModuleBindings() {\n    const { UI: e } = this.Editor;\n    this.readOnlyMutableListeners.on(e.nodes.holder, \"drop\", async (t) => {\n      await this.processDrop(t);\n    }, !0), this.readOnlyMutableListeners.on(e.nodes.holder, \"dragstart\", () => {\n      this.processDragStart();\n    }), this.readOnlyMutableListeners.on(e.nodes.holder, \"dragover\", (t) => {\n      this.processDragOver(t);\n    }, !0);\n  }\n  /**\n   * Unbind drag-n-drop event handlers\n   */\n  disableModuleBindings() {\n    this.readOnlyMutableListeners.clearAll();\n  }\n  /**\n   * Handle drop event\n   *\n   * @param {DragEvent} dropEvent - drop event\n   */\n  async processDrop(e) {\n    const {\n      BlockManager: t,\n      Paste: o,\n      Caret: i\n    } = this.Editor;\n    e.preventDefault(), t.blocks.forEach((r) => {\n      r.dropTarget = !1;\n    }), b.isAtEditor && !b.isCollapsed && this.isStartedAtEditor && document.execCommand(\"delete\"), this.isStartedAtEditor = !1;\n    const s = t.setCurrentBlockByChildNode(e.target);\n    if (s)\n      this.Editor.Caret.setToBlock(s, i.positions.END);\n    else {\n      const r = t.setCurrentBlockByChildNode(t.lastBlock.holder);\n      this.Editor.Caret.setToBlock(r, i.positions.END);\n    }\n    await o.processDataTransfer(e.dataTransfer, !0);\n  }\n  /**\n   * Handle drag start event\n   */\n  processDragStart() {\n    b.isAtEditor && !b.isCollapsed && (this.isStartedAtEditor = !0), this.Editor.InlineToolbar.close();\n  }\n  /**\n   * @param {DragEvent} dragEvent - drag event\n   */\n  processDragOver(e) {\n    e.preventDefault();\n  }\n}\nconst ss = 180, ns = 400;\nclass rs extends y {\n  /**\n   * Prepare the module\n   *\n   * @param options - options used by the modification observer module\n   * @param options.config - Editor configuration object\n   * @param options.eventsDispatcher - common Editor event bus\n   */\n  constructor({ config: e, eventsDispatcher: t }) {\n    super({\n      config: e,\n      eventsDispatcher: t\n    }), this.disabled = !1, this.batchingTimeout = null, this.batchingOnChangeQueue = /* @__PURE__ */ new Map(), this.batchTime = ns, this.mutationObserver = new MutationObserver((o) => {\n      this.redactorChanged(o);\n    }), this.eventsDispatcher.on(Dt, (o) => {\n      this.particularBlockChanged(o.event);\n    }), this.eventsDispatcher.on(Rt, () => {\n      this.disable();\n    }), this.eventsDispatcher.on(Ft, () => {\n      this.enable();\n    });\n  }\n  /**\n   * Enables onChange event\n   */\n  enable() {\n    this.mutationObserver.observe(\n      this.Editor.UI.nodes.redactor,\n      {\n        childList: !0,\n        subtree: !0,\n        characterData: !0,\n        attributes: !0\n      }\n    ), this.disabled = !1;\n  }\n  /**\n   * Disables onChange event\n   */\n  disable() {\n    this.mutationObserver.disconnect(), this.disabled = !0;\n  }\n  /**\n   * Call onChange event passed to Editor.js configuration\n   *\n   * @param event - some of our custom change events\n   */\n  particularBlockChanged(e) {\n    this.disabled || !O(this.config.onChange) || (this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`, e), this.batchingTimeout && clearTimeout(this.batchingTimeout), this.batchingTimeout = setTimeout(() => {\n      let t;\n      this.batchingOnChangeQueue.size === 1 ? t = this.batchingOnChangeQueue.values().next().value : t = Array.from(this.batchingOnChangeQueue.values()), this.config.onChange && this.config.onChange(this.Editor.API.methods, t), this.batchingOnChangeQueue.clear();\n    }, this.batchTime));\n  }\n  /**\n   * Fired on every blocks wrapper dom change\n   *\n   * @param mutations - mutations happened\n   */\n  redactorChanged(e) {\n    this.eventsDispatcher.emit(Je, {\n      mutations: e\n    });\n  }\n}\nconst ro = class lo extends y {\n  constructor() {\n    super(...arguments), this.MIME_TYPE = \"application/x-editor-js\", this.toolsTags = {}, this.tagsByTool = {}, this.toolsPatterns = [], this.toolsFiles = {}, this.exceptionList = [], this.processTool = (e) => {\n      try {\n        const t = e.create({}, {}, !1);\n        if (e.pasteConfig === !1) {\n          this.exceptionList.push(e.name);\n          return;\n        }\n        if (!O(t.onPaste))\n          return;\n        this.getTagsConfig(e), this.getFilesConfig(e), this.getPatternsConfig(e);\n      } catch (t) {\n        I(\n          `Paste handling for «${e.name}» Tool hasn't been set up because of the error`,\n          \"warn\",\n          t\n        );\n      }\n    }, this.handlePasteEvent = async (e) => {\n      const { BlockManager: t, Toolbar: o } = this.Editor, i = t.setCurrentBlockByChildNode(e.target);\n      !i || this.isNativeBehaviour(e.target) && !e.clipboardData.types.includes(\"Files\") || i && this.exceptionList.includes(i.name) || (e.preventDefault(), this.processDataTransfer(e.clipboardData), o.close());\n    };\n  }\n  /**\n   * Set onPaste callback and collect tools` paste configurations\n   */\n  async prepare() {\n    this.processTools();\n  }\n  /**\n   * Set read-only state\n   *\n   * @param {boolean} readOnlyEnabled - read only flag value\n   */\n  toggleReadOnly(e) {\n    e ? this.unsetCallback() : this.setCallback();\n  }\n  /**\n   * Handle pasted or dropped data transfer object\n   *\n   * @param {DataTransfer} dataTransfer - pasted or dropped data transfer object\n   * @param {boolean} isDragNDrop - true if data transfer comes from drag'n'drop events\n   */\n  async processDataTransfer(e, t = !1) {\n    const { Tools: o } = this.Editor, i = e.types;\n    if ((i.includes ? i.includes(\"Files\") : i.contains(\"Files\")) && !V(this.toolsFiles)) {\n      await this.processFiles(e.files);\n      return;\n    }\n    const r = e.getData(this.MIME_TYPE), l = e.getData(\"text/plain\");\n    let a = e.getData(\"text/html\");\n    if (r)\n      try {\n        this.insertEditorJSData(JSON.parse(r));\n        return;\n      } catch {\n      }\n    t && l.trim() && a.trim() && (a = \"<p>\" + (a.trim() ? a : l) + \"</p>\");\n    const c = Object.keys(this.toolsTags).reduce((p, g) => (p[g.toLowerCase()] = this.toolsTags[g].sanitizationConfig ?? {}, p), {}), u = Object.assign({}, c, o.getAllInlineToolsSanitizeConfig(), { br: {} }), h = q(a, u);\n    !h.trim() || h.trim() === l || !d.isHTMLString(h) ? await this.processText(l) : await this.processText(h, !0);\n  }\n  /**\n   * Process pasted text and divide them into Blocks\n   *\n   * @param {string} data - text to process. Can be HTML or plain.\n   * @param {boolean} isHTML - if passed string is HTML, this parameter should be true\n   */\n  async processText(e, t = !1) {\n    const { Caret: o, BlockManager: i } = this.Editor, s = t ? this.processHTML(e) : this.processPlain(e);\n    if (!s.length)\n      return;\n    if (s.length === 1) {\n      s[0].isBlock ? this.processSingleBlock(s.pop()) : this.processInlinePaste(s.pop());\n      return;\n    }\n    const l = i.currentBlock && i.currentBlock.tool.isDefault && i.currentBlock.isEmpty;\n    s.map(\n      async (a, c) => this.insertBlock(a, c === 0 && l)\n    ), i.currentBlock && o.setToBlock(i.currentBlock, o.positions.END);\n  }\n  /**\n   * Set onPaste callback handler\n   */\n  setCallback() {\n    this.listeners.on(this.Editor.UI.nodes.holder, \"paste\", this.handlePasteEvent);\n  }\n  /**\n   * Unset onPaste callback handler\n   */\n  unsetCallback() {\n    this.listeners.off(this.Editor.UI.nodes.holder, \"paste\", this.handlePasteEvent);\n  }\n  /**\n   * Get and process tool`s paste configs\n   */\n  processTools() {\n    const e = this.Editor.Tools.blockTools;\n    Array.from(e.values()).forEach(this.processTool);\n  }\n  /**\n   * Get tags name list from either tag name or sanitization config.\n   *\n   * @param {string | object} tagOrSanitizeConfig - tag name or sanitize config object.\n   * @returns {string[]} array of tags.\n   */\n  collectTagNames(e) {\n    return Q(e) ? [e] : R(e) ? Object.keys(e) : [];\n  }\n  /**\n   * Get tags to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  getTagsConfig(e) {\n    if (e.pasteConfig === !1)\n      return;\n    const t = e.pasteConfig.tags || [], o = [];\n    t.forEach((i) => {\n      const s = this.collectTagNames(i);\n      o.push(...s), s.forEach((r) => {\n        if (Object.prototype.hasOwnProperty.call(this.toolsTags, r)) {\n          I(\n            `Paste handler for «${e.name}» Tool on «${r}» tag is skipped because it is already used by «${this.toolsTags[r].tool.name}» Tool.`,\n            \"warn\"\n          );\n          return;\n        }\n        const l = R(i) ? i[r] : null;\n        this.toolsTags[r.toUpperCase()] = {\n          tool: e,\n          sanitizationConfig: l\n        };\n      });\n    }), this.tagsByTool[e.name] = o.map((i) => i.toUpperCase());\n  }\n  /**\n   * Get files` types and extensions to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  getFilesConfig(e) {\n    if (e.pasteConfig === !1)\n      return;\n    const { files: t = {} } = e.pasteConfig;\n    let { extensions: o, mimeTypes: i } = t;\n    !o && !i || (o && !Array.isArray(o) && (I(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`), o = []), i && !Array.isArray(i) && (I(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`), i = []), i && (i = i.filter((s) => To(s) ? !0 : (I(`MIME type value «${s}» for the «${e.name}» Tool is not a valid MIME type`, \"warn\"), !1))), this.toolsFiles[e.name] = {\n      extensions: o || [],\n      mimeTypes: i || []\n    });\n  }\n  /**\n   * Get RegExp patterns to substitute by Tool\n   *\n   * @param tool - BlockTool object\n   */\n  getPatternsConfig(e) {\n    e.pasteConfig === !1 || !e.pasteConfig.patterns || V(e.pasteConfig.patterns) || Object.entries(e.pasteConfig.patterns).forEach(([t, o]) => {\n      o instanceof RegExp || I(\n        `Pattern ${o} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,\n        \"warn\"\n      ), this.toolsPatterns.push({\n        key: t,\n        pattern: o,\n        tool: e\n      });\n    });\n  }\n  /**\n   * Check if browser behavior suits better\n   *\n   * @param {EventTarget} element - element where content has been pasted\n   * @returns {boolean}\n   */\n  isNativeBehaviour(e) {\n    return d.isNativeInput(e);\n  }\n  /**\n   * Get files from data transfer object and insert related Tools\n   *\n   * @param {FileList} items - pasted or dropped items\n   */\n  async processFiles(e) {\n    const { BlockManager: t } = this.Editor;\n    let o;\n    o = await Promise.all(\n      Array.from(e).map((r) => this.processFile(r))\n    ), o = o.filter((r) => !!r);\n    const s = t.currentBlock.tool.isDefault && t.currentBlock.isEmpty;\n    o.forEach(\n      (r, l) => {\n        t.paste(r.type, r.event, l === 0 && s);\n      }\n    );\n  }\n  /**\n   * Get information about file and find Tool to handle it\n   *\n   * @param {File} file - file to process\n   */\n  async processFile(e) {\n    const t = Bo(e), o = Object.entries(this.toolsFiles).find(([r, { mimeTypes: l, extensions: a }]) => {\n      const [c, u] = e.type.split(\"/\"), h = a.find((g) => g.toLowerCase() === t.toLowerCase()), p = l.find((g) => {\n        const [f, k] = g.split(\"/\");\n        return f === c && (k === u || k === \"*\");\n      });\n      return !!h || !!p;\n    });\n    if (!o)\n      return;\n    const [i] = o;\n    return {\n      event: this.composePasteEvent(\"file\", {\n        file: e\n      }),\n      type: i\n    };\n  }\n  /**\n   * Split HTML string to blocks and return it as array of Block data\n   *\n   * @param {string} innerHTML - html string to process\n   * @returns {PasteData[]}\n   */\n  processHTML(e) {\n    const { Tools: t } = this.Editor, o = d.make(\"DIV\");\n    return o.innerHTML = e, this.getNodes(o).map((s) => {\n      let r, l = t.defaultTool, a = !1;\n      switch (s.nodeType) {\n        case Node.DOCUMENT_FRAGMENT_NODE:\n          r = d.make(\"div\"), r.appendChild(s);\n          break;\n        case Node.ELEMENT_NODE:\n          r = s, a = !0, this.toolsTags[r.tagName] && (l = this.toolsTags[r.tagName].tool);\n          break;\n      }\n      const { tags: c } = l.pasteConfig || { tags: [] }, u = c.reduce((g, f) => (this.collectTagNames(f).forEach((C) => {\n        const S = R(f) ? f[C] : null;\n        g[C.toLowerCase()] = S || {};\n      }), g), {}), h = Object.assign({}, u, l.baseSanitizeConfig);\n      if (r.tagName.toLowerCase() === \"table\") {\n        const g = q(r.outerHTML, h);\n        r = d.make(\"div\", void 0, {\n          innerHTML: g\n        }).firstChild;\n      } else\n        r.innerHTML = q(r.innerHTML, h);\n      const p = this.composePasteEvent(\"tag\", {\n        data: r\n      });\n      return {\n        content: r,\n        isBlock: a,\n        tool: l.name,\n        event: p\n      };\n    }).filter((s) => {\n      const r = d.isEmpty(s.content), l = d.isSingleTag(s.content);\n      return !r || l;\n    });\n  }\n  /**\n   * Split plain text by new line symbols and return it as array of Block data\n   *\n   * @param {string} plain - string to process\n   * @returns {PasteData[]}\n   */\n  processPlain(e) {\n    const { defaultBlock: t } = this.config;\n    if (!e)\n      return [];\n    const o = t;\n    return e.split(/\\r?\\n/).filter((i) => i.trim()).map((i) => {\n      const s = d.make(\"div\");\n      s.textContent = i;\n      const r = this.composePasteEvent(\"tag\", {\n        data: s\n      });\n      return {\n        content: s,\n        tool: o,\n        isBlock: !1,\n        event: r\n      };\n    });\n  }\n  /**\n   * Process paste of single Block tool content\n   *\n   * @param {PasteData} dataToInsert - data of Block to insert\n   */\n  async processSingleBlock(e) {\n    const { Caret: t, BlockManager: o } = this.Editor, { currentBlock: i } = o;\n    if (!i || e.tool !== i.name || !d.containsOnlyInlineElements(e.content.innerHTML)) {\n      this.insertBlock(e, (i == null ? void 0 : i.tool.isDefault) && i.isEmpty);\n      return;\n    }\n    t.insertContentAtCaretPosition(e.content.innerHTML);\n  }\n  /**\n   * Process paste to single Block:\n   * 1. Find patterns` matches\n   * 2. Insert new block if it is not the same type as current one\n   * 3. Just insert text if there is no substitutions\n   *\n   * @param {PasteData} dataToInsert - data of Block to insert\n   */\n  async processInlinePaste(e) {\n    const { BlockManager: t, Caret: o } = this.Editor, { content: i } = e;\n    if (t.currentBlock && t.currentBlock.tool.isDefault && i.textContent.length < lo.PATTERN_PROCESSING_MAX_LENGTH) {\n      const r = await this.processPattern(i.textContent);\n      if (r) {\n        const l = t.currentBlock && t.currentBlock.tool.isDefault && t.currentBlock.isEmpty, a = t.paste(r.tool, r.event, l);\n        o.setToBlock(a, o.positions.END);\n        return;\n      }\n    }\n    if (t.currentBlock && t.currentBlock.currentInput) {\n      const r = t.currentBlock.tool.baseSanitizeConfig;\n      document.execCommand(\n        \"insertHTML\",\n        !1,\n        q(i.innerHTML, r)\n      );\n    } else\n      this.insertBlock(e);\n  }\n  /**\n   * Get patterns` matches\n   *\n   * @param {string} text - text to process\n   * @returns {Promise<{event: PasteEvent, tool: string}>}\n   */\n  async processPattern(e) {\n    const t = this.toolsPatterns.find((i) => {\n      const s = i.pattern.exec(e);\n      return s ? e === s.shift() : !1;\n    });\n    return t ? {\n      event: this.composePasteEvent(\"pattern\", {\n        key: t.key,\n        data: e\n      }),\n      tool: t.tool.name\n    } : void 0;\n  }\n  /**\n   * Insert pasted Block content to Editor\n   *\n   * @param {PasteData} data - data to insert\n   * @param {boolean} canReplaceCurrentBlock - if true and is current Block is empty, will replace current Block\n   * @returns {void}\n   */\n  insertBlock(e, t = !1) {\n    const { BlockManager: o, Caret: i } = this.Editor, { currentBlock: s } = o;\n    let r;\n    if (t && s && s.isEmpty) {\n      r = o.paste(e.tool, e.event, !0), i.setToBlock(r, i.positions.END);\n      return;\n    }\n    r = o.paste(e.tool, e.event), i.setToBlock(r, i.positions.END);\n  }\n  /**\n   * Insert data passed as application/x-editor-js JSON\n   *\n   * @param {Array} blocks — Blocks' data to insert\n   * @returns {void}\n   */\n  insertEditorJSData(e) {\n    const { BlockManager: t, Caret: o, Tools: i } = this.Editor;\n    it(\n      e,\n      (r) => i.blockTools.get(r).sanitizeConfig\n    ).forEach(({ tool: r, data: l }, a) => {\n      let c = !1;\n      a === 0 && (c = t.currentBlock && t.currentBlock.tool.isDefault && t.currentBlock.isEmpty);\n      const u = t.insert({\n        tool: r,\n        data: l,\n        replace: c\n      });\n      o.setToBlock(u, o.positions.END);\n    });\n  }\n  /**\n   * Fetch nodes from Element node\n   *\n   * @param {Node} node - current node\n   * @param {Node[]} nodes - processed nodes\n   * @param {Node} destNode - destination node\n   */\n  processElementNode(e, t, o) {\n    const i = Object.keys(this.toolsTags), s = e, { tool: r } = this.toolsTags[s.tagName] || {}, l = this.tagsByTool[r == null ? void 0 : r.name] || [], a = i.includes(s.tagName), c = d.blockElements.includes(s.tagName.toLowerCase()), u = Array.from(s.children).some(\n      ({ tagName: p }) => i.includes(p) && !l.includes(p)\n    ), h = Array.from(s.children).some(\n      ({ tagName: p }) => d.blockElements.includes(p.toLowerCase())\n    );\n    if (!c && !a && !u)\n      return o.appendChild(s), [...t, o];\n    if (a && !u || c && !h && !u)\n      return [...t, o, s];\n  }\n  /**\n   * Recursively divide HTML string to two types of nodes:\n   * 1. Block element\n   * 2. Document Fragments contained text and markup tags like a, b, i etc.\n   *\n   * @param {Node} wrapper - wrapper of paster HTML content\n   * @returns {Node[]}\n   */\n  getNodes(e) {\n    const t = Array.from(e.childNodes);\n    let o;\n    const i = (s, r) => {\n      if (d.isEmpty(r) && !d.isSingleTag(r))\n        return s;\n      const l = s[s.length - 1];\n      let a = new DocumentFragment();\n      switch (l && d.isFragment(l) && (a = s.pop()), r.nodeType) {\n        case Node.ELEMENT_NODE:\n          if (o = this.processElementNode(r, s, a), o)\n            return o;\n          break;\n        case Node.TEXT_NODE:\n          return a.appendChild(r), [...s, a];\n        default:\n          return [...s, a];\n      }\n      return [...s, ...Array.from(r.childNodes).reduce(i, [])];\n    };\n    return t.reduce(i, []);\n  }\n  /**\n   * Compose paste event with passed type and detail\n   *\n   * @param {string} type - event type\n   * @param {PasteEventDetail} detail - event detail\n   */\n  composePasteEvent(e, t) {\n    return new CustomEvent(e, {\n      detail: t\n    });\n  }\n};\nro.PATTERN_PROCESSING_MAX_LENGTH = 450;\nlet ls = ro;\nclass as extends y {\n  constructor() {\n    super(...arguments), this.toolsDontSupportReadOnly = [], this.readOnlyEnabled = !1;\n  }\n  /**\n   * Returns state of read only mode\n   */\n  get isEnabled() {\n    return this.readOnlyEnabled;\n  }\n  /**\n   * Set initial state\n   */\n  async prepare() {\n    const { Tools: e } = this.Editor, { blockTools: t } = e, o = [];\n    Array.from(t.entries()).forEach(([i, s]) => {\n      s.isReadOnlySupported || o.push(i);\n    }), this.toolsDontSupportReadOnly = o, this.config.readOnly && o.length > 0 && this.throwCriticalError(), this.toggle(this.config.readOnly, !0);\n  }\n  /**\n   * Set read-only mode or toggle current state\n   * Call all Modules `toggleReadOnly` method and re-render Editor\n   *\n   * @param state - (optional) read-only state or toggle\n   * @param isInitial - (optional) true when editor is initializing\n   */\n  async toggle(e = !this.readOnlyEnabled, t = !1) {\n    e && this.toolsDontSupportReadOnly.length > 0 && this.throwCriticalError();\n    const o = this.readOnlyEnabled;\n    this.readOnlyEnabled = e;\n    for (const s in this.Editor)\n      this.Editor[s].toggleReadOnly && this.Editor[s].toggleReadOnly(e);\n    if (o === e)\n      return this.readOnlyEnabled;\n    if (t)\n      return this.readOnlyEnabled;\n    this.Editor.ModificationsObserver.disable();\n    const i = await this.Editor.Saver.save();\n    return await this.Editor.BlockManager.clear(), await this.Editor.Renderer.render(i.blocks), this.Editor.ModificationsObserver.enable(), this.readOnlyEnabled;\n  }\n  /**\n   * Throws an error about tools which don't support read-only mode\n   */\n  throwCriticalError() {\n    throw new Pt(\n      `To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(\", \")} don't support read-only mode.`\n    );\n  }\n}\nclass xe extends y {\n  constructor() {\n    super(...arguments), this.isRectSelectionActivated = !1, this.SCROLL_SPEED = 3, this.HEIGHT_OF_SCROLL_ZONE = 40, this.BOTTOM_SCROLL_ZONE = 1, this.TOP_SCROLL_ZONE = 2, this.MAIN_MOUSE_BUTTON = 0, this.mousedown = !1, this.isScrolling = !1, this.inScrollZone = null, this.startX = 0, this.startY = 0, this.mouseX = 0, this.mouseY = 0, this.stackOfSelected = [], this.listenerIds = [];\n  }\n  /**\n   * CSS classes for the Block\n   *\n   * @returns {{wrapper: string, content: string}}\n   */\n  static get CSS() {\n    return {\n      overlay: \"codex-editor-overlay\",\n      overlayContainer: \"codex-editor-overlay__container\",\n      rect: \"codex-editor-overlay__rectangle\",\n      topScrollZone: \"codex-editor-overlay__scroll-zone--top\",\n      bottomScrollZone: \"codex-editor-overlay__scroll-zone--bottom\"\n    };\n  }\n  /**\n   * Module Preparation\n   * Creating rect and hang handlers\n   */\n  prepare() {\n    this.enableModuleBindings();\n  }\n  /**\n   * Init rect params\n   *\n   * @param {number} pageX - X coord of mouse\n   * @param {number} pageY - Y coord of mouse\n   */\n  startSelection(e, t) {\n    const o = document.elementFromPoint(e - window.pageXOffset, t - window.pageYOffset);\n    o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`) || (this.Editor.BlockSelection.allBlocksSelected = !1, this.clearSelection(), this.stackOfSelected = []);\n    const s = [\n      `.${D.CSS.content}`,\n      `.${this.Editor.Toolbar.CSS.toolbar}`,\n      `.${this.Editor.InlineToolbar.CSS.inlineToolbar}`\n    ], r = o.closest(\".\" + this.Editor.UI.CSS.editorWrapper), l = s.some((a) => !!o.closest(a));\n    !r || l || (this.mousedown = !0, this.startX = e, this.startY = t);\n  }\n  /**\n   * Clear all params to end selection\n   */\n  endSelection() {\n    this.mousedown = !1, this.startX = 0, this.startY = 0, this.overlayRectangle.style.display = \"none\";\n  }\n  /**\n   * is RectSelection Activated\n   */\n  isRectActivated() {\n    return this.isRectSelectionActivated;\n  }\n  /**\n   * Mark that selection is end\n   */\n  clearSelection() {\n    this.isRectSelectionActivated = !1;\n  }\n  /**\n   * Sets Module necessary event handlers\n   */\n  enableModuleBindings() {\n    const { container: e } = this.genHTML();\n    this.listeners.on(e, \"mousedown\", (t) => {\n      this.processMouseDown(t);\n    }, !1), this.listeners.on(document.body, \"mousemove\", Ve((t) => {\n      this.processMouseMove(t);\n    }, 10), {\n      passive: !0\n    }), this.listeners.on(document.body, \"mouseleave\", () => {\n      this.processMouseLeave();\n    }), this.listeners.on(window, \"scroll\", Ve((t) => {\n      this.processScroll(t);\n    }, 10), {\n      passive: !0\n    }), this.listeners.on(document.body, \"mouseup\", () => {\n      this.processMouseUp();\n    }, !1);\n  }\n  /**\n   * Handle mouse down events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  processMouseDown(e) {\n    if (e.button !== this.MAIN_MOUSE_BUTTON)\n      return;\n    e.target.closest(d.allInputsSelector) !== null || this.startSelection(e.pageX, e.pageY);\n  }\n  /**\n   * Handle mouse move events\n   *\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  processMouseMove(e) {\n    this.changingRectangle(e), this.scrollByZones(e.clientY);\n  }\n  /**\n   * Handle mouse leave\n   */\n  processMouseLeave() {\n    this.clearSelection(), this.endSelection();\n  }\n  /**\n   * @param {MouseEvent} mouseEvent - mouse event payload\n   */\n  processScroll(e) {\n    this.changingRectangle(e);\n  }\n  /**\n   * Handle mouse up\n   */\n  processMouseUp() {\n    this.clearSelection(), this.endSelection();\n  }\n  /**\n   * Scroll If mouse in scroll zone\n   *\n   * @param {number} clientY - Y coord of mouse\n   */\n  scrollByZones(e) {\n    if (this.inScrollZone = null, e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.TOP_SCROLL_ZONE), document.documentElement.clientHeight - e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.BOTTOM_SCROLL_ZONE), !this.inScrollZone) {\n      this.isScrolling = !1;\n      return;\n    }\n    this.isScrolling || (this.scrollVertical(this.inScrollZone === this.TOP_SCROLL_ZONE ? -this.SCROLL_SPEED : this.SCROLL_SPEED), this.isScrolling = !0);\n  }\n  /**\n   * Generates required HTML elements\n   *\n   * @returns {Object<string, Element>}\n   */\n  genHTML() {\n    const { UI: e } = this.Editor, t = e.nodes.holder.querySelector(\".\" + e.CSS.editorWrapper), o = d.make(\"div\", xe.CSS.overlay, {}), i = d.make(\"div\", xe.CSS.overlayContainer, {}), s = d.make(\"div\", xe.CSS.rect, {});\n    return i.appendChild(s), o.appendChild(i), t.appendChild(o), this.overlayRectangle = s, {\n      container: t,\n      overlay: o\n    };\n  }\n  /**\n   * Activates scrolling if blockSelection is active and mouse is in scroll zone\n   *\n   * @param {number} speed - speed of scrolling\n   */\n  scrollVertical(e) {\n    if (!(this.inScrollZone && this.mousedown))\n      return;\n    const t = window.pageYOffset;\n    window.scrollBy(0, e), this.mouseY += window.pageYOffset - t, setTimeout(() => {\n      this.scrollVertical(e);\n    }, 0);\n  }\n  /**\n   * Handles the change in the rectangle and its effect\n   *\n   * @param {MouseEvent} event - mouse event\n   */\n  changingRectangle(e) {\n    if (!this.mousedown)\n      return;\n    e.pageY !== void 0 && (this.mouseX = e.pageX, this.mouseY = e.pageY);\n    const { rightPos: t, leftPos: o, index: i } = this.genInfoForMouseSelection(), s = this.startX > t && this.mouseX > t, r = this.startX < o && this.mouseX < o;\n    this.rectCrossesBlocks = !(s || r), this.isRectSelectionActivated || (this.rectCrossesBlocks = !1, this.isRectSelectionActivated = !0, this.shrinkRectangleToPoint(), this.overlayRectangle.style.display = \"block\"), this.updateRectangleSize(), this.Editor.Toolbar.close(), i !== void 0 && (this.trySelectNextBlock(i), this.inverseSelection(), b.get().removeAllRanges());\n  }\n  /**\n   * Shrink rect to singular point\n   */\n  shrinkRectangleToPoint() {\n    this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;\n  }\n  /**\n   * Select or unselect all of blocks in array if rect is out or in selectable area\n   */\n  inverseSelection() {\n    const t = this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;\n    if (this.rectCrossesBlocks && !t)\n      for (const o of this.stackOfSelected)\n        this.Editor.BlockSelection.selectBlockByIndex(o);\n    if (!this.rectCrossesBlocks && t)\n      for (const o of this.stackOfSelected)\n        this.Editor.BlockSelection.unSelectBlockByIndex(o);\n  }\n  /**\n   * Updates size of rectangle\n   */\n  updateRectangleSize() {\n    this.mouseY >= this.startY ? (this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.mouseY - window.pageYOffset}px`) : (this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.top = `${this.mouseY - window.pageYOffset}px`), this.mouseX >= this.startX ? (this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.mouseX - window.pageXOffset}px`) : (this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.left = `${this.mouseX - window.pageXOffset}px`);\n  }\n  /**\n   * Collects information needed to determine the behavior of the rectangle\n   *\n   * @returns {object} index - index next Block, leftPos - start of left border of Block, rightPos - right border\n   */\n  genInfoForMouseSelection() {\n    const t = document.body.offsetWidth / 2, o = this.mouseY - window.pageYOffset, i = document.elementFromPoint(t, o), s = this.Editor.BlockManager.getBlockByChildNode(i);\n    let r;\n    s !== void 0 && (r = this.Editor.BlockManager.blocks.findIndex((h) => h.holder === s.holder));\n    const l = this.Editor.BlockManager.lastBlock.holder.querySelector(\".\" + D.CSS.content), a = Number.parseInt(window.getComputedStyle(l).width, 10) / 2, c = t - a, u = t + a;\n    return {\n      index: r,\n      leftPos: c,\n      rightPos: u\n    };\n  }\n  /**\n   * Select block with index index\n   *\n   * @param index - index of block in redactor\n   */\n  addBlockInSelection(e) {\n    this.rectCrossesBlocks && this.Editor.BlockSelection.selectBlockByIndex(e), this.stackOfSelected.push(e);\n  }\n  /**\n   * Adds a block to the selection and determines which blocks should be selected\n   *\n   * @param {object} index - index of new block in the reactor\n   */\n  trySelectNextBlock(e) {\n    const t = this.stackOfSelected[this.stackOfSelected.length - 1] === e, o = this.stackOfSelected.length, i = 1, s = -1, r = 0;\n    if (t)\n      return;\n    const l = this.stackOfSelected[o - 1] - this.stackOfSelected[o - 2] > 0;\n    let a = r;\n    o > 1 && (a = l ? i : s);\n    const c = e > this.stackOfSelected[o - 1] && a === i, u = e < this.stackOfSelected[o - 1] && a === s, p = !(c || u || a === r);\n    if (!p && (e > this.stackOfSelected[o - 1] || this.stackOfSelected[o - 1] === void 0)) {\n      let k = this.stackOfSelected[o - 1] + 1 || e;\n      for (k; k <= e; k++)\n        this.addBlockInSelection(k);\n      return;\n    }\n    if (!p && e < this.stackOfSelected[o - 1]) {\n      for (let k = this.stackOfSelected[o - 1] - 1; k >= e; k--)\n        this.addBlockInSelection(k);\n      return;\n    }\n    if (!p)\n      return;\n    let g = o - 1, f;\n    for (e > this.stackOfSelected[o - 1] ? f = () => e > this.stackOfSelected[g] : f = () => e < this.stackOfSelected[g]; f(); )\n      this.rectCrossesBlocks && this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[g]), this.stackOfSelected.pop(), g--;\n  }\n}\nclass cs extends y {\n  /**\n   * Renders passed blocks as one batch\n   *\n   * @param blocksData - blocks to render\n   */\n  async render(e) {\n    return new Promise((t) => {\n      const { Tools: o, BlockManager: i } = this.Editor;\n      if (e.length === 0)\n        i.insert();\n      else {\n        const s = e.map(({ type: r, data: l, tunes: a, id: c }) => {\n          o.available.has(r) === !1 && (X(`Tool «${r}» is not found. Check 'tools' property at the Editor.js config.`, \"warn\"), l = this.composeStubDataForTool(r, l, c), r = o.stubTool);\n          let u;\n          try {\n            u = i.composeBlock({\n              id: c,\n              tool: r,\n              data: l,\n              tunes: a\n            });\n          } catch (h) {\n            I(`Block «${r}» skipped because of plugins error`, \"error\", {\n              data: l,\n              error: h\n            }), l = this.composeStubDataForTool(r, l, c), r = o.stubTool, u = i.composeBlock({\n              id: c,\n              tool: r,\n              data: l,\n              tunes: a\n            });\n          }\n          return u;\n        });\n        i.insertMany(s);\n      }\n      window.requestIdleCallback(() => {\n        t();\n      }, { timeout: 2e3 });\n    });\n  }\n  /**\n   * Create data for the Stub Tool that will be used instead of unavailable tool\n   *\n   * @param tool - unavailable tool name to stub\n   * @param data - data of unavailable block\n   * @param [id] - id of unavailable block\n   */\n  composeStubDataForTool(e, t, o) {\n    const { Tools: i } = this.Editor;\n    let s = e;\n    if (i.unavailable.has(e)) {\n      const r = i.unavailable.get(e).toolbox;\n      r !== void 0 && r[0].title !== void 0 && (s = r[0].title);\n    }\n    return {\n      savedData: {\n        id: o,\n        type: e,\n        data: t\n      },\n      title: s\n    };\n  }\n}\nclass ds extends y {\n  /**\n   * Composes new chain of Promises to fire them alternatelly\n   *\n   * @returns {OutputData}\n   */\n  async save() {\n    const { BlockManager: e, Tools: t } = this.Editor, o = e.blocks, i = [];\n    try {\n      o.forEach((l) => {\n        i.push(this.getSavedData(l));\n      });\n      const s = await Promise.all(i), r = await it(s, (l) => t.blockTools.get(l).sanitizeConfig);\n      return this.makeOutput(r);\n    } catch (s) {\n      X(\"Saving failed due to the Error %o\", \"error\", s);\n    }\n  }\n  /**\n   * Saves and validates\n   *\n   * @param {Block} block - Editor's Tool\n   * @returns {ValidatedData} - Tool's validated data\n   */\n  async getSavedData(e) {\n    const t = await e.save(), o = t && await e.validate(t.data);\n    return {\n      ...t,\n      isValid: o\n    };\n  }\n  /**\n   * Creates output object with saved data, time and version of editor\n   *\n   * @param {ValidatedData} allExtractedData - data extracted from Blocks\n   * @returns {OutputData}\n   */\n  makeOutput(e) {\n    const t = [];\n    return e.forEach(({ id: o, tool: i, data: s, tunes: r, isValid: l }) => {\n      if (!l) {\n        I(`Block «${i}» skipped because saved data is invalid`);\n        return;\n      }\n      if (i === this.Editor.Tools.stubTool) {\n        t.push(s);\n        return;\n      }\n      const a = {\n        id: o,\n        type: i,\n        data: s,\n        ...!V(r) && {\n          tunes: r\n        }\n      };\n      t.push(a);\n    }), {\n      time: +/* @__PURE__ */ new Date(),\n      blocks: t,\n      version: \"2.30.6\"\n    };\n  }\n}\n(function() {\n  try {\n    if (typeof document < \"u\") {\n      var n = document.createElement(\"style\");\n      n.appendChild(document.createTextNode(\".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}\")), document.head.appendChild(n);\n    }\n  } catch (e) {\n    console.error(\"vite-plugin-css-injected-by-js\", e);\n  }\n})();\nconst hs = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14\"/></svg>';\nfunction us(n) {\n  const e = document.createElement(\"div\");\n  e.innerHTML = n.trim();\n  const t = document.createDocumentFragment();\n  return t.append(...Array.from(e.childNodes)), t;\n}\n/**\n * Base Paragraph Block for the Editor.js.\n * Represents a regular text block\n *\n * @author CodeX (team@codex.so)\n * @copyright CodeX 2018\n * @license The MIT License (MIT)\n */\nclass ht {\n  /**\n   * Default placeholder for Paragraph Tool\n   *\n   * @returns {string}\n   * @class\n   */\n  static get DEFAULT_PLACEHOLDER() {\n    return \"\";\n  }\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {object} params - constructor params\n   * @param {ParagraphData} params.data - previously saved data\n   * @param {ParagraphConfig} params.config - user config for Tool\n   * @param {object} params.api - editor.js api\n   * @param {boolean} readOnly - read only mode flag\n   */\n  constructor({ data: e, config: t, api: o, readOnly: i }) {\n    this.api = o, this.readOnly = i, this._CSS = {\n      block: this.api.styles.block,\n      wrapper: \"ce-paragraph\"\n    }, this.readOnly || (this.onKeyUp = this.onKeyUp.bind(this)), this._placeholder = t.placeholder ? t.placeholder : ht.DEFAULT_PLACEHOLDER, this._data = e ?? {}, this._element = null, this._preserveBlank = t.preserveBlank ?? !1;\n  }\n  /**\n   * Check if text content is empty and set empty string to inner html.\n   * We need this because some browsers (e.g. Safari) insert <br> into empty contenteditanle elements\n   *\n   * @param {KeyboardEvent} e - key up event\n   */\n  onKeyUp(e) {\n    if (e.code !== \"Backspace\" && e.code !== \"Delete\" || !this._element)\n      return;\n    const { textContent: t } = this._element;\n    t === \"\" && (this._element.innerHTML = \"\");\n  }\n  /**\n   * Create Tool's view\n   *\n   * @returns {HTMLDivElement}\n   * @private\n   */\n  drawView() {\n    const e = document.createElement(\"DIV\");\n    return e.classList.add(this._CSS.wrapper, this._CSS.block), e.contentEditable = \"false\", e.dataset.placeholderActive = this.api.i18n.t(this._placeholder), this._data.text && (e.innerHTML = this._data.text), this.readOnly || (e.contentEditable = \"true\", e.addEventListener(\"keyup\", this.onKeyUp)), e;\n  }\n  /**\n   * Return Tool's view\n   *\n   * @returns {HTMLDivElement}\n   */\n  render() {\n    return this._element = this.drawView(), this._element;\n  }\n  /**\n   * Method that specified how to merge two Text blocks.\n   * Called by Editor.js by backspace at the beginning of the Block\n   *\n   * @param {ParagraphData} data\n   * @public\n   */\n  merge(e) {\n    if (!this._element)\n      return;\n    this._data.text += e.text;\n    const t = us(e.text);\n    this._element.appendChild(t), this._element.normalize();\n  }\n  /**\n   * Validate Paragraph block data:\n   * - check for emptiness\n   *\n   * @param {ParagraphData} savedData — data received after saving\n   * @returns {boolean} false if saved data is not correct, otherwise true\n   * @public\n   */\n  validate(e) {\n    return !(e.text.trim() === \"\" && !this._preserveBlank);\n  }\n  /**\n   * Extract Tool's data from the view\n   *\n   * @param {HTMLDivElement} toolsContent - Paragraph tools rendered view\n   * @returns {ParagraphData} - saved data\n   * @public\n   */\n  save(e) {\n    return {\n      text: e.innerHTML\n    };\n  }\n  /**\n   * On paste callback fired from Editor.\n   *\n   * @param {HTMLPasteEvent} event - event with pasted data\n   */\n  onPaste(e) {\n    const t = {\n      text: e.detail.data.innerHTML\n    };\n    this._data = t, window.requestAnimationFrame(() => {\n      this._element && (this._element.innerHTML = this._data.text || \"\");\n    });\n  }\n  /**\n   * Enable Conversion Toolbar. Paragraph can be converted to/from other tools\n   * @returns {ConversionConfig}\n   */\n  static get conversionConfig() {\n    return {\n      export: \"text\",\n      // to convert Paragraph to other block, use 'text' property of saved data\n      import: \"text\"\n      // to covert other block's exported string to Paragraph, fill 'text' property of tool data\n    };\n  }\n  /**\n   * Sanitizer rules\n   * @returns {SanitizerConfig} - Edtior.js sanitizer config\n   */\n  static get sanitize() {\n    return {\n      text: {\n        br: !0\n      }\n    };\n  }\n  /**\n   * Returns true to notify the core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Used by Editor paste handling API.\n   * Provides configuration to handle P tags.\n   *\n   * @returns {PasteConfig} - Paragraph Paste Setting\n   */\n  static get pasteConfig() {\n    return {\n      tags: [\"P\"]\n    };\n  }\n  /**\n   * Icon and title for displaying at the Toolbox\n   *\n   * @returns {ToolboxConfig} - Paragraph Toolbox Setting\n   */\n  static get toolbox() {\n    return {\n      icon: hs,\n      title: \"Text\"\n    };\n  }\n}\nclass ut {\n  constructor() {\n    this.commandName = \"bold\";\n  }\n  /**\n   * Sanitizer Rule\n   * Leave <b> tags\n   *\n   * @returns {object}\n   */\n  static get sanitize() {\n    return {\n      b: {}\n    };\n  }\n  /**\n   * Create button for Inline Toolbar\n   */\n  render() {\n    return {\n      icon: bi,\n      name: \"bold\",\n      onActivate: () => {\n        document.execCommand(this.commandName);\n      },\n      isActive: () => document.queryCommandState(this.commandName)\n    };\n  }\n  /**\n   * Set a shortcut\n   *\n   * @returns {boolean}\n   */\n  get shortcut() {\n    return \"CMD+B\";\n  }\n}\nut.isInline = !0;\nut.title = \"Bold\";\nclass pt {\n  constructor() {\n    this.commandName = \"italic\", this.CSS = {\n      button: \"ce-inline-tool\",\n      buttonActive: \"ce-inline-tool--active\",\n      buttonModifier: \"ce-inline-tool--italic\"\n    }, this.nodes = {\n      button: null\n    };\n  }\n  /**\n   * Sanitizer Rule\n   * Leave <i> tags\n   *\n   * @returns {object}\n   */\n  static get sanitize() {\n    return {\n      i: {}\n    };\n  }\n  /**\n   * Create button for Inline Toolbar\n   */\n  render() {\n    return this.nodes.button = document.createElement(\"button\"), this.nodes.button.type = \"button\", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = Bi, this.nodes.button;\n  }\n  /**\n   * Wrap range with <i> tag\n   */\n  surround() {\n    document.execCommand(this.commandName);\n  }\n  /**\n   * Check selection and set activated state to button if there are <i> tag\n   */\n  checkState() {\n    const e = document.queryCommandState(this.commandName);\n    return this.nodes.button.classList.toggle(this.CSS.buttonActive, e), e;\n  }\n  /**\n   * Set a shortcut\n   */\n  get shortcut() {\n    return \"CMD+I\";\n  }\n}\npt.isInline = !0;\npt.title = \"Italic\";\nclass ft {\n  /**\n   * @param api - Editor.js API\n   */\n  constructor({ api: e }) {\n    this.commandLink = \"createLink\", this.commandUnlink = \"unlink\", this.ENTER_KEY = 13, this.CSS = {\n      button: \"ce-inline-tool\",\n      buttonActive: \"ce-inline-tool--active\",\n      buttonModifier: \"ce-inline-tool--link\",\n      buttonUnlink: \"ce-inline-tool--unlink\",\n      input: \"ce-inline-tool-input\",\n      inputShowed: \"ce-inline-tool-input--showed\"\n    }, this.nodes = {\n      button: null,\n      input: null\n    }, this.inputOpened = !1, this.toolbar = e.toolbar, this.inlineToolbar = e.inlineToolbar, this.notifier = e.notifier, this.i18n = e.i18n, this.selection = new b();\n  }\n  /**\n   * Sanitizer Rule\n   * Leave <a> tags\n   *\n   * @returns {object}\n   */\n  static get sanitize() {\n    return {\n      a: {\n        href: !0,\n        target: \"_blank\",\n        rel: \"nofollow\"\n      }\n    };\n  }\n  /**\n   * Create button for Inline Toolbar\n   */\n  render() {\n    return this.nodes.button = document.createElement(\"button\"), this.nodes.button.type = \"button\", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = yt, this.nodes.button;\n  }\n  /**\n   * Input for the link\n   */\n  renderActions() {\n    return this.nodes.input = document.createElement(\"input\"), this.nodes.input.placeholder = this.i18n.t(\"Add a link\"), this.nodes.input.enterKeyHint = \"done\", this.nodes.input.classList.add(this.CSS.input), this.nodes.input.addEventListener(\"keydown\", (e) => {\n      e.keyCode === this.ENTER_KEY && this.enterPressed(e);\n    }), this.nodes.input;\n  }\n  /**\n   * Handle clicks on the Inline Toolbar icon\n   *\n   * @param {Range} range - range to wrap with link\n   */\n  surround(e) {\n    if (e) {\n      this.inputOpened ? (this.selection.restore(), this.selection.removeFakeBackground()) : (this.selection.setFakeBackground(), this.selection.save());\n      const t = this.selection.findParentTag(\"A\");\n      if (t) {\n        this.selection.expandToTag(t), this.unlink(), this.closeActions(), this.checkState(), this.toolbar.close();\n        return;\n      }\n    }\n    this.toggleActions();\n  }\n  /**\n   * Check selection and set activated state to button if there are <a> tag\n   */\n  checkState() {\n    const e = this.selection.findParentTag(\"A\");\n    if (e) {\n      this.nodes.button.innerHTML = Ii, this.nodes.button.classList.add(this.CSS.buttonUnlink), this.nodes.button.classList.add(this.CSS.buttonActive), this.openActions();\n      const t = e.getAttribute(\"href\");\n      this.nodes.input.value = t !== \"null\" ? t : \"\", this.selection.save();\n    } else\n      this.nodes.button.innerHTML = yt, this.nodes.button.classList.remove(this.CSS.buttonUnlink), this.nodes.button.classList.remove(this.CSS.buttonActive);\n    return !!e;\n  }\n  /**\n   * Function called with Inline Toolbar closing\n   */\n  clear() {\n    this.closeActions();\n  }\n  /**\n   * Set a shortcut\n   */\n  get shortcut() {\n    return \"CMD+K\";\n  }\n  /**\n   * Show/close link input\n   */\n  toggleActions() {\n    this.inputOpened ? this.closeActions(!1) : this.openActions(!0);\n  }\n  /**\n   * @param {boolean} needFocus - on link creation we need to focus input. On editing - nope.\n   */\n  openActions(e = !1) {\n    this.nodes.input.classList.add(this.CSS.inputShowed), e && this.nodes.input.focus(), this.inputOpened = !0;\n  }\n  /**\n   * Close input\n   *\n   * @param {boolean} clearSavedSelection — we don't need to clear saved selection\n   *                                        on toggle-clicks on the icon of opened Toolbar\n   */\n  closeActions(e = !0) {\n    if (this.selection.isFakeBackgroundEnabled) {\n      const t = new b();\n      t.save(), this.selection.restore(), this.selection.removeFakeBackground(), t.restore();\n    }\n    this.nodes.input.classList.remove(this.CSS.inputShowed), this.nodes.input.value = \"\", e && this.selection.clearSaved(), this.inputOpened = !1;\n  }\n  /**\n   * Enter pressed on input\n   *\n   * @param {KeyboardEvent} event - enter keydown event\n   */\n  enterPressed(e) {\n    let t = this.nodes.input.value || \"\";\n    if (!t.trim()) {\n      this.selection.restore(), this.unlink(), e.preventDefault(), this.closeActions();\n      return;\n    }\n    if (!this.validateURL(t)) {\n      this.notifier.show({\n        message: \"Pasted link is not valid.\",\n        style: \"error\"\n      }), I(\"Incorrect Link pasted\", \"warn\", t);\n      return;\n    }\n    t = this.prepareLink(t), this.selection.restore(), this.selection.removeFakeBackground(), this.insertLink(t), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), this.selection.collapseToEnd(), this.inlineToolbar.close();\n  }\n  /**\n   * Detects if passed string is URL\n   *\n   * @param {string} str - string to validate\n   * @returns {boolean}\n   */\n  validateURL(e) {\n    return !/\\s/.test(e);\n  }\n  /**\n   * Process link before injection\n   * - sanitize\n   * - add protocol for links like 'google.com'\n   *\n   * @param {string} link - raw user input\n   */\n  prepareLink(e) {\n    return e = e.trim(), e = this.addProtocol(e), e;\n  }\n  /**\n   * Add 'http' protocol to the links like 'vc.ru', 'google.com'\n   *\n   * @param {string} link - string to process\n   */\n  addProtocol(e) {\n    if (/^(\\w+):(\\/\\/)?/.test(e))\n      return e;\n    const t = /^\\/[^/\\s]/.test(e), o = e.substring(0, 1) === \"#\", i = /^\\/\\/[^/\\s]/.test(e);\n    return !t && !o && !i && (e = \"http://\" + e), e;\n  }\n  /**\n   * Inserts <a> tag with \"href\"\n   *\n   * @param {string} link - \"href\" value\n   */\n  insertLink(e) {\n    const t = this.selection.findParentTag(\"A\");\n    t && this.selection.expandToTag(t), document.execCommand(this.commandLink, !1, e);\n  }\n  /**\n   * Removes <a> tag\n   */\n  unlink() {\n    document.execCommand(this.commandUnlink);\n  }\n}\nft.isInline = !0;\nft.title = \"Link\";\nclass ao {\n  /**\n   * @param api - Editor.js API\n   */\n  constructor({ api: e }) {\n    this.i18nAPI = e.i18n, this.blocksAPI = e.blocks, this.selectionAPI = e.selection, this.toolsAPI = e.tools, this.caretAPI = e.caret;\n  }\n  /**\n   * Returns tool's UI config\n   */\n  async render() {\n    const e = b.get(), t = this.blocksAPI.getBlockByElement(e.anchorNode);\n    if (t === void 0)\n      return [];\n    const o = this.toolsAPI.getBlockTools(), i = await zt(t, o);\n    if (i.length === 0)\n      return [];\n    const s = i.reduce((c, u) => {\n      var h;\n      return (h = u.toolbox) == null || h.forEach((p) => {\n        c.push({\n          icon: p.icon,\n          title: z.t(K.toolNames, p.title),\n          name: u.name,\n          closeOnActivate: !0,\n          onActivate: async () => {\n            const g = await this.blocksAPI.convert(t.id, u.name, p.data);\n            this.caretAPI.setToBlock(g, \"end\");\n          }\n        });\n      }), c;\n    }, []), r = await t.getActiveToolboxEntry(), l = r !== void 0 ? r.icon : Kt, a = !pe();\n    return {\n      icon: l,\n      name: \"convert-to\",\n      hint: {\n        title: this.i18nAPI.t(\"Convert to\")\n      },\n      children: {\n        searchable: a,\n        items: s,\n        onOpen: () => {\n          a && (this.selectionAPI.setFakeBackground(), this.selectionAPI.save());\n        },\n        onClose: () => {\n          a && (this.selectionAPI.restore(), this.selectionAPI.removeFakeBackground());\n        }\n      }\n    };\n  }\n}\nao.isInline = !0;\nclass co {\n  /**\n   * @param options - constructor options\n   * @param options.data - stub tool data\n   * @param options.api - Editor.js API\n   */\n  constructor({ data: e, api: t }) {\n    this.CSS = {\n      wrapper: \"ce-stub\",\n      info: \"ce-stub__info\",\n      title: \"ce-stub__title\",\n      subtitle: \"ce-stub__subtitle\"\n    }, this.api = t, this.title = e.title || this.api.i18n.t(\"Error\"), this.subtitle = this.api.i18n.t(\"The block can not be displayed correctly.\"), this.savedData = e.savedData, this.wrapper = this.make();\n  }\n  /**\n   * Returns stub holder\n   *\n   * @returns {HTMLElement}\n   */\n  render() {\n    return this.wrapper;\n  }\n  /**\n   * Return original Tool data\n   *\n   * @returns {BlockToolData}\n   */\n  save() {\n    return this.savedData;\n  }\n  /**\n   * Create Tool html markup\n   *\n   * @returns {HTMLElement}\n   */\n  make() {\n    const e = d.make(\"div\", this.CSS.wrapper), t = Mi, o = d.make(\"div\", this.CSS.info), i = d.make(\"div\", this.CSS.title, {\n      textContent: this.title\n    }), s = d.make(\"div\", this.CSS.subtitle, {\n      textContent: this.subtitle\n    });\n    return e.innerHTML = t, o.appendChild(i), o.appendChild(s), e.appendChild(o), e;\n  }\n}\nco.isReadOnlySupported = !0;\nclass ps extends dt {\n  constructor() {\n    super(...arguments), this.type = ne.Inline;\n  }\n  /**\n   * Returns title for Inline Tool if specified by user\n   */\n  get title() {\n    return this.constructable[ct.Title];\n  }\n  /**\n   * Constructs new InlineTool instance from constructable\n   */\n  create() {\n    return new this.constructable({\n      api: this.api,\n      config: this.settings\n    });\n  }\n}\nclass fs extends dt {\n  constructor() {\n    super(...arguments), this.type = ne.Tune;\n  }\n  /**\n   * Constructs new BlockTune instance from constructable\n   *\n   * @param data - Tune data\n   * @param block - Block API object\n   */\n  create(e, t) {\n    return new this.constructable({\n      api: this.api,\n      config: this.settings,\n      block: t,\n      data: e\n    });\n  }\n}\nclass F extends Map {\n  /**\n   * Returns Block Tools collection\n   */\n  get blockTools() {\n    const e = Array.from(this.entries()).filter(([, t]) => t.isBlock());\n    return new F(e);\n  }\n  /**\n   * Returns Inline Tools collection\n   */\n  get inlineTools() {\n    const e = Array.from(this.entries()).filter(([, t]) => t.isInline());\n    return new F(e);\n  }\n  /**\n   * Returns Block Tunes collection\n   */\n  get blockTunes() {\n    const e = Array.from(this.entries()).filter(([, t]) => t.isTune());\n    return new F(e);\n  }\n  /**\n   * Returns internal Tools collection\n   */\n  get internalTools() {\n    const e = Array.from(this.entries()).filter(([, t]) => t.isInternal);\n    return new F(e);\n  }\n  /**\n   * Returns Tools collection provided by user\n   */\n  get externalTools() {\n    const e = Array.from(this.entries()).filter(([, t]) => !t.isInternal);\n    return new F(e);\n  }\n}\nvar gs = Object.defineProperty, ms = Object.getOwnPropertyDescriptor, ho = (n, e, t, o) => {\n  for (var i = o > 1 ? void 0 : o ? ms(e, t) : e, s = n.length - 1, r; s >= 0; s--)\n    (r = n[s]) && (i = (o ? r(e, t, i) : r(i)) || i);\n  return o && i && gs(e, t, i), i;\n};\nclass gt extends dt {\n  constructor() {\n    super(...arguments), this.type = ne.Block, this.inlineTools = new F(), this.tunes = new F();\n  }\n  /**\n   * Creates new Tool instance\n   *\n   * @param data - Tool data\n   * @param block - BlockAPI for current Block\n   * @param readOnly - True if Editor is in read-only mode\n   */\n  create(e, t, o) {\n    return new this.constructable({\n      data: e,\n      block: t,\n      readOnly: o,\n      api: this.api,\n      config: this.settings\n    });\n  }\n  /**\n   * Returns true if read-only mode is supported by Tool\n   */\n  get isReadOnlySupported() {\n    return this.constructable[ce.IsReadOnlySupported] === !0;\n  }\n  /**\n   * Returns true if Tool supports linebreaks\n   */\n  get isLineBreaksEnabled() {\n    return this.constructable[ce.IsEnabledLineBreaks];\n  }\n  /**\n   * Returns Tool toolbox configuration (internal or user-specified).\n   *\n   * Merges internal and user-defined toolbox configs based on the following rules:\n   *\n   * - If both internal and user-defined toolbox configs are arrays their items are merged.\n   * Length of the second one is kept.\n   *\n   * - If both are objects their properties are merged.\n   *\n   * - If one is an object and another is an array than internal config is replaced with user-defined\n   * config. This is made to allow user to override default tool's toolbox representation (single/multiple entries)\n   */\n  get toolbox() {\n    const e = this.constructable[ce.Toolbox], t = this.config[Ie.Toolbox];\n    if (!V(e) && t !== !1)\n      return t ? Array.isArray(e) ? Array.isArray(t) ? t.map((o, i) => {\n        const s = e[i];\n        return s ? {\n          ...s,\n          ...o\n        } : o;\n      }) : [t] : Array.isArray(t) ? t : [\n        {\n          ...e,\n          ...t\n        }\n      ] : Array.isArray(e) ? e : [e];\n  }\n  /**\n   * Returns Tool conversion configuration\n   */\n  get conversionConfig() {\n    return this.constructable[ce.ConversionConfig];\n  }\n  /**\n   * Returns enabled inline tools for Tool\n   */\n  get enabledInlineTools() {\n    return this.config[Ie.EnabledInlineTools] || !1;\n  }\n  /**\n   * Returns enabled tunes for Tool\n   */\n  get enabledBlockTunes() {\n    return this.config[Ie.EnabledBlockTunes];\n  }\n  /**\n   * Returns Tool paste configuration\n   */\n  get pasteConfig() {\n    return this.constructable[ce.PasteConfig] ?? {};\n  }\n  get sanitizeConfig() {\n    const e = super.sanitizeConfig, t = this.baseSanitizeConfig;\n    if (V(e))\n      return t;\n    const o = {};\n    for (const i in e)\n      if (Object.prototype.hasOwnProperty.call(e, i)) {\n        const s = e[i];\n        R(s) ? o[i] = Object.assign({}, t, s) : o[i] = s;\n      }\n    return o;\n  }\n  get baseSanitizeConfig() {\n    const e = {};\n    return Array.from(this.inlineTools.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), Array.from(this.tunes.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), e;\n  }\n}\nho([\n  ue\n], gt.prototype, \"sanitizeConfig\", 1);\nho([\n  ue\n], gt.prototype, \"baseSanitizeConfig\", 1);\nclass bs {\n  /**\n   * @class\n   * @param config - tools config\n   * @param editorConfig - EditorJS config\n   * @param api - EditorJS API module\n   */\n  constructor(e, t, o) {\n    this.api = o, this.config = e, this.editorConfig = t;\n  }\n  /**\n   * Returns Tool object based on it's type\n   *\n   * @param name - tool name\n   */\n  get(e) {\n    const { class: t, isInternal: o = !1, ...i } = this.config[e], s = this.getConstructor(t), r = t[et.IsTune];\n    return new s({\n      name: e,\n      constructable: t,\n      config: i,\n      api: this.api.getMethodsForTool(e, r),\n      isDefault: e === this.editorConfig.defaultBlock,\n      defaultPlaceholder: this.editorConfig.placeholder,\n      isInternal: o\n    });\n  }\n  /**\n   * Find appropriate Tool object constructor for Tool constructable\n   *\n   * @param constructable - Tools constructable\n   */\n  getConstructor(e) {\n    switch (!0) {\n      case e[ct.IsInline]:\n        return ps;\n      case e[et.IsTune]:\n        return fs;\n      default:\n        return gt;\n    }\n  }\n}\nclass uo {\n  /**\n   * MoveDownTune constructor\n   *\n   * @param {API} api — Editor's API\n   */\n  constructor({ api: e }) {\n    this.CSS = {\n      animation: \"wobble\"\n    }, this.api = e;\n  }\n  /**\n   * Tune's appearance in block settings menu\n   */\n  render() {\n    return {\n      icon: ki,\n      title: this.api.i18n.t(\"Move down\"),\n      onActivate: () => this.handleClick(),\n      name: \"move-down\"\n    };\n  }\n  /**\n   * Handle clicks on 'move down' button\n   */\n  handleClick() {\n    const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e + 1);\n    if (!t)\n      throw new Error(\"Unable to move Block down since it is already the last\");\n    const o = t.holder, i = o.getBoundingClientRect();\n    let s = Math.abs(window.innerHeight - o.offsetHeight);\n    i.top < window.innerHeight && (s = window.scrollY + o.offsetHeight), window.scrollTo(0, s), this.api.blocks.move(e + 1), this.api.toolbar.toggleBlockSettings(!0);\n  }\n}\nuo.isTune = !0;\nclass po {\n  /**\n   * DeleteTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api: e }) {\n    this.api = e;\n  }\n  /**\n   * Tune's appearance in block settings menu\n   */\n  render() {\n    return {\n      icon: yi,\n      title: this.api.i18n.t(\"Delete\"),\n      name: \"delete\",\n      confirmation: {\n        title: this.api.i18n.t(\"Click to delete\"),\n        onActivate: () => this.handleClick()\n      }\n    };\n  }\n  /**\n   * Delete block conditions passed\n   */\n  handleClick() {\n    this.api.blocks.delete();\n  }\n}\npo.isTune = !0;\nclass fo {\n  /**\n   * MoveUpTune constructor\n   *\n   * @param {API} api - Editor's API\n   */\n  constructor({ api: e }) {\n    this.CSS = {\n      animation: \"wobble\"\n    }, this.api = e;\n  }\n  /**\n   * Tune's appearance in block settings menu\n   */\n  render() {\n    return {\n      icon: xi,\n      title: this.api.i18n.t(\"Move up\"),\n      onActivate: () => this.handleClick(),\n      name: \"move-up\"\n    };\n  }\n  /**\n   * Move current block up\n   */\n  handleClick() {\n    const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e), o = this.api.blocks.getBlockByIndex(e - 1);\n    if (e === 0 || !t || !o)\n      throw new Error(\"Unable to move Block up since it is already the first\");\n    const i = t.holder, s = o.holder, r = i.getBoundingClientRect(), l = s.getBoundingClientRect();\n    let a;\n    l.top > 0 ? a = Math.abs(r.top) - Math.abs(l.top) : a = Math.abs(r.top) + l.height, window.scrollBy(0, -1 * a), this.api.blocks.move(e - 1), this.api.toolbar.toggleBlockSettings(!0);\n  }\n}\nfo.isTune = !0;\nvar ks = Object.defineProperty, vs = Object.getOwnPropertyDescriptor, ws = (n, e, t, o) => {\n  for (var i = o > 1 ? void 0 : o ? vs(e, t) : e, s = n.length - 1, r; s >= 0; s--)\n    (r = n[s]) && (i = (o ? r(e, t, i) : r(i)) || i);\n  return o && i && ks(e, t, i), i;\n};\nclass go extends y {\n  constructor() {\n    super(...arguments), this.stubTool = \"stub\", this.toolsAvailable = new F(), this.toolsUnavailable = new F();\n  }\n  /**\n   * Returns available Tools\n   */\n  get available() {\n    return this.toolsAvailable;\n  }\n  /**\n   * Returns unavailable Tools\n   */\n  get unavailable() {\n    return this.toolsUnavailable;\n  }\n  /**\n   * Return Tools for the Inline Toolbar\n   */\n  get inlineTools() {\n    return this.available.inlineTools;\n  }\n  /**\n   * Return editor block tools\n   */\n  get blockTools() {\n    return this.available.blockTools;\n  }\n  /**\n   * Return available Block Tunes\n   *\n   * @returns {object} - object of Inline Tool's classes\n   */\n  get blockTunes() {\n    return this.available.blockTunes;\n  }\n  /**\n   * Returns default Tool object\n   */\n  get defaultTool() {\n    return this.blockTools.get(this.config.defaultBlock);\n  }\n  /**\n   * Returns internal tools\n   */\n  get internal() {\n    return this.available.internalTools;\n  }\n  /**\n   * Creates instances via passed or default configuration\n   *\n   * @returns {Promise<void>}\n   */\n  async prepare() {\n    if (this.validateTools(), this.config.tools = qe({}, this.internalTools, this.config.tools), !Object.prototype.hasOwnProperty.call(this.config, \"tools\") || Object.keys(this.config.tools).length === 0)\n      throw Error(\"Can't start without tools\");\n    const e = this.prepareConfig();\n    this.factory = new bs(e, this.config, this.Editor.API);\n    const t = this.getListOfPrepareFunctions(e);\n    if (t.length === 0)\n      return Promise.resolve();\n    await Eo(t, (o) => {\n      this.toolPrepareMethodSuccess(o);\n    }, (o) => {\n      this.toolPrepareMethodFallback(o);\n    }), this.prepareBlockTools();\n  }\n  getAllInlineToolsSanitizeConfig() {\n    const e = {};\n    return Array.from(this.inlineTools.values()).forEach((t) => {\n      Object.assign(e, t.sanitizeConfig);\n    }), e;\n  }\n  /**\n   * Calls each Tool reset method to clean up anything set by Tool\n   */\n  destroy() {\n    Object.values(this.available).forEach(async (e) => {\n      O(e.reset) && await e.reset();\n    });\n  }\n  /**\n   * Returns internal tools\n   * Includes Bold, Italic, Link and Paragraph\n   */\n  get internalTools() {\n    return {\n      convertTo: {\n        class: ao,\n        isInternal: !0\n      },\n      link: {\n        class: ft,\n        isInternal: !0\n      },\n      bold: {\n        class: ut,\n        isInternal: !0\n      },\n      italic: {\n        class: pt,\n        isInternal: !0\n      },\n      paragraph: {\n        class: ht,\n        inlineToolbar: !0,\n        isInternal: !0\n      },\n      stub: {\n        class: co,\n        isInternal: !0\n      },\n      moveUp: {\n        class: fo,\n        isInternal: !0\n      },\n      delete: {\n        class: po,\n        isInternal: !0\n      },\n      moveDown: {\n        class: uo,\n        isInternal: !0\n      }\n    };\n  }\n  /**\n   * Tool prepare method success callback\n   *\n   * @param {object} data - append tool to available list\n   */\n  toolPrepareMethodSuccess(e) {\n    const t = this.factory.get(e.toolName);\n    if (t.isInline()) {\n      const i = [\"render\"].filter((s) => !t.create()[s]);\n      if (i.length) {\n        I(\n          `Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,\n          \"warn\",\n          i\n        ), this.toolsUnavailable.set(t.name, t);\n        return;\n      }\n    }\n    this.toolsAvailable.set(t.name, t);\n  }\n  /**\n   * Tool prepare method fail callback\n   *\n   * @param {object} data - append tool to unavailable list\n   */\n  toolPrepareMethodFallback(e) {\n    this.toolsUnavailable.set(e.toolName, this.factory.get(e.toolName));\n  }\n  /**\n   * Binds prepare function of plugins with user or default config\n   *\n   * @returns {Array} list of functions that needs to be fired sequentially\n   * @param config - tools config\n   */\n  getListOfPrepareFunctions(e) {\n    const t = [];\n    return Object.entries(e).forEach(([o, i]) => {\n      t.push({\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        function: O(i.class.prepare) ? i.class.prepare : () => {\n        },\n        data: {\n          toolName: o,\n          config: i.config\n        }\n      });\n    }), t;\n  }\n  /**\n   * Assign enabled Inline Tools and Block Tunes for Block Tool\n   */\n  prepareBlockTools() {\n    Array.from(this.blockTools.values()).forEach((e) => {\n      this.assignInlineToolsToBlockTool(e), this.assignBlockTunesToBlockTool(e);\n    });\n  }\n  /**\n   * Assign enabled Inline Tools for Block Tool\n   *\n   * @param tool - Block Tool\n   */\n  assignInlineToolsToBlockTool(e) {\n    if (this.config.inlineToolbar !== !1) {\n      if (e.enabledInlineTools === !0) {\n        e.inlineTools = new F(\n          Array.isArray(this.config.inlineToolbar) ? this.config.inlineToolbar.map((t) => [t, this.inlineTools.get(t)]) : Array.from(this.inlineTools.entries())\n        );\n        return;\n      }\n      Array.isArray(e.enabledInlineTools) && (e.inlineTools = new F(\n        /** Prepend ConvertTo Inline Tool */\n        [\"convertTo\", ...e.enabledInlineTools].map((t) => [t, this.inlineTools.get(t)])\n      ));\n    }\n  }\n  /**\n   * Assign enabled Block Tunes for Block Tool\n   *\n   * @param tool — Block Tool\n   */\n  assignBlockTunesToBlockTool(e) {\n    if (e.enabledBlockTunes !== !1) {\n      if (Array.isArray(e.enabledBlockTunes)) {\n        const t = new F(\n          e.enabledBlockTunes.map((o) => [o, this.blockTunes.get(o)])\n        );\n        e.tunes = new F([...t, ...this.blockTunes.internalTools]);\n        return;\n      }\n      if (Array.isArray(this.config.tunes)) {\n        const t = new F(\n          this.config.tunes.map((o) => [o, this.blockTunes.get(o)])\n        );\n        e.tunes = new F([...t, ...this.blockTunes.internalTools]);\n        return;\n      }\n      e.tunes = this.blockTunes.internalTools;\n    }\n  }\n  /**\n   * Validate Tools configuration objects and throw Error for user if it is invalid\n   */\n  validateTools() {\n    for (const e in this.config.tools)\n      if (Object.prototype.hasOwnProperty.call(this.config.tools, e)) {\n        if (e in this.internalTools)\n          return;\n        const t = this.config.tools[e];\n        if (!O(t) && !O(t.class))\n          throw Error(\n            `Tool «${e}» must be a constructor function or an object with function in the «class» property`\n          );\n      }\n  }\n  /**\n   * Unify tools config\n   */\n  prepareConfig() {\n    const e = {};\n    for (const t in this.config.tools)\n      R(this.config.tools[t]) ? e[t] = this.config.tools[t] : e[t] = { class: this.config.tools[t] };\n    return e;\n  }\n}\nws([\n  ue\n], go.prototype, \"getAllInlineToolsSanitizeConfig\", 1);\nconst xs = `:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:\"\\\\feff\"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:\"\";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:\"\";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:\"\";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}\n`;\nclass ys extends y {\n  constructor() {\n    super(...arguments), this.isMobile = !1, this.contentRectCache = void 0, this.resizeDebouncer = vt(() => {\n      this.windowResize();\n    }, 200);\n  }\n  /**\n   * Editor.js UI CSS class names\n   *\n   * @returns {{editorWrapper: string, editorZone: string}}\n   */\n  get CSS() {\n    return {\n      editorWrapper: \"codex-editor\",\n      editorWrapperNarrow: \"codex-editor--narrow\",\n      editorZone: \"codex-editor__redactor\",\n      editorZoneHidden: \"codex-editor__redactor--hidden\",\n      editorEmpty: \"codex-editor--empty\",\n      editorRtlFix: \"codex-editor--rtl\"\n    };\n  }\n  /**\n   * Return Width of center column of Editor\n   *\n   * @returns {DOMRect}\n   */\n  get contentRect() {\n    if (this.contentRectCache)\n      return this.contentRectCache;\n    const e = this.nodes.wrapper.querySelector(`.${D.CSS.content}`);\n    return e ? (this.contentRectCache = e.getBoundingClientRect(), this.contentRectCache) : {\n      width: 650,\n      left: 0,\n      right: 0\n    };\n  }\n  /**\n   * Making main interface\n   */\n  async prepare() {\n    this.setIsMobile(), this.make(), this.loadStyles();\n  }\n  /**\n   * Toggle read-only state\n   *\n   * If readOnly is true:\n   *  - removes all listeners from main UI module elements\n   *\n   * if readOnly is false:\n   *  - enables all listeners to UI module elements\n   *\n   * @param {boolean} readOnlyEnabled - \"read only\" state\n   */\n  toggleReadOnly(e) {\n    e ? this.disableModuleBindings() : window.requestIdleCallback(() => {\n      this.enableModuleBindings();\n    }, {\n      timeout: 2e3\n    });\n  }\n  /**\n   * Check if Editor is empty and set CSS class to wrapper\n   */\n  checkEmptiness() {\n    const { BlockManager: e } = this.Editor;\n    this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty, e.isEditorEmpty);\n  }\n  /**\n   * Check if one of Toolbar is opened\n   * Used to prevent global keydowns (for example, Enter) conflicts with Enter-on-toolbar\n   *\n   * @returns {boolean}\n   */\n  get someToolbarOpened() {\n    const { Toolbar: e, BlockSettings: t, InlineToolbar: o } = this.Editor;\n    return !!(t.opened || o.opened || e.toolbox.opened);\n  }\n  /**\n   * Check for some Flipper-buttons is under focus\n   */\n  get someFlipperButtonFocused() {\n    return this.Editor.Toolbar.toolbox.hasFocus() ? !0 : Object.entries(this.Editor).filter(([e, t]) => t.flipper instanceof le).some(([e, t]) => t.flipper.hasFocus());\n  }\n  /**\n   * Clean editor`s UI\n   */\n  destroy() {\n    this.nodes.holder.innerHTML = \"\";\n  }\n  /**\n   * Close all Editor's toolbars\n   */\n  closeAllToolbars() {\n    const { Toolbar: e, BlockSettings: t, InlineToolbar: o } = this.Editor;\n    t.close(), o.close(), e.toolbox.close();\n  }\n  /**\n   * Check for mobile mode and save the result\n   */\n  setIsMobile() {\n    const e = window.innerWidth < Ot;\n    e !== this.isMobile && this.eventsDispatcher.emit(ye, {\n      isEnabled: this.isMobile\n    }), this.isMobile = e;\n  }\n  /**\n   * Makes Editor.js interface\n   */\n  make() {\n    this.nodes.holder = d.getHolder(this.config.holder), this.nodes.wrapper = d.make(\"div\", [\n      this.CSS.editorWrapper,\n      ...this.isRtl ? [this.CSS.editorRtlFix] : []\n    ]), this.nodes.redactor = d.make(\"div\", this.CSS.editorZone), this.nodes.holder.offsetWidth < this.contentRect.width && this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow), this.nodes.redactor.style.paddingBottom = this.config.minHeight + \"px\", this.nodes.wrapper.appendChild(this.nodes.redactor), this.nodes.holder.appendChild(this.nodes.wrapper);\n  }\n  /**\n   * Appends CSS\n   */\n  loadStyles() {\n    const e = \"editor-js-styles\";\n    if (d.get(e))\n      return;\n    const t = d.make(\"style\", null, {\n      id: e,\n      textContent: xs.toString()\n    });\n    this.config.style && !V(this.config.style) && this.config.style.nonce && t.setAttribute(\"nonce\", this.config.style.nonce), d.prepend(document.head, t);\n  }\n  /**\n   * Bind events on the Editor.js interface\n   */\n  enableModuleBindings() {\n    this.readOnlyMutableListeners.on(this.nodes.redactor, \"click\", (t) => {\n      this.redactorClicked(t);\n    }, !1), this.readOnlyMutableListeners.on(this.nodes.redactor, \"mousedown\", (t) => {\n      this.documentTouched(t);\n    }, {\n      capture: !0,\n      passive: !0\n    }), this.readOnlyMutableListeners.on(this.nodes.redactor, \"touchstart\", (t) => {\n      this.documentTouched(t);\n    }, {\n      capture: !0,\n      passive: !0\n    }), this.readOnlyMutableListeners.on(document, \"keydown\", (t) => {\n      this.documentKeydown(t);\n    }, !0), this.readOnlyMutableListeners.on(document, \"mousedown\", (t) => {\n      this.documentClicked(t);\n    }, !0);\n    const e = vt(() => {\n      this.selectionChanged();\n    }, ss);\n    this.readOnlyMutableListeners.on(document, \"selectionchange\", e, !0), this.readOnlyMutableListeners.on(window, \"resize\", () => {\n      this.resizeDebouncer();\n    }, {\n      passive: !0\n    }), this.watchBlockHoveredEvents(), this.enableInputsEmptyMark();\n  }\n  /**\n   * Listen redactor mousemove to emit 'block-hovered' event\n   */\n  watchBlockHoveredEvents() {\n    let e;\n    this.readOnlyMutableListeners.on(this.nodes.redactor, \"mousemove\", Ve((t) => {\n      const o = t.target.closest(\".ce-block\");\n      this.Editor.BlockSelection.anyBlockSelected || o && e !== o && (e = o, this.eventsDispatcher.emit(oo, {\n        block: this.Editor.BlockManager.getBlockByChildNode(o)\n      }));\n    }, 20), {\n      passive: !0\n    });\n  }\n  /**\n   * Unbind events on the Editor.js interface\n   */\n  disableModuleBindings() {\n    this.readOnlyMutableListeners.clearAll();\n  }\n  /**\n   * Resize window handler\n   */\n  windowResize() {\n    this.contentRectCache = null, this.setIsMobile();\n  }\n  /**\n   * All keydowns on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  documentKeydown(e) {\n    switch (e.keyCode) {\n      case w.ENTER:\n        this.enterPressed(e);\n        break;\n      case w.BACKSPACE:\n      case w.DELETE:\n        this.backspacePressed(e);\n        break;\n      case w.ESC:\n        this.escapePressed(e);\n        break;\n      default:\n        this.defaultBehaviour(e);\n        break;\n    }\n  }\n  /**\n   * Ignore all other document's keydown events\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  defaultBehaviour(e) {\n    const { currentBlock: t } = this.Editor.BlockManager, o = e.target.closest(`.${this.CSS.editorWrapper}`), i = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;\n    if (t !== void 0 && o === null) {\n      this.Editor.BlockEvents.keydown(e);\n      return;\n    }\n    o || t && i || (this.Editor.BlockManager.unsetCurrentBlock(), this.Editor.Toolbar.close());\n  }\n  /**\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  backspacePressed(e) {\n    const { BlockManager: t, BlockSelection: o, Caret: i } = this.Editor;\n    if (o.anyBlockSelected && !b.isSelectionExists) {\n      const s = t.removeSelectedBlocks(), r = t.insertDefaultBlockAtIndex(s, !0);\n      i.setToBlock(r, i.positions.START), o.clearSelection(e), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation();\n    }\n  }\n  /**\n   * Escape pressed\n   * If some of Toolbar components are opened, then close it otherwise close Toolbar\n   *\n   * @param {Event} event - escape keydown event\n   */\n  escapePressed(e) {\n    this.Editor.BlockSelection.clearSelection(e), this.Editor.Toolbar.toolbox.opened ? (this.Editor.Toolbar.toolbox.close(), this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END)) : this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.InlineToolbar.opened ? this.Editor.InlineToolbar.close() : this.Editor.Toolbar.close();\n  }\n  /**\n   * Enter pressed on document\n   *\n   * @param {KeyboardEvent} event - keyboard event\n   */\n  enterPressed(e) {\n    const { BlockManager: t, BlockSelection: o } = this.Editor;\n    if (this.someToolbarOpened)\n      return;\n    const i = t.currentBlockIndex >= 0;\n    if (o.anyBlockSelected && !b.isSelectionExists) {\n      o.clearSelection(e), e.preventDefault(), e.stopImmediatePropagation(), e.stopPropagation();\n      return;\n    }\n    if (!this.someToolbarOpened && i && e.target.tagName === \"BODY\") {\n      const s = this.Editor.BlockManager.insert();\n      e.preventDefault(), this.Editor.Caret.setToBlock(s), this.Editor.Toolbar.moveAndOpen(s);\n    }\n    this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * All clicks on document\n   *\n   * @param {MouseEvent} event - Click event\n   */\n  documentClicked(e) {\n    var l, a;\n    if (!e.isTrusted)\n      return;\n    const t = e.target;\n    this.nodes.holder.contains(t) || b.isAtEditor || (this.Editor.BlockManager.unsetCurrentBlock(), this.Editor.Toolbar.close());\n    const i = (l = this.Editor.BlockSettings.nodes.wrapper) == null ? void 0 : l.contains(t), s = (a = this.Editor.Toolbar.nodes.settingsToggler) == null ? void 0 : a.contains(t), r = i || s;\n    if (this.Editor.BlockSettings.opened && !r) {\n      this.Editor.BlockSettings.close();\n      const c = this.Editor.BlockManager.getBlockByChildNode(t);\n      this.Editor.Toolbar.moveAndOpen(c);\n    }\n    this.Editor.BlockSelection.clearSelection(e);\n  }\n  /**\n   * First touch on editor\n   * Fired before click\n   *\n   * Used to change current block — we need to do it before 'selectionChange' event.\n   * Also:\n   * - Move and show the Toolbar\n   * - Set a Caret\n   *\n   * @param {MouseEvent | TouchEvent} event - touch or mouse event\n   */\n  documentTouched(e) {\n    let t = e.target;\n    if (t === this.nodes.redactor) {\n      const o = e instanceof MouseEvent ? e.clientX : e.touches[0].clientX, i = e instanceof MouseEvent ? e.clientY : e.touches[0].clientY;\n      t = document.elementFromPoint(o, i);\n    }\n    try {\n      this.Editor.BlockManager.setCurrentBlockByChildNode(t);\n    } catch {\n      this.Editor.RectangleSelection.isRectActivated() || this.Editor.Caret.setToTheLastBlock();\n    }\n    this.Editor.Toolbar.moveAndOpen();\n  }\n  /**\n   * All clicks on the redactor zone\n   *\n   * @param {MouseEvent} event - click event\n   * @description\n   * - By clicks on the Editor's bottom zone:\n   *      - if last Block is empty, set a Caret to this\n   *      - otherwise, add a new empty Block and set a Caret to that\n   */\n  redactorClicked(e) {\n    if (!b.isCollapsed)\n      return;\n    const t = e.target, o = e.metaKey || e.ctrlKey;\n    if (d.isAnchor(t) && o) {\n      e.stopImmediatePropagation(), e.stopPropagation();\n      const i = t.getAttribute(\"href\"), s = So(i);\n      Mo(s);\n      return;\n    }\n    this.processBottomZoneClick(e);\n  }\n  /**\n   * Check if user clicks on the Editor's bottom zone:\n   *  - set caret to the last block\n   *  - or add new empty block\n   *\n   * @param event - click event\n   */\n  processBottomZoneClick(e) {\n    const t = this.Editor.BlockManager.getBlockByIndex(-1), o = d.offset(t.holder).bottom, i = e.pageY, { BlockSelection: s } = this.Editor;\n    if (e.target instanceof Element && e.target.isEqualNode(this.nodes.redactor) && /**\n    * If there is cross block selection started, target will be equal to redactor so we need additional check\n    */\n    !s.anyBlockSelected && /**\n    * Prevent caret jumping (to last block) when clicking between blocks\n    */\n    o < i) {\n      e.stopImmediatePropagation(), e.stopPropagation();\n      const { BlockManager: l, Caret: a, Toolbar: c } = this.Editor;\n      (!l.lastBlock.tool.isDefault || !l.lastBlock.isEmpty) && l.insertAtEnd(), a.setToTheLastBlock(), c.moveAndOpen(l.lastBlock);\n    }\n  }\n  /**\n   * Handle selection changes on mobile devices\n   * Uses for showing the Inline Toolbar\n   */\n  selectionChanged() {\n    const { CrossBlockSelection: e, BlockSelection: t } = this.Editor, o = b.anchorElement;\n    if (e.isCrossBlockSelectionStarted && t.anyBlockSelected && b.get().removeAllRanges(), !o) {\n      b.range || this.Editor.InlineToolbar.close();\n      return;\n    }\n    const i = o.closest(`.${D.CSS.content}`);\n    (i === null || i.closest(`.${b.CSS.editorWrapper}`) !== this.nodes.wrapper) && (this.Editor.InlineToolbar.containsNode(o) || this.Editor.InlineToolbar.close(), !(o.dataset.inlineToolbar === \"true\")) || (this.Editor.BlockManager.currentBlock || this.Editor.BlockManager.setCurrentBlockByChildNode(o), this.Editor.InlineToolbar.tryToShow(!0));\n  }\n  /**\n   * Editor.js provides and ability to show placeholders for empty contenteditable elements\n   *\n   * This method watches for input and focus events and toggles 'data-empty' attribute\n   * to workaroud the case, when inputs contains only <br>s and has no visible content\n   * Then, CSS could rely on this attribute to show placeholders\n   */\n  enableInputsEmptyMark() {\n    function e(t) {\n      const o = t.target;\n      Lt(o);\n    }\n    this.readOnlyMutableListeners.on(this.nodes.wrapper, \"input\", e), this.readOnlyMutableListeners.on(this.nodes.wrapper, \"focusin\", e), this.readOnlyMutableListeners.on(this.nodes.wrapper, \"focusout\", e);\n  }\n}\nconst Es = {\n  // API Modules\n  BlocksAPI: zo,\n  CaretAPI: jo,\n  EventsAPI: $o,\n  I18nAPI: ot,\n  API: Yo,\n  InlineToolbarAPI: Wo,\n  ListenersAPI: Ko,\n  NotifierAPI: Zo,\n  ReadOnlyAPI: Go,\n  SanitizerAPI: si,\n  SaverAPI: ni,\n  SelectionAPI: ri,\n  ToolsAPI: li,\n  StylesAPI: ai,\n  ToolbarAPI: ci,\n  TooltipAPI: fi,\n  UiAPI: gi,\n  // Toolbar Modules\n  BlockSettings: Ui,\n  Toolbar: qi,\n  InlineToolbar: Zi,\n  // Modules\n  BlockEvents: Gi,\n  BlockManager: es,\n  BlockSelection: ts,\n  Caret: Re,\n  CrossBlockSelection: os,\n  DragNDrop: is,\n  ModificationsObserver: rs,\n  Paste: ls,\n  ReadOnly: as,\n  RectangleSelection: xe,\n  Renderer: cs,\n  Saver: ds,\n  Tools: go,\n  UI: ys\n};\nclass Bs {\n  /**\n   * @param {EditorConfig} config - user configuration\n   */\n  constructor(e) {\n    this.moduleInstances = {}, this.eventsDispatcher = new Te();\n    let t, o;\n    this.isReady = new Promise((i, s) => {\n      t = i, o = s;\n    }), Promise.resolve().then(async () => {\n      this.configuration = e, this.validate(), this.init(), await this.start(), await this.render();\n      const { BlockManager: i, Caret: s, UI: r, ModificationsObserver: l } = this.moduleInstances;\n      r.checkEmptiness(), l.enable(), this.configuration.autofocus && s.setToBlock(i.blocks[0], s.positions.START), t();\n    }).catch((i) => {\n      I(`Editor.js is not ready because of ${i}`, \"error\"), o(i);\n    });\n  }\n  /**\n   * Setting for configuration\n   *\n   * @param {EditorConfig|string} config - Editor's config to set\n   */\n  set configuration(e) {\n    var o, i;\n    R(e) ? this.config = {\n      ...e\n    } : this.config = {\n      holder: e\n    }, Ze(!!this.config.holderId, \"config.holderId\", \"config.holder\"), this.config.holderId && !this.config.holder && (this.config.holder = this.config.holderId, this.config.holderId = null), this.config.holder == null && (this.config.holder = \"editorjs\"), this.config.logLevel || (this.config.logLevel = It.VERBOSE), xo(this.config.logLevel), Ze(!!this.config.initialBlock, \"config.initialBlock\", \"config.defaultBlock\"), this.config.defaultBlock = this.config.defaultBlock || this.config.initialBlock || \"paragraph\", this.config.minHeight = this.config.minHeight !== void 0 ? this.config.minHeight : 300;\n    const t = {\n      type: this.config.defaultBlock,\n      data: {}\n    };\n    this.config.placeholder = this.config.placeholder || !1, this.config.sanitizer = this.config.sanitizer || {\n      p: !0,\n      b: !0,\n      a: !0\n    }, this.config.hideToolbar = this.config.hideToolbar ? this.config.hideToolbar : !1, this.config.tools = this.config.tools || {}, this.config.i18n = this.config.i18n || {}, this.config.data = this.config.data || { blocks: [] }, this.config.onReady = this.config.onReady || (() => {\n    }), this.config.onChange = this.config.onChange || (() => {\n    }), this.config.inlineToolbar = this.config.inlineToolbar !== void 0 ? this.config.inlineToolbar : !0, (V(this.config.data) || !this.config.data.blocks || this.config.data.blocks.length === 0) && (this.config.data = { blocks: [t] }), this.config.readOnly = this.config.readOnly || !1, (o = this.config.i18n) != null && o.messages && z.setDictionary(this.config.i18n.messages), this.config.i18n.direction = ((i = this.config.i18n) == null ? void 0 : i.direction) || \"ltr\";\n  }\n  /**\n   * Returns private property\n   *\n   * @returns {EditorConfig}\n   */\n  get configuration() {\n    return this.config;\n  }\n  /**\n   * Checks for required fields in Editor's config\n   */\n  validate() {\n    const { holderId: e, holder: t } = this.config;\n    if (e && t)\n      throw Error(\"«holderId» and «holder» param can't assign at the same time.\");\n    if (Q(t) && !d.get(t))\n      throw Error(`element with ID «${t}» is missing. Pass correct holder's ID.`);\n    if (t && R(t) && !d.isElement(t))\n      throw Error(\"«holder» value must be an Element node\");\n  }\n  /**\n   * Initializes modules:\n   *  - make and save instances\n   *  - configure\n   */\n  init() {\n    this.constructModules(), this.configureModules();\n  }\n  /**\n   * Start Editor!\n   *\n   * Get list of modules that needs to be prepared and return a sequence (Promise)\n   *\n   * @returns {Promise<void>}\n   */\n  async start() {\n    await [\n      \"Tools\",\n      \"UI\",\n      \"BlockManager\",\n      \"Paste\",\n      \"BlockSelection\",\n      \"RectangleSelection\",\n      \"CrossBlockSelection\",\n      \"ReadOnly\"\n    ].reduce(\n      (t, o) => t.then(async () => {\n        try {\n          await this.moduleInstances[o].prepare();\n        } catch (i) {\n          if (i instanceof Pt)\n            throw new Error(i.message);\n          I(`Module ${o} was skipped because of %o`, \"warn\", i);\n        }\n      }),\n      Promise.resolve()\n    );\n  }\n  /**\n   * Render initial data\n   */\n  render() {\n    return this.moduleInstances.Renderer.render(this.config.data.blocks);\n  }\n  /**\n   * Make modules instances and save it to the @property this.moduleInstances\n   */\n  constructModules() {\n    Object.entries(Es).forEach(([e, t]) => {\n      try {\n        this.moduleInstances[e] = new t({\n          config: this.configuration,\n          eventsDispatcher: this.eventsDispatcher\n        });\n      } catch (o) {\n        I(\"[constructModules]\", `Module ${e} skipped because`, \"error\", o);\n      }\n    });\n  }\n  /**\n   * Modules instances configuration:\n   *  - pass other modules to the 'state' property\n   *  - ...\n   */\n  configureModules() {\n    for (const e in this.moduleInstances)\n      Object.prototype.hasOwnProperty.call(this.moduleInstances, e) && (this.moduleInstances[e].state = this.getModulesDiff(e));\n  }\n  /**\n   * Return modules without passed name\n   *\n   * @param {string} name - module for witch modules difference should be calculated\n   */\n  getModulesDiff(e) {\n    const t = {};\n    for (const o in this.moduleInstances)\n      o !== e && (t[o] = this.moduleInstances[o]);\n    return t;\n  }\n}\n/**\n * Editor.js\n *\n * @license Apache-2.0\n * @see Editor.js <https://editorjs.io>\n * @author CodeX Team <https://codex.so>\n */\nclass Ts {\n  /** Editor version */\n  static get version() {\n    return \"2.30.6\";\n  }\n  /**\n   * @param {EditorConfig|string|undefined} [configuration] - user configuration\n   */\n  constructor(e) {\n    let t = () => {\n    };\n    R(e) && O(e.onReady) && (t = e.onReady);\n    const o = new Bs(e);\n    this.isReady = o.isReady.then(() => {\n      this.exportAPI(o), t();\n    });\n  }\n  /**\n   * Export external API methods\n   *\n   * @param {Core} editor — Editor's instance\n   */\n  exportAPI(e) {\n    const t = [\"configuration\"], o = () => {\n      Object.values(e.moduleInstances).forEach((s) => {\n        O(s.destroy) && s.destroy(), s.listeners.removeAll();\n      }), pi(), e = null;\n      for (const s in this)\n        Object.prototype.hasOwnProperty.call(this, s) && delete this[s];\n      Object.setPrototypeOf(this, null);\n    };\n    t.forEach((s) => {\n      this[s] = e[s];\n    }), this.destroy = o, Object.setPrototypeOf(this, e.moduleInstances.API.methods), delete this.exportAPI, Object.entries({\n      blocks: {\n        clear: \"clear\",\n        render: \"render\"\n      },\n      caret: {\n        focus: \"focus\"\n      },\n      events: {\n        on: \"on\",\n        off: \"off\",\n        emit: \"emit\"\n      },\n      saver: {\n        save: \"save\"\n      }\n    }).forEach(([s, r]) => {\n      Object.entries(r).forEach(([l, a]) => {\n        this[a] = e.moduleInstances.API.methods[s][l];\n      });\n    });\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2VkaXRvcmpzL2Rpc3QvZWRpdG9yanMubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxZQUFZLGFBQWEsSUFBSSx3QkFBd0Isc0NBQXNDLDZEQUE2RCxnQkFBZ0IsdUJBQXVCLGtCQUFrQixzQkFBc0IsV0FBVyxlQUFlLGtDQUFrQyxTQUFTLG1EQUFtRDtBQUMvVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdDQUFnQztBQUN6QztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBIQUEwSDtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyx1Q0FBdUMsRUFBRSxLQUFLLEVBQUUsY0FBYyxHQUFHLEdBQUcsRUFBRTtBQUN0RTtBQUNBLDBCQUEwQixHQUFHO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixhQUFhO0FBQzlGO0FBQ0E7QUFDQSxvQkFBb0IsZ0NBQWdDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLEVBQUUsYUFBYSxFQUFFO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGVBQWU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxzQkFBc0I7QUFDN0QsS0FBSyx1SUFBdUksNEJBQTRCO0FBQ3hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbU9BQW1PLFVBQVU7QUFDN087QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRHQUE0RztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxhQUFhO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLDZQQUE2UDtBQUM3UDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvQkFBb0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSyxrQkFBa0I7QUFDdkI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMEJBQTBCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxRQUFRO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvQkFBb0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0JBQStCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0NBQWdDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSSxjQUFjO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLFFBQVE7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscUNBQXFDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEtBQUs7QUFDbEI7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsUUFBUTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQkFBa0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxZQUFZLGlEQUFpRDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlEQUFpRDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxzQkFBc0IsR0FBRztBQUN6QjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSLDBDQUEwQyxHQUFHO0FBQzdDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0JBQStCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFHRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZWRpdG9yanMvZWRpdG9yanMvZGlzdC9lZGl0b3Jqcy5tanM/ZjNlMyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0cnl7aWYodHlwZW9mIGRvY3VtZW50PFwidVwiKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5jZS1oaW50LS1hbGlnbi1zdGFydHt0ZXh0LWFsaWduOmxlZnR9LmNlLWhpbnQtLWFsaWduLWNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn0uY2UtaGludF9fZGVzY3JpcHRpb257b3BhY2l0eTouNjttYXJnaW4tdG9wOjNweH1cIikpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZSl9fWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIix0KX19KSgpO1xudmFyIGtvID0gdHlwZW9mIGdsb2JhbFRoaXMgPCBcInVcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsIDwgXCJ1XCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiA8IFwidVwiID8gc2VsZiA6IHt9O1xuZnVuY3Rpb24gRmUobikge1xuICByZXR1cm4gbiAmJiBuLl9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIFwiZGVmYXVsdFwiKSA/IG4uZGVmYXVsdCA6IG47XG59XG5mdW5jdGlvbiB6ZSgpIHtcbn1cbk9iamVjdC5hc3NpZ24oemUsIHtcbiAgZGVmYXVsdDogemUsXG4gIHJlZ2lzdGVyOiB6ZSxcbiAgcmV2ZXJ0OiBmdW5jdGlvbigpIHtcbiAgfSxcbiAgX19lc01vZHVsZTogITBcbn0pO1xuRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyB8fCAoRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZnVuY3Rpb24obikge1xuICBjb25zdCBlID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKG4pO1xuICBsZXQgdCA9IGUubGVuZ3RoO1xuICBmb3IgKDsgLS10ID49IDAgJiYgZS5pdGVtKHQpICE9PSB0aGlzOyApXG4gICAgO1xuICByZXR1cm4gdCA+IC0xO1xufSk7XG5FbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0IHx8IChFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0ID0gZnVuY3Rpb24obikge1xuICBsZXQgZSA9IHRoaXM7XG4gIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGUpKVxuICAgIHJldHVybiBudWxsO1xuICBkbyB7XG4gICAgaWYgKGUubWF0Y2hlcyhuKSlcbiAgICAgIHJldHVybiBlO1xuICAgIGUgPSBlLnBhcmVudEVsZW1lbnQgfHwgZS5wYXJlbnROb2RlO1xuICB9IHdoaWxlIChlICE9PSBudWxsKTtcbiAgcmV0dXJuIG51bGw7XG59KTtcbkVsZW1lbnQucHJvdG90eXBlLnByZXBlbmQgfHwgKEVsZW1lbnQucHJvdG90eXBlLnByZXBlbmQgPSBmdW5jdGlvbihlKSB7XG4gIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIEFycmF5LmlzQXJyYXkoZSkgfHwgKGUgPSBbZV0pLCBlLmZvckVhY2goKG8pID0+IHtcbiAgICBjb25zdCBpID0gbyBpbnN0YW5jZW9mIE5vZGU7XG4gICAgdC5hcHBlbmRDaGlsZChpID8gbyA6IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG8pKTtcbiAgfSksIHRoaXMuaW5zZXJ0QmVmb3JlKHQsIHRoaXMuZmlyc3RDaGlsZCk7XG59KTtcbkVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3SWZOZWVkZWQgfHwgKEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3SWZOZWVkZWQgPSBmdW5jdGlvbihuKSB7XG4gIG4gPSBhcmd1bWVudHMubGVuZ3RoID09PSAwID8gITAgOiAhIW47XG4gIGNvbnN0IGUgPSB0aGlzLnBhcmVudE5vZGUsIHQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLCBudWxsKSwgbyA9IHBhcnNlSW50KHQuZ2V0UHJvcGVydHlWYWx1ZShcImJvcmRlci10b3Atd2lkdGhcIikpLCBpID0gcGFyc2VJbnQodC5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLWxlZnQtd2lkdGhcIikpLCBzID0gdGhpcy5vZmZzZXRUb3AgLSBlLm9mZnNldFRvcCA8IGUuc2Nyb2xsVG9wLCByID0gdGhpcy5vZmZzZXRUb3AgLSBlLm9mZnNldFRvcCArIHRoaXMuY2xpZW50SGVpZ2h0IC0gbyA+IGUuc2Nyb2xsVG9wICsgZS5jbGllbnRIZWlnaHQsIGwgPSB0aGlzLm9mZnNldExlZnQgLSBlLm9mZnNldExlZnQgPCBlLnNjcm9sbExlZnQsIGEgPSB0aGlzLm9mZnNldExlZnQgLSBlLm9mZnNldExlZnQgKyB0aGlzLmNsaWVudFdpZHRoIC0gaSA+IGUuc2Nyb2xsTGVmdCArIGUuY2xpZW50V2lkdGgsIGMgPSBzICYmICFyO1xuICAocyB8fCByKSAmJiBuICYmIChlLnNjcm9sbFRvcCA9IHRoaXMub2Zmc2V0VG9wIC0gZS5vZmZzZXRUb3AgLSBlLmNsaWVudEhlaWdodCAvIDIgLSBvICsgdGhpcy5jbGllbnRIZWlnaHQgLyAyKSwgKGwgfHwgYSkgJiYgbiAmJiAoZS5zY3JvbGxMZWZ0ID0gdGhpcy5vZmZzZXRMZWZ0IC0gZS5vZmZzZXRMZWZ0IC0gZS5jbGllbnRXaWR0aCAvIDIgLSBpICsgdGhpcy5jbGllbnRXaWR0aCAvIDIpLCAocyB8fCByIHx8IGwgfHwgYSkgJiYgIW4gJiYgdGhpcy5zY3JvbGxJbnRvVmlldyhjKTtcbn0pO1xud2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2sgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayB8fCBmdW5jdGlvbihuKSB7XG4gIGNvbnN0IGUgPSBEYXRlLm5vdygpO1xuICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBuKHtcbiAgICAgIGRpZFRpbWVvdXQ6ICExLFxuICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCA1MCAtIChEYXRlLm5vdygpIC0gZSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCAxKTtcbn07XG53aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrID0gd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayB8fCBmdW5jdGlvbihuKSB7XG4gIGNsZWFyVGltZW91dChuKTtcbn07XG5sZXQgdm8gPSAobiA9IDIxKSA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KG4pKS5yZWR1Y2UoKGUsIHQpID0+ICh0ICY9IDYzLCB0IDwgMzYgPyBlICs9IHQudG9TdHJpbmcoMzYpIDogdCA8IDYyID8gZSArPSAodCAtIDI2KS50b1N0cmluZygzNikudG9VcHBlckNhc2UoKSA6IHQgPiA2MiA/IGUgKz0gXCItXCIgOiBlICs9IFwiX1wiLCBlKSwgXCJcIik7XG52YXIgSXQgPSAvKiBAX19QVVJFX18gKi8gKChuKSA9PiAobi5WRVJCT1NFID0gXCJWRVJCT1NFXCIsIG4uSU5GTyA9IFwiSU5GT1wiLCBuLldBUk4gPSBcIldBUk5cIiwgbi5FUlJPUiA9IFwiRVJST1JcIiwgbikpKEl0IHx8IHt9KTtcbmNvbnN0IHcgPSB7XG4gIEJBQ0tTUEFDRTogOCxcbiAgVEFCOiA5LFxuICBFTlRFUjogMTMsXG4gIFNISUZUOiAxNixcbiAgQ1RSTDogMTcsXG4gIEFMVDogMTgsXG4gIEVTQzogMjcsXG4gIFNQQUNFOiAzMixcbiAgTEVGVDogMzcsXG4gIFVQOiAzOCxcbiAgRE9XTjogNDAsXG4gIFJJR0hUOiAzOSxcbiAgREVMRVRFOiA0NixcbiAgTUVUQTogOTEsXG4gIFNMQVNIOiAxOTFcbn0sIHdvID0ge1xuICBMRUZUOiAwLFxuICBXSEVFTDogMSxcbiAgUklHSFQ6IDIsXG4gIEJBQ0tXQVJEOiAzLFxuICBGT1JXQVJEOiA0XG59O1xuZnVuY3Rpb24gQmUobiwgZSwgdCA9IFwibG9nXCIsIG8sIGkgPSBcImNvbG9yOiBpbmhlcml0XCIpIHtcbiAgaWYgKCEoXCJjb25zb2xlXCIgaW4gd2luZG93KSB8fCAhd2luZG93LmNvbnNvbGVbdF0pXG4gICAgcmV0dXJuO1xuICBjb25zdCBzID0gW1wiaW5mb1wiLCBcImxvZ1wiLCBcIndhcm5cIiwgXCJlcnJvclwiXS5pbmNsdWRlcyh0KSwgciA9IFtdO1xuICBzd2l0Y2ggKEJlLmxvZ0xldmVsKSB7XG4gICAgY2FzZSBcIkVSUk9SXCI6XG4gICAgICBpZiAodCAhPT0gXCJlcnJvclwiKVxuICAgICAgICByZXR1cm47XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiV0FSTlwiOlxuICAgICAgaWYgKCFbXCJlcnJvclwiLCBcIndhcm5cIl0uaW5jbHVkZXModCkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJJTkZPXCI6XG4gICAgICBpZiAoIXMgfHwgbilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgbyAmJiByLnB1c2gobyk7XG4gIGNvbnN0IGwgPSBcIkVkaXRvci5qcyAyLjMwLjZcIiwgYSA9IGBsaW5lLWhlaWdodDogMWVtO1xuICAgICAgICAgICAgY29sb3I6ICMwMDZGRUE7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMWVtO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA5cHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1NiwgMTM4LCAyMjksIDAuMTYpO1xuICAgICAgICAgICAgbWFyZ2luOiA0cHggNXB4IDRweCAwO2A7XG4gIG4gJiYgKHMgPyAoci51bnNoaWZ0KGEsIGkpLCBlID0gYCVjJHtsfSVjICR7ZX1gKSA6IGUgPSBgKCAke2x9ICkke2V9YCk7XG4gIHRyeSB7XG4gICAgcyA/IG8gPyBjb25zb2xlW3RdKGAke2V9ICVvYCwgLi4ucikgOiBjb25zb2xlW3RdKGUsIC4uLnIpIDogY29uc29sZVt0XShlKTtcbiAgfSBjYXRjaCB7XG4gIH1cbn1cbkJlLmxvZ0xldmVsID0gXCJWRVJCT1NFXCI7XG5mdW5jdGlvbiB4byhuKSB7XG4gIEJlLmxvZ0xldmVsID0gbjtcbn1cbmNvbnN0IEkgPSBCZS5iaW5kKHdpbmRvdywgITEpLCBYID0gQmUuYmluZCh3aW5kb3csICEwKTtcbmZ1bmN0aW9uIHJlKG4pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKS5tYXRjaCgvXFxzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gTyhuKSB7XG4gIHJldHVybiByZShuKSA9PT0gXCJmdW5jdGlvblwiIHx8IHJlKG4pID09PSBcImFzeW5jZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIFIobikge1xuICByZXR1cm4gcmUobikgPT09IFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBRKG4pIHtcbiAgcmV0dXJuIHJlKG4pID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24geW8obikge1xuICByZXR1cm4gcmUobikgPT09IFwiYm9vbGVhblwiO1xufVxuZnVuY3Rpb24gYnQobikge1xuICByZXR1cm4gcmUobikgPT09IFwibnVtYmVyXCI7XG59XG5mdW5jdGlvbiBrdChuKSB7XG4gIHJldHVybiByZShuKSA9PT0gXCJ1bmRlZmluZWRcIjtcbn1cbmZ1bmN0aW9uIFYobikge1xuICByZXR1cm4gbiA/IE9iamVjdC5rZXlzKG4pLmxlbmd0aCA9PT0gMCAmJiBuLmNvbnN0cnVjdG9yID09PSBPYmplY3QgOiAhMDtcbn1cbmZ1bmN0aW9uIE10KG4pIHtcbiAgcmV0dXJuIG4gPiA0NyAmJiBuIDwgNTggfHwgLy8gbnVtYmVyIGtleXNcbiAgbiA9PT0gMzIgfHwgbiA9PT0gMTMgfHwgLy8gU3BhY2UgYmFyICYgcmV0dXJuIGtleShzKVxuICBuID09PSAyMjkgfHwgLy8gcHJvY2Vzc2luZyBrZXkgaW5wdXQgZm9yIGNlcnRhaW4gbGFuZ3VhZ2VzIOKAlCBDaGluZXNlLCBKYXBhbmVzZSwgZXRjLlxuICBuID4gNjQgJiYgbiA8IDkxIHx8IC8vIGxldHRlciBrZXlzXG4gIG4gPiA5NSAmJiBuIDwgMTEyIHx8IC8vIE51bXBhZCBrZXlzXG4gIG4gPiAxODUgJiYgbiA8IDE5MyB8fCAvLyA7PSwtLi9gIChpbiBvcmRlcilcbiAgbiA+IDIxOCAmJiBuIDwgMjIzO1xufVxuYXN5bmMgZnVuY3Rpb24gRW8obiwgZSA9ICgpID0+IHtcbn0sIHQgPSAoKSA9PiB7XG59KSB7XG4gIGFzeW5jIGZ1bmN0aW9uIG8oaSwgcywgcikge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBpLmZ1bmN0aW9uKGkuZGF0YSksIGF3YWl0IHMoa3QoaS5kYXRhKSA/IHt9IDogaS5kYXRhKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHIoa3QoaS5kYXRhKSA/IHt9IDogaS5kYXRhKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG4ucmVkdWNlKGFzeW5jIChpLCBzKSA9PiAoYXdhaXQgaSwgbyhzLCBlLCB0KSksIFByb21pc2UucmVzb2x2ZSgpKTtcbn1cbmZ1bmN0aW9uIEF0KG4pIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pO1xufVxuZnVuY3Rpb24gT2UobiwgZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IHRoaXMsIG8gPSBhcmd1bWVudHM7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gbi5hcHBseSh0LCBvKSwgZSk7XG4gIH07XG59XG5mdW5jdGlvbiBCbyhuKSB7XG4gIHJldHVybiBuLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xufVxuZnVuY3Rpb24gVG8obikge1xuICByZXR1cm4gL15bLVxcd10rXFwvKFstK1xcd10rfFxcKikkLy50ZXN0KG4pO1xufVxuZnVuY3Rpb24gdnQobiwgZSwgdCkge1xuICBsZXQgbztcbiAgcmV0dXJuICguLi5pKSA9PiB7XG4gICAgY29uc3QgcyA9IHRoaXMsIHIgPSAoKSA9PiB7XG4gICAgICBvID0gbnVsbCwgdCB8fCBuLmFwcGx5KHMsIGkpO1xuICAgIH0sIGwgPSB0ICYmICFvO1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQobyksIG8gPSB3aW5kb3cuc2V0VGltZW91dChyLCBlKSwgbCAmJiBuLmFwcGx5KHMsIGkpO1xuICB9O1xufVxuZnVuY3Rpb24gVmUobiwgZSwgdCA9IHZvaWQgMCkge1xuICBsZXQgbywgaSwgcywgciA9IG51bGwsIGwgPSAwO1xuICB0IHx8ICh0ID0ge30pO1xuICBjb25zdCBhID0gZnVuY3Rpb24oKSB7XG4gICAgbCA9IHQubGVhZGluZyA9PT0gITEgPyAwIDogRGF0ZS5ub3coKSwgciA9IG51bGwsIHMgPSBuLmFwcGx5KG8sIGkpLCByIHx8IChvID0gaSA9IG51bGwpO1xuICB9O1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgYyA9IERhdGUubm93KCk7XG4gICAgIWwgJiYgdC5sZWFkaW5nID09PSAhMSAmJiAobCA9IGMpO1xuICAgIGNvbnN0IHUgPSBlIC0gKGMgLSBsKTtcbiAgICByZXR1cm4gbyA9IHRoaXMsIGkgPSBhcmd1bWVudHMsIHUgPD0gMCB8fCB1ID4gZSA/IChyICYmIChjbGVhclRpbWVvdXQociksIHIgPSBudWxsKSwgbCA9IGMsIHMgPSBuLmFwcGx5KG8sIGkpLCByIHx8IChvID0gaSA9IG51bGwpKSA6ICFyICYmIHQudHJhaWxpbmcgIT09ICExICYmIChyID0gc2V0VGltZW91dChhLCB1KSksIHM7XG4gIH07XG59XG5mdW5jdGlvbiBDbygpIHtcbiAgY29uc3QgbiA9IHtcbiAgICB3aW46ICExLFxuICAgIG1hYzogITEsXG4gICAgeDExOiAhMSxcbiAgICBsaW51eDogITFcbiAgfSwgZSA9IE9iamVjdC5rZXlzKG4pLmZpbmQoKHQpID0+IHdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YodCkgIT09IC0xKTtcbiAgcmV0dXJuIGUgJiYgKG5bZV0gPSAhMCksIG47XG59XG5mdW5jdGlvbiBMZShuKSB7XG4gIHJldHVybiBuWzBdLnRvVXBwZXJDYXNlKCkgKyBuLnNsaWNlKDEpO1xufVxuZnVuY3Rpb24gcWUobiwgLi4uZSkge1xuICBpZiAoIWUubGVuZ3RoKVxuICAgIHJldHVybiBuO1xuICBjb25zdCB0ID0gZS5zaGlmdCgpO1xuICBpZiAoUihuKSAmJiBSKHQpKVxuICAgIGZvciAoY29uc3QgbyBpbiB0KVxuICAgICAgUih0W29dKSA/IChuW29dIHx8IE9iamVjdC5hc3NpZ24obiwgeyBbb106IHt9IH0pLCBxZShuW29dLCB0W29dKSkgOiBPYmplY3QuYXNzaWduKG4sIHsgW29dOiB0W29dIH0pO1xuICByZXR1cm4gcWUobiwgLi4uZSk7XG59XG5mdW5jdGlvbiB0dChuKSB7XG4gIGNvbnN0IGUgPSBDbygpO1xuICByZXR1cm4gbiA9IG4ucmVwbGFjZSgvc2hpZnQvZ2ksIFwi4oenXCIpLnJlcGxhY2UoL2JhY2tzcGFjZS9naSwgXCLijKtcIikucmVwbGFjZSgvZW50ZXIvZ2ksIFwi4o+OXCIpLnJlcGxhY2UoL3VwL2dpLCBcIuKGkVwiKS5yZXBsYWNlKC9sZWZ0L2dpLCBcIuKGklwiKS5yZXBsYWNlKC9kb3duL2dpLCBcIuKGk1wiKS5yZXBsYWNlKC9yaWdodC9naSwgXCLihpBcIikucmVwbGFjZSgvZXNjYXBlL2dpLCBcIuKOi1wiKS5yZXBsYWNlKC9pbnNlcnQvZ2ksIFwiSW5zXCIpLnJlcGxhY2UoL2RlbGV0ZS9naSwgXCLikKFcIikucmVwbGFjZSgvXFwrL2dpLCBcIiArIFwiKSwgZS5tYWMgPyBuID0gbi5yZXBsYWNlKC9jdHJsfGNtZC9naSwgXCLijJhcIikucmVwbGFjZSgvYWx0L2dpLCBcIuKMpVwiKSA6IG4gPSBuLnJlcGxhY2UoL2NtZC9naSwgXCJDdHJsXCIpLnJlcGxhY2UoL3dpbmRvd3MvZ2ksIFwiV0lOXCIpLCBuO1xufVxuZnVuY3Rpb24gU28obikge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVVJMKG4pLmhyZWY7XG4gIH0gY2F0Y2gge1xuICB9XG4gIHJldHVybiBuLnN1YnN0cmluZygwLCAyKSA9PT0gXCIvL1wiID8gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgbiA6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyBuO1xufVxuZnVuY3Rpb24gSW8oKSB7XG4gIHJldHVybiB2bygxMCk7XG59XG5mdW5jdGlvbiBNbyhuKSB7XG4gIHdpbmRvdy5vcGVuKG4sIFwiX2JsYW5rXCIpO1xufVxuZnVuY3Rpb24gQW8obiA9IFwiXCIpIHtcbiAgcmV0dXJuIGAke259JHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxZTgpLnRvU3RyaW5nKDE2KX1gO1xufVxuZnVuY3Rpb24gWmUobiwgZSwgdCkge1xuICBjb25zdCBvID0gYMKrJHtlfcK7IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLiBQbGVhc2UgdXNlIHRoZSDCqyR7dH3CuyBpbnN0ZWFkLmA7XG4gIG4gJiYgWChvLCBcIndhcm5cIik7XG59XG5mdW5jdGlvbiB1ZShuLCBlLCB0KSB7XG4gIGNvbnN0IG8gPSB0LnZhbHVlID8gXCJ2YWx1ZVwiIDogXCJnZXRcIiwgaSA9IHRbb10sIHMgPSBgIyR7ZX1DYWNoZWA7XG4gIGlmICh0W29dID0gZnVuY3Rpb24oLi4ucikge1xuICAgIHJldHVybiB0aGlzW3NdID09PSB2b2lkIDAgJiYgKHRoaXNbc10gPSBpLmFwcGx5KHRoaXMsIC4uLnIpKSwgdGhpc1tzXTtcbiAgfSwgbyA9PT0gXCJnZXRcIiAmJiB0LnNldCkge1xuICAgIGNvbnN0IHIgPSB0LnNldDtcbiAgICB0LnNldCA9IGZ1bmN0aW9uKGwpIHtcbiAgICAgIGRlbGV0ZSBuW3NdLCByLmFwcGx5KHRoaXMsIGwpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5jb25zdCBPdCA9IDY1MDtcbmZ1bmN0aW9uIHBlKCkge1xuICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoYChtYXgtd2lkdGg6ICR7T3R9cHgpYCkubWF0Y2hlcztcbn1cbmNvbnN0IEdlID0gdHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSAmJiAoL2lQKGFkfGhvbmV8b2QpLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pIHx8IHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0gPT09IFwiTWFjSW50ZWxcIiAmJiB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSk7XG5mdW5jdGlvbiBPbyhuLCBlKSB7XG4gIGNvbnN0IHQgPSBBcnJheS5pc0FycmF5KG4pIHx8IFIobiksIG8gPSBBcnJheS5pc0FycmF5KGUpIHx8IFIoZSk7XG4gIHJldHVybiB0IHx8IG8gPyBKU09OLnN0cmluZ2lmeShuKSA9PT0gSlNPTi5zdHJpbmdpZnkoZSkgOiBuID09PSBlO1xufVxuY2xhc3MgZCB7XG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgdGFnIGhhcyBubyBjbG9zZWQgdGFnXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhZyAtIGVsZW1lbnQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNTaW5nbGVUYWcoZSkge1xuICAgIHJldHVybiBlLnRhZ05hbWUgJiYgW1xuICAgICAgXCJBUkVBXCIsXG4gICAgICBcIkJBU0VcIixcbiAgICAgIFwiQlJcIixcbiAgICAgIFwiQ09MXCIsXG4gICAgICBcIkNPTU1BTkRcIixcbiAgICAgIFwiRU1CRURcIixcbiAgICAgIFwiSFJcIixcbiAgICAgIFwiSU1HXCIsXG4gICAgICBcIklOUFVUXCIsXG4gICAgICBcIktFWUdFTlwiLFxuICAgICAgXCJMSU5LXCIsXG4gICAgICBcIk1FVEFcIixcbiAgICAgIFwiUEFSQU1cIixcbiAgICAgIFwiU09VUkNFXCIsXG4gICAgICBcIlRSQUNLXCIsXG4gICAgICBcIldCUlwiXG4gICAgXS5pbmNsdWRlcyhlLnRhZ05hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBlbGVtZW50IGlzIEJSIG9yIFdCUlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0xpbmVCcmVha1RhZyhlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS50YWdOYW1lICYmIFtcbiAgICAgIFwiQlJcIixcbiAgICAgIFwiV0JSXCJcbiAgICBdLmluY2x1ZGVzKGUudGFnTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIEhlbHBlciBmb3IgbWFraW5nIEVsZW1lbnRzIHdpdGggY2xhc3MgbmFtZSBhbmQgYXR0cmlidXRlc1xuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRhZ05hbWUgLSBuZXcgRWxlbWVudCB0YWcgbmFtZVxuICAgKiBAcGFyYW0gIHtzdHJpbmdbXXxzdHJpbmd9IFtjbGFzc05hbWVzXSAtIGxpc3Qgb3IgbmFtZSBvZiBDU1MgY2xhc3MgbmFtZShzKVxuICAgKiBAcGFyYW0gIHtvYmplY3R9IFthdHRyaWJ1dGVzXSAtIGFueSBhdHRyaWJ1dGVzXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIHN0YXRpYyBtYWtlKGUsIHQgPSBudWxsLCBvID0ge30pIHtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0KSkge1xuICAgICAgY29uc3QgcyA9IHQuZmlsdGVyKChyKSA9PiByICE9PSB2b2lkIDApO1xuICAgICAgaS5jbGFzc0xpc3QuYWRkKC4uLnMpO1xuICAgIH0gZWxzZVxuICAgICAgdCAmJiBpLmNsYXNzTGlzdC5hZGQodCk7XG4gICAgZm9yIChjb25zdCBzIGluIG8pXG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcykgJiYgKGlbc10gPSBvW3NdKTtcbiAgICByZXR1cm4gaTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBUZXh0IE5vZGUgd2l0aCB0aGUgcGFzc2VkIGNvbnRlbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgLSB0ZXh0IGNvbnRlbnRcbiAgICogQHJldHVybnMge1RleHR9XG4gICAqL1xuICBzdGF0aWMgdGV4dChlKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmQgb25lIG9yIHNldmVyYWwgZWxlbWVudHMgdG8gdGhlIHBhcmVudFxuICAgKlxuICAgKiBAcGFyYW0gIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IHBhcmVudCAtIHdoZXJlIHRvIGFwcGVuZFxuICAgKiBAcGFyYW0gIHtFbGVtZW50fEVsZW1lbnRbXXxEb2N1bWVudEZyYWdtZW50fFRleHR8VGV4dFtdfSBlbGVtZW50cyAtIGVsZW1lbnQgb3IgZWxlbWVudHMgbGlzdFxuICAgKi9cbiAgc3RhdGljIGFwcGVuZChlLCB0KSB7XG4gICAgQXJyYXkuaXNBcnJheSh0KSA/IHQuZm9yRWFjaCgobykgPT4gZS5hcHBlbmRDaGlsZChvKSkgOiBlLmFwcGVuZENoaWxkKHQpO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmQgZWxlbWVudCBvciBhIGNvdXBsZSB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwYXJlbnQgZWxlbWVudHNcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBwYXJlbnQgLSB3aGVyZSB0byBhcHBlbmRcbiAgICogQHBhcmFtIHtFbGVtZW50fEVsZW1lbnRbXX0gZWxlbWVudHMgLSBlbGVtZW50IG9yIGVsZW1lbnRzIGxpc3RcbiAgICovXG4gIHN0YXRpYyBwcmVwZW5kKGUsIHQpIHtcbiAgICBBcnJheS5pc0FycmF5KHQpID8gKHQgPSB0LnJldmVyc2UoKSwgdC5mb3JFYWNoKChvKSA9PiBlLnByZXBlbmQobykpKSA6IGUucHJlcGVuZCh0KTtcbiAgfVxuICAvKipcbiAgICogU3dhcCB0d28gZWxlbWVudHMgaW4gcGFyZW50XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsMSAtIGZyb21cbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwyIC0gdG9cbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIHN0YXRpYyBzd2FwKGUsIHQpIHtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgaSA9IGUucGFyZW50Tm9kZTtcbiAgICBpLmluc2VydEJlZm9yZShvLCBlKSwgaS5pbnNlcnRCZWZvcmUoZSwgdCksIGkuaW5zZXJ0QmVmb3JlKHQsIG8pLCBpLnJlbW92ZUNoaWxkKG8pO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3RvciBEZWNvcmF0b3JcbiAgICpcbiAgICogUmV0dXJucyBmaXJzdCBtYXRjaFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIC0gZWxlbWVudCB3ZSBzZWFyY2hpbmcgaW5zaWRlLiBEZWZhdWx0IC0gRE9NIERvY3VtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIHNlYXJjaGluZyBzdHJpbmdcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICBzdGF0aWMgZmluZChlID0gZG9jdW1lbnQsIHQpIHtcbiAgICByZXR1cm4gZS5xdWVyeVNlbGVjdG9yKHQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgRWxlbWVudCBieSBJZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBpZCB0byBmaW5kXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudCB8IG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0KGUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdG9yIERlY29yYXRvci5cbiAgICpcbiAgICogUmV0dXJucyBhbGwgbWF0Y2hlc1xuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnR9IGVsIC0gZWxlbWVudCB3ZSBzZWFyY2hpbmcgaW5zaWRlLiBEZWZhdWx0IC0gRE9NIERvY3VtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciAtIHNlYXJjaGluZyBzdHJpbmdcbiAgICogQHJldHVybnMge05vZGVMaXN0fVxuICAgKi9cbiAgc3RhdGljIGZpbmRBbGwoZSA9IGRvY3VtZW50LCB0KSB7XG4gICAgcmV0dXJuIGUucXVlcnlTZWxlY3RvckFsbCh0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBDU1Mgc2VsZWN0b3IgZm9yIGFsbCB0ZXh0IGlucHV0c1xuICAgKi9cbiAgc3RhdGljIGdldCBhbGxJbnB1dHNTZWxlY3RvcigpIHtcbiAgICByZXR1cm4gXCJbY29udGVudGVkaXRhYmxlPXRydWVdLCB0ZXh0YXJlYSwgaW5wdXQ6bm90KFt0eXBlXSksIFwiICsgW1widGV4dFwiLCBcInBhc3N3b3JkXCIsIFwiZW1haWxcIiwgXCJudW1iZXJcIiwgXCJzZWFyY2hcIiwgXCJ0ZWxcIiwgXCJ1cmxcIl0ubWFwKCh0KSA9PiBgaW5wdXRbdHlwZT1cIiR7dH1cIl1gKS5qb2luKFwiLCBcIik7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgYWxsIGNvbnRlbnRlZGl0YWJsZSwgdGV4dGFyZWEgYW5kIGVkaXRhYmxlIGlucHV0IGVsZW1lbnRzIHBhc3NlZCBob2xkZXIgY29udGFpbnNcbiAgICpcbiAgICogQHBhcmFtIGhvbGRlciAtIGVsZW1lbnQgd2hlcmUgdG8gZmluZCBpbnB1dHNcbiAgICovXG4gIHN0YXRpYyBmaW5kQWxsSW5wdXRzKGUpIHtcbiAgICByZXR1cm4gQXQoZS5xdWVyeVNlbGVjdG9yQWxsKGQuYWxsSW5wdXRzU2VsZWN0b3IpKS5yZWR1Y2UoKHQsIG8pID0+IGQuaXNOYXRpdmVJbnB1dChvKSB8fCBkLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKG8pID8gWy4uLnQsIG9dIDogWy4uLnQsIC4uLmQuZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHMobyldLCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIFNlYXJjaCBmb3IgZGVlcGVzdCBub2RlIHdoaWNoIGlzIExlYWYuXG4gICAqIExlYWYgaXMgdGhlIHZlcnRleCB0aGF0IGRvZXNuJ3QgaGF2ZSBhbnkgY2hpbGQgbm9kZXNcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCByZWN1cnNpdmVseSBnb2VzIHRocm93IHRoZSBhbGwgTm9kZSB1bnRpbCBpdCBmaW5kcyB0aGUgTGVhZlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSByb290IE5vZGUuIEZyb20gdGhpcyB2ZXJ0ZXggd2Ugc3RhcnQgRGVlcC1maXJzdCBzZWFyY2hcbiAgICogICAgICAgICAgICAgICAgICAgICAge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RlcHRoLWZpcnN0X3NlYXJjaH1cbiAgICogQHBhcmFtIHtib29sZWFufSBbYXRMYXN0XSAtIGZpbmQgbGFzdCB0ZXh0IG5vZGVcbiAgICogQHJldHVybnMgLSBpdCBjYW4gYmUgdGV4dCBOb2RlIG9yIEVsZW1lbnQgTm9kZSwgc28gdGhhdCBjYXJldCB3aWxsIGFibGUgdG8gd29yayB3aXRoIGl0XG4gICAqICAgICAgICAgICAgQ2FuIHJldHVybiBudWxsIGlmIG5vZGUgaXMgRG9jdW1lbnQgb3IgRG9jdW1lbnRGcmFnbWVudCwgb3Igbm9kZSBpcyBub3QgYXR0YWNoZWQgdG8gdGhlIERPTVxuICAgKi9cbiAgc3RhdGljIGdldERlZXBlc3ROb2RlKGUsIHQgPSAhMSkge1xuICAgIGNvbnN0IG8gPSB0ID8gXCJsYXN0Q2hpbGRcIiA6IFwiZmlyc3RDaGlsZFwiLCBpID0gdCA/IFwicHJldmlvdXNTaWJsaW5nXCIgOiBcIm5leHRTaWJsaW5nXCI7XG4gICAgaWYgKGUgJiYgZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgZVtvXSkge1xuICAgICAgbGV0IHMgPSBlW29dO1xuICAgICAgaWYgKGQuaXNTaW5nbGVUYWcocykgJiYgIWQuaXNOYXRpdmVJbnB1dChzKSAmJiAhZC5pc0xpbmVCcmVha1RhZyhzKSlcbiAgICAgICAgaWYgKHNbaV0pXG4gICAgICAgICAgcyA9IHNbaV07XG4gICAgICAgIGVsc2UgaWYgKHMucGFyZW50Tm9kZVtpXSlcbiAgICAgICAgICBzID0gcy5wYXJlbnROb2RlW2ldO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIHMucGFyZW50Tm9kZTtcbiAgICAgIHJldHVybiB0aGlzLmdldERlZXBlc3ROb2RlKHMsIHQpO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgb2JqZWN0IGlzIERPTSBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbm9kZSAtIG9iamVjdCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHN0YXRpYyBpc0VsZW1lbnQoZSkge1xuICAgIHJldHVybiBidChlKSA/ICExIDogZSAmJiBlLm5vZGVUeXBlICYmIGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBvYmplY3QgaXMgRG9jdW1lbnRGcmFnbWVudCBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBub2RlIC0gb2JqZWN0IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgc3RhdGljIGlzRnJhZ21lbnQoZSkge1xuICAgIHJldHVybiBidChlKSA/ICExIDogZSAmJiBlLm5vZGVUeXBlICYmIGUubm9kZVR5cGUgPT09IE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGVsZW1lbnQgaXMgY29udGVudGVkaXRhYmxlXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBodG1sIGVsZW1lbnQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNDb250ZW50RWRpdGFibGUoZSkge1xuICAgIHJldHVybiBlLmNvbnRlbnRFZGl0YWJsZSA9PT0gXCJ0cnVlXCI7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyB0YXJnZXQgaWYgaXQgaXMgbmF0aXZlIGlucHV0XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IC0gSFRNTCBlbGVtZW50IG9yIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHN0YXRpYyBpc05hdGl2ZUlucHV0KGUpIHtcbiAgICBjb25zdCB0ID0gW1xuICAgICAgXCJJTlBVVFwiLFxuICAgICAgXCJURVhUQVJFQVwiXG4gICAgXTtcbiAgICByZXR1cm4gZSAmJiBlLnRhZ05hbWUgPyB0LmluY2x1ZGVzKGUudGFnTmFtZSkgOiAhMTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHdlIGNhbiBzZXQgY2FyZXRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gdGFyZ2V0IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGNhblNldENhcmV0KGUpIHtcbiAgICBsZXQgdCA9ICEwO1xuICAgIGlmIChkLmlzTmF0aXZlSW5wdXQoZSkpXG4gICAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgY2FzZSBcInJhZGlvXCI6XG4gICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgY2FzZSBcInN1Ym1pdFwiOlxuICAgICAgICBjYXNlIFwiYnV0dG9uXCI6XG4gICAgICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgICBjYXNlIFwicmVzZXRcIjpcbiAgICAgICAgICB0ID0gITE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgZWxzZVxuICAgICAgdCA9IGQuaXNDb250ZW50RWRpdGFibGUoZSk7XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBub2RlIGlmIGl0IGlzIGVtcHR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgY2hlY2tzIHNpbXBsZSBOb2RlIHdpdGhvdXQgYW55IGNoaWxkcyBmb3IgZW1wdGluZXNzXG4gICAqIElmIHlvdSBoYXZlIE5vZGUgd2l0aCAyIG9yIG1vcmUgY2hpbGRyZW4gaWQgZGVwdGgsIHlvdSBiZXR0ZXIgdXNlIHtAbGluayBEb20jaXNFbXB0eX0gbWV0aG9kXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIG5vZGUgdG8gY2hlY2tcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtpZ25vcmVDaGFyc10gLSBjaGFyIG9yIHN1YnN0cmluZyB0byB0cmVhdCBhcyBlbXB0eVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBpdCBpcyBlbXB0eVxuICAgKi9cbiAgc3RhdGljIGlzTm9kZUVtcHR5KGUsIHQpIHtcbiAgICBsZXQgbztcbiAgICByZXR1cm4gdGhpcy5pc1NpbmdsZVRhZyhlKSAmJiAhdGhpcy5pc0xpbmVCcmVha1RhZyhlKSA/ICExIDogKHRoaXMuaXNFbGVtZW50KGUpICYmIHRoaXMuaXNOYXRpdmVJbnB1dChlKSA/IG8gPSBlLnZhbHVlIDogbyA9IGUudGV4dENvbnRlbnQucmVwbGFjZShcIuKAi1wiLCBcIlwiKSwgdCAmJiAobyA9IG8ucmVwbGFjZShuZXcgUmVnRXhwKHQsIFwiZ1wiKSwgXCJcIikpLCBvLnRyaW0oKS5sZW5ndGggPT09IDApO1xuICB9XG4gIC8qKlxuICAgKiBjaGVja3Mgbm9kZSBpZiBpdCBpcyBkb2Vzbid0IGhhdmUgYW55IGNoaWxkIG5vZGVzXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIG5vZGUgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNMZWFmKGUpIHtcbiAgICByZXR1cm4gZSA/IGUuY2hpbGROb2Rlcy5sZW5ndGggPT09IDAgOiAhMTtcbiAgfVxuICAvKipcbiAgICogYnJlYWR0aC1maXJzdCBzZWFyY2ggKEJGUylcbiAgICoge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JyZWFkdGgtZmlyc3Rfc2VhcmNofVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gUHVzaGVzIHRvIHN0YWNrIGFsbCBET00gbGVhZnMgYW5kIGNoZWNrcyBmb3IgZW1wdGluZXNzXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIG5vZGUgdG8gY2hlY2tcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtpZ25vcmVDaGFyc10gLSBjaGFyIG9yIHN1YnN0cmluZyB0byB0cmVhdCBhcyBlbXB0eVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0VtcHR5KGUsIHQpIHtcbiAgICBlLm5vcm1hbGl6ZSgpO1xuICAgIGNvbnN0IG8gPSBbZV07XG4gICAgZm9yICg7IG8ubGVuZ3RoID4gMDsgKVxuICAgICAgaWYgKGUgPSBvLnNoaWZ0KCksICEhZSkge1xuICAgICAgICBpZiAodGhpcy5pc0xlYWYoZSkgJiYgIXRoaXMuaXNOb2RlRW1wdHkoZSwgdCkpXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBlLmNoaWxkTm9kZXMgJiYgby5wdXNoKC4uLkFycmF5LmZyb20oZS5jaGlsZE5vZGVzKSk7XG4gICAgICB9XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBzdHJpbmcgY29udGFpbnMgaHRtbCBlbGVtZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gc3RyaW5nIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzSFRNTFN0cmluZyhlKSB7XG4gICAgY29uc3QgdCA9IGQubWFrZShcImRpdlwiKTtcbiAgICByZXR1cm4gdC5pbm5lckhUTUwgPSBlLCB0LmNoaWxkRWxlbWVudENvdW50ID4gMDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGxlbmd0aCBvZiBub2RlYHMgdGV4dCBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIG5vZGUgd2l0aCBjb250ZW50XG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBzdGF0aWMgZ2V0Q29udGVudExlbmd0aChlKSB7XG4gICAgcmV0dXJuIGQuaXNOYXRpdmVJbnB1dChlKSA/IGUudmFsdWUubGVuZ3RoIDogZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgPyBlLmxlbmd0aCA6IGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYXJyYXkgb2YgbmFtZXMgb2YgYmxvY2sgaHRtbCBlbGVtZW50c1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119XG4gICAqL1xuICBzdGF0aWMgZ2V0IGJsb2NrRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFwiYWRkcmVzc1wiLFxuICAgICAgXCJhcnRpY2xlXCIsXG4gICAgICBcImFzaWRlXCIsXG4gICAgICBcImJsb2NrcXVvdGVcIixcbiAgICAgIFwiY2FudmFzXCIsXG4gICAgICBcImRpdlwiLFxuICAgICAgXCJkbFwiLFxuICAgICAgXCJkdFwiLFxuICAgICAgXCJmaWVsZHNldFwiLFxuICAgICAgXCJmaWdjYXB0aW9uXCIsXG4gICAgICBcImZpZ3VyZVwiLFxuICAgICAgXCJmb290ZXJcIixcbiAgICAgIFwiZm9ybVwiLFxuICAgICAgXCJoMVwiLFxuICAgICAgXCJoMlwiLFxuICAgICAgXCJoM1wiLFxuICAgICAgXCJoNFwiLFxuICAgICAgXCJoNVwiLFxuICAgICAgXCJoNlwiLFxuICAgICAgXCJoZWFkZXJcIixcbiAgICAgIFwiaGdyb3VwXCIsXG4gICAgICBcImhyXCIsXG4gICAgICBcImxpXCIsXG4gICAgICBcIm1haW5cIixcbiAgICAgIFwibmF2XCIsXG4gICAgICBcIm5vc2NyaXB0XCIsXG4gICAgICBcIm9sXCIsXG4gICAgICBcIm91dHB1dFwiLFxuICAgICAgXCJwXCIsXG4gICAgICBcInByZVwiLFxuICAgICAgXCJydWJ5XCIsXG4gICAgICBcInNlY3Rpb25cIixcbiAgICAgIFwidGFibGVcIixcbiAgICAgIFwidGJvZHlcIixcbiAgICAgIFwidGhlYWRcIixcbiAgICAgIFwidHJcIixcbiAgICAgIFwidGZvb3RcIixcbiAgICAgIFwidWxcIixcbiAgICAgIFwidmlkZW9cIlxuICAgIF07XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBjb250ZW50IGluY2x1ZGVzIG9ubHkgaW5saW5lIGVsZW1lbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxFbGVtZW50fSBkYXRhIC0gZWxlbWVudCBvciBodG1sIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBjb250YWluc09ubHlJbmxpbmVFbGVtZW50cyhlKSB7XG4gICAgbGV0IHQ7XG4gICAgUShlKSA/ICh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgdC5pbm5lckhUTUwgPSBlKSA6IHQgPSBlO1xuICAgIGNvbnN0IG8gPSAoaSkgPT4gIWQuYmxvY2tFbGVtZW50cy5pbmNsdWRlcyhpLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgJiYgQXJyYXkuZnJvbShpLmNoaWxkcmVuKS5ldmVyeShvKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0LmNoaWxkcmVuKS5ldmVyeShvKTtcbiAgfVxuICAvKipcbiAgICogRmluZCBhbmQgcmV0dXJuIGFsbCBibG9jayBlbGVtZW50cyBpbiB0aGUgcGFzc2VkIHBhcmVudCAoaW5jbHVkaW5nIHN1YnRyZWUpXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudCAtIHJvb3QgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRbXX1cbiAgICovXG4gIHN0YXRpYyBnZXREZWVwZXN0QmxvY2tFbGVtZW50cyhlKSB7XG4gICAgcmV0dXJuIGQuY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHMoZSkgPyBbZV0gOiBBcnJheS5mcm9tKGUuY2hpbGRyZW4pLnJlZHVjZSgodCwgbykgPT4gWy4uLnQsIC4uLmQuZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHMobyldLCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIEhlbHBlciBmb3IgZ2V0IGhvbGRlciBmcm9tIHtzdHJpbmd9IG9yIHJldHVybiBIVE1MRWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IEhUTUxFbGVtZW50fSBlbGVtZW50IC0gaG9sZGVyJ3MgaWQgb3IgaG9sZGVyJ3MgSFRNTCBFbGVtZW50XG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIHN0YXRpYyBnZXRIb2xkZXIoZSkge1xuICAgIHJldHVybiBRKGUpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkgOiBlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgZWxlbWVudCBpcyBhbmNob3IgKGlzIEEgdGFnKVxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzQW5jaG9yKGUpIHtcbiAgICByZXR1cm4gZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYVwiO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZWxlbWVudCdzIG9mZnNldCByZWxhdGVkIHRvIHRoZSBkb2N1bWVudFxuICAgKlxuICAgKiBAdG9kbyBoYW5kbGUgY2FzZSB3aGVuIGVkaXRvciBpbml0aWFsaXplZCBpbiBzY3JvbGxhYmxlIHBvcHVwXG4gICAqIEBwYXJhbSBlbCAtIGVsZW1lbnQgdG8gY29tcHV0ZSBvZmZzZXRcbiAgICovXG4gIHN0YXRpYyBvZmZzZXQoZSkge1xuICAgIGNvbnN0IHQgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBvID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LCBpID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsIHMgPSB0LnRvcCArIGksIHIgPSB0LmxlZnQgKyBvO1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHMsXG4gICAgICBsZWZ0OiByLFxuICAgICAgYm90dG9tOiBzICsgdC5oZWlnaHQsXG4gICAgICByaWdodDogciArIHQud2lkdGhcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBMbyhuKSB7XG4gIHJldHVybiAhL1teXFx0XFxuXFxyIF0vLnRlc3Qobik7XG59XG5mdW5jdGlvbiBfbyhuKSB7XG4gIGNvbnN0IGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKSwgdCA9IHBhcnNlRmxvYXQoZS5mb250U2l6ZSksIG8gPSBwYXJzZUZsb2F0KGUubGluZUhlaWdodCkgfHwgdCAqIDEuMiwgaSA9IHBhcnNlRmxvYXQoZS5wYWRkaW5nVG9wKSwgcyA9IHBhcnNlRmxvYXQoZS5ib3JkZXJUb3BXaWR0aCksIHIgPSBwYXJzZUZsb2F0KGUubWFyZ2luVG9wKSwgbCA9IHQgKiAwLjgsIGEgPSAobyAtIHQpIC8gMjtcbiAgcmV0dXJuIHIgKyBzICsgaSArIGEgKyBsO1xufVxuZnVuY3Rpb24gTHQobikge1xuICBuLmRhdGFzZXQuZW1wdHkgPSBkLmlzRW1wdHkobikgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcbn1cbmNvbnN0IE5vID0ge1xuICBibG9ja1R1bmVzOiB7XG4gICAgdG9nZ2xlcjoge1xuICAgICAgXCJDbGljayB0byB0dW5lXCI6IFwiXCIsXG4gICAgICBcIm9yIGRyYWcgdG8gbW92ZVwiOiBcIlwiXG4gICAgfVxuICB9LFxuICBpbmxpbmVUb29sYmFyOiB7XG4gICAgY29udmVydGVyOiB7XG4gICAgICBcIkNvbnZlcnQgdG9cIjogXCJcIlxuICAgIH1cbiAgfSxcbiAgdG9vbGJhcjoge1xuICAgIHRvb2xib3g6IHtcbiAgICAgIEFkZDogXCJcIlxuICAgIH1cbiAgfSxcbiAgcG9wb3Zlcjoge1xuICAgIEZpbHRlcjogXCJcIixcbiAgICBcIk5vdGhpbmcgZm91bmRcIjogXCJcIixcbiAgICBcIkNvbnZlcnQgdG9cIjogXCJcIlxuICB9XG59LCBQbyA9IHtcbiAgVGV4dDogXCJcIixcbiAgTGluazogXCJcIixcbiAgQm9sZDogXCJcIixcbiAgSXRhbGljOiBcIlwiXG59LCBEbyA9IHtcbiAgbGluazoge1xuICAgIFwiQWRkIGEgbGlua1wiOiBcIlwiXG4gIH0sXG4gIHN0dWI6IHtcbiAgICBcIlRoZSBibG9jayBjYW4gbm90IGJlIGRpc3BsYXllZCBjb3JyZWN0bHkuXCI6IFwiXCJcbiAgfVxufSwgUm8gPSB7XG4gIGRlbGV0ZToge1xuICAgIERlbGV0ZTogXCJcIixcbiAgICBcIkNsaWNrIHRvIGRlbGV0ZVwiOiBcIlwiXG4gIH0sXG4gIG1vdmVVcDoge1xuICAgIFwiTW92ZSB1cFwiOiBcIlwiXG4gIH0sXG4gIG1vdmVEb3duOiB7XG4gICAgXCJNb3ZlIGRvd25cIjogXCJcIlxuICB9XG59LCBfdCA9IHtcbiAgdWk6IE5vLFxuICB0b29sTmFtZXM6IFBvLFxuICB0b29sczogRG8sXG4gIGJsb2NrVHVuZXM6IFJvXG59LCBOdCA9IGNsYXNzIGFlIHtcbiAgLyoqXG4gICAqIFR5cGUtc2FmZSB0cmFuc2xhdGlvbiBmb3IgaW50ZXJuYWwgVUkgdGV4dHM6XG4gICAqIFBlcmZvcm0gdHJhbnNsYXRpb24gb2YgdGhlIHN0cmluZyBieSBuYW1lc3BhY2UgYW5kIGEga2V5XG4gICAqXG4gICAqIEBleGFtcGxlIEkxOG4udWkoSTE4bkludGVybmFsTlMudWkuYmxvY2tUdW5lcy50b2dnbGVyLCAnQ2xpY2sgdG8gdHVuZScpXG4gICAqIEBwYXJhbSBpbnRlcm5hbE5hbWVzcGFjZSAtIHBhdGggdG8gdHJhbnNsYXRlZCBzdHJpbmcgaW4gZGljdGlvbmFyeVxuICAgKiBAcGFyYW0gZGljdEtleSAtIGRpY3Rpb25hcnkga2V5LiBCZXR0ZXIgdG8gdXNlIGRlZmF1bHQgbG9jYWxlIG9yaWdpbmFsIHRleHRcbiAgICovXG4gIHN0YXRpYyB1aShlLCB0KSB7XG4gICAgcmV0dXJuIGFlLl90KGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgZm9yIGV4dGVybmFsIHN0cmluZ3MgdGhhdCBpcyBub3QgcHJlc2VudGVkIGluIGRlZmF1bHQgZGljdGlvbmFyeS5cbiAgICogRm9yIGV4YW1wbGUsIGZvciB1c2VyLXNwZWNpZmllZCB0b29sIG5hbWVzXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBwYXRoIHRvIHRyYW5zbGF0ZWQgc3RyaW5nIGluIGRpY3Rpb25hcnlcbiAgICogQHBhcmFtIGRpY3RLZXkgLSBkaWN0aW9uYXJ5IGtleS4gQmV0dGVyIHRvIHVzZSBkZWZhdWx0IGxvY2FsZSBvcmlnaW5hbCB0ZXh0XG4gICAqL1xuICBzdGF0aWMgdChlLCB0KSB7XG4gICAgcmV0dXJuIGFlLl90KGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBBZGp1c3QgbW9kdWxlIGZvciB1c2luZyBleHRlcm5hbCBkaWN0aW9uYXJ5XG4gICAqXG4gICAqIEBwYXJhbSBkaWN0aW9uYXJ5IC0gbmV3IG1lc3NhZ2VzIGxpc3QgdG8gb3ZlcnJpZGUgZGVmYXVsdFxuICAgKi9cbiAgc3RhdGljIHNldERpY3Rpb25hcnkoZSkge1xuICAgIGFlLmN1cnJlbnREaWN0aW9uYXJ5ID0gZTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSB0cmFuc2xhdGlvbiBib3RoIGZvciBpbnRlcm5hbCBhbmQgZXh0ZXJuYWwgbmFtZXNwYWNlc1xuICAgKiBJZiB0aGVyZSBpcyBubyB0cmFuc2xhdGlvbiBmb3VuZCwgcmV0dXJucyBwYXNzZWQga2V5IGFzIGEgdHJhbnNsYXRlZCBtZXNzYWdlXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lc3BhY2UgLSBwYXRoIHRvIHRyYW5zbGF0ZWQgc3RyaW5nIGluIGRpY3Rpb25hcnlcbiAgICogQHBhcmFtIGRpY3RLZXkgLSBkaWN0aW9uYXJ5IGtleS4gQmV0dGVyIHRvIHVzZSBkZWZhdWx0IGxvY2FsZSBvcmlnaW5hbCB0ZXh0XG4gICAqL1xuICBzdGF0aWMgX3QoZSwgdCkge1xuICAgIGNvbnN0IG8gPSBhZS5nZXROYW1lc3BhY2UoZSk7XG4gICAgcmV0dXJuICFvIHx8ICFvW3RdID8gdCA6IG9bdF07XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgbWVzc2FnZXMgc2VjdGlvbiBieSBuYW1lc3BhY2UgcGF0aFxuICAgKlxuICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gcGF0aCB0byBzZWN0aW9uXG4gICAqL1xuICBzdGF0aWMgZ2V0TmFtZXNwYWNlKGUpIHtcbiAgICByZXR1cm4gZS5zcGxpdChcIi5cIikucmVkdWNlKChvLCBpKSA9PiAhbyB8fCAhT2JqZWN0LmtleXMobykubGVuZ3RoID8ge30gOiBvW2ldLCBhZS5jdXJyZW50RGljdGlvbmFyeSk7XG4gIH1cbn07XG5OdC5jdXJyZW50RGljdGlvbmFyeSA9IF90O1xubGV0IHogPSBOdDtcbmNsYXNzIFB0IGV4dGVuZHMgRXJyb3Ige1xufVxuY2xhc3MgVGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN1YnNjcmliZXJzID0ge307XG4gIH1cbiAgLyoqXG4gICAqIFN1YnNjcmliZSBhbnkgZXZlbnQgb24gY2FsbGJhY2tcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gc3Vic2NyaWJlclxuICAgKi9cbiAgb24oZSwgdCkge1xuICAgIGUgaW4gdGhpcy5zdWJzY3JpYmVycyB8fCAodGhpcy5zdWJzY3JpYmVyc1tlXSA9IFtdKSwgdGhpcy5zdWJzY3JpYmVyc1tlXS5wdXNoKHQpO1xuICB9XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgYW55IGV2ZW50IG9uIGNhbGxiYWNrLiBDYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBvbmNlIGFuZCBiZSByZW1vdmVkIGZyb20gc3Vic2NyaWJlcnMgYXJyYXkgYWZ0ZXIgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gc3Vic2NyaWJlclxuICAgKi9cbiAgb25jZShlLCB0KSB7XG4gICAgZSBpbiB0aGlzLnN1YnNjcmliZXJzIHx8ICh0aGlzLnN1YnNjcmliZXJzW2VdID0gW10pO1xuICAgIGNvbnN0IG8gPSAoaSkgPT4ge1xuICAgICAgY29uc3QgcyA9IHQoaSksIHIgPSB0aGlzLnN1YnNjcmliZXJzW2VdLmluZGV4T2Yobyk7XG4gICAgICByZXR1cm4gciAhPT0gLTEgJiYgdGhpcy5zdWJzY3JpYmVyc1tlXS5zcGxpY2UociwgMSksIHM7XG4gICAgfTtcbiAgICB0aGlzLnN1YnNjcmliZXJzW2VdLnB1c2gobyk7XG4gIH1cbiAgLyoqXG4gICAqIEVtaXQgY2FsbGJhY2tzIHdpdGggcGFzc2VkIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGRhdGEgLSBzdWJzY3JpYmVycyBnZXQgdGhpcyBkYXRhIHdoZW4gdGhleSB3ZXJlIGZpcmVkXG4gICAqL1xuICBlbWl0KGUsIHQpIHtcbiAgICBWKHRoaXMuc3Vic2NyaWJlcnMpIHx8ICF0aGlzLnN1YnNjcmliZXJzW2VdIHx8IHRoaXMuc3Vic2NyaWJlcnNbZV0ucmVkdWNlKChvLCBpKSA9PiB7XG4gICAgICBjb25zdCBzID0gaShvKTtcbiAgICAgIHJldHVybiBzICE9PSB2b2lkIDAgPyBzIDogbztcbiAgICB9LCB0KTtcbiAgfVxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgY2FsbGJhY2sgZnJvbSBldmVudFxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIC0gZXZlbnQgbmFtZVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBldmVudCBoYW5kbGVyXG4gICAqL1xuICBvZmYoZSwgdCkge1xuICAgIGlmICh0aGlzLnN1YnNjcmliZXJzW2VdID09PSB2b2lkIDApIHtcbiAgICAgIGNvbnNvbGUud2FybihgRXZlbnREaXNwYXRjaGVyIC5vZmYoKTogdGhlcmUgaXMgbm8gc3Vic2NyaWJlcnMgZm9yIGV2ZW50IFwiJHtlLnRvU3RyaW5nKCl9XCIuIFByb2JhYmx5LCAub2ZmKCkgY2FsbGVkIGJlZm9yZSAub24oKWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBvID0gMDsgbyA8IHRoaXMuc3Vic2NyaWJlcnNbZV0ubGVuZ3RoOyBvKyspXG4gICAgICBpZiAodGhpcy5zdWJzY3JpYmVyc1tlXVtvXSA9PT0gdCkge1xuICAgICAgICBkZWxldGUgdGhpcy5zdWJzY3JpYmVyc1tlXVtvXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3llclxuICAgKiBjbGVhcnMgc3Vic2NyaWJlcnMgbGlzdFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnN1YnNjcmliZXJzID0ge307XG4gIH1cbn1cbmZ1bmN0aW9uIEcobikge1xuICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywge1xuICAgIC8qKlxuICAgICAqIEJsb2NrIGlkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBpZCgpIHtcbiAgICAgIHJldHVybiBuLmlkO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVG9vbCBuYW1lXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgcmV0dXJuIG4ubmFtZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRvb2wgY29uZmlnIHBhc3NlZCBvbiBFZGl0b3IncyBpbml0aWFsaXphdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge1Rvb2xDb25maWd9XG4gICAgICovXG4gICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgIHJldHVybiBuLmNvbmZpZztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIC5jZS1ibG9jayBlbGVtZW50LCB0aGF0IHdyYXBzIHBsdWdpbiBjb250ZW50c1xuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgICAqL1xuICAgIGdldCBob2xkZXIoKSB7XG4gICAgICByZXR1cm4gbi5ob2xkZXI7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIEJsb2NrIGNvbnRlbnQgaXMgZW1wdHlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgcmV0dXJuIG4uaXNFbXB0eTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgQmxvY2sgaXMgc2VsZWN0ZWQgd2l0aCBDcm9zcy1CbG9jayBzZWxlY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBzZWxlY3RlZCgpIHtcbiAgICAgIHJldHVybiBuLnNlbGVjdGVkO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2V0IEJsb2NrJ3Mgc3RyZXRjaCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSDigJQgc3RhdGUgdG8gc2V0XG4gICAgICovXG4gICAgc2V0IHN0cmV0Y2hlZCh0KSB7XG4gICAgICBuLnN0cmV0Y2hlZCA9IHQ7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIEJsb2NrIGlzIHN0cmV0Y2hlZFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHN0cmV0Y2hlZCgpIHtcbiAgICAgIHJldHVybiBuLnN0cmV0Y2hlZDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgQmxvY2sgaGFzIGlucHV0cyB0byBiZSBmb2N1c2VkXG4gICAgICovXG4gICAgZ2V0IGZvY3VzYWJsZSgpIHtcbiAgICAgIHJldHVybiBuLmZvY3VzYWJsZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENhbGwgVG9vbCBtZXRob2Qgd2l0aCBlcnJvcnMgaGFuZGxlciB1bmRlci10aGUtaG9vZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgLSBtZXRob2QgdG8gY2FsbFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbSAtIG9iamVjdCB3aXRoIHBhcmFtZXRlcnNcbiAgICAgKiBAcmV0dXJucyB7dW5rbm93bn1cbiAgICAgKi9cbiAgICBjYWxsKHQsIG8pIHtcbiAgICAgIHJldHVybiBuLmNhbGwodCwgbyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTYXZlIEJsb2NrIGNvbnRlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWR8U2F2ZWREYXRhPn1cbiAgICAgKi9cbiAgICBzYXZlKCkge1xuICAgICAgcmV0dXJuIG4uc2F2ZSgpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgQmxvY2sgZGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtCbG9ja1Rvb2xEYXRhfSBkYXRhIC0gZGF0YSB0byB2YWxpZGF0ZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgICAqL1xuICAgIHZhbGlkYXRlKHQpIHtcbiAgICAgIHJldHVybiBuLnZhbGlkYXRlKHQpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHNheSBFZGl0b3IgdGhhdCBCbG9jayB3YXMgY2hhbmdlZC4gVXNlZCB0byBtYW51YWxseSB0cmlnZ2VyIEVkaXRvcidzICdvbkNoYW5nZScgY2FsbGJhY2tcbiAgICAgKiBDYW4gYmUgdXNlZnVsIGZvciBibG9jayBjaGFuZ2VzIGludmlzaWJsZSBmb3IgZWRpdG9yIGNvcmUuXG4gICAgICovXG4gICAgZGlzcGF0Y2hDaGFuZ2UoKSB7XG4gICAgICBuLmRpc3BhdGNoQ2hhbmdlKCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUb29sIGNvdWxkIHNwZWNpZnkgc2V2ZXJhbCBlbnRyaWVzIHRvIGJlIGRpc3BsYXllZCBhdCB0aGUgVG9vbGJveCAoZm9yIGV4YW1wbGUsIFwiSGVhZGluZyAxXCIsIFwiSGVhZGluZyAyXCIsIFwiSGVhZGluZyAzXCIpXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZW50cnkgdGhhdCBpcyByZWxhdGVkIHRvIHRoZSBCbG9jayAoZGVwZW5kZWQgb24gdGhlIEJsb2NrIGRhdGEpXG4gICAgICovXG4gICAgZ2V0QWN0aXZlVG9vbGJveEVudHJ5KCkge1xuICAgICAgcmV0dXJuIG4uZ2V0QWN0aXZlVG9vbGJveEVudHJ5KCk7XG4gICAgfVxuICB9KTtcbn1cbmNsYXNzIENlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hbGxMaXN0ZW5lcnMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogQXNzaWducyBldmVudCBsaXN0ZW5lciBvbiBlbGVtZW50IGFuZCByZXR1cm5zIHVuaXF1ZSBpZGVudGlmaWVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBET00gZWxlbWVudCB0aGF0IG5lZWRzIHRvIGJlIGxpc3RlbmVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBtZXRob2QgdGhhdCB3aWxsIGJlIGZpcmVkIG9uIGV2ZW50XG4gICAqIEBwYXJhbSB7Ym9vbGVhbnxBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gb3B0aW9ucyAtIHVzZUNhcHR1cmUgb3Ige2NhcHR1cmUsIHBhc3NpdmUsIG9uY2V9XG4gICAqL1xuICBvbihlLCB0LCBvLCBpID0gITEpIHtcbiAgICBjb25zdCBzID0gQW8oXCJsXCIpLCByID0ge1xuICAgICAgaWQ6IHMsXG4gICAgICBlbGVtZW50OiBlLFxuICAgICAgZXZlbnRUeXBlOiB0LFxuICAgICAgaGFuZGxlcjogbyxcbiAgICAgIG9wdGlvbnM6IGlcbiAgICB9O1xuICAgIGlmICghdGhpcy5maW5kT25lKGUsIHQsIG8pKVxuICAgICAgcmV0dXJuIHRoaXMuYWxsTGlzdGVuZXJzLnB1c2gociksIGUuYWRkRXZlbnRMaXN0ZW5lcih0LCBvLCBpKSwgcztcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lciBmcm9tIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIERPTSBlbGVtZW50IHRoYXQgd2UgcmVtb3ZpbmcgbGlzdGVuZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIHJlbW92ZSBoYW5kbGVyLCBpZiBlbGVtZW50IGxpc3RlbnMgc2V2ZXJhbCBoYW5kbGVycyBvbiB0aGUgc2FtZSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbnxBZGRFdmVudExpc3RlbmVyT3B0aW9uc30gb3B0aW9ucyAtIHVzZUNhcHR1cmUgb3Ige2NhcHR1cmUsIHBhc3NpdmUsIG9uY2V9XG4gICAqL1xuICBvZmYoZSwgdCwgbywgaSkge1xuICAgIGNvbnN0IHMgPSB0aGlzLmZpbmRBbGwoZSwgdCwgbyk7XG4gICAgcy5mb3JFYWNoKChyLCBsKSA9PiB7XG4gICAgICBjb25zdCBhID0gdGhpcy5hbGxMaXN0ZW5lcnMuaW5kZXhPZihzW2xdKTtcbiAgICAgIGEgPiAtMSAmJiAodGhpcy5hbGxMaXN0ZW5lcnMuc3BsaWNlKGEsIDEpLCByLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmV2ZW50VHlwZSwgci5oYW5kbGVyLCByLm9wdGlvbnMpKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBsaXN0ZW5lciBieSBpZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBsaXN0ZW5lciBpZGVudGlmaWVyXG4gICAqL1xuICBvZmZCeUlkKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5maW5kQnlJZChlKTtcbiAgICB0ICYmIHQuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHQuZXZlbnRUeXBlLCB0LmhhbmRsZXIsIHQub3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRzIGFuZCByZXR1cm5zIGZpcnN0IGxpc3RlbmVyIGJ5IHBhc3NlZCBwYXJhbXNcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIGV2ZW50IHRhcmdldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2V2ZW50VHlwZV0gLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXSAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YXxudWxsfVxuICAgKi9cbiAgZmluZE9uZShlLCB0LCBvKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuZmluZEFsbChlLCB0LCBvKTtcbiAgICByZXR1cm4gaS5sZW5ndGggPiAwID8gaVswXSA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbGwgc3RvcmVkIGxpc3RlbmVycyBieSBwYXNzZWQgcGFyYW1zXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBldmVudCB0YXJnZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YVtdfVxuICAgKi9cbiAgZmluZEFsbChlLCB0LCBvKSB7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgcyA9IGUgPyB0aGlzLmZpbmRCeUV2ZW50VGFyZ2V0KGUpIDogW107XG4gICAgcmV0dXJuIGUgJiYgdCAmJiBvID8gaSA9IHMuZmlsdGVyKChyKSA9PiByLmV2ZW50VHlwZSA9PT0gdCAmJiByLmhhbmRsZXIgPT09IG8pIDogZSAmJiB0ID8gaSA9IHMuZmlsdGVyKChyKSA9PiByLmV2ZW50VHlwZSA9PT0gdCkgOiBpID0gcywgaTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzXG4gICAqL1xuICByZW1vdmVBbGwoKSB7XG4gICAgdGhpcy5hbGxMaXN0ZW5lcnMubWFwKChlKSA9PiB7XG4gICAgICBlLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLmV2ZW50VHlwZSwgZS5oYW5kbGVyLCBlLm9wdGlvbnMpO1xuICAgIH0pLCB0aGlzLmFsbExpc3RlbmVycyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgY2xlYW51cCBvbiBkZXN0cnVjdGlvblxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggbWV0aG9kOiBsb29rcyBmb3IgbGlzdGVuZXIgYnkgcGFzc2VkIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudCAtIHNlYXJjaGluZyBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtBcnJheX0gbGlzdGVuZXJzIHRoYXQgZm91bmQgb24gZWxlbWVudFxuICAgKi9cbiAgZmluZEJ5RXZlbnRUYXJnZXQoZSkge1xuICAgIHJldHVybiB0aGlzLmFsbExpc3RlbmVycy5maWx0ZXIoKHQpID0+IHtcbiAgICAgIGlmICh0LmVsZW1lbnQgPT09IGUpXG4gICAgICAgIHJldHVybiB0O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggbWV0aG9kOiBsb29rcyBmb3IgbGlzdGVuZXIgYnkgcGFzc2VkIGV2ZW50IHR5cGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YVtdfSBsaXN0ZW5lcnMgdGhhdCBmb3VuZCBvbiBlbGVtZW50XG4gICAqL1xuICBmaW5kQnlUeXBlKGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmlsdGVyKCh0KSA9PiB7XG4gICAgICBpZiAodC5ldmVudFR5cGUgPT09IGUpXG4gICAgICAgIHJldHVybiB0O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggbWV0aG9kOiBsb29rcyBmb3IgbGlzdGVuZXIgYnkgcGFzc2VkIGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YVtdfSBsaXN0ZW5lcnMgdGhhdCBmb3VuZCBvbiBlbGVtZW50XG4gICAqL1xuICBmaW5kQnlIYW5kbGVyKGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmlsdGVyKCh0KSA9PiB7XG4gICAgICBpZiAodC5oYW5kbGVyID09PSBlKVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0ZW5lciBkYXRhIGZvdW5kIGJ5IGlkXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGxpc3RlbmVyIGlkZW50aWZpZXJcbiAgICogQHJldHVybnMge0xpc3RlbmVyRGF0YX1cbiAgICovXG4gIGZpbmRCeUlkKGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmluZCgodCkgPT4gdC5pZCA9PT0gZSk7XG4gIH1cbn1cbmNsYXNzIHkge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTW9kdWxlIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuY29uZmlnIC0gTW9kdWxlIGNvbmZpZ1xuICAgKiBAcGFyYW0gb3B0aW9ucy5ldmVudHNEaXNwYXRjaGVyIC0gQ29tbW9uIGV2ZW50IGJ1c1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIGlmICh0aGlzLm5vZGVzID0ge30sIHRoaXMubGlzdGVuZXJzID0gbmV3IENlKCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBBc3NpZ25zIGV2ZW50IGxpc3RlbmVyIG9uIERPTSBlbGVtZW50IGFuZCBwdXNoZXMgaW50byBzcGVjaWFsIGFycmF5IHRoYXQgbWlnaHQgYmUgcmVtb3ZlZFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBET00gRWxlbWVudFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIEV2ZW50IG5hbWVcbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBFdmVudCBoYW5kbGVyXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW58QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IG9wdGlvbnMgLSBMaXN0ZW5pbmcgb3B0aW9uc1xuICAgICAgICovXG4gICAgICBvbjogKG8sIGksIHMsIHIgPSAhMSkgPT4ge1xuICAgICAgICB0aGlzLm11dGFibGVMaXN0ZW5lcklkcy5wdXNoKFxuICAgICAgICAgIHRoaXMubGlzdGVuZXJzLm9uKG8sIGksIHMsIHIpXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBDbGVhcnMgYWxsIG11dGFibGUgbGlzdGVuZXJzXG4gICAgICAgKi9cbiAgICAgIGNsZWFyQWxsOiAoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLm11dGFibGVMaXN0ZW5lcklkcylcbiAgICAgICAgICB0aGlzLmxpc3RlbmVycy5vZmZCeUlkKG8pO1xuICAgICAgICB0aGlzLm11dGFibGVMaXN0ZW5lcklkcyA9IFtdO1xuICAgICAgfVxuICAgIH0sIHRoaXMubXV0YWJsZUxpc3RlbmVySWRzID0gW10sIG5ldy50YXJnZXQgPT09IHkpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3JzIGZvciBhYnN0cmFjdCBjbGFzcyBNb2R1bGUgYXJlIG5vdCBhbGxvd2VkLlwiKTtcbiAgICB0aGlzLmNvbmZpZyA9IGUsIHRoaXMuZXZlbnRzRGlzcGF0Y2hlciA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXRvciBtb2R1bGVzIHNldHRlclxuICAgKlxuICAgKiBAcGFyYW0ge0VkaXRvck1vZHVsZXN9IEVkaXRvciAtIEVkaXRvcidzIE1vZHVsZXNcbiAgICovXG4gIHNldCBzdGF0ZShlKSB7XG4gICAgdGhpcy5FZGl0b3IgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgbWVtb3JpemVkIG5vZGVzXG4gICAqL1xuICByZW1vdmVBbGxOb2RlcygpIHtcbiAgICBmb3IgKGNvbnN0IGUgaW4gdGhpcy5ub2Rlcykge1xuICAgICAgY29uc3QgdCA9IHRoaXMubm9kZXNbZV07XG4gICAgICB0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdC5yZW1vdmUoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBjdXJyZW50IGRpcmVjdGlvbiBpcyBSVEwgKFJpZ2h0LVRvLUxlZnQpXG4gICAqL1xuICBnZXQgaXNSdGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmkxOG4uZGlyZWN0aW9uID09PSBcInJ0bFwiO1xuICB9XG59XG5jbGFzcyBiIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbnN0YW5jZSA9IG51bGwsIHRoaXMuc2VsZWN0aW9uID0gbnVsbCwgdGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlID0gbnVsbCwgdGhpcy5pc0Zha2VCYWNrZ3JvdW5kRW5hYmxlZCA9ICExLCB0aGlzLmNvbW1hbmRCYWNrZ3JvdW5kID0gXCJiYWNrQ29sb3JcIiwgdGhpcy5jb21tYW5kUmVtb3ZlRm9ybWF0ID0gXCJyZW1vdmVGb3JtYXRcIjtcbiAgfVxuICAvKipcbiAgICogRWRpdG9yIHN0eWxlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7e2VkaXRvcldyYXBwZXI6IHN0cmluZywgZWRpdG9yWm9uZTogc3RyaW5nfX1cbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlZGl0b3JXcmFwcGVyOiBcImNvZGV4LWVkaXRvclwiLFxuICAgICAgZWRpdG9yWm9uZTogXCJjb2RleC1lZGl0b3JfX3JlZGFjdG9yXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlbGVjdGVkIGFuY2hvclxuICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvcnUvZG9jcy9XZWIvQVBJL1NlbGVjdGlvbi9hbmNob3JOb2RlfVxuICAgKlxuICAgKiBAcmV0dXJucyB7Tm9kZXxudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldCBhbmNob3JOb2RlKCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIGUgPyBlLmFuY2hvck5vZGUgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlbGVjdGVkIGFuY2hvciBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGFuY2hvckVsZW1lbnQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB0ID0gZS5hbmNob3JOb2RlO1xuICAgIHJldHVybiB0ID8gZC5pc0VsZW1lbnQodCkgPyB0IDogdC5wYXJlbnRFbGVtZW50IDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzZWxlY3Rpb24gb2Zmc2V0IGFjY29yZGluZyB0byB0aGUgYW5jaG9yIG5vZGVcbiAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0FQSS9TZWxlY3Rpb24vYW5jaG9yT2Zmc2V0fVxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGFuY2hvck9mZnNldCgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiBlID8gZS5hbmNob3JPZmZzZXQgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBJcyBjdXJyZW50IHNlbGVjdGlvbiByYW5nZSBjb2xsYXBzZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW58bnVsbH1cbiAgICovXG4gIHN0YXRpYyBnZXQgaXNDb2xsYXBzZWQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gZSA/IGUuaXNDb2xsYXBzZWQgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBjdXJyZW50IHNlbGVjdGlvbiBpZiBpdCBpcyBhdCBFZGl0b3IncyB6b25lXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc0F0RWRpdG9yKCkge1xuICAgIHJldHVybiB0aGlzLmlzU2VsZWN0aW9uQXRFZGl0b3IoYi5nZXQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBzZWxlY3Rpb24gaXMgYXQgRWRpdG9yJ3Mgem9uZVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gU2VsZWN0aW9uIG9iamVjdCB0byBjaGVja1xuICAgKi9cbiAgc3RhdGljIGlzU2VsZWN0aW9uQXRFZGl0b3IoZSkge1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybiAhMTtcbiAgICBsZXQgdCA9IGUuYW5jaG9yTm9kZSB8fCBlLmZvY3VzTm9kZTtcbiAgICB0ICYmIHQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmICh0ID0gdC5wYXJlbnROb2RlKTtcbiAgICBsZXQgbyA9IG51bGw7XG4gICAgcmV0dXJuIHQgJiYgdCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgKG8gPSB0LmNsb3Nlc3QoYC4ke2IuQ1NTLmVkaXRvclpvbmV9YCkpLCBvID8gby5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgOiAhMTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIHJhbmdlIGF0IEVkaXRvciB6b25lXG4gICAqXG4gICAqIEBwYXJhbSByYW5nZSAtIHJhbmdlIHRvIGNoZWNrXG4gICAqL1xuICBzdGF0aWMgaXNSYW5nZUF0RWRpdG9yKGUpIHtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm47XG4gICAgbGV0IHQgPSBlLnN0YXJ0Q29udGFpbmVyO1xuICAgIHQgJiYgdC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgJiYgKHQgPSB0LnBhcmVudE5vZGUpO1xuICAgIGxldCBvID0gbnVsbDtcbiAgICByZXR1cm4gdCAmJiB0IGluc3RhbmNlb2YgRWxlbWVudCAmJiAobyA9IHQuY2xvc2VzdChgLiR7Yi5DU1MuZWRpdG9yWm9uZX1gKSksIG8gPyBvLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2RzIHJldHVybiBib29sZWFuIHRoYXQgdHJ1ZSBpZiBzZWxlY3Rpb24gZXhpc3RzIG9uIHRoZSBwYWdlXG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzU2VsZWN0aW9uRXhpc3RzKCkge1xuICAgIHJldHVybiAhIWIuZ2V0KCkuYW5jaG9yTm9kZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGZpcnN0IHJhbmdlXG4gICAqXG4gICAqIEByZXR1cm5zIHtSYW5nZXxudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldCByYW5nZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSYW5nZUZyb21TZWxlY3Rpb24odGhpcy5nZXQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcmFuZ2UgZnJvbSBwYXNzZWQgU2VsZWN0aW9uIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gU2VsZWN0aW9uIG9iamVjdCB0byBnZXQgUmFuZ2UgZnJvbVxuICAgKi9cbiAgc3RhdGljIGdldFJhbmdlRnJvbVNlbGVjdGlvbihlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS5yYW5nZUNvdW50ID8gZS5nZXRSYW5nZUF0KDApIDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyBwb3NpdGlvbiBhbmQgc2l6ZSBvZiBzZWxlY3RlZCB0ZXh0XG4gICAqXG4gICAqIEByZXR1cm5zIHtET01SZWN0IHwgQ2xpZW50UmVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgcmVjdCgpIHtcbiAgICBsZXQgZSA9IGRvY3VtZW50LnNlbGVjdGlvbiwgdCwgbyA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgIGlmIChlICYmIGUudHlwZSAhPT0gXCJDb250cm9sXCIpXG4gICAgICByZXR1cm4gZSA9IGUsIHQgPSBlLmNyZWF0ZVJhbmdlKCksIG8ueCA9IHQuYm91bmRpbmdMZWZ0LCBvLnkgPSB0LmJvdW5kaW5nVG9wLCBvLndpZHRoID0gdC5ib3VuZGluZ1dpZHRoLCBvLmhlaWdodCA9IHQuYm91bmRpbmdIZWlnaHQsIG87XG4gICAgaWYgKCF3aW5kb3cuZ2V0U2VsZWN0aW9uKVxuICAgICAgcmV0dXJuIEkoXCJNZXRob2Qgd2luZG93LmdldFNlbGVjdGlvbiBpcyBub3Qgc3VwcG9ydGVkXCIsIFwid2FyblwiKSwgbztcbiAgICBpZiAoZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgZS5yYW5nZUNvdW50ID09PSBudWxsIHx8IGlzTmFOKGUucmFuZ2VDb3VudCkpXG4gICAgICByZXR1cm4gSShcIk1ldGhvZCBTZWxlY3Rpb25VdGlscy5yYW5nZUNvdW50IGlzIG5vdCBzdXBwb3J0ZWRcIiwgXCJ3YXJuXCIpLCBvO1xuICAgIGlmIChlLnJhbmdlQ291bnQgPT09IDApXG4gICAgICByZXR1cm4gbztcbiAgICBpZiAodCA9IGUuZ2V0UmFuZ2VBdCgwKS5jbG9uZVJhbmdlKCksIHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIChvID0gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksIG8ueCA9PT0gMCAmJiBvLnkgPT09IDApIHtcbiAgICAgIGNvbnN0IGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIGlmIChpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkge1xuICAgICAgICBpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwi4oCLXCIpKSwgdC5pbnNlcnROb2RlKGkpLCBvID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgcyA9IGkucGFyZW50Tm9kZTtcbiAgICAgICAgcy5yZW1vdmVDaGlsZChpKSwgcy5ub3JtYWxpemUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG87XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc2VsZWN0ZWQgdGV4dCBhcyBTdHJpbmdcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBnZXQgdGV4dCgpIHtcbiAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbiA/IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpIDogXCJcIjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB3aW5kb3cgU2VsZWN0aW9uVXRpbHNcbiAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0FQSS9XaW5kb3cvZ2V0U2VsZWN0aW9ufVxuICAgKlxuICAgKiBAcmV0dXJucyB7U2VsZWN0aW9ufVxuICAgKi9cbiAgc3RhdGljIGdldCgpIHtcbiAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgZm9jdXMgdG8gY29udGVudGVkaXRhYmxlIG9yIG5hdGl2ZSBpbnB1dCBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gZWxlbWVudCB3aGVyZSB0byBzZXQgZm9jdXNcbiAgICogQHBhcmFtIG9mZnNldCAtIG9mZnNldCBvZiBjdXJzb3JcbiAgICovXG4gIHN0YXRpYyBzZXRDdXJzb3IoZSwgdCA9IDApIHtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwgaSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gZC5pc05hdGl2ZUlucHV0KGUpID8gZC5jYW5TZXRDYXJldChlKSA/IChlLmZvY3VzKCksIGUuc2VsZWN0aW9uU3RhcnQgPSBlLnNlbGVjdGlvbkVuZCA9IHQsIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpIDogdm9pZCAwIDogKG8uc2V0U3RhcnQoZSwgdCksIG8uc2V0RW5kKGUsIHQpLCBpLnJlbW92ZUFsbFJhbmdlcygpLCBpLmFkZFJhbmdlKG8pLCBvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgY3VycmVudCByYW5nZSBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29udGFpbmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSB3aGVyZSByYW5nZSBzaG91bGQgYmVcbiAgICovXG4gIHN0YXRpYyBpc1JhbmdlSW5zaWRlQ29udGFpbmVyKGUpIHtcbiAgICBjb25zdCB0ID0gYi5yYW5nZTtcbiAgICByZXR1cm4gdCA9PT0gbnVsbCA/ICExIDogZS5jb250YWlucyh0LnN0YXJ0Q29udGFpbmVyKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBmYWtlIGN1cnNvciB0byB0aGUgY3VycmVudCByYW5nZVxuICAgKi9cbiAgc3RhdGljIGFkZEZha2VDdXJzb3IoKSB7XG4gICAgY29uc3QgZSA9IGIucmFuZ2U7XG4gICAgaWYgKGUgPT09IG51bGwpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGQubWFrZShcInNwYW5cIiwgXCJjb2RleC1lZGl0b3JfX2Zha2UtY3Vyc29yXCIpO1xuICAgIHQuZGF0YXNldC5tdXRhdGlvbkZyZWUgPSBcInRydWVcIiwgZS5jb2xsYXBzZSgpLCBlLmluc2VydE5vZGUodCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBlbGVtZW50IGNvbnRhaW5zIGEgZmFrZSBjdXJzb3JcbiAgICpcbiAgICogQHBhcmFtIGVsIC0gd2hlcmUgdG8gY2hlY2tcbiAgICovXG4gIHN0YXRpYyBpc0Zha2VDdXJzb3JJbnNpZGVDb250YWluZXIoZSkge1xuICAgIHJldHVybiBkLmZpbmQoZSwgXCIuY29kZXgtZWRpdG9yX19mYWtlLWN1cnNvclwiKSAhPT0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmYWtlIGN1cnNvciBmcm9tIGEgY29udGFpbmVyXG4gICAqXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSBjb250YWluZXIgdG8gbG9vayBmb3JcbiAgICovXG4gIHN0YXRpYyByZW1vdmVGYWtlQ3Vyc29yKGUgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgY29uc3QgdCA9IGQuZmluZChlLCBcIi5jb2RleC1lZGl0b3JfX2Zha2UtY3Vyc29yXCIpO1xuICAgIHQgJiYgdC5yZW1vdmUoKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmYWtlIGJhY2tncm91bmRcbiAgICovXG4gIHJlbW92ZUZha2VCYWNrZ3JvdW5kKCkge1xuICAgIHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgJiYgKHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgPSAhMSwgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kUmVtb3ZlRm9ybWF0KSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgZmFrZSBiYWNrZ3JvdW5kXG4gICAqL1xuICBzZXRGYWtlQmFja2dyb3VuZCgpIHtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmRCYWNrZ3JvdW5kLCAhMSwgXCIjYThkNmZmXCIpLCB0aGlzLmlzRmFrZUJhY2tncm91bmRFbmFibGVkID0gITA7XG4gIH1cbiAgLyoqXG4gICAqIFNhdmUgU2VsZWN0aW9uVXRpbHMncyByYW5nZVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICB0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UgPSBiLnJhbmdlO1xuICB9XG4gIC8qKlxuICAgKiBSZXN0b3JlIHNhdmVkIFNlbGVjdGlvblV0aWxzJ3MgcmFuZ2VcbiAgICovXG4gIHJlc3RvcmUoKSB7XG4gICAgaWYgKCF0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBlLnJlbW92ZUFsbFJhbmdlcygpLCBlLmFkZFJhbmdlKHRoaXMuc2F2ZWRTZWxlY3Rpb25SYW5nZSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBzYXZlZCBzZWxlY3Rpb25cbiAgICovXG4gIGNsZWFyU2F2ZWQoKSB7XG4gICAgdGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ29sbGFwc2UgY3VycmVudCBzZWxlY3Rpb25cbiAgICovXG4gIGNvbGxhcHNlVG9FbmQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgdCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgdC5zZWxlY3ROb2RlQ29udGVudHMoZS5mb2N1c05vZGUpLCB0LmNvbGxhcHNlKCExKSwgZS5yZW1vdmVBbGxSYW5nZXMoKSwgZS5hZGRSYW5nZSh0KTtcbiAgfVxuICAvKipcbiAgICogTG9va3MgYWhlYWQgdG8gZmluZCBwYXNzZWQgdGFnIGZyb20gY3VycmVudCBzZWxlY3Rpb25cbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YWdOYW1lICAgICAgIC0gdGFnIHRvIGZvdW5kXG4gICAqIEBwYXJhbSAge3N0cmluZ30gW2NsYXNzTmFtZV0gICAtIHRhZydzIGNsYXNzIG5hbWVcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbc2VhcmNoRGVwdGhdIC0gY291bnQgb2YgdGFncyB0aGF0IGNhbiBiZSBpbmNsdWRlZC4gRm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG4gICAqL1xuICBmaW5kUGFyZW50VGFnKGUsIHQsIG8gPSAxMCkge1xuICAgIGNvbnN0IGkgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgbGV0IHMgPSBudWxsO1xuICAgIHJldHVybiAhaSB8fCAhaS5hbmNob3JOb2RlIHx8ICFpLmZvY3VzTm9kZSA/IG51bGwgOiAoW1xuICAgICAgLyoqIHRoZSBOb2RlIGluIHdoaWNoIHRoZSBzZWxlY3Rpb24gYmVnaW5zICovXG4gICAgICBpLmFuY2hvck5vZGUsXG4gICAgICAvKiogdGhlIE5vZGUgaW4gd2hpY2ggdGhlIHNlbGVjdGlvbiBlbmRzICovXG4gICAgICBpLmZvY3VzTm9kZVxuICAgIF0uZm9yRWFjaCgobCkgPT4ge1xuICAgICAgbGV0IGEgPSBvO1xuICAgICAgZm9yICg7IGEgPiAwICYmIGwucGFyZW50Tm9kZSAmJiAhKGwudGFnTmFtZSA9PT0gZSAmJiAocyA9IGwsIHQgJiYgbC5jbGFzc0xpc3QgJiYgIWwuY2xhc3NMaXN0LmNvbnRhaW5zKHQpICYmIChzID0gbnVsbCksIHMpKTsgKVxuICAgICAgICBsID0gbC5wYXJlbnROb2RlLCBhLS07XG4gICAgfSksIHMpO1xuICB9XG4gIC8qKlxuICAgKiBFeHBhbmRzIHNlbGVjdGlvbiByYW5nZSB0byB0aGUgcGFzc2VkIHBhcmVudCBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHdoaWNoIGNvbnRlbnRzIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgKi9cbiAgZXhwYW5kVG9UYWcoZSkge1xuICAgIGNvbnN0IHQgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgdC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBvLnNlbGVjdE5vZGVDb250ZW50cyhlKSwgdC5hZGRSYW5nZShvKTtcbiAgfVxufVxuZnVuY3Rpb24gRm8obiwgZSkge1xuICBjb25zdCB7IHR5cGU6IHQsIHRhcmdldDogbywgYWRkZWROb2RlczogaSwgcmVtb3ZlZE5vZGVzOiBzIH0gPSBuO1xuICByZXR1cm4gbi50eXBlID09PSBcImF0dHJpYnV0ZXNcIiAmJiBuLmF0dHJpYnV0ZU5hbWUgPT09IFwiZGF0YS1lbXB0eVwiID8gITEgOiAhIShlLmNvbnRhaW5zKG8pIHx8IHQgPT09IFwiY2hpbGRMaXN0XCIgJiYgKEFycmF5LmZyb20oaSkuc29tZSgoYSkgPT4gYSA9PT0gZSkgfHwgQXJyYXkuZnJvbShzKS5zb21lKChhKSA9PiBhID09PSBlKSkpO1xufVxuY29uc3QgSmUgPSBcInJlZGFjdG9yIGRvbSBjaGFuZ2VkXCIsIER0ID0gXCJibG9jayBjaGFuZ2VkXCIsIFJ0ID0gXCJmYWtlIGN1cnNvciBpcyBhYm91dCB0byBiZSB0b2dnbGVkXCIsIEZ0ID0gXCJmYWtlIGN1cnNvciBoYXZlIGJlZW4gc2V0XCIsIHllID0gXCJlZGl0b3IgbW9iaWxlIGxheW91dCB0b2dnbGVkXCI7XG5mdW5jdGlvbiBRZShuLCBlKSB7XG4gIGlmICghbi5jb252ZXJzaW9uQ29uZmlnKVxuICAgIHJldHVybiAhMTtcbiAgY29uc3QgdCA9IG4uY29udmVyc2lvbkNvbmZpZ1tlXTtcbiAgcmV0dXJuIE8odCkgfHwgUSh0KTtcbn1cbmZ1bmN0aW9uIF9lKG4sIGUpIHtcbiAgcmV0dXJuIFFlKG4udG9vbCwgZSk7XG59XG5mdW5jdGlvbiBIdChuLCBlKSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhuKS5zb21lKChbdCwgb10pID0+IGVbdF0gJiYgT28oZVt0XSwgbykpO1xufVxuYXN5bmMgZnVuY3Rpb24genQobiwgZSkge1xuICBjb25zdCBvID0gKGF3YWl0IG4uc2F2ZSgpKS5kYXRhLCBpID0gZS5maW5kKChzKSA9PiBzLm5hbWUgPT09IG4ubmFtZSk7XG4gIHJldHVybiBpICE9PSB2b2lkIDAgJiYgIVFlKGksIFwiZXhwb3J0XCIpID8gW10gOiBlLnJlZHVjZSgocywgcikgPT4ge1xuICAgIGlmICghUWUociwgXCJpbXBvcnRcIikgfHwgci50b29sYm94ID09PSB2b2lkIDApXG4gICAgICByZXR1cm4gcztcbiAgICBjb25zdCBsID0gci50b29sYm94LmZpbHRlcigoYSkgPT4ge1xuICAgICAgaWYgKFYoYSkgfHwgYS5pY29uID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIGlmIChhLmRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICBpZiAoSHQoYS5kYXRhLCBvKSlcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICB9IGVsc2UgaWYgKHIubmFtZSA9PT0gbi5uYW1lKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICByZXR1cm4gITA7XG4gICAgfSk7XG4gICAgcmV0dXJuIHMucHVzaCh7XG4gICAgICAuLi5yLFxuICAgICAgdG9vbGJveDogbFxuICAgIH0pLCBzO1xuICB9LCBbXSk7XG59XG5mdW5jdGlvbiB3dChuLCBlKSB7XG4gIHJldHVybiBuLm1lcmdlYWJsZSA/IG4ubmFtZSA9PT0gZS5uYW1lID8gITAgOiBfZShlLCBcImV4cG9ydFwiKSAmJiBfZShuLCBcImltcG9ydFwiKSA6ICExO1xufVxuZnVuY3Rpb24gSG8obiwgZSkge1xuICBjb25zdCB0ID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS5leHBvcnQ7XG4gIHJldHVybiBPKHQpID8gdChuKSA6IFEodCkgPyBuW3RdIDogKHQgIT09IHZvaWQgMCAmJiBJKFwiQ29udmVyc2lvbiDCq2V4cG9ydMK7IHByb3BlcnR5IG11c3QgYmUgYSBzdHJpbmcgb3IgZnVuY3Rpb24uIFN0cmluZyBtZWFucyBrZXkgb2Ygc2F2ZWQgZGF0YSBvYmplY3QgdG8gZXhwb3J0LiBGdW5jdGlvbiBzaG91bGQgZXhwb3J0IHByb2Nlc3NlZCBzdHJpbmcgdG8gZXhwb3J0LlwiKSwgXCJcIik7XG59XG5mdW5jdGlvbiB4dChuLCBlKSB7XG4gIGNvbnN0IHQgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLmltcG9ydDtcbiAgcmV0dXJuIE8odCkgPyB0KG4pIDogUSh0KSA/IHtcbiAgICBbdF06IG5cbiAgfSA6ICh0ICE9PSB2b2lkIDAgJiYgSShcIkNvbnZlcnNpb24gwqtpbXBvcnTCuyBwcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nIG9yIGZ1bmN0aW9uLiBTdHJpbmcgbWVhbnMga2V5IG9mIHRvb2wgZGF0YSB0byBpbXBvcnQuIEZ1bmN0aW9uIGFjY2VwdHMgYSBpbXBvcnRlZCBzdHJpbmcgYW5kIHJldHVybiBjb21wb3NlZCB0b29sIGRhdGEuXCIpLCB7fSk7XG59XG52YXIgQSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLkRlZmF1bHQgPSBcImRlZmF1bHRcIiwgbi5TZXBhcmF0b3IgPSBcInNlcGFyYXRvclwiLCBuLkh0bWwgPSBcImh0bWxcIiwgbikpKEEgfHwge30pLCBKID0gLyogQF9fUFVSRV9fICovICgobikgPT4gKG4uQVBQRU5EX0NBTExCQUNLID0gXCJhcHBlbmRDYWxsYmFja1wiLCBuLlJFTkRFUkVEID0gXCJyZW5kZXJlZFwiLCBuLk1PVkVEID0gXCJtb3ZlZFwiLCBuLlVQREFURUQgPSBcInVwZGF0ZWRcIiwgbi5SRU1PVkVEID0gXCJyZW1vdmVkXCIsIG4uT05fUEFTVEUgPSBcIm9uUGFzdGVcIiwgbikpKEogfHwge30pO1xuY2xhc3MgRCBleHRlbmRzIFRlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYmxvY2sgY29uc3RydWN0b3Igb3B0aW9uc1xuICAgKiBAcGFyYW0gW29wdGlvbnMuaWRdIC0gYmxvY2sncyBpZC4gV2lsbCBiZSBnZW5lcmF0ZWQgaWYgb21pdHRlZC5cbiAgICogQHBhcmFtIG9wdGlvbnMuZGF0YSAtIFRvb2wncyBpbml0aWFsIGRhdGFcbiAgICogQHBhcmFtIG9wdGlvbnMudG9vbCDigJQgYmxvY2sncyB0b29sXG4gICAqIEBwYXJhbSBvcHRpb25zLmFwaSAtIEVkaXRvciBBUEkgbW9kdWxlIGZvciBwYXNzIGl0IHRvIHRoZSBCbG9jayBUdW5lc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5yZWFkT25seSAtIFJlYWQtT25seSBmbGFnXG4gICAqIEBwYXJhbSBbZXZlbnRCdXNdIC0gRWRpdG9yIGNvbW1vbiBldmVudCBidXMuIEFsbG93cyB0byBzdWJzY3JpYmUgb24gc29tZSBFZGl0b3IgZXZlbnRzLiBDb3VsZCBiZSBvbWl0dGVkIHdoZW4gXCJ2aXJ0dWFsXCIgQmxvY2sgaXMgY3JlYXRlZC4gU2VlIEJsb2Nrc0FQSUBjb21wb3NlQmxvY2tEYXRhLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGlkOiBlID0gSW8oKSxcbiAgICBkYXRhOiB0LFxuICAgIHRvb2w6IG8sXG4gICAgcmVhZE9ubHk6IGksXG4gICAgdHVuZXNEYXRhOiBzXG4gIH0sIHIpIHtcbiAgICBzdXBlcigpLCB0aGlzLmNhY2hlZElucHV0cyA9IFtdLCB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQgPSBudWxsLCB0aGlzLnR1bmVzSW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5kZWZhdWx0VHVuZXNJbnN0YW5jZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLnVuYXZhaWxhYmxlVHVuZXNEYXRhID0ge30sIHRoaXMuaW5wdXRJbmRleCA9IDAsIHRoaXMuZWRpdG9yRXZlbnRCdXMgPSBudWxsLCB0aGlzLmhhbmRsZUZvY3VzID0gKCkgPT4ge1xuICAgICAgdGhpcy5kcm9wSW5wdXRzQ2FjaGUoKSwgdGhpcy51cGRhdGVDdXJyZW50SW5wdXQoKTtcbiAgICB9LCB0aGlzLmRpZE11dGF0ZWQgPSAobCA9IHZvaWQgMCkgPT4ge1xuICAgICAgY29uc3QgYSA9IGwgPT09IHZvaWQgMCwgYyA9IGwgaW5zdGFuY2VvZiBJbnB1dEV2ZW50O1xuICAgICAgIWEgJiYgIWMgJiYgdGhpcy5kZXRlY3RUb29sUm9vdENoYW5nZShsKTtcbiAgICAgIGxldCB1O1xuICAgICAgYSB8fCBjID8gdSA9ICEwIDogdSA9ICEobC5sZW5ndGggPiAwICYmIGwuZXZlcnkoKHApID0+IHtcbiAgICAgICAgY29uc3QgeyBhZGRlZE5vZGVzOiBnLCByZW1vdmVkTm9kZXM6IGYsIHRhcmdldDogayB9ID0gcDtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAuLi5BcnJheS5mcm9tKGcpLFxuICAgICAgICAgIC4uLkFycmF5LmZyb20oZiksXG4gICAgICAgICAga1xuICAgICAgICBdLnNvbWUoKFMpID0+IChkLmlzRWxlbWVudChTKSB8fCAoUyA9IFMucGFyZW50RWxlbWVudCksIFMgJiYgUy5jbG9zZXN0KCdbZGF0YS1tdXRhdGlvbi1mcmVlPVwidHJ1ZVwiXScpICE9PSBudWxsKSk7XG4gICAgICB9KSksIHUgJiYgKHRoaXMuZHJvcElucHV0c0NhY2hlKCksIHRoaXMudXBkYXRlQ3VycmVudElucHV0KCksIHRoaXMudG9nZ2xlSW5wdXRzRW1wdHlNYXJrKCksIHRoaXMuY2FsbChcbiAgICAgICAgXCJ1cGRhdGVkXCJcbiAgICAgICAgLyogVVBEQVRFRCAqL1xuICAgICAgKSwgdGhpcy5lbWl0KFwiZGlkTXV0YXRlZFwiLCB0aGlzKSk7XG4gICAgfSwgdGhpcy5uYW1lID0gby5uYW1lLCB0aGlzLmlkID0gZSwgdGhpcy5zZXR0aW5ncyA9IG8uc2V0dGluZ3MsIHRoaXMuY29uZmlnID0gby5zZXR0aW5ncy5jb25maWcgfHwge30sIHRoaXMuZWRpdG9yRXZlbnRCdXMgPSByIHx8IG51bGwsIHRoaXMuYmxvY2tBUEkgPSBuZXcgRyh0aGlzKSwgdGhpcy50b29sID0gbywgdGhpcy50b29sSW5zdGFuY2UgPSBvLmNyZWF0ZSh0LCB0aGlzLmJsb2NrQVBJLCBpKSwgdGhpcy50dW5lcyA9IG8udHVuZXMsIHRoaXMuY29tcG9zZVR1bmVzKHMpLCB0aGlzLmhvbGRlciA9IHRoaXMuY29tcG9zZSgpLCB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICB0aGlzLndhdGNoQmxvY2tNdXRhdGlvbnMoKSwgdGhpcy5hZGRJbnB1dEV2ZW50cygpLCB0aGlzLnRvZ2dsZUlucHV0c0VtcHR5TWFyaygpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDU1MgY2xhc3NlcyBmb3IgdGhlIEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHt7d3JhcHBlcjogc3RyaW5nLCBjb250ZW50OiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyYXBwZXI6IFwiY2UtYmxvY2tcIixcbiAgICAgIHdyYXBwZXJTdHJldGNoZWQ6IFwiY2UtYmxvY2stLXN0cmV0Y2hlZFwiLFxuICAgICAgY29udGVudDogXCJjZS1ibG9ja19fY29udGVudFwiLFxuICAgICAgc2VsZWN0ZWQ6IFwiY2UtYmxvY2stLXNlbGVjdGVkXCIsXG4gICAgICBkcm9wVGFyZ2V0OiBcImNlLWJsb2NrLS1kcm9wLXRhcmdldFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRmluZCBhbmQgcmV0dXJuIGFsbCBlZGl0YWJsZSBlbGVtZW50cyAoY29udGVudGVkaXRhYmxlIGFuZCBuYXRpdmUgaW5wdXRzKSBpbiB0aGUgVG9vbCBIVE1MXG4gICAqL1xuICBnZXQgaW5wdXRzKCkge1xuICAgIGlmICh0aGlzLmNhY2hlZElucHV0cy5sZW5ndGggIT09IDApXG4gICAgICByZXR1cm4gdGhpcy5jYWNoZWRJbnB1dHM7XG4gICAgY29uc3QgZSA9IGQuZmluZEFsbElucHV0cyh0aGlzLmhvbGRlcik7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRJbmRleCA+IGUubGVuZ3RoIC0gMSAmJiAodGhpcy5pbnB1dEluZGV4ID0gZS5sZW5ndGggLSAxKSwgdGhpcy5jYWNoZWRJbnB1dHMgPSBlLCBlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gY3VycmVudCBUb29sYHMgaW5wdXRcbiAgICogSWYgQmxvY2sgZG9lc24ndCBjb250YWluIGlucHV0cywgcmV0dXJuIHVuZGVmaW5lZFxuICAgKi9cbiAgZ2V0IGN1cnJlbnRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dHNbdGhpcy5pbnB1dEluZGV4XTtcbiAgfVxuICAvKipcbiAgICogU2V0IGlucHV0IGluZGV4IHRvIHRoZSBwYXNzZWQgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCAtIEhUTUwgRWxlbWVudCB0byBzZXQgYXMgY3VycmVudCBpbnB1dFxuICAgKi9cbiAgc2V0IGN1cnJlbnRJbnB1dChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuaW5wdXRzLmZpbmRJbmRleCgobykgPT4gbyA9PT0gZSB8fCBvLmNvbnRhaW5zKGUpKTtcbiAgICB0ICE9PSAtMSAmJiAodGhpcy5pbnB1dEluZGV4ID0gdCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBmaXJzdCBUb29sYHMgaW5wdXRcbiAgICogSWYgQmxvY2sgZG9lc24ndCBjb250YWluIGlucHV0cywgcmV0dXJuIHVuZGVmaW5lZFxuICAgKi9cbiAgZ2V0IGZpcnN0SW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzWzBdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZmlyc3QgVG9vbGBzIGlucHV0XG4gICAqIElmIEJsb2NrIGRvZXNuJ3QgY29udGFpbiBpbnB1dHMsIHJldHVybiB1bmRlZmluZWRcbiAgICovXG4gIGdldCBsYXN0SW5wdXQoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuaW5wdXRzO1xuICAgIHJldHVybiBlW2UubGVuZ3RoIC0gMV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBuZXh0IFRvb2xgcyBpbnB1dCBvciB1bmRlZmluZWQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgKiBJZiBCbG9jayBkb2Vzbid0IGNvbnRhaW4gaW5wdXRzLCByZXR1cm4gdW5kZWZpbmVkXG4gICAqL1xuICBnZXQgbmV4dElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0c1t0aGlzLmlucHV0SW5kZXggKyAxXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHByZXZpb3VzIFRvb2xgcyBpbnB1dCBvciB1bmRlZmluZWQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgKiBJZiBCbG9jayBkb2Vzbid0IGNvbnRhaW4gaW5wdXRzLCByZXR1cm4gdW5kZWZpbmVkXG4gICAqL1xuICBnZXQgcHJldmlvdXNJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dHNbdGhpcy5pbnB1dEluZGV4IC0gMV07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBCbG9jaydzIEpTT04gZGF0YVxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2F2ZSgpLnRoZW4oKGUpID0+IGUgJiYgIVYoZS5kYXRhKSA/IGUuZGF0YSA6IHt9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0b29sJ3Mgc2FuaXRpemVyIGNvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2wuc2FuaXRpemVDb25maWc7XG4gIH1cbiAgLyoqXG4gICAqIGlzIGJsb2NrIG1lcmdlYWJsZVxuICAgKiBXZSBwbHVnaW4gaGF2ZSBtZXJnZSBmdW5jdGlvbiB0aGVuIHdlIGNhbGwgaXQgbWVyZ2VhYmxlXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IG1lcmdlYWJsZSgpIHtcbiAgICByZXR1cm4gTyh0aGlzLnRvb2xJbnN0YW5jZS5tZXJnZSk7XG4gIH1cbiAgLyoqXG4gICAqIElmIEJsb2NrIGNvbnRhaW5zIGlucHV0cywgaXQgaXMgZm9jdXNhYmxlXG4gICAqL1xuICBnZXQgZm9jdXNhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0cy5sZW5ndGggIT09IDA7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGJsb2NrIGZvciBlbXB0aW5lc3NcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNFbXB0eSgpIHtcbiAgICBjb25zdCBlID0gZC5pc0VtcHR5KHRoaXMucGx1Z2luc0NvbnRlbnQsIFwiL1wiKSwgdCA9ICF0aGlzLmhhc01lZGlhO1xuICAgIHJldHVybiBlICYmIHQ7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGJsb2NrIGhhcyBhIG1lZGlhIGNvbnRlbnQgc3VjaCBhcyBpbWFnZXMsIGlmcmFtZSBhbmQgb3RoZXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaGFzTWVkaWEoKSB7XG4gICAgY29uc3QgZSA9IFtcbiAgICAgIFwiaW1nXCIsXG4gICAgICBcImlmcmFtZVwiLFxuICAgICAgXCJ2aWRlb1wiLFxuICAgICAgXCJhdWRpb1wiLFxuICAgICAgXCJzb3VyY2VcIixcbiAgICAgIFwiaW5wdXRcIixcbiAgICAgIFwidGV4dGFyZWFcIixcbiAgICAgIFwidHdpdHRlcndpZGdldFwiXG4gICAgXTtcbiAgICByZXR1cm4gISF0aGlzLmhvbGRlci5xdWVyeVNlbGVjdG9yKGUuam9pbihcIixcIikpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgc2VsZWN0ZWQgc3RhdGVcbiAgICogV2UgZG9uJ3QgbmVlZCB0byBtYXJrIEJsb2NrIGFzIFNlbGVjdGVkIHdoZW4gaXQgaXMgZW1wdHlcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtICd0cnVlJyB0byBzZWxlY3QsICdmYWxzZScgdG8gcmVtb3ZlIHNlbGVjdGlvblxuICAgKi9cbiAgc2V0IHNlbGVjdGVkKGUpIHtcbiAgICB2YXIgaSwgcztcbiAgICB0aGlzLmhvbGRlci5jbGFzc0xpc3QudG9nZ2xlKEQuQ1NTLnNlbGVjdGVkLCBlKTtcbiAgICBjb25zdCB0ID0gZSA9PT0gITAgJiYgYi5pc1JhbmdlSW5zaWRlQ29udGFpbmVyKHRoaXMuaG9sZGVyKSwgbyA9IGUgPT09ICExICYmIGIuaXNGYWtlQ3Vyc29ySW5zaWRlQ29udGFpbmVyKHRoaXMuaG9sZGVyKTtcbiAgICAodCB8fCBvKSAmJiAoKGkgPSB0aGlzLmVkaXRvckV2ZW50QnVzKSA9PSBudWxsIHx8IGkuZW1pdChSdCwgeyBzdGF0ZTogZSB9KSwgdCA/IGIuYWRkRmFrZUN1cnNvcigpIDogYi5yZW1vdmVGYWtlQ3Vyc29yKHRoaXMuaG9sZGVyKSwgKHMgPSB0aGlzLmVkaXRvckV2ZW50QnVzKSA9PSBudWxsIHx8IHMuZW1pdChGdCwgeyBzdGF0ZTogZSB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVHJ1ZSBpZiBpdCBpcyBTZWxlY3RlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBzZWxlY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob2xkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKEQuQ1NTLnNlbGVjdGVkKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHN0cmV0Y2hlZCBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gJ3RydWUnIHRvIGVuYWJsZSwgJ2ZhbHNlJyB0byBkaXNhYmxlIHN0cmV0Y2hlZCBzdGF0ZVxuICAgKi9cbiAgc2V0IHN0cmV0Y2hlZChlKSB7XG4gICAgdGhpcy5ob2xkZXIuY2xhc3NMaXN0LnRvZ2dsZShELkNTUy53cmFwcGVyU3RyZXRjaGVkLCBlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIEJsb2NrJ3Mgc3RyZXRjaGVkIHN0YXRlXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IHN0cmV0Y2hlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob2xkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKEQuQ1NTLndyYXBwZXJTdHJldGNoZWQpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgZHJvcCB0YXJnZXQgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtICd0cnVlJyBpZiBibG9jayBpcyBkcm9wIHRhcmdldCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBzZXQgZHJvcFRhcmdldChlKSB7XG4gICAgdGhpcy5ob2xkZXIuY2xhc3NMaXN0LnRvZ2dsZShELkNTUy5kcm9wVGFyZ2V0LCBlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBQbHVnaW5zIGNvbnRlbnRcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0IHBsdWdpbnNDb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxzIFRvb2wncyBtZXRob2RcbiAgICpcbiAgICogTWV0aG9kIGNoZWNrcyB0b29sIHByb3BlcnR5IHtNZXRob2ROYW1lfS4gRmlyZXMgbWV0aG9kIHdpdGggcGFzc2VzIHBhcmFtcyBJZiBpdCBpcyBpbnN0YW5jZSBvZiBGdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSAtIG1ldGhvZCB0byBjYWxsXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSBtZXRob2QgYXJndW1lbnRcbiAgICovXG4gIGNhbGwoZSwgdCkge1xuICAgIGlmIChPKHRoaXMudG9vbEluc3RhbmNlW2VdKSkge1xuICAgICAgZSA9PT0gXCJhcHBlbmRDYWxsYmFja1wiICYmIEkoXG4gICAgICAgIFwiYGFwcGVuZENhbGxiYWNrYCBob29rIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLiBVc2UgYHJlbmRlcmVkYCBob29rIGluc3RlYWRcIixcbiAgICAgICAgXCJ3YXJuXCJcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnRvb2xJbnN0YW5jZVtlXS5jYWxsKHRoaXMudG9vbEluc3RhbmNlLCB0KTtcbiAgICAgIH0gY2F0Y2ggKG8pIHtcbiAgICAgICAgSShgRXJyb3IgZHVyaW5nICcke2V9JyBjYWxsOiAke28ubWVzc2FnZX1gLCBcImVycm9yXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsbCBwbHVnaW5zIG1lcmdlIG1ldGhvZFxuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IGRhdGEgLSBkYXRhIHRvIG1lcmdlXG4gICAqL1xuICBhc3luYyBtZXJnZVdpdGgoZSkge1xuICAgIGF3YWl0IHRoaXMudG9vbEluc3RhbmNlLm1lcmdlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBFeHRyYWN0cyBkYXRhIGZyb20gQmxvY2tcbiAgICogR3JvdXBzIFRvb2wncyBzYXZlIHByb2Nlc3NpbmcgdGltZVxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgYXN5bmMgc2F2ZSgpIHtcbiAgICBjb25zdCBlID0gYXdhaXQgdGhpcy50b29sSW5zdGFuY2Uuc2F2ZSh0aGlzLnBsdWdpbnNDb250ZW50KSwgdCA9IHRoaXMudW5hdmFpbGFibGVUdW5lc0RhdGE7XG4gICAgW1xuICAgICAgLi4udGhpcy50dW5lc0luc3RhbmNlcy5lbnRyaWVzKCksXG4gICAgICAuLi50aGlzLmRlZmF1bHRUdW5lc0luc3RhbmNlcy5lbnRyaWVzKClcbiAgICBdLmZvckVhY2goKFtzLCByXSkgPT4ge1xuICAgICAgaWYgKE8oci5zYXZlKSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0W3NdID0gci5zYXZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGwpIHtcbiAgICAgICAgICBJKGBUdW5lICR7ci5jb25zdHJ1Y3Rvci5uYW1lfSBzYXZlIG1ldGhvZCB0aHJvd3MgYW4gRXJyb3IgJW9gLCBcIndhcm5cIiwgbCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGxldCBpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZSkudGhlbigocykgPT4gKGkgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCksIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgdG9vbDogdGhpcy5uYW1lLFxuICAgICAgZGF0YTogcyxcbiAgICAgIHR1bmVzOiB0LFxuICAgICAgdGltZTogaSAtIG9cbiAgICB9KSkuY2F0Y2goKHMpID0+IHtcbiAgICAgIEkoYFNhdmluZyBwcm9jZXNzIGZvciAke3RoaXMubmFtZX0gdG9vbCBmYWlsZWQgZHVlIHRvIHRoZSAke3N9YCwgXCJsb2dcIiwgXCJyZWRcIik7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFVzZXMgVG9vbCdzIHZhbGlkYXRpb24gbWV0aG9kIHRvIGNoZWNrIHRoZSBjb3JyZWN0bmVzcyBvZiBvdXRwdXQgZGF0YVxuICAgKiBUb29sJ3MgdmFsaWRhdGlvbiBtZXRob2QgaXMgb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCByZXR1cm5zIHRydWV8ZmFsc2Ugd2hldGhlciBkYXRhIHBhc3NlZCB0aGUgdmFsaWRhdGlvbiBvciBub3RcbiAgICogQHBhcmFtIHtCbG9ja1Rvb2xEYXRhfSBkYXRhIC0gZGF0YSB0byB2YWxpZGF0ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gdmFsaWRcbiAgICovXG4gIGFzeW5jIHZhbGlkYXRlKGUpIHtcbiAgICBsZXQgdCA9ICEwO1xuICAgIHJldHVybiB0aGlzLnRvb2xJbnN0YW5jZS52YWxpZGF0ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmICh0ID0gYXdhaXQgdGhpcy50b29sSW5zdGFuY2UudmFsaWRhdGUoZSkpLCB0O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGRhdGEgdG8gcmVuZGVyIGluIEJsb2NrIFR1bmVzIG1lbnUuXG4gICAqIFNwbGl0cyBibG9jayB0dW5lcyBpbnRvIDIgZ3JvdXBzOiBibG9jayBzcGVjaWZpYyB0dW5lcyBhbmQgY29tbW9uIHR1bmVzXG4gICAqL1xuICBnZXRUdW5lcygpIHtcbiAgICBjb25zdCBlID0gW10sIHQgPSBbXSwgbyA9IHR5cGVvZiB0aGlzLnRvb2xJbnN0YW5jZS5yZW5kZXJTZXR0aW5ncyA9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnRvb2xJbnN0YW5jZS5yZW5kZXJTZXR0aW5ncygpIDogW107XG4gICAgcmV0dXJuIGQuaXNFbGVtZW50KG8pID8gZS5wdXNoKHtcbiAgICAgIHR5cGU6IEEuSHRtbCxcbiAgICAgIGVsZW1lbnQ6IG9cbiAgICB9KSA6IEFycmF5LmlzQXJyYXkobykgPyBlLnB1c2goLi4ubykgOiBlLnB1c2gobyksIFtcbiAgICAgIC4uLnRoaXMudHVuZXNJbnN0YW5jZXMudmFsdWVzKCksXG4gICAgICAuLi50aGlzLmRlZmF1bHRUdW5lc0luc3RhbmNlcy52YWx1ZXMoKVxuICAgIF0ubWFwKChzKSA9PiBzLnJlbmRlcigpKS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBkLmlzRWxlbWVudChzKSA/IHQucHVzaCh7XG4gICAgICAgIHR5cGU6IEEuSHRtbCxcbiAgICAgICAgZWxlbWVudDogc1xuICAgICAgfSkgOiBBcnJheS5pc0FycmF5KHMpID8gdC5wdXNoKC4uLnMpIDogdC5wdXNoKHMpO1xuICAgIH0pLCB7XG4gICAgICB0b29sVHVuZXM6IGUsXG4gICAgICBjb21tb25UdW5lczogdFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSBjdXJyZW50IGlucHV0IGluZGV4IHdpdGggc2VsZWN0aW9uIGFuY2hvciBub2RlXG4gICAqL1xuICB1cGRhdGVDdXJyZW50SW5wdXQoKSB7XG4gICAgdGhpcy5jdXJyZW50SW5wdXQgPSBkLmlzTmF0aXZlSW5wdXQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgfHwgIWIuYW5jaG9yTm9kZSA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgOiBiLmFuY2hvck5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93cyB0byBzYXkgRWRpdG9yIHRoYXQgQmxvY2sgd2FzIGNoYW5nZWQuIFVzZWQgdG8gbWFudWFsbHkgdHJpZ2dlciBFZGl0b3IncyAnb25DaGFuZ2UnIGNhbGxiYWNrXG4gICAqIENhbiBiZSB1c2VmdWwgZm9yIGJsb2NrIGNoYW5nZXMgaW52aXNpYmxlIGZvciBlZGl0b3IgY29yZS5cbiAgICovXG4gIGRpc3BhdGNoQ2hhbmdlKCkge1xuICAgIHRoaXMuZGlkTXV0YXRlZCgpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsIFRvb2wgaW5zdGFuY2UgZGVzdHJveSBtZXRob2RcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy51bndhdGNoQmxvY2tNdXRhdGlvbnMoKSwgdGhpcy5yZW1vdmVJbnB1dEV2ZW50cygpLCBzdXBlci5kZXN0cm95KCksIE8odGhpcy50b29sSW5zdGFuY2UuZGVzdHJveSkgJiYgdGhpcy50b29sSW5zdGFuY2UuZGVzdHJveSgpO1xuICB9XG4gIC8qKlxuICAgKiBUb29sIGNvdWxkIHNwZWNpZnkgc2V2ZXJhbCBlbnRyaWVzIHRvIGJlIGRpc3BsYXllZCBhdCB0aGUgVG9vbGJveCAoZm9yIGV4YW1wbGUsIFwiSGVhZGluZyAxXCIsIFwiSGVhZGluZyAyXCIsIFwiSGVhZGluZyAzXCIpXG4gICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVudHJ5IHRoYXQgaXMgcmVsYXRlZCB0byB0aGUgQmxvY2sgKGRlcGVuZGVkIG9uIHRoZSBCbG9jayBkYXRhKVxuICAgKi9cbiAgYXN5bmMgZ2V0QWN0aXZlVG9vbGJveEVudHJ5KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLnRvb2wudG9vbGJveDtcbiAgICBpZiAoZS5sZW5ndGggPT09IDEpXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMudG9vbC50b29sYm94WzBdKTtcbiAgICBjb25zdCB0ID0gYXdhaXQgdGhpcy5kYXRhLCBvID0gZTtcbiAgICByZXR1cm4gbyA9PSBudWxsID8gdm9pZCAwIDogby5maW5kKChpKSA9PiBIdChpLmRhdGEsIHQpKTtcbiAgfVxuICAvKipcbiAgICogRXhwb3J0cyBCbG9jayBkYXRhIGFzIHN0cmluZyB1c2luZyBjb252ZXJzaW9uIGNvbmZpZ1xuICAgKi9cbiAgYXN5bmMgZXhwb3J0RGF0YUFzU3RyaW5nKCkge1xuICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLmRhdGE7XG4gICAgcmV0dXJuIEhvKGUsIHRoaXMudG9vbC5jb252ZXJzaW9uQ29uZmlnKTtcbiAgfVxuICAvKipcbiAgICogTWFrZSBkZWZhdWx0IEJsb2NrIHdyYXBwZXJzIGFuZCBwdXQgVG9vbGBzIGNvbnRlbnQgdGhlcmVcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxEaXZFbGVtZW50fVxuICAgKi9cbiAgY29tcG9zZSgpIHtcbiAgICBjb25zdCBlID0gZC5tYWtlKFwiZGl2XCIsIEQuQ1NTLndyYXBwZXIpLCB0ID0gZC5tYWtlKFwiZGl2XCIsIEQuQ1NTLmNvbnRlbnQpLCBvID0gdGhpcy50b29sSW5zdGFuY2UucmVuZGVyKCk7XG4gICAgZS5kYXRhc2V0LmlkID0gdGhpcy5pZCwgdGhpcy50b29sUmVuZGVyZWRFbGVtZW50ID0gbywgdC5hcHBlbmRDaGlsZCh0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQpO1xuICAgIGxldCBpID0gdDtcbiAgICByZXR1cm4gWy4uLnRoaXMudHVuZXNJbnN0YW5jZXMudmFsdWVzKCksIC4uLnRoaXMuZGVmYXVsdFR1bmVzSW5zdGFuY2VzLnZhbHVlcygpXS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBpZiAoTyhzLndyYXApKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGkgPSBzLndyYXAoaSk7XG4gICAgICAgIH0gY2F0Y2ggKHIpIHtcbiAgICAgICAgICBJKGBUdW5lICR7cy5jb25zdHJ1Y3Rvci5uYW1lfSB3cmFwIG1ldGhvZCB0aHJvd3MgYW4gRXJyb3IgJW9gLCBcIndhcm5cIiwgcik7XG4gICAgICAgIH1cbiAgICB9KSwgZS5hcHBlbmRDaGlsZChpKSwgZTtcbiAgfVxuICAvKipcbiAgICogSW5zdGFudGlhdGUgQmxvY2sgVHVuZXNcbiAgICpcbiAgICogQHBhcmFtIHR1bmVzRGF0YSAtIGN1cnJlbnQgQmxvY2sgdHVuZXMgZGF0YVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29tcG9zZVR1bmVzKGUpIHtcbiAgICBBcnJheS5mcm9tKHRoaXMudHVuZXMudmFsdWVzKCkpLmZvckVhY2goKHQpID0+IHtcbiAgICAgICh0LmlzSW50ZXJuYWwgPyB0aGlzLmRlZmF1bHRUdW5lc0luc3RhbmNlcyA6IHRoaXMudHVuZXNJbnN0YW5jZXMpLnNldCh0Lm5hbWUsIHQuY3JlYXRlKGVbdC5uYW1lXSwgdGhpcy5ibG9ja0FQSSkpO1xuICAgIH0pLCBPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbdCwgb10pID0+IHtcbiAgICAgIHRoaXMudHVuZXNJbnN0YW5jZXMuaGFzKHQpIHx8ICh0aGlzLnVuYXZhaWxhYmxlVHVuZXNEYXRhW3RdID0gbyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgZm9jdXMgZXZlbnQgbGlzdGVuZXJzIHRvIGFsbCBpbnB1dHMgYW5kIGNvbnRlbnRlZGl0YWJsZVxuICAgKi9cbiAgYWRkSW5wdXRFdmVudHMoKSB7XG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5oYW5kbGVGb2N1cyksIGQuaXNOYXRpdmVJbnB1dChlKSAmJiBlLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCB0aGlzLmRpZE11dGF0ZWQpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiByZW1vdmVzIGZvY3VzIGV2ZW50IGxpc3RlbmVycyBmcm9tIGFsbCBpbnB1dHMgYW5kIGNvbnRlbnRlZGl0YWJsZVxuICAgKi9cbiAgcmVtb3ZlSW5wdXRFdmVudHMoKSB7XG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5oYW5kbGVGb2N1cyksIGQuaXNOYXRpdmVJbnB1dChlKSAmJiBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCB0aGlzLmRpZE11dGF0ZWQpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBMaXN0ZW4gY29tbW9uIGVkaXRvciBEb20gQ2hhbmdlZCBldmVudCBhbmQgZGV0ZWN0IG11dGF0aW9ucyByZWxhdGVkIHRvIHRoZSAgQmxvY2tcbiAgICovXG4gIHdhdGNoQmxvY2tNdXRhdGlvbnMoKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5yZWRhY3RvckRvbUNoYW5nZWRDYWxsYmFjayA9ICh0KSA9PiB7XG4gICAgICBjb25zdCB7IG11dGF0aW9uczogbyB9ID0gdDtcbiAgICAgIG8uc29tZSgocykgPT4gRm8ocywgdGhpcy50b29sUmVuZGVyZWRFbGVtZW50KSkgJiYgdGhpcy5kaWRNdXRhdGVkKG8pO1xuICAgIH0sIChlID0gdGhpcy5lZGl0b3JFdmVudEJ1cykgPT0gbnVsbCB8fCBlLm9uKEplLCB0aGlzLnJlZGFjdG9yRG9tQ2hhbmdlZENhbGxiYWNrKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHJlZGFjdG9yIGRvbSBjaGFuZ2UgZXZlbnQgbGlzdGVuZXJcbiAgICovXG4gIHVud2F0Y2hCbG9ja011dGF0aW9ucygpIHtcbiAgICB2YXIgZTtcbiAgICAoZSA9IHRoaXMuZWRpdG9yRXZlbnRCdXMpID09IG51bGwgfHwgZS5vZmYoSmUsIHRoaXMucmVkYWN0b3JEb21DaGFuZ2VkQ2FsbGJhY2spO1xuICB9XG4gIC8qKlxuICAgKiBTb21ldGltZXMgVG9vbCBjYW4gcmVwbGFjZSBvd24gbWFpbiBlbGVtZW50LCBmb3IgZXhhbXBsZSBIMiAtPiBINCBvciBVTCAtPiBPTFxuICAgKiBXZSBuZWVkIHRvIGRldGVjdCBzdWNoIGNoYW5nZXMgYW5kIHVwZGF0ZSBhIGxpbmsgdG8gdG9vbHMgbWFpbiBlbGVtZW50IHdpdGggdGhlIG5ldyBvbmVcbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9ucyAtIHJlY29yZHMgb2YgYmxvY2sgY29udGVudCBtdXRhdGlvbnNcbiAgICovXG4gIGRldGVjdFRvb2xSb290Q2hhbmdlKGUpIHtcbiAgICBlLmZvckVhY2goKHQpID0+IHtcbiAgICAgIGlmIChBcnJheS5mcm9tKHQucmVtb3ZlZE5vZGVzKS5pbmNsdWRlcyh0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQpKSB7XG4gICAgICAgIGNvbnN0IGkgPSB0LmFkZGVkTm9kZXNbdC5hZGRlZE5vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQgPSBpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgaW5wdXRzIGNhY2hlZCB2YWx1ZVxuICAgKi9cbiAgZHJvcElucHV0c0NhY2hlKCkge1xuICAgIHRoaXMuY2FjaGVkSW5wdXRzID0gW107XG4gIH1cbiAgLyoqXG4gICAqIE1hcmsgaW5wdXRzIHdpdGggJ2RhdGEtZW1wdHknIGF0dHJpYnV0ZSB3aXRoIHRoZSBlbXB0eSBzdGF0ZVxuICAgKi9cbiAgdG9nZ2xlSW5wdXRzRW1wdHlNYXJrKCkge1xuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goTHQpO1xuICB9XG59XG5jbGFzcyB6byBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmluc2VydCA9IChlID0gdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrLCB0ID0ge30sIG8gPSB7fSwgaSwgcywgciwgbCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnQoe1xuICAgICAgICBpZDogbCxcbiAgICAgICAgdG9vbDogZSxcbiAgICAgICAgZGF0YTogdCxcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIG5lZWRUb0ZvY3VzOiBzLFxuICAgICAgICByZXBsYWNlOiByXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgRyhhKTtcbiAgICB9LCB0aGlzLmNvbXBvc2VCbG9ja0RhdGEgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMuZ2V0KGUpO1xuICAgICAgcmV0dXJuIG5ldyBEKHtcbiAgICAgICAgdG9vbDogdCxcbiAgICAgICAgYXBpOiB0aGlzLkVkaXRvci5BUEksXG4gICAgICAgIHJlYWRPbmx5OiAhMCxcbiAgICAgICAgZGF0YToge30sXG4gICAgICAgIHR1bmVzRGF0YToge31cbiAgICAgIH0pLmRhdGE7XG4gICAgfSwgdGhpcy51cGRhdGUgPSBhc3luYyAoZSwgdCwgbykgPT4ge1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGkgfSA9IHRoaXMuRWRpdG9yLCBzID0gaS5nZXRCbG9ja0J5SWQoZSk7XG4gICAgICBpZiAocyA9PT0gdm9pZCAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJsb2NrIHdpdGggaWQgXCIke2V9XCIgbm90IGZvdW5kYCk7XG4gICAgICBjb25zdCByID0gYXdhaXQgaS51cGRhdGUocywgdCwgbyk7XG4gICAgICByZXR1cm4gbmV3IEcocik7XG4gICAgfSwgdGhpcy5jb252ZXJ0ID0gYXN5bmMgKGUsIHQsIG8pID0+IHtcbiAgICAgIHZhciBoLCBwO1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGksIFRvb2xzOiBzIH0gPSB0aGlzLkVkaXRvciwgciA9IGkuZ2V0QmxvY2tCeUlkKGUpO1xuICAgICAgaWYgKCFyKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJsb2NrIHdpdGggaWQgXCIke2V9XCIgbm90IGZvdW5kYCk7XG4gICAgICBjb25zdCBsID0gcy5ibG9ja1Rvb2xzLmdldChyLm5hbWUpLCBhID0gcy5ibG9ja1Rvb2xzLmdldCh0KTtcbiAgICAgIGlmICghYSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCbG9jayBUb29sIHdpdGggdHlwZSBcIiR7dH1cIiBub3QgZm91bmRgKTtcbiAgICAgIGNvbnN0IGMgPSAoKGggPSBsID09IG51bGwgPyB2b2lkIDAgOiBsLmNvbnZlcnNpb25Db25maWcpID09IG51bGwgPyB2b2lkIDAgOiBoLmV4cG9ydCkgIT09IHZvaWQgMCwgdSA9ICgocCA9IGEuY29udmVyc2lvbkNvbmZpZykgPT0gbnVsbCA/IHZvaWQgMCA6IHAuaW1wb3J0KSAhPT0gdm9pZCAwO1xuICAgICAgaWYgKGMgJiYgdSkge1xuICAgICAgICBjb25zdCBnID0gYXdhaXQgaS5jb252ZXJ0KHIsIHQsIG8pO1xuICAgICAgICByZXR1cm4gbmV3IEcoZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBnID0gW1xuICAgICAgICAgIGMgPyAhMSA6IExlKHIubmFtZSksXG4gICAgICAgICAgdSA/ICExIDogTGUodClcbiAgICAgICAgXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBhbmQgXCIpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnZlcnNpb24gZnJvbSBcIiR7ci5uYW1lfVwiIHRvIFwiJHt0fVwiIGlzIG5vdCBwb3NzaWJsZS4gJHtnfSB0b29sKHMpIHNob3VsZCBwcm92aWRlIGEgXCJjb252ZXJzaW9uQ29uZmlnXCJgKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmluc2VydE1hbnkgPSAoZSwgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3MubGVuZ3RoIC0gMSkgPT4ge1xuICAgICAgdGhpcy52YWxpZGF0ZUluZGV4KHQpO1xuICAgICAgY29uc3QgbyA9IGUubWFwKCh7IGlkOiBpLCB0eXBlOiBzLCBkYXRhOiByIH0pID0+IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jb21wb3NlQmxvY2soe1xuICAgICAgICBpZDogaSxcbiAgICAgICAgdG9vbDogcyB8fCB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2ssXG4gICAgICAgIGRhdGE6IHJcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0TWFueShvLCB0KSwgby5tYXAoKGkpID0+IG5ldyBHKGkpKTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2tzfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsZWFyOiAoKSA9PiB0aGlzLmNsZWFyKCksXG4gICAgICByZW5kZXI6IChlKSA9PiB0aGlzLnJlbmRlcihlKSxcbiAgICAgIHJlbmRlckZyb21IVE1MOiAoZSkgPT4gdGhpcy5yZW5kZXJGcm9tSFRNTChlKSxcbiAgICAgIGRlbGV0ZTogKGUpID0+IHRoaXMuZGVsZXRlKGUpLFxuICAgICAgc3dhcDogKGUsIHQpID0+IHRoaXMuc3dhcChlLCB0KSxcbiAgICAgIG1vdmU6IChlLCB0KSA9PiB0aGlzLm1vdmUoZSwgdCksXG4gICAgICBnZXRCbG9ja0J5SW5kZXg6IChlKSA9PiB0aGlzLmdldEJsb2NrQnlJbmRleChlKSxcbiAgICAgIGdldEJ5SWQ6IChlKSA9PiB0aGlzLmdldEJ5SWQoZSksXG4gICAgICBnZXRDdXJyZW50QmxvY2tJbmRleDogKCkgPT4gdGhpcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLFxuICAgICAgZ2V0QmxvY2tJbmRleDogKGUpID0+IHRoaXMuZ2V0QmxvY2tJbmRleChlKSxcbiAgICAgIGdldEJsb2Nrc0NvdW50OiAoKSA9PiB0aGlzLmdldEJsb2Nrc0NvdW50KCksXG4gICAgICBnZXRCbG9ja0J5RWxlbWVudDogKGUpID0+IHRoaXMuZ2V0QmxvY2tCeUVsZW1lbnQoZSksXG4gICAgICBzdHJldGNoQmxvY2s6IChlLCB0ID0gITApID0+IHRoaXMuc3RyZXRjaEJsb2NrKGUsIHQpLFxuICAgICAgaW5zZXJ0TmV3QmxvY2s6ICgpID0+IHRoaXMuaW5zZXJ0TmV3QmxvY2soKSxcbiAgICAgIGluc2VydDogdGhpcy5pbnNlcnQsXG4gICAgICBpbnNlcnRNYW55OiB0aGlzLmluc2VydE1hbnksXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlLFxuICAgICAgY29tcG9zZUJsb2NrRGF0YTogdGhpcy5jb21wb3NlQmxvY2tEYXRhLFxuICAgICAgY29udmVydDogdGhpcy5jb252ZXJ0XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBCbG9ja3MgY291bnRcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldEJsb2Nrc0NvdW50KCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmxlbmd0aDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBjdXJyZW50IGJsb2NrIGluZGV4XG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXRDdXJyZW50QmxvY2tJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9ja0luZGV4O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiBCbG9jayBieSBpZDtcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gYmxvY2sgaWRcbiAgICovXG4gIGdldEJsb2NrSW5kZXgoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUlkKGUpO1xuICAgIGlmICghdCkge1xuICAgICAgWChcIlRoZXJlIGlzIG5vIGJsb2NrIHdpdGggaWQgYFwiICsgZSArIFwiYFwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tJbmRleCh0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBCbG9ja0FQSSBvYmplY3QgYnkgQmxvY2sgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggdG8gZ2V0XG4gICAqL1xuICBnZXRCbG9ja0J5SW5kZXgoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUluZGV4KGUpO1xuICAgIGlmICh0ID09PSB2b2lkIDApIHtcbiAgICAgIFgoXCJUaGVyZSBpcyBubyBibG9jayBhdCBpbmRleCBgXCIgKyBlICsgXCJgXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBHKHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrQVBJIG9iamVjdCBieSBCbG9jayBpZFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBpZCBvZiBibG9jayB0byBnZXRcbiAgICovXG4gIGdldEJ5SWQoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUlkKGUpO1xuICAgIHJldHVybiB0ID09PSB2b2lkIDAgPyAoWChcIlRoZXJlIGlzIG5vIGJsb2NrIHdpdGggaWQgYFwiICsgZSArIFwiYFwiLCBcIndhcm5cIiksIG51bGwpIDogbmV3IEcodCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBCbG9jayBBUEkgb2JqZWN0IGJ5IGFueSBjaGlsZCBodG1sIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBodG1sIGVsZW1lbnQgdG8gZ2V0IEJsb2NrIGJ5XG4gICAqL1xuICBnZXRCbG9ja0J5RWxlbWVudChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9jayhlKTtcbiAgICBpZiAodCA9PT0gdm9pZCAwKSB7XG4gICAgICBYKFwiVGhlcmUgaXMgbm8gYmxvY2sgY29ycmVzcG9uZGluZyB0byBlbGVtZW50IGBcIiArIGUgKyBcImBcIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEcodCk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgQmxvY2sgTWFuYWdlciBtZXRob2QgdGhhdCBzd2FwIEJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gcG9zaXRpb24gb2YgZmlyc3QgQmxvY2tcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggLSBwb3NpdGlvbiBvZiBzZWNvbmQgQmxvY2tcbiAgICogQGRlcHJlY2F0ZWQg4oCUIHVzZSAnbW92ZScgaW5zdGVhZFxuICAgKi9cbiAgc3dhcChlLCB0KSB7XG4gICAgSShcbiAgICAgIFwiYGJsb2Nrcy5zd2FwKClgIG1ldGhvZCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gVXNlIGBibG9jay5tb3ZlKClgIG1ldGhvZCBpbnN0ZWFkXCIsXG4gICAgICBcImluZm9cIlxuICAgICksIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5zd2FwKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIGJsb2NrIGZyb20gb25lIGluZGV4IHRvIGFub3RoZXJcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggLSBpbmRleCB0byBtb3ZlIHRvXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggLSBpbmRleCB0byBtb3ZlIGZyb21cbiAgICovXG4gIG1vdmUoZSwgdCkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5tb3ZlKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGVzIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBibG9ja0luZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUoZSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2tJbmRleCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlJbmRleChlKTtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5yZW1vdmVCbG9jayh0KTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICBYKHQsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrcy5sZW5ndGggPT09IDAgJiYgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydCgpLCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrICYmIHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jaywgdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkVORCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgRWRpdG9yJ3MgYXJlYVxuICAgKi9cbiAgYXN5bmMgY2xlYXIoKSB7XG4gICAgYXdhaXQgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNsZWFyKCEwKSwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBGaWxscyBFZGl0b3Igd2l0aCBCbG9ja3MgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge091dHB1dERhdGF9IGRhdGEg4oCUIFNhdmVkIEVkaXRvciBkYXRhXG4gICAqL1xuICBhc3luYyByZW5kZXIoZSkge1xuICAgIGlmIChlID09PSB2b2lkIDAgfHwgZS5ibG9ja3MgPT09IHZvaWQgMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkluY29ycmVjdCBkYXRhIHBhc3NlZCB0byB0aGUgcmVuZGVyKCkgbWV0aG9kXCIpO1xuICAgIHRoaXMuRWRpdG9yLk1vZGlmaWNhdGlvbnNPYnNlcnZlci5kaXNhYmxlKCksIGF3YWl0IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jbGVhcigpLCBhd2FpdCB0aGlzLkVkaXRvci5SZW5kZXJlci5yZW5kZXIoZS5ibG9ja3MpLCB0aGlzLkVkaXRvci5Nb2RpZmljYXRpb25zT2JzZXJ2ZXIuZW5hYmxlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBwYXNzZWQgSFRNTCBzdHJpbmdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgLSBIVE1MIHN0cmluZyB0byByZW5kZXJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICByZW5kZXJGcm9tSFRNTChlKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jbGVhcigpLCB0aGlzLkVkaXRvci5QYXN0ZS5wcm9jZXNzVGV4dChlLCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIFN0cmV0Y2ggQmxvY2sncyBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIEJsb2NrIHRvIHN0cmV0Y2hcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0dXMgLSB0cnVlIHRvIGVuYWJsZSwgZmFsc2UgdG8gZGlzYWJsZVxuICAgKiBAZGVwcmVjYXRlZCBVc2UgQmxvY2tBUEkgaW50ZXJmYWNlIHRvIHN0cmV0Y2ggQmxvY2tzXG4gICAqL1xuICBzdHJldGNoQmxvY2soZSwgdCA9ICEwKSB7XG4gICAgWmUoXG4gICAgICAhMCxcbiAgICAgIFwiYmxvY2tzLnN0cmV0Y2hCbG9jaygpXCIsXG4gICAgICBcIkJsb2NrQVBJXCJcbiAgICApO1xuICAgIGNvbnN0IG8gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUluZGV4KGUpO1xuICAgIG8gJiYgKG8uc3RyZXRjaGVkID0gdCk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBuZXcgQmxvY2tcbiAgICogQWZ0ZXIgc2V0IGNhcmV0IHRvIHRoaXMgQmxvY2tcbiAgICpcbiAgICogQHRvZG8gcmVtb3ZlIGluIDMuMC4wXG4gICAqIEBkZXByZWNhdGVkIHdpdGggaW5zZXJ0KCkgbWV0aG9kXG4gICAqL1xuICBpbnNlcnROZXdCbG9jaygpIHtcbiAgICBJKFwiTWV0aG9kIGJsb2Nrcy5pbnNlcnROZXdCbG9jaygpIGlzIGRlcHJlY2F0ZWQgYW5kIGl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLiBVc2UgYmxvY2tzLmluc2VydCgpIGluc3RlYWQuXCIsIFwid2FyblwiKSwgdGhpcy5pbnNlcnQoKTtcbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGVkIGJsb2NrIGluZGV4IGFuZCB0aHJvd3MgYW4gZXJyb3IgaWYgaXQncyBpbnZhbGlkXG4gICAqXG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IHRvIHZhbGlkYXRlXG4gICAqL1xuICB2YWxpZGF0ZUluZGV4KGUpIHtcbiAgICBpZiAodHlwZW9mIGUgIT0gXCJudW1iZXJcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkluZGV4IHNob3VsZCBiZSBhIG51bWJlclwiKTtcbiAgICBpZiAoZSA8IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7XG4gICAgaWYgKGUgPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIFVvKG4sIGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBuID09IFwibnVtYmVyXCIgPyBlLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgobikgOiB0eXBlb2YgbiA9PSBcInN0cmluZ1wiID8gZS5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUlkKG4pIDogZS5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUlkKG4uaWQpO1xufVxuY2xhc3Mgam8gZXh0ZW5kcyB5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5zZXRUb0ZpcnN0QmxvY2sgPSAoZSA9IHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5ERUZBVUxULCB0ID0gMCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmZpcnN0QmxvY2sgPyAodGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZmlyc3RCbG9jaywgZSwgdCksICEwKSA6ICExLCB0aGlzLnNldFRvTGFzdEJsb2NrID0gKGUgPSB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuREVGQVVMVCwgdCA9IDApID0+IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5sYXN0QmxvY2sgPyAodGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubGFzdEJsb2NrLCBlLCB0KSwgITApIDogITEsIHRoaXMuc2V0VG9QcmV2aW91c0Jsb2NrID0gKGUgPSB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuREVGQVVMVCwgdCA9IDApID0+IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5wcmV2aW91c0Jsb2NrID8gKHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnByZXZpb3VzQmxvY2ssIGUsIHQpLCAhMCkgOiAhMSwgdGhpcy5zZXRUb05leHRCbG9jayA9IChlID0gdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkRFRkFVTFQsIHQgPSAwKSA9PiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubmV4dEJsb2NrID8gKHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLm5leHRCbG9jaywgZSwgdCksICEwKSA6ICExLCB0aGlzLnNldFRvQmxvY2sgPSAoZSwgdCA9IHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5ERUZBVUxULCBvID0gMCkgPT4ge1xuICAgICAgY29uc3QgaSA9IFVvKGUsIHRoaXMuRWRpdG9yKTtcbiAgICAgIHJldHVybiBpID09PSB2b2lkIDAgPyAhMSA6ICh0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKGksIHQsIG8pLCAhMCk7XG4gICAgfSwgdGhpcy5mb2N1cyA9IChlID0gITEpID0+IGUgPyB0aGlzLnNldFRvTGFzdEJsb2NrKHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5FTkQpIDogdGhpcy5zZXRUb0ZpcnN0QmxvY2sodGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLlNUQVJUKTtcbiAgfVxuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge0NhcmV0fVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldFRvRmlyc3RCbG9jazogdGhpcy5zZXRUb0ZpcnN0QmxvY2ssXG4gICAgICBzZXRUb0xhc3RCbG9jazogdGhpcy5zZXRUb0xhc3RCbG9jayxcbiAgICAgIHNldFRvUHJldmlvdXNCbG9jazogdGhpcy5zZXRUb1ByZXZpb3VzQmxvY2ssXG4gICAgICBzZXRUb05leHRCbG9jazogdGhpcy5zZXRUb05leHRCbG9jayxcbiAgICAgIHNldFRvQmxvY2s6IHRoaXMuc2V0VG9CbG9jayxcbiAgICAgIGZvY3VzOiB0aGlzLmZvY3VzXG4gICAgfTtcbiAgfVxufVxuY2xhc3MgJG8gZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtFdmVudHN9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW1pdDogKGUsIHQpID0+IHRoaXMuZW1pdChlLCB0KSxcbiAgICAgIG9mZjogKGUsIHQpID0+IHRoaXMub2ZmKGUsIHQpLFxuICAgICAgb246IChlLCB0KSA9PiB0aGlzLm9uKGUsIHQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU3Vic2NyaWJlIG9uIEV2ZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gZXZlbnQgbmFtZSB0byBzdWJzY3JpYmVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBldmVudCBoYW5kbGVyXG4gICAqL1xuICBvbihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBFbWl0IGV2ZW50IHdpdGggZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gZXZlbnQgdG8gZW1pdFxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIGV2ZW50J3MgZGF0YVxuICAgKi9cbiAgZW1pdChlLCB0KSB7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQoZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gRXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIGV2ZW50IHRvIHVuc3Vic2NyaWJlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgb2ZmKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub2ZmKGUsIHQpO1xuICB9XG59XG5jbGFzcyBvdCBleHRlbmRzIHkge1xuICAvKipcbiAgICogUmV0dXJuIG5hbWVzcGFjZSBzZWN0aW9uIGZvciB0b29sIG9yIGJsb2NrIHR1bmVcbiAgICpcbiAgICogQHBhcmFtIHRvb2xOYW1lIC0gdG9vbCBuYW1lXG4gICAqIEBwYXJhbSBpc1R1bmUgLSBpcyB0b29sIGEgYmxvY2sgdHVuZVxuICAgKi9cbiAgc3RhdGljIGdldE5hbWVzcGFjZShlLCB0KSB7XG4gICAgcmV0dXJuIHQgPyBgYmxvY2tUdW5lcy4ke2V9YCA6IGB0b29scy4ke2V9YDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIEkxOG4gQVBJIG1ldGhvZHMgd2l0aCBnbG9iYWwgZGljdGlvbmFyeSBhY2Nlc3NcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0OiAoKSA9PiB7XG4gICAgICAgIFgoXCJJMThuLnQoKSBtZXRob2QgY2FuIGJlIGFjY2Vzc2VkIG9ubHkgZnJvbSBUb29sc1wiLCBcIndhcm5cIik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIEkxOG4gQVBJIG1ldGhvZHMgd2l0aCB0b29sIG5hbWVzcGFjZWQgZGljdGlvbmFyeVxuICAgKlxuICAgKiBAcGFyYW0gdG9vbE5hbWUgLSB0b29sIG5hbWVcbiAgICogQHBhcmFtIGlzVHVuZSAtIGlzIHRvb2wgYSBibG9jayB0dW5lXG4gICAqL1xuICBnZXRNZXRob2RzRm9yVG9vbChlLCB0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgICB0aGlzLm1ldGhvZHMsXG4gICAgICB7XG4gICAgICAgIHQ6IChvKSA9PiB6LnQob3QuZ2V0TmFtZXNwYWNlKGUsIHQpLCBvKVxuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIFlvIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBFZGl0b3IuanMgQ29yZSBBUEkgbW9kdWxlc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJsb2NrczogdGhpcy5FZGl0b3IuQmxvY2tzQVBJLm1ldGhvZHMsXG4gICAgICBjYXJldDogdGhpcy5FZGl0b3IuQ2FyZXRBUEkubWV0aG9kcyxcbiAgICAgIHRvb2xzOiB0aGlzLkVkaXRvci5Ub29sc0FQSS5tZXRob2RzLFxuICAgICAgZXZlbnRzOiB0aGlzLkVkaXRvci5FdmVudHNBUEkubWV0aG9kcyxcbiAgICAgIGxpc3RlbmVyczogdGhpcy5FZGl0b3IuTGlzdGVuZXJzQVBJLm1ldGhvZHMsXG4gICAgICBub3RpZmllcjogdGhpcy5FZGl0b3IuTm90aWZpZXJBUEkubWV0aG9kcyxcbiAgICAgIHNhbml0aXplcjogdGhpcy5FZGl0b3IuU2FuaXRpemVyQVBJLm1ldGhvZHMsXG4gICAgICBzYXZlcjogdGhpcy5FZGl0b3IuU2F2ZXJBUEkubWV0aG9kcyxcbiAgICAgIHNlbGVjdGlvbjogdGhpcy5FZGl0b3IuU2VsZWN0aW9uQVBJLm1ldGhvZHMsXG4gICAgICBzdHlsZXM6IHRoaXMuRWRpdG9yLlN0eWxlc0FQSS5jbGFzc2VzLFxuICAgICAgdG9vbGJhcjogdGhpcy5FZGl0b3IuVG9vbGJhckFQSS5tZXRob2RzLFxuICAgICAgaW5saW5lVG9vbGJhcjogdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhckFQSS5tZXRob2RzLFxuICAgICAgdG9vbHRpcDogdGhpcy5FZGl0b3IuVG9vbHRpcEFQSS5tZXRob2RzLFxuICAgICAgaTE4bjogdGhpcy5FZGl0b3IuSTE4bkFQSS5tZXRob2RzLFxuICAgICAgcmVhZE9ubHk6IHRoaXMuRWRpdG9yLlJlYWRPbmx5QVBJLm1ldGhvZHMsXG4gICAgICB1aTogdGhpcy5FZGl0b3IuVWlBUEkubWV0aG9kc1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgRWRpdG9yLmpzIENvcmUgQVBJIG1ldGhvZHMgZm9yIHBhc3NlZCB0b29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sTmFtZSAtIHRvb2wgbmFtZVxuICAgKiBAcGFyYW0gaXNUdW5lIC0gaXMgdG9vbCBhIGJsb2NrIHR1bmVcbiAgICovXG4gIGdldE1ldGhvZHNGb3JUb29sKGUsIHQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgIHRoaXMubWV0aG9kcyxcbiAgICAgIHtcbiAgICAgICAgaTE4bjogdGhpcy5FZGl0b3IuSTE4bkFQSS5nZXRNZXRob2RzRm9yVG9vbChlLCB0KVxuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIFdvIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7SW5saW5lVG9vbGJhcn1cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjbG9zZTogKCkgPT4gdGhpcy5jbG9zZSgpLFxuICAgICAgb3BlbjogKCkgPT4gdGhpcy5vcGVuKClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIElubGluZSBUb29sYmFyXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIudHJ5VG9TaG93KCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIElubGluZSBUb29sYmFyXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbn1cbmNsYXNzIEtvIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7TGlzdGVuZXJzfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uOiAoZSwgdCwgbywgaSkgPT4gdGhpcy5vbihlLCB0LCBvLCBpKSxcbiAgICAgIG9mZjogKGUsIHQsIG8sIGkpID0+IHRoaXMub2ZmKGUsIHQsIG8sIGkpLFxuICAgICAgb2ZmQnlJZDogKGUpID0+IHRoaXMub2ZmQnlJZChlKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEFkcyBhIERPTSBldmVudCBsaXN0ZW5lci4gUmV0dXJuIGl0J3MgaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIHNldCBoYW5kbGVyIHRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHBhcmFtIHtib29sZWFufSB1c2VDYXB0dXJlIC0gY2FwdHVyZSBldmVudCBvciBub3RcbiAgICovXG4gIG9uKGUsIHQsIG8sIGkpIHtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnMub24oZSwgdCwgbywgaSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgRE9NIGxpc3RlbmVyIGZyb20gZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIHJlbW92ZSBoYW5kbGVyIGZyb21cbiAgICogQHBhcmFtIGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIGhhbmRsZXIgLSBldmVudCBoYW5kbGVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlQ2FwdHVyZSAtIGNhcHR1cmUgZXZlbnQgb3Igbm90XG4gICAqL1xuICBvZmYoZSwgdCwgbywgaSkge1xuICAgIHRoaXMubGlzdGVuZXJzLm9mZihlLCB0LCBvLCBpKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBET00gbGlzdGVuZXIgYnkgdGhlIGxpc3RlbmVyIGlkXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIGlkIG9mIHRoZSBsaXN0ZW5lciB0byByZW1vdmVcbiAgICovXG4gIG9mZkJ5SWQoZSkge1xuICAgIHRoaXMubGlzdGVuZXJzLm9mZkJ5SWQoZSk7XG4gIH1cbn1cbnZhciBVdCA9IHsgZXhwb3J0czoge30gfTtcbihmdW5jdGlvbihuLCBlKSB7XG4gIChmdW5jdGlvbih0LCBvKSB7XG4gICAgbi5leHBvcnRzID0gbygpO1xuICB9KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgbyA9IHt9O1xuICAgICAgZnVuY3Rpb24gaShzKSB7XG4gICAgICAgIGlmIChvW3NdKVxuICAgICAgICAgIHJldHVybiBvW3NdLmV4cG9ydHM7XG4gICAgICAgIHZhciByID0gb1tzXSA9IHsgaTogcywgbDogITEsIGV4cG9ydHM6IHt9IH07XG4gICAgICAgIHJldHVybiB0W3NdLmNhbGwoci5leHBvcnRzLCByLCByLmV4cG9ydHMsIGkpLCByLmwgPSAhMCwgci5leHBvcnRzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGkubSA9IHQsIGkuYyA9IG8sIGkuZCA9IGZ1bmN0aW9uKHMsIHIsIGwpIHtcbiAgICAgICAgaS5vKHMsIHIpIHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCByLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGwgfSk7XG4gICAgICB9LCBpLnIgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHR5cGVvZiBTeW1ib2wgPCBcInVcIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgICAgIH0sIGkudCA9IGZ1bmN0aW9uKHMsIHIpIHtcbiAgICAgICAgaWYgKDEgJiByICYmIChzID0gaShzKSksIDggJiByIHx8IDQgJiByICYmIHR5cGVvZiBzID09IFwib2JqZWN0XCIgJiYgcyAmJiBzLl9fZXNNb2R1bGUpXG4gICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIHZhciBsID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGlmIChpLnIobCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgdmFsdWU6IHMgfSksIDIgJiByICYmIHR5cGVvZiBzICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgZm9yICh2YXIgYSBpbiBzKVxuICAgICAgICAgICAgaS5kKGwsIGEsIChmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzW2NdO1xuICAgICAgICAgICAgfSkuYmluZChudWxsLCBhKSk7XG4gICAgICAgIHJldHVybiBsO1xuICAgICAgfSwgaS5uID0gZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgciA9IHMgJiYgcy5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHMuZGVmYXVsdDtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5kKHIsIFwiYVwiLCByKSwgcjtcbiAgICAgIH0sIGkubyA9IGZ1bmN0aW9uKHMsIHIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCByKTtcbiAgICAgIH0sIGkucCA9IFwiL1wiLCBpKGkucyA9IDApO1xuICAgIH0oW2Z1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIGkoMSksIC8qIVxuICAgICAgICogQ29kZXggSmF2YVNjcmlwdCBOb3RpZmljYXRpb24gbW9kdWxlXG4gICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vY29kZXgtdGVhbS9qcy1ub3RpZmllclxuICAgICAgICovXG4gICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHMgPSBpKDYpLCByID0gXCJjZHgtbm90aWZ5LS1ib3VuY2UtaW5cIiwgbCA9IG51bGw7XG4gICAgICAgIHJldHVybiB7IHNob3c6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICBpZiAoYS5tZXNzYWdlKSB7XG4gICAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmIChsKVxuICAgICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgbCA9IHMuZ2V0V3JhcHBlcigpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGwpO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIHZhciBjID0gbnVsbCwgdSA9IGEudGltZSB8fCA4ZTM7XG4gICAgICAgICAgICBzd2l0Y2ggKGEudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiY29uZmlybVwiOlxuICAgICAgICAgICAgICAgIGMgPSBzLmNvbmZpcm0oYSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJwcm9tcHRcIjpcbiAgICAgICAgICAgICAgICBjID0gcy5wcm9tcHQoYSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYyA9IHMuYWxlcnQoYSksIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgYy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9LCB1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGwuYXBwZW5kQ2hpbGQoYyksIGMuY2xhc3NMaXN0LmFkZChyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gfTtcbiAgICAgIH0oKTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB2YXIgcyA9IGkoMik7XG4gICAgICB0eXBlb2YgcyA9PSBcInN0cmluZ1wiICYmIChzID0gW1t0LmksIHMsIFwiXCJdXSk7XG4gICAgICB2YXIgciA9IHsgaG1yOiAhMCwgdHJhbnNmb3JtOiB2b2lkIDAsIGluc2VydEludG86IHZvaWQgMCB9O1xuICAgICAgaSg0KShzLCByKSwgcy5sb2NhbHMgJiYgKHQuZXhwb3J0cyA9IHMubG9jYWxzKTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICAodC5leHBvcnRzID0gaSgzKSghMSkpLnB1c2goW3QuaSwgYC5jZHgtbm90aWZ5LS1lcnJvcntiYWNrZ3JvdW5kOiNmZmZiZmIhaW1wb3J0YW50fS5jZHgtbm90aWZ5LS1lcnJvcjo6YmVmb3Jle2JhY2tncm91bmQ6I2ZiNWQ1ZCFpbXBvcnRhbnR9LmNkeC1ub3RpZnlfX2lucHV0e21heC13aWR0aDoxMzBweDtwYWRkaW5nOjVweCAxMHB4O2JhY2tncm91bmQ6I2Y3ZjdmNztib3JkZXI6MDtib3JkZXItcmFkaXVzOjNweDtmb250LXNpemU6MTNweDtjb2xvcjojNjU2YjdjO291dGxpbmU6MH0uY2R4LW5vdGlmeV9faW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM2NTZiN2N9LmNkeC1ub3RpZnlfX2lucHV0OjpwbGFjZWhvbGRlcntjb2xvcjojNjU2YjdjfS5jZHgtbm90aWZ5X19pbnB1dDpmb2N1czotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6cmdiYSgxMDEsMTA3LDEyNCwuMyl9LmNkeC1ub3RpZnlfX2lucHV0OmZvY3VzOjpwbGFjZWhvbGRlcntjb2xvcjpyZ2JhKDEwMSwxMDcsMTI0LC4zKX0uY2R4LW5vdGlmeV9fYnV0dG9ue2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6M3B4O2ZvbnQtc2l6ZToxM3B4O3BhZGRpbmc6NXB4IDEwcHg7Y3Vyc29yOnBvaW50ZXJ9LmNkeC1ub3RpZnlfX2J1dHRvbjpsYXN0LWNoaWxke21hcmdpbi1sZWZ0OjEwcHh9LmNkeC1ub3RpZnlfX2J1dHRvbi0tY2FuY2Vse2JhY2tncm91bmQ6I2YyZjVmNztib3gtc2hhZG93OjAgMnB4IDFweCAwIHJnYmEoMTYsMTksMjksMCk7Y29sb3I6IzY1NmI3Y30uY2R4LW5vdGlmeV9fYnV0dG9uLS1jYW5jZWw6aG92ZXJ7YmFja2dyb3VuZDojZWVlfS5jZHgtbm90aWZ5X19idXR0b24tLWNvbmZpcm17YmFja2dyb3VuZDojMzRjOTkyO2JveC1zaGFkb3c6MCAxcHggMXB4IDAgcmdiYSgxOCw0OSwzNSwuMDUpO2NvbG9yOiNmZmZ9LmNkeC1ub3RpZnlfX2J1dHRvbi0tY29uZmlybTpob3ZlcntiYWNrZ3JvdW5kOiMzM2IwODJ9LmNkeC1ub3RpZnlfX2J0bnMtd3JhcHBlcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1mbG93OnJvdyBub3dyYXA7ZmxleC1mbG93OnJvdyBub3dyYXA7bWFyZ2luLXRvcDo1cHh9LmNkeC1ub3RpZnlfX2Nyb3Nze3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1cHg7cmlnaHQ6NXB4O3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7cGFkZGluZzo1cHg7b3BhY2l0eTouNTQ7Y3Vyc29yOnBvaW50ZXJ9LmNkeC1ub3RpZnlfX2Nyb3NzOjphZnRlciwuY2R4LW5vdGlmeV9fY3Jvc3M6OmJlZm9yZXtjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6OXB4O3RvcDo1cHg7aGVpZ2h0OjEycHg7d2lkdGg6MnB4O2JhY2tncm91bmQ6IzU3NWQ2N30uY2R4LW5vdGlmeV9fY3Jvc3M6OmJlZm9yZXt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9LmNkeC1ub3RpZnlfX2Nyb3NzOjphZnRlcnt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKX0uY2R4LW5vdGlmeV9fY3Jvc3M6aG92ZXJ7b3BhY2l0eToxfS5jZHgtbm90aWZpZXN7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoyO2JvdHRvbToyMHB4O2xlZnQ6MjBweDtmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxcIlNlZ29lIFVJXCIsUm9ib3RvLE94eWdlbixVYnVudHUsQ2FudGFyZWxsLFwiRmlyYSBTYW5zXCIsXCJEcm9pZCBTYW5zXCIsXCJIZWx2ZXRpY2EgTmV1ZVwiLHNhbnMtc2VyaWZ9LmNkeC1ub3RpZnl7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MjIwcHg7bWFyZ2luLXRvcDoxNXB4O3BhZGRpbmc6MTNweCAxNnB4O2JhY2tncm91bmQ6I2ZmZjtib3gtc2hhZG93OjAgMTFweCAxN3B4IDAgcmdiYSgyMywzMiw2MSwuMTMpO2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjEuNGVtO3dvcmQtd3JhcDpicmVhay13b3JkfS5jZHgtbm90aWZ5OjpiZWZvcmV7Y29udGVudDonJztwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrO3RvcDowO2xlZnQ6MDt3aWR0aDozcHg7aGVpZ2h0OmNhbGMoMTAwJSAtIDZweCk7bWFyZ2luOjNweDtib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOjAgMH1Aa2V5ZnJhbWVzIGJvdW5jZUluezAle29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoLjMpfTUwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlKDEuMDUpfTcwJXt0cmFuc2Zvcm06c2NhbGUoLjkpfTEwMCV7dHJhbnNmb3JtOnNjYWxlKDEpfX0uY2R4LW5vdGlmeS0tYm91bmNlLWlue2FuaW1hdGlvbi1uYW1lOmJvdW5jZUluO2FuaW1hdGlvbi1kdXJhdGlvbjouNnM7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDoxfS5jZHgtbm90aWZ5LS1zdWNjZXNze2JhY2tncm91bmQ6I2ZhZmZmZSFpbXBvcnRhbnR9LmNkeC1ub3RpZnktLXN1Y2Nlc3M6OmJlZm9yZXtiYWNrZ3JvdW5kOiM0MWZmYjEhaW1wb3J0YW50fWAsIFwiXCJdKTtcbiAgICB9LCBmdW5jdGlvbih0LCBvKSB7XG4gICAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBzID0gW107XG4gICAgICAgIHJldHVybiBzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgIHZhciBsID0gZnVuY3Rpb24oYSwgYykge1xuICAgICAgICAgICAgICB2YXIgdSA9IGFbMV0gfHwgXCJcIiwgaCA9IGFbM107XG4gICAgICAgICAgICAgIGlmICghaClcbiAgICAgICAgICAgICAgICByZXR1cm4gdTtcbiAgICAgICAgICAgICAgaWYgKGMgJiYgdHlwZW9mIGJ0b2EgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSAoZiA9IGgsIFwiLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZikpKSkgKyBcIiAqL1wiKSwgZyA9IGguc291cmNlcy5tYXAoZnVuY3Rpb24oaykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIiArIGguc291cmNlUm9vdCArIGsgKyBcIiAqL1wiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBbdV0uY29uY2F0KGcpLmNvbmNhdChbcF0pLmpvaW4oYFxuYCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIGY7XG4gICAgICAgICAgICAgIHJldHVybiBbdV0uam9pbihgXG5gKTtcbiAgICAgICAgICAgIH0ociwgaSk7XG4gICAgICAgICAgICByZXR1cm4gclsyXSA/IFwiQG1lZGlhIFwiICsgclsyXSArIFwie1wiICsgbCArIFwifVwiIDogbDtcbiAgICAgICAgICB9KS5qb2luKFwiXCIpO1xuICAgICAgICB9LCBzLmkgPSBmdW5jdGlvbihyLCBsKSB7XG4gICAgICAgICAgdHlwZW9mIHIgPT0gXCJzdHJpbmdcIiAmJiAociA9IFtbbnVsbCwgciwgXCJcIl1dKTtcbiAgICAgICAgICBmb3IgKHZhciBhID0ge30sIGMgPSAwOyBjIDwgdGhpcy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgdmFyIHUgPSB0aGlzW2NdWzBdO1xuICAgICAgICAgICAgdHlwZW9mIHUgPT0gXCJudW1iZXJcIiAmJiAoYVt1XSA9ICEwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjID0gMDsgYyA8IHIubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICAgIHZhciBoID0gcltjXTtcbiAgICAgICAgICAgIHR5cGVvZiBoWzBdID09IFwibnVtYmVyXCIgJiYgYVtoWzBdXSB8fCAobCAmJiAhaFsyXSA/IGhbMl0gPSBsIDogbCAmJiAoaFsyXSA9IFwiKFwiICsgaFsyXSArIFwiKSBhbmQgKFwiICsgbCArIFwiKVwiKSwgcy5wdXNoKGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHM7XG4gICAgICB9O1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHZhciBzLCByLCBsID0ge30sIGEgPSAocyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHIgPT09IHZvaWQgMCAmJiAociA9IHMuYXBwbHkodGhpcywgYXJndW1lbnRzKSksIHI7XG4gICAgICB9KSwgYyA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgdmFyIG0gPSB7fTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHggPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgcmV0dXJuIHgoKTtcbiAgICAgICAgICBpZiAobVt4XSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB2YXIgRSA9IChmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKE0pO1xuICAgICAgICAgICAgfSkuY2FsbCh0aGlzLCB4KTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgRSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudClcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBFID0gRS5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgRSA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1beF0gPSBFO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbVt4XTtcbiAgICAgICAgfTtcbiAgICAgIH0oKSwgdSA9IG51bGwsIGggPSAwLCBwID0gW10sIGcgPSBpKDUpO1xuICAgICAgZnVuY3Rpb24gZih2LCBtKSB7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdi5sZW5ndGg7IHgrKykge1xuICAgICAgICAgIHZhciBFID0gdlt4XSwgTSA9IGxbRS5pZF07XG4gICAgICAgICAgaWYgKE0pIHtcbiAgICAgICAgICAgIE0ucmVmcysrO1xuICAgICAgICAgICAgZm9yICh2YXIgVCA9IDA7IFQgPCBNLnBhcnRzLmxlbmd0aDsgVCsrKVxuICAgICAgICAgICAgICBNLnBhcnRzW1RdKEUucGFydHNbVF0pO1xuICAgICAgICAgICAgZm9yICg7IFQgPCBFLnBhcnRzLmxlbmd0aDsgVCsrKVxuICAgICAgICAgICAgICBNLnBhcnRzLnB1c2goaihFLnBhcnRzW1RdLCBtKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBQID0gW107XG4gICAgICAgICAgICBmb3IgKFQgPSAwOyBUIDwgRS5wYXJ0cy5sZW5ndGg7IFQrKylcbiAgICAgICAgICAgICAgUC5wdXNoKGooRS5wYXJ0c1tUXSwgbSkpO1xuICAgICAgICAgICAgbFtFLmlkXSA9IHsgaWQ6IEUuaWQsIHJlZnM6IDEsIHBhcnRzOiBQIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBrKHYsIG0pIHtcbiAgICAgICAgZm9yICh2YXIgeCA9IFtdLCBFID0ge30sIE0gPSAwOyBNIDwgdi5sZW5ndGg7IE0rKykge1xuICAgICAgICAgIHZhciBUID0gdltNXSwgUCA9IG0uYmFzZSA/IFRbMF0gKyBtLmJhc2UgOiBUWzBdLCBCID0geyBjc3M6IFRbMV0sIG1lZGlhOiBUWzJdLCBzb3VyY2VNYXA6IFRbM10gfTtcbiAgICAgICAgICBFW1BdID8gRVtQXS5wYXJ0cy5wdXNoKEIpIDogeC5wdXNoKEVbUF0gPSB7IGlkOiBQLCBwYXJ0czogW0JdIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gQyh2LCBtKSB7XG4gICAgICAgIHZhciB4ID0gYyh2Lmluc2VydEludG8pO1xuICAgICAgICBpZiAoIXgpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgICAgIHZhciBFID0gcFtwLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodi5pbnNlcnRBdCA9PT0gXCJ0b3BcIilcbiAgICAgICAgICBFID8gRS5uZXh0U2libGluZyA/IHguaW5zZXJ0QmVmb3JlKG0sIEUubmV4dFNpYmxpbmcpIDogeC5hcHBlbmRDaGlsZChtKSA6IHguaW5zZXJ0QmVmb3JlKG0sIHguZmlyc3RDaGlsZCksIHAucHVzaChtKTtcbiAgICAgICAgZWxzZSBpZiAodi5pbnNlcnRBdCA9PT0gXCJib3R0b21cIilcbiAgICAgICAgICB4LmFwcGVuZENoaWxkKG0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHYuaW5zZXJ0QXQgIT0gXCJvYmplY3RcIiB8fCAhdi5pbnNlcnRBdC5iZWZvcmUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtTdHlsZSBMb2FkZXJdXG5cbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcbmApO1xuICAgICAgICAgIHZhciBNID0gYyh2Lmluc2VydEludG8gKyBcIiBcIiArIHYuaW5zZXJ0QXQuYmVmb3JlKTtcbiAgICAgICAgICB4Lmluc2VydEJlZm9yZShtLCBNKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gUyh2KSB7XG4gICAgICAgIGlmICh2LnBhcmVudE5vZGUgPT09IG51bGwpXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodik7XG4gICAgICAgIHZhciBtID0gcC5pbmRleE9mKHYpO1xuICAgICAgICBtID49IDAgJiYgcC5zcGxpY2UobSwgMSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBfKHYpIHtcbiAgICAgICAgdmFyIG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIHJldHVybiB2LmF0dHJzLnR5cGUgPT09IHZvaWQgMCAmJiAodi5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiKSwgZWUobSwgdi5hdHRycyksIEModiwgbSksIG07XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBlZSh2LCBtKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKG0pLmZvckVhY2goZnVuY3Rpb24oeCkge1xuICAgICAgICAgIHYuc2V0QXR0cmlidXRlKHgsIG1beF0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGoodiwgbSkge1xuICAgICAgICB2YXIgeCwgRSwgTSwgVDtcbiAgICAgICAgaWYgKG0udHJhbnNmb3JtICYmIHYuY3NzKSB7XG4gICAgICAgICAgaWYgKCEoVCA9IG0udHJhbnNmb3JtKHYuY3NzKSkpXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIHYuY3NzID0gVDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobS5zaW5nbGV0b24pIHtcbiAgICAgICAgICB2YXIgUCA9IGgrKztcbiAgICAgICAgICB4ID0gdSB8fCAodSA9IF8obSkpLCBFID0gZmUuYmluZChudWxsLCB4LCBQLCAhMSksIE0gPSBmZS5iaW5kKG51bGwsIHgsIFAsICEwKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgdi5zb3VyY2VNYXAgJiYgdHlwZW9mIFVSTCA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgQmxvYiA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGJ0b2EgPT0gXCJmdW5jdGlvblwiID8gKHggPSBmdW5jdGlvbihCKSB7XG4gICAgICAgICAgICB2YXIgWSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICAgICAgcmV0dXJuIEIuYXR0cnMudHlwZSA9PT0gdm9pZCAwICYmIChCLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCIpLCBCLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiLCBlZShZLCBCLmF0dHJzKSwgQyhCLCBZKSwgWTtcbiAgICAgICAgICB9KG0pLCBFID0gKGZ1bmN0aW9uKEIsIFksIGdlKSB7XG4gICAgICAgICAgICB2YXIgaWUgPSBnZS5jc3MsIEhlID0gZ2Uuc291cmNlTWFwLCBtbyA9IFkuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB2b2lkIDAgJiYgSGU7XG4gICAgICAgICAgICAoWS5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgbW8pICYmIChpZSA9IGcoaWUpKSwgSGUgJiYgKGllICs9IGBcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsYCArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KEhlKSkpKSArIFwiICovXCIpO1xuICAgICAgICAgICAgdmFyIGJvID0gbmV3IEJsb2IoW2llXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSksIG10ID0gQi5ocmVmO1xuICAgICAgICAgICAgQi5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibyksIG10ICYmIFVSTC5yZXZva2VPYmplY3RVUkwobXQpO1xuICAgICAgICAgIH0pLmJpbmQobnVsbCwgeCwgbSksIE0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFMoeCksIHguaHJlZiAmJiBVUkwucmV2b2tlT2JqZWN0VVJMKHguaHJlZik7XG4gICAgICAgICAgfSkgOiAoeCA9IF8obSksIEUgPSAoZnVuY3Rpb24oQiwgWSkge1xuICAgICAgICAgICAgdmFyIGdlID0gWS5jc3MsIGllID0gWS5tZWRpYTtcbiAgICAgICAgICAgIGlmIChpZSAmJiBCLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIGllKSwgQi5zdHlsZVNoZWV0KVxuICAgICAgICAgICAgICBCLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGdlO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGZvciAoOyBCLmZpcnN0Q2hpbGQ7IClcbiAgICAgICAgICAgICAgICBCLnJlbW92ZUNoaWxkKEIuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgIEIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZ2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5iaW5kKG51bGwsIHgpLCBNID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBTKHgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gRSh2KSwgZnVuY3Rpb24oQikge1xuICAgICAgICAgIGlmIChCKSB7XG4gICAgICAgICAgICBpZiAoQi5jc3MgPT09IHYuY3NzICYmIEIubWVkaWEgPT09IHYubWVkaWEgJiYgQi5zb3VyY2VNYXAgPT09IHYuc291cmNlTWFwKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBFKHYgPSBCKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIE0oKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKHYsIG0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBERUJVRyA8IFwidVwiICYmIERFQlVHICYmIHR5cGVvZiBkb2N1bWVudCAhPSBcIm9iamVjdFwiKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcbiAgICAgICAgKG0gPSBtIHx8IHt9KS5hdHRycyA9IHR5cGVvZiBtLmF0dHJzID09IFwib2JqZWN0XCIgPyBtLmF0dHJzIDoge30sIG0uc2luZ2xldG9uIHx8IHR5cGVvZiBtLnNpbmdsZXRvbiA9PSBcImJvb2xlYW5cIiB8fCAobS5zaW5nbGV0b24gPSBhKCkpLCBtLmluc2VydEludG8gfHwgKG0uaW5zZXJ0SW50byA9IFwiaGVhZFwiKSwgbS5pbnNlcnRBdCB8fCAobS5pbnNlcnRBdCA9IFwiYm90dG9tXCIpO1xuICAgICAgICB2YXIgeCA9IGsodiwgbSk7XG4gICAgICAgIHJldHVybiBmKHgsIG0pLCBmdW5jdGlvbihFKSB7XG4gICAgICAgICAgZm9yICh2YXIgTSA9IFtdLCBUID0gMDsgVCA8IHgubGVuZ3RoOyBUKyspIHtcbiAgICAgICAgICAgIHZhciBQID0geFtUXTtcbiAgICAgICAgICAgIChCID0gbFtQLmlkXSkucmVmcy0tLCBNLnB1c2goQik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoRSAmJiBmKGsoRSwgbSksIG0pLCBUID0gMDsgVCA8IE0ubGVuZ3RoOyBUKyspIHtcbiAgICAgICAgICAgIHZhciBCO1xuICAgICAgICAgICAgaWYgKChCID0gTVtUXSkucmVmcyA9PT0gMCkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBZID0gMDsgWSA8IEIucGFydHMubGVuZ3RoOyBZKyspXG4gICAgICAgICAgICAgICAgQi5wYXJ0c1tZXSgpO1xuICAgICAgICAgICAgICBkZWxldGUgbFtCLmlkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgdmFyICQsIG9lID0gKCQgPSBbXSwgZnVuY3Rpb24odiwgbSkge1xuICAgICAgICByZXR1cm4gJFt2XSA9IG0sICQuZmlsdGVyKEJvb2xlYW4pLmpvaW4oYFxuYCk7XG4gICAgICB9KTtcbiAgICAgIGZ1bmN0aW9uIGZlKHYsIG0sIHgsIEUpIHtcbiAgICAgICAgdmFyIE0gPSB4ID8gXCJcIiA6IEUuY3NzO1xuICAgICAgICBpZiAodi5zdHlsZVNoZWV0KVxuICAgICAgICAgIHYuc3R5bGVTaGVldC5jc3NUZXh0ID0gb2UobSwgTSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBUID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoTSksIFAgPSB2LmNoaWxkTm9kZXM7XG4gICAgICAgICAgUFttXSAmJiB2LnJlbW92ZUNoaWxkKFBbbV0pLCBQLmxlbmd0aCA/IHYuaW5zZXJ0QmVmb3JlKFQsIFBbbV0pIDogdi5hcHBlbmRDaGlsZChUKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKHQsIG8pIHtcbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIHMgPSB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgd2luZG93LmxvY2F0aW9uO1xuICAgICAgICBpZiAoIXMpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gICAgICAgIGlmICghaSB8fCB0eXBlb2YgaSAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB2YXIgciA9IHMucHJvdG9jb2wgKyBcIi8vXCIgKyBzLmhvc3QsIGwgPSByICsgcy5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcbiAgICAgICAgcmV0dXJuIGkucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgICAgICB2YXIgdSwgaCA9IGMudHJpbSgpLnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihwLCBnKSB7XG4gICAgICAgICAgICByZXR1cm4gZztcbiAgICAgICAgICB9KS5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKHAsIGcpIHtcbiAgICAgICAgICAgIHJldHVybiBnO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiAvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KGgpID8gYSA6ICh1ID0gaC5pbmRleE9mKFwiLy9cIikgPT09IDAgPyBoIDogaC5pbmRleE9mKFwiL1wiKSA9PT0gMCA/IHIgKyBoIDogbCArIGgucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpLCBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KHUpICsgXCIpXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgdmFyIHMsIHIsIGwsIGEsIGMsIHUsIGgsIHAsIGc7XG4gICAgICB0LmV4cG9ydHMgPSAocyA9IFwiY2R4LW5vdGlmaWVzXCIsIHIgPSBcImNkeC1ub3RpZnlcIiwgbCA9IFwiY2R4LW5vdGlmeV9fY3Jvc3NcIiwgYSA9IFwiY2R4LW5vdGlmeV9fYnV0dG9uLS1jb25maXJtXCIsIGMgPSBcImNkeC1ub3RpZnlfX2J1dHRvbi0tY2FuY2VsXCIsIHUgPSBcImNkeC1ub3RpZnlfX2lucHV0XCIsIGggPSBcImNkeC1ub3RpZnlfX2J1dHRvblwiLCBwID0gXCJjZHgtbm90aWZ5X19idG5zLXdyYXBwZXJcIiwgeyBhbGVydDogZyA9IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdmFyIGsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpLCBDID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKSwgUyA9IGYubWVzc2FnZSwgXyA9IGYuc3R5bGU7XG4gICAgICAgIHJldHVybiBrLmNsYXNzTGlzdC5hZGQociksIF8gJiYgay5jbGFzc0xpc3QuYWRkKHIgKyBcIi0tXCIgKyBfKSwgay5pbm5lckhUTUwgPSBTLCBDLmNsYXNzTGlzdC5hZGQobCksIEMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGsucmVtb3ZlLmJpbmQoaykpLCBrLmFwcGVuZENoaWxkKEMpLCBrO1xuICAgICAgfSwgY29uZmlybTogZnVuY3Rpb24oZikge1xuICAgICAgICB2YXIgayA9IGcoZiksIEMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksIGVlID0gay5xdWVyeVNlbGVjdG9yKFwiLlwiICsgbCksIGogPSBmLmNhbmNlbEhhbmRsZXIsICQgPSBmLm9rSGFuZGxlcjtcbiAgICAgICAgcmV0dXJuIEMuY2xhc3NMaXN0LmFkZChwKSwgUy5pbm5lckhUTUwgPSBmLm9rVGV4dCB8fCBcIkNvbmZpcm1cIiwgXy5pbm5lckhUTUwgPSBmLmNhbmNlbFRleHQgfHwgXCJDYW5jZWxcIiwgUy5jbGFzc0xpc3QuYWRkKGgpLCBfLmNsYXNzTGlzdC5hZGQoaCksIFMuY2xhc3NMaXN0LmFkZChhKSwgXy5jbGFzc0xpc3QuYWRkKGMpLCBqICYmIHR5cGVvZiBqID09IFwiZnVuY3Rpb25cIiAmJiAoXy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaiksIGVlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBqKSksICQgJiYgdHlwZW9mICQgPT0gXCJmdW5jdGlvblwiICYmIFMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICQpLCBTLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBrLnJlbW92ZS5iaW5kKGspKSwgXy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgay5yZW1vdmUuYmluZChrKSksIEMuYXBwZW5kQ2hpbGQoUyksIEMuYXBwZW5kQ2hpbGQoXyksIGsuYXBwZW5kQ2hpbGQoQyksIGs7XG4gICAgICB9LCBwcm9tcHQ6IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgdmFyIGsgPSBnKGYpLCBDID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgUyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksIF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksIGVlID0gay5xdWVyeVNlbGVjdG9yKFwiLlwiICsgbCksIGogPSBmLmNhbmNlbEhhbmRsZXIsICQgPSBmLm9rSGFuZGxlcjtcbiAgICAgICAgcmV0dXJuIEMuY2xhc3NMaXN0LmFkZChwKSwgUy5pbm5lckhUTUwgPSBmLm9rVGV4dCB8fCBcIk9rXCIsIFMuY2xhc3NMaXN0LmFkZChoKSwgUy5jbGFzc0xpc3QuYWRkKGEpLCBfLmNsYXNzTGlzdC5hZGQodSksIGYucGxhY2Vob2xkZXIgJiYgXy5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBmLnBsYWNlaG9sZGVyKSwgZi5kZWZhdWx0ICYmIChfLnZhbHVlID0gZi5kZWZhdWx0KSwgZi5pbnB1dFR5cGUgJiYgKF8udHlwZSA9IGYuaW5wdXRUeXBlKSwgaiAmJiB0eXBlb2YgaiA9PSBcImZ1bmN0aW9uXCIgJiYgZWUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGopLCAkICYmIHR5cGVvZiAkID09IFwiZnVuY3Rpb25cIiAmJiBTLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKF8udmFsdWUpO1xuICAgICAgICB9KSwgUy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgay5yZW1vdmUuYmluZChrKSksIEMuYXBwZW5kQ2hpbGQoXyksIEMuYXBwZW5kQ2hpbGQoUyksIGsuYXBwZW5kQ2hpbGQoQyksIGs7XG4gICAgICB9LCBnZXRXcmFwcGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xuICAgICAgICByZXR1cm4gZi5jbGFzc0xpc3QuYWRkKHMpLCBmO1xuICAgICAgfSB9KTtcbiAgICB9XSk7XG4gIH0pO1xufSkoVXQpO1xudmFyIFhvID0gVXQuZXhwb3J0cztcbmNvbnN0IFZvID0gLyogQF9fUFVSRV9fICovIEZlKFhvKTtcbmNsYXNzIHFvIHtcbiAgLyoqXG4gICAqIFNob3cgd2ViIG5vdGlmaWNhdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge05vdGlmaWVyT3B0aW9ucyB8IENvbmZpcm1Ob3RpZmllck9wdGlvbnMgfCBQcm9tcHROb3RpZmllck9wdGlvbnN9IG9wdGlvbnMgLSBub3RpZmljYXRpb24gb3B0aW9uc1xuICAgKi9cbiAgc2hvdyhlKSB7XG4gICAgVm8uc2hvdyhlKTtcbiAgfVxufVxuY2xhc3MgWm8gZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLm5vdGlmaWVyID0gbmV3IHFvKCk7XG4gIH1cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvdzogKGUpID0+IHRoaXMuc2hvdyhlKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNob3cgbm90aWZpY2F0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7Tm90aWZpZXJPcHRpb25zfSBvcHRpb25zIC0gbWVzc2FnZSBvcHRpb25cbiAgICovXG4gIHNob3coZSkge1xuICAgIHJldHVybiB0aGlzLm5vdGlmaWVyLnNob3coZSk7XG4gIH1cbn1cbmNsYXNzIEdvIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgY29uc3QgZSA9ICgpID0+IHRoaXMuaXNFbmFibGVkO1xuICAgIHJldHVybiB7XG4gICAgICB0b2dnbGU6ICh0KSA9PiB0aGlzLnRvZ2dsZSh0KSxcbiAgICAgIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiBlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2V0IG9yIHRvZ2dsZSByZWFkLW9ubHkgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gc3RhdGUgLSBzZXQgb3IgdG9nZ2xlIHN0YXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBjdXJyZW50IHZhbHVlXG4gICAqL1xuICB0b2dnbGUoZSkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5SZWFkT25seS50b2dnbGUoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgY3VycmVudCByZWFkLW9ubHkgc3RhdGVcbiAgICovXG4gIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZDtcbiAgfVxufVxudmFyIGp0ID0geyBleHBvcnRzOiB7fSB9O1xuKGZ1bmN0aW9uKG4sIGUpIHtcbiAgKGZ1bmN0aW9uKHQsIG8pIHtcbiAgICBuLmV4cG9ydHMgPSBvKCk7XG4gIH0pKGtvLCBmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiB0KGgpIHtcbiAgICAgIHZhciBwID0gaC50YWdzLCBnID0gT2JqZWN0LmtleXMocCksIGYgPSBnLm1hcChmdW5jdGlvbihrKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcFtrXTtcbiAgICAgIH0pLmV2ZXJ5KGZ1bmN0aW9uKGspIHtcbiAgICAgICAgcmV0dXJuIGsgPT09IFwib2JqZWN0XCIgfHwgayA9PT0gXCJib29sZWFuXCIgfHwgayA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgfSk7XG4gICAgICBpZiAoIWYpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBjb25maWd1cmF0aW9uIHdhcyBpbnZhbGlkXCIpO1xuICAgICAgdGhpcy5jb25maWcgPSBoO1xuICAgIH1cbiAgICB2YXIgbyA9IFtcIlBcIiwgXCJMSVwiLCBcIlREXCIsIFwiVEhcIiwgXCJESVZcIiwgXCJIMVwiLCBcIkgyXCIsIFwiSDNcIiwgXCJINFwiLCBcIkg1XCIsIFwiSDZcIiwgXCJQUkVcIl07XG4gICAgZnVuY3Rpb24gaShoKSB7XG4gICAgICByZXR1cm4gby5pbmRleE9mKGgubm9kZU5hbWUpICE9PSAtMTtcbiAgICB9XG4gICAgdmFyIHMgPSBbXCJBXCIsIFwiQlwiLCBcIlNUUk9OR1wiLCBcIklcIiwgXCJFTVwiLCBcIlNVQlwiLCBcIlNVUFwiLCBcIlVcIiwgXCJTVFJJS0VcIl07XG4gICAgZnVuY3Rpb24gcihoKSB7XG4gICAgICByZXR1cm4gcy5pbmRleE9mKGgubm9kZU5hbWUpICE9PSAtMTtcbiAgICB9XG4gICAgdC5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbihoKSB7XG4gICAgICBjb25zdCBwID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCksIGcgPSBwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICByZXR1cm4gZy5pbm5lckhUTUwgPSBoLCB0aGlzLl9zYW5pdGl6ZShwLCBnKSwgZy5pbm5lckhUTUw7XG4gICAgfSwgdC5wcm90b3R5cGUuX3Nhbml0aXplID0gZnVuY3Rpb24oaCwgcCkge1xuICAgICAgdmFyIGcgPSBsKGgsIHApLCBmID0gZy5maXJzdENoaWxkKCk7XG4gICAgICBpZiAoZilcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmIChmLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSlcbiAgICAgICAgICAgIGlmIChmLmRhdGEudHJpbSgpID09PSBcIlwiICYmIChmLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgaShmLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHx8IGYubmV4dEVsZW1lbnRTaWJsaW5nICYmIGkoZi5uZXh0RWxlbWVudFNpYmxpbmcpKSkge1xuICAgICAgICAgICAgICBwLnJlbW92ZUNoaWxkKGYpLCB0aGlzLl9zYW5pdGl6ZShoLCBwKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgaWYgKGYubm9kZVR5cGUgPT09IE5vZGUuQ09NTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICBwLnJlbW92ZUNoaWxkKGYpLCB0aGlzLl9zYW5pdGl6ZShoLCBwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgayA9IHIoZiksIEM7XG4gICAgICAgICAgayAmJiAoQyA9IEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoZi5jaGlsZE5vZGVzLCBpKSk7XG4gICAgICAgICAgdmFyIFMgPSAhIXAucGFyZW50Tm9kZSwgXyA9IGkocCkgJiYgaShmKSAmJiBTLCBlZSA9IGYubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgaiA9IGEodGhpcy5jb25maWcsIGVlLCBmKSwgJCA9IGsgJiYgQztcbiAgICAgICAgICBpZiAoJCB8fCBjKGYsIGopIHx8ICF0aGlzLmNvbmZpZy5rZWVwTmVzdGVkQmxvY2tFbGVtZW50cyAmJiBfKSB7XG4gICAgICAgICAgICBpZiAoIShmLm5vZGVOYW1lID09PSBcIlNDUklQVFwiIHx8IGYubm9kZU5hbWUgPT09IFwiU1RZTEVcIikpXG4gICAgICAgICAgICAgIGZvciAoOyBmLmNoaWxkTm9kZXMubGVuZ3RoID4gMDsgKVxuICAgICAgICAgICAgICAgIHAuaW5zZXJ0QmVmb3JlKGYuY2hpbGROb2Rlc1swXSwgZik7XG4gICAgICAgICAgICBwLnJlbW92ZUNoaWxkKGYpLCB0aGlzLl9zYW5pdGl6ZShoLCBwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBvZSA9IDA7IG9lIDwgZi5hdHRyaWJ1dGVzLmxlbmd0aDsgb2UgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGZlID0gZi5hdHRyaWJ1dGVzW29lXTtcbiAgICAgICAgICAgIHUoZmUsIGosIGYpICYmIChmLnJlbW92ZUF0dHJpYnV0ZShmZS5uYW1lKSwgb2UgPSBvZSAtIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9zYW5pdGl6ZShoLCBmKTtcbiAgICAgICAgfSB3aGlsZSAoZiA9IGcubmV4dFNpYmxpbmcoKSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBsKGgsIHApIHtcbiAgICAgIHJldHVybiBoLmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgICAgIHAsXG4gICAgICAgIE5vZGVGaWx0ZXIuU0hPV19URVhUIHwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQgfCBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgITFcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGEoaCwgcCwgZykge1xuICAgICAgcmV0dXJuIHR5cGVvZiBoLnRhZ3NbcF0gPT0gXCJmdW5jdGlvblwiID8gaC50YWdzW3BdKGcpIDogaC50YWdzW3BdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjKGgsIHApIHtcbiAgICAgIHJldHVybiB0eXBlb2YgcCA+IFwidVwiID8gITAgOiB0eXBlb2YgcCA9PSBcImJvb2xlYW5cIiA/ICFwIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHUoaCwgcCwgZykge1xuICAgICAgdmFyIGYgPSBoLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiBwID09PSAhMCA/ICExIDogdHlwZW9mIHBbZl0gPT0gXCJmdW5jdGlvblwiID8gIXBbZl0oaC52YWx1ZSwgZykgOiB0eXBlb2YgcFtmXSA+IFwidVwiIHx8IHBbZl0gPT09ICExID8gITAgOiB0eXBlb2YgcFtmXSA9PSBcInN0cmluZ1wiID8gcFtmXSAhPT0gaC52YWx1ZSA6ICExO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfSk7XG59KShqdCk7XG52YXIgSm8gPSBqdC5leHBvcnRzO1xuY29uc3QgUW8gPSAvKiBAX19QVVJFX18gKi8gRmUoSm8pO1xuZnVuY3Rpb24gaXQobiwgZSkge1xuICByZXR1cm4gbi5tYXAoKHQpID0+IHtcbiAgICBjb25zdCBvID0gTyhlKSA/IGUodC50b29sKSA6IGU7XG4gICAgcmV0dXJuIFYobykgfHwgKHQuZGF0YSA9IHN0KHQuZGF0YSwgbykpLCB0O1xuICB9KTtcbn1cbmZ1bmN0aW9uIHEobiwgZSA9IHt9KSB7XG4gIGNvbnN0IHQgPSB7XG4gICAgdGFnczogZVxuICB9O1xuICByZXR1cm4gbmV3IFFvKHQpLmNsZWFuKG4pO1xufVxuZnVuY3Rpb24gc3QobiwgZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShuKSA/IGVpKG4sIGUpIDogUihuKSA/IHRpKG4sIGUpIDogUShuKSA/IG9pKG4sIGUpIDogbjtcbn1cbmZ1bmN0aW9uIGVpKG4sIGUpIHtcbiAgcmV0dXJuIG4ubWFwKCh0KSA9PiBzdCh0LCBlKSk7XG59XG5mdW5jdGlvbiB0aShuLCBlKSB7XG4gIGNvbnN0IHQgPSB7fTtcbiAgZm9yIChjb25zdCBvIGluIG4pIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCBvKSlcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IGkgPSBuW29dLCBzID0gaWkoZVtvXSkgPyBlW29dIDogZTtcbiAgICB0W29dID0gc3QoaSwgcyk7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBvaShuLCBlKSB7XG4gIHJldHVybiBSKGUpID8gcShuLCBlKSA6IGUgPT09ICExID8gcShuLCB7fSkgOiBuO1xufVxuZnVuY3Rpb24gaWkobikge1xuICByZXR1cm4gUihuKSB8fCB5byhuKSB8fCBPKG4pO1xufVxuY2xhc3Mgc2kgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtTYW5pdGl6ZXJDb25maWd9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xlYW46IChlLCB0KSA9PiB0aGlzLmNsZWFuKGUsIHQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBzYW5pdGl6aW5nIG9mIGEgc3RyaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWludFN0cmluZyAtIHdoYXQgdG8gc2FuaXRpemVcbiAgICogQHBhcmFtIHtTYW5pdGl6ZXJDb25maWd9IGNvbmZpZyAtIHNhbml0aXplciBjb25maWdcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGNsZWFuKGUsIHQpIHtcbiAgICByZXR1cm4gcShlLCB0KTtcbiAgfVxufVxuY2xhc3MgbmkgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtTYXZlcn1cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzYXZlOiAoKSA9PiB0aGlzLnNhdmUoKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBFZGl0b3IncyBkYXRhXG4gICAqXG4gICAqIEByZXR1cm5zIHtPdXRwdXREYXRhfVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICBjb25zdCBlID0gXCJFZGl0b3IncyBjb250ZW50IGNhbiBub3QgYmUgc2F2ZWQgaW4gcmVhZC1vbmx5IG1vZGVcIjtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuUmVhZE9ubHkuaXNFbmFibGVkID8gKFgoZSwgXCJ3YXJuXCIpLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoZSkpKSA6IHRoaXMuRWRpdG9yLlNhdmVyLnNhdmUoKTtcbiAgfVxufVxuY2xhc3MgcmkgZXh0ZW5kcyB5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5zZWxlY3Rpb25VdGlscyA9IG5ldyBiKCk7XG4gIH1cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtTZWxlY3Rpb25BUElJbnRlcmZhY2V9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmluZFBhcmVudFRhZzogKGUsIHQpID0+IHRoaXMuZmluZFBhcmVudFRhZyhlLCB0KSxcbiAgICAgIGV4cGFuZFRvVGFnOiAoZSkgPT4gdGhpcy5leHBhbmRUb1RhZyhlKSxcbiAgICAgIHNhdmU6ICgpID0+IHRoaXMuc2VsZWN0aW9uVXRpbHMuc2F2ZSgpLFxuICAgICAgcmVzdG9yZTogKCkgPT4gdGhpcy5zZWxlY3Rpb25VdGlscy5yZXN0b3JlKCksXG4gICAgICBzZXRGYWtlQmFja2dyb3VuZDogKCkgPT4gdGhpcy5zZWxlY3Rpb25VdGlscy5zZXRGYWtlQmFja2dyb3VuZCgpLFxuICAgICAgcmVtb3ZlRmFrZUJhY2tncm91bmQ6ICgpID0+IHRoaXMuc2VsZWN0aW9uVXRpbHMucmVtb3ZlRmFrZUJhY2tncm91bmQoKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIExvb2tzIGFoZWFkIGZyb20gc2VsZWN0aW9uIGFuZCBmaW5kIHBhc3NlZCB0YWcgd2l0aCBjbGFzcyBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIC0gdGFnIHRvIGZpbmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSAtIHRhZydzIGNsYXNzIG5hbWVcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fG51bGx9XG4gICAqL1xuICBmaW5kUGFyZW50VGFnKGUsIHQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25VdGlscy5maW5kUGFyZW50VGFnKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBFeHBhbmQgc2VsZWN0aW9uIHRvIHBhc3NlZCB0YWdcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSAtIHRhZyB0aGF0IHNob3VsZCBjb250YWluIHNlbGVjdGlvblxuICAgKi9cbiAgZXhwYW5kVG9UYWcoZSkge1xuICAgIHRoaXMuc2VsZWN0aW9uVXRpbHMuZXhwYW5kVG9UYWcoZSk7XG4gIH1cbn1cbmNsYXNzIGxpIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldEJsb2NrVG9vbHM6ICgpID0+IEFycmF5LmZyb20odGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scy52YWx1ZXMoKSlcbiAgICB9O1xuICB9XG59XG5jbGFzcyBhaSBleHRlbmRzIHkge1xuICAvKipcbiAgICogRXhwb3J0ZWQgY2xhc3Nlc1xuICAgKi9cbiAgZ2V0IGNsYXNzZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQmFzZSBCbG9jayBzdHlsZXNcbiAgICAgICAqL1xuICAgICAgYmxvY2s6IFwiY2R4LWJsb2NrXCIsXG4gICAgICAvKipcbiAgICAgICAqIElubGluZSBUb29scyBzdHlsZXNcbiAgICAgICAqL1xuICAgICAgaW5saW5lVG9vbEJ1dHRvbjogXCJjZS1pbmxpbmUtdG9vbFwiLFxuICAgICAgaW5saW5lVG9vbEJ1dHRvbkFjdGl2ZTogXCJjZS1pbmxpbmUtdG9vbC0tYWN0aXZlXCIsXG4gICAgICAvKipcbiAgICAgICAqIFVJIGVsZW1lbnRzXG4gICAgICAgKi9cbiAgICAgIGlucHV0OiBcImNkeC1pbnB1dFwiLFxuICAgICAgbG9hZGVyOiBcImNkeC1sb2FkZXJcIixcbiAgICAgIGJ1dHRvbjogXCJjZHgtYnV0dG9uXCIsXG4gICAgICAvKipcbiAgICAgICAqIFNldHRpbmdzIHN0eWxlc1xuICAgICAgICovXG4gICAgICBzZXR0aW5nc0J1dHRvbjogXCJjZHgtc2V0dGluZ3MtYnV0dG9uXCIsXG4gICAgICBzZXR0aW5nc0J1dHRvbkFjdGl2ZTogXCJjZHgtc2V0dGluZ3MtYnV0dG9uLS1hY3RpdmVcIlxuICAgIH07XG4gIH1cbn1cbmNsYXNzIGNpIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7VG9vbGJhcn1cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjbG9zZTogKCkgPT4gdGhpcy5jbG9zZSgpLFxuICAgICAgb3BlbjogKCkgPT4gdGhpcy5vcGVuKCksXG4gICAgICB0b2dnbGVCbG9ja1NldHRpbmdzOiAoZSkgPT4gdGhpcy50b2dnbGVCbG9ja1NldHRpbmdzKGUpLFxuICAgICAgdG9nZ2xlVG9vbGJveDogKGUpID0+IHRoaXMudG9nZ2xlVG9vbGJveChlKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gdG9vbGJhclxuICAgKi9cbiAgb3BlbigpIHtcbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRvb2xiYXIgYW5kIGFsbCBpbmNsdWRlZCBlbGVtZW50c1xuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIEJsb2NrIFNldHRpbmcgb2YgdGhlIGN1cnJlbnQgYmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBvcGVuaW5nU3RhdGUg4oCUICBvcGVuaW5nIHN0YXRlIG9mIEJsb2NrIFNldHRpbmdcbiAgICovXG4gIHRvZ2dsZUJsb2NrU2V0dGluZ3MoZSkge1xuICAgIGlmICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXggPT09IC0xKSB7XG4gICAgICBYKFwiQ291bGQndCB0b2dnbGUgdGhlIFRvb2xiYXIgYmVjYXVzZSB0aGVyZSBpcyBubyBibG9jayBzZWxlY3RlZCBcIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlID8/ICF0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCA/ICh0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbigpKSA6IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogT3BlbiB0b29sYm94XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3BlbmluZ1N0YXRlIC0gT3BlbmluZyBzdGF0ZSBvZiB0b29sYm94XG4gICAqL1xuICB0b2dnbGVUb29sYm94KGUpIHtcbiAgICBpZiAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9ja0luZGV4ID09PSAtMSkge1xuICAgICAgWChcIkNvdWxkJ3QgdG9nZ2xlIHRoZSBUb29sYm94IGJlY2F1c2UgdGhlcmUgaXMgbm8gYmxvY2sgc2VsZWN0ZWQgXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZSA/PyAhdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94Lm9wZW5lZCA/ICh0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5vcGVuKCkpIDogdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94LmNsb3NlKCk7XG4gIH1cbn1cbnZhciAkdCA9IHsgZXhwb3J0czoge30gfTtcbi8qIVxuICogQ29kZVguVG9vbHRpcHNcbiAqIFxuICogQHZlcnNpb24gMS4wLjVcbiAqIFxuICogQGxpY2VuY2UgTUlUXG4gKiBAYXV0aG9yIENvZGVYIDxodHRwczovL2NvZGV4LnNvPlxuICogXG4gKiBcbiAqL1xuKGZ1bmN0aW9uKG4sIGUpIHtcbiAgKGZ1bmN0aW9uKHQsIG8pIHtcbiAgICBuLmV4cG9ydHMgPSBvKCk7XG4gIH0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBvID0ge307XG4gICAgICBmdW5jdGlvbiBpKHMpIHtcbiAgICAgICAgaWYgKG9bc10pXG4gICAgICAgICAgcmV0dXJuIG9bc10uZXhwb3J0cztcbiAgICAgICAgdmFyIHIgPSBvW3NdID0geyBpOiBzLCBsOiAhMSwgZXhwb3J0czoge30gfTtcbiAgICAgICAgcmV0dXJuIHRbc10uY2FsbChyLmV4cG9ydHMsIHIsIHIuZXhwb3J0cywgaSksIHIubCA9ICEwLCByLmV4cG9ydHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaS5tID0gdCwgaS5jID0gbywgaS5kID0gZnVuY3Rpb24ocywgciwgbCkge1xuICAgICAgICBpLm8ocywgcikgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsIHIsIHsgZW51bWVyYWJsZTogITAsIGdldDogbCB9KTtcbiAgICAgIH0sIGkuciA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA8IFwidVwiICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkocywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkocywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuICAgICAgfSwgaS50ID0gZnVuY3Rpb24ocywgcikge1xuICAgICAgICBpZiAoMSAmIHIgJiYgKHMgPSBpKHMpKSwgOCAmIHIgfHwgNCAmIHIgJiYgdHlwZW9mIHMgPT0gXCJvYmplY3RcIiAmJiBzICYmIHMuX19lc01vZHVsZSlcbiAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgdmFyIGwgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKGkucihsKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGwsIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6ICEwLCB2YWx1ZTogcyB9KSwgMiAmIHIgJiYgdHlwZW9mIHMgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICBmb3IgKHZhciBhIGluIHMpXG4gICAgICAgICAgICBpLmQobCwgYSwgKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNbY107XG4gICAgICAgICAgICB9KS5iaW5kKG51bGwsIGEpKTtcbiAgICAgICAgcmV0dXJuIGw7XG4gICAgICB9LCBpLm4gPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHZhciByID0gcyAmJiBzLl9fZXNNb2R1bGUgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gcy5kZWZhdWx0O1xuICAgICAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpLmQociwgXCJhXCIsIHIpLCByO1xuICAgICAgfSwgaS5vID0gZnVuY3Rpb24ocywgcikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHIpO1xuICAgICAgfSwgaS5wID0gXCJcIiwgaShpLnMgPSAwKTtcbiAgICB9KFtmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB0LmV4cG9ydHMgPSBpKDEpO1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIGkucihvKSwgaS5kKG8sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgICB9KTtcbiAgICAgIGNsYXNzIHMge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICB0aGlzLm5vZGVzID0geyB3cmFwcGVyOiBudWxsLCBjb250ZW50OiBudWxsIH0sIHRoaXMuc2hvd2VkID0gITEsIHRoaXMub2Zmc2V0VG9wID0gMTAsIHRoaXMub2Zmc2V0TGVmdCA9IDEwLCB0aGlzLm9mZnNldFJpZ2h0ID0gMTAsIHRoaXMuaGlkaW5nRGVsYXkgPSAwLCB0aGlzLmhhbmRsZVdpbmRvd1Njcm9sbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd2VkICYmIHRoaXMuaGlkZSghMCk7XG4gICAgICAgICAgfSwgdGhpcy5sb2FkU3R5bGVzKCksIHRoaXMucHJlcGFyZSgpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLmhhbmRsZVdpbmRvd1Njcm9sbCwgeyBwYXNzaXZlOiAhMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgQ1NTKCkge1xuICAgICAgICAgIHJldHVybiB7IHRvb2x0aXA6IFwiY3RcIiwgdG9vbHRpcENvbnRlbnQ6IFwiY3RfX2NvbnRlbnRcIiwgdG9vbHRpcFNob3duOiBcImN0LS1zaG93blwiLCBwbGFjZW1lbnQ6IHsgbGVmdDogXCJjdC0tbGVmdFwiLCBib3R0b206IFwiY3QtLWJvdHRvbVwiLCByaWdodDogXCJjdC0tcmlnaHRcIiwgdG9wOiBcImN0LS10b3BcIiB9IH07XG4gICAgICAgIH1cbiAgICAgICAgc2hvdyhsLCBhLCBjKSB7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyIHx8IHRoaXMucHJlcGFyZSgpLCB0aGlzLmhpZGluZ1RpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMuaGlkaW5nVGltZW91dCk7XG4gICAgICAgICAgY29uc3QgdSA9IE9iamVjdC5hc3NpZ24oeyBwbGFjZW1lbnQ6IFwiYm90dG9tXCIsIG1hcmdpblRvcDogMCwgbWFyZ2luTGVmdDogMCwgbWFyZ2luUmlnaHQ6IDAsIG1hcmdpbkJvdHRvbTogMCwgZGVsYXk6IDcwLCBoaWRpbmdEZWxheTogMCB9LCBjKTtcbiAgICAgICAgICBpZiAodS5oaWRpbmdEZWxheSAmJiAodGhpcy5oaWRpbmdEZWxheSA9IHUuaGlkaW5nRGVsYXkpLCB0aGlzLm5vZGVzLmNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIiwgdHlwZW9mIGEgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHRoaXMubm9kZXMuY29udGVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIShhIGluc3RhbmNlb2YgTm9kZSkpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFwiW0NvZGVYIFRvb2x0aXBdIFdyb25nIHR5cGUgb2Ygwqtjb250ZW50wrsgcGFzc2VkLiBJdCBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgTm9kZSBvciBTdHJpbmcuIEJ1dCBcIiArIHR5cGVvZiBhICsgXCIgZ2l2ZW4uXCIpO1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5jb250ZW50LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKC4uLk9iamVjdC52YWx1ZXModGhpcy5DU1MucGxhY2VtZW50KSksIHUucGxhY2VtZW50KSB7XG4gICAgICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgICAgIHRoaXMucGxhY2VUb3AobCwgdSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICAgICAgdGhpcy5wbGFjZUxlZnQobCwgdSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgIHRoaXMucGxhY2VSaWdodChsLCB1KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aGlzLnBsYWNlQm90dG9tKGwsIHUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1ICYmIHUuZGVsYXkgPyB0aGlzLnNob3dpbmdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy50b29sdGlwU2hvd24pLCB0aGlzLnNob3dlZCA9ICEwO1xuICAgICAgICAgIH0sIHUuZGVsYXkpIDogKHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnRvb2x0aXBTaG93biksIHRoaXMuc2hvd2VkID0gITApO1xuICAgICAgICB9XG4gICAgICAgIGhpZGUobCA9ICExKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaGlkaW5nRGVsYXkgJiYgIWwpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaWRpbmdUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLmhpZGluZ1RpbWVvdXQpLCB2b2lkICh0aGlzLmhpZGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5oaWRlKCEwKTtcbiAgICAgICAgICAgIH0sIHRoaXMuaGlkaW5nRGVsYXkpKTtcbiAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy50b29sdGlwU2hvd24pLCB0aGlzLnNob3dlZCA9ICExLCB0aGlzLnNob3dpbmdUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnNob3dpbmdUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBvbkhvdmVyKGwsIGEsIGMpIHtcbiAgICAgICAgICBsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvdyhsLCBhLCBjKTtcbiAgICAgICAgICB9KSwgbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkZXN0cm95KCkge1xuICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlci5yZW1vdmUoKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5oYW5kbGVXaW5kb3dTY3JvbGwpO1xuICAgICAgICB9XG4gICAgICAgIHByZXBhcmUoKSB7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyID0gdGhpcy5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnRvb2x0aXApLCB0aGlzLm5vZGVzLmNvbnRlbnQgPSB0aGlzLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MudG9vbHRpcENvbnRlbnQpLCB0aGlzLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMuY29udGVudCksIHRoaXMuYXBwZW5kKGRvY3VtZW50LmJvZHksIHRoaXMubm9kZXMud3JhcHBlcik7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZFN0eWxlcygpIHtcbiAgICAgICAgICBjb25zdCBsID0gXCJjb2RleC10b29sdGlwcy1zdHlsZVwiO1xuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBhID0gaSgyKSwgYyA9IHRoaXMubWFrZShcInN0eWxlXCIsIG51bGwsIHsgdGV4dENvbnRlbnQ6IGEudG9TdHJpbmcoKSwgaWQ6IGwgfSk7XG4gICAgICAgICAgdGhpcy5wcmVwZW5kKGRvY3VtZW50LmhlYWQsIGMpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlQm90dG9tKGwsIGEpIHtcbiAgICAgICAgICBjb25zdCBjID0gbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdSA9IGMubGVmdCArIGwuY2xpZW50V2lkdGggLyAyIC0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldFdpZHRoIC8gMiwgaCA9IGMuYm90dG9tICsgd2luZG93LnBhZ2VZT2Zmc2V0ICsgdGhpcy5vZmZzZXRUb3AgKyBhLm1hcmdpblRvcDtcbiAgICAgICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KFwiYm90dG9tXCIsIHUsIGgpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlVG9wKGwsIGEpIHtcbiAgICAgICAgICBjb25zdCBjID0gbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdSA9IGMubGVmdCArIGwuY2xpZW50V2lkdGggLyAyIC0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldFdpZHRoIC8gMiwgaCA9IGMudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gdGhpcy5ub2Rlcy53cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMub2Zmc2V0VG9wO1xuICAgICAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoXCJ0b3BcIiwgdSwgaCk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhY2VMZWZ0KGwsIGEpIHtcbiAgICAgICAgICBjb25zdCBjID0gbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdSA9IGMubGVmdCAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRXaWR0aCAtIHRoaXMub2Zmc2V0TGVmdCAtIGEubWFyZ2luTGVmdCwgaCA9IGMudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0ICsgbC5jbGllbnRIZWlnaHQgLyAyIC0gdGhpcy5ub2Rlcy53cmFwcGVyLm9mZnNldEhlaWdodCAvIDI7XG4gICAgICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChcImxlZnRcIiwgdSwgaCk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhY2VSaWdodChsLCBhKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHUgPSBjLnJpZ2h0ICsgdGhpcy5vZmZzZXRSaWdodCArIGEubWFyZ2luUmlnaHQsIGggPSBjLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCArIGwuY2xpZW50SGVpZ2h0IC8gMiAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRIZWlnaHQgLyAyO1xuICAgICAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoXCJyaWdodFwiLCB1LCBoKTtcbiAgICAgICAgfVxuICAgICAgICBhcHBseVBsYWNlbWVudChsLCBhLCBjKSB7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MucGxhY2VtZW50W2xdKSwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLmxlZnQgPSBhICsgXCJweFwiLCB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gYyArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBtYWtlKGwsIGEgPSBudWxsLCBjID0ge30pIHtcbiAgICAgICAgICBjb25zdCB1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChsKTtcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGEpID8gdS5jbGFzc0xpc3QuYWRkKC4uLmEpIDogYSAmJiB1LmNsYXNzTGlzdC5hZGQoYSk7XG4gICAgICAgICAgZm9yIChjb25zdCBoIGluIGMpXG4gICAgICAgICAgICBjLmhhc093blByb3BlcnR5KGgpICYmICh1W2hdID0gY1toXSk7XG4gICAgICAgICAgcmV0dXJuIHU7XG4gICAgICAgIH1cbiAgICAgICAgYXBwZW5kKGwsIGEpIHtcbiAgICAgICAgICBBcnJheS5pc0FycmF5KGEpID8gYS5mb3JFYWNoKChjKSA9PiBsLmFwcGVuZENoaWxkKGMpKSA6IGwuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJlcGVuZChsLCBhKSB7XG4gICAgICAgICAgQXJyYXkuaXNBcnJheShhKSA/IChhID0gYS5yZXZlcnNlKCkpLmZvckVhY2goKGMpID0+IGwucHJlcGVuZChjKSkgOiBsLnByZXBlbmQoYSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbih0LCBvKSB7XG4gICAgICB0LmV4cG9ydHMgPSBgLmN0e3otaW5kZXg6OTk5O29wYWNpdHk6MDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7cG9pbnRlci1ldmVudHM6bm9uZTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSA1MG1zIGVhc2UtaW4sLXdlYmtpdC10cmFuc2Zvcm0gNzBtcyBjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTt0cmFuc2l0aW9uOm9wYWNpdHkgNTBtcyBlYXNlLWluLC13ZWJraXQtdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7dHJhbnNpdGlvbjpvcGFjaXR5IDUwbXMgZWFzZS1pbix0cmFuc2Zvcm0gNzBtcyBjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTt0cmFuc2l0aW9uOm9wYWNpdHkgNTBtcyBlYXNlLWluLHRyYW5zZm9ybSA3MG1zIGN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpLC13ZWJraXQtdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7d2lsbC1jaGFuZ2U6b3BhY2l0eSx0b3AsbGVmdDstd2Via2l0LWJveC1zaGFkb3c6MCA4cHggMTJweCAwIHJnYmEoMjksMzIsNDMsLjE3KSwwIDRweCA1cHggLTNweCByZ2JhKDUsNiwxMiwuNDkpO2JveC1zaGFkb3c6MCA4cHggMTJweCAwIHJnYmEoMjksMzIsNDMsLjE3KSwwIDRweCA1cHggLTNweCByZ2JhKDUsNiwxMiwuNDkpO2JvcmRlci1yYWRpdXM6OXB4fS5jdCwuY3Q6YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MH0uY3Q6YmVmb3Jle2NvbnRlbnQ6XCJcIjtib3R0b206MDtyaWdodDowO2JhY2tncm91bmQtY29sb3I6IzFkMjAyYjt6LWluZGV4Oi0xO2JvcmRlci1yYWRpdXM6NHB4fUBzdXBwb3J0cygtd2Via2l0LW1hc2stYm94LWltYWdlOnVybChcIlwiKSl7LmN0OmJlZm9yZXtib3JkZXItcmFkaXVzOjA7LXdlYmtpdC1tYXNrLWJveC1pbWFnZTp1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiPjxwYXRoIGQ9XCJNMTAuNzEgMGgyLjU4YzMuMDIgMCA0LjY0LjQyIDYuMSAxLjJhOC4xOCA4LjE4IDAgMDEzLjQgMy40QzIzLjYgNi4wNyAyNCA3LjcgMjQgMTAuNzF2Mi41OGMwIDMuMDItLjQyIDQuNjQtMS4yIDYuMWE4LjE4IDguMTggMCAwMS0zLjQgMy40Yy0xLjQ3LjgtMy4xIDEuMjEtNi4xMSAxLjIxSDEwLjdjLTMuMDIgMC00LjY0LS40Mi02LjEtMS4yYTguMTggOC4xOCAwIDAxLTMuNC0zLjRDLjQgMTcuOTMgMCAxNi4zIDAgMTMuMjlWMTAuN2MwLTMuMDIuNDItNC42NCAxLjItNi4xYTguMTggOC4xOCAwIDAxMy40LTMuNEM2LjA3LjQgNy43IDAgMTAuNzEgMHpcIi8+PC9zdmc+JykgNDglIDQxJSAzNy45JSA1My4zJX19QG1lZGlhICgtLW1vYmlsZSl7LmN0e2Rpc3BsYXk6bm9uZX19LmN0X19jb250ZW50e3BhZGRpbmc6NnB4IDEwcHg7Y29sb3I6I2NkZDFlMDtmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOmNlbnRlcjtsZXR0ZXItc3BhY2luZzouMDJlbTtsaW5lLWhlaWdodDoxZW19LmN0OmFmdGVye2NvbnRlbnQ6XCJcIjt3aWR0aDo4cHg7aGVpZ2h0OjhweDtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiMxZDIwMmI7ei1pbmRleDotMX0uY3QtLWJvdHRvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoNXB4KX0uY3QtLWJvdHRvbTphZnRlcnt0b3A6LTNweDtsZWZ0OjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHJvdGF0ZSgtNDVkZWcpfS5jdC0tdG9wey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTVweCl9LmN0LS10b3A6YWZ0ZXJ7dG9wOmF1dG87Ym90dG9tOi0zcHg7bGVmdDo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLWxlZnR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNXB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNXB4KX0uY3QtLWxlZnQ6YWZ0ZXJ7dG9wOjUwJTtsZWZ0OmF1dG87cmlnaHQ6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoNDEuNiUsLTUwJSkgcm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZSg0MS42JSwtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLXJpZ2h0ey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoNXB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCg1cHgpfS5jdC0tcmlnaHQ6YWZ0ZXJ7dG9wOjUwJTtsZWZ0OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKC00MS42JSwtNTAlKSByb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlKC00MS42JSwtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLXNob3due29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpub25lO3RyYW5zZm9ybTpub25lfWA7XG4gICAgfV0pLmRlZmF1bHQ7XG4gIH0pO1xufSkoJHQpO1xudmFyIGRpID0gJHQuZXhwb3J0cztcbmNvbnN0IGhpID0gLyogQF9fUFVSRV9fICovIEZlKGRpKTtcbmxldCBVID0gbnVsbDtcbmZ1bmN0aW9uIG50KCkge1xuICBVIHx8IChVID0gbmV3IGhpKCkpO1xufVxuZnVuY3Rpb24gdWkobiwgZSwgdCkge1xuICBudCgpLCBVID09IG51bGwgfHwgVS5zaG93KG4sIGUsIHQpO1xufVxuZnVuY3Rpb24gTmUobiA9ICExKSB7XG4gIG50KCksIFUgPT0gbnVsbCB8fCBVLmhpZGUobik7XG59XG5mdW5jdGlvbiBQZShuLCBlLCB0KSB7XG4gIG50KCksIFUgPT0gbnVsbCB8fCBVLm9uSG92ZXIobiwgZSwgdCk7XG59XG5mdW5jdGlvbiBwaSgpIHtcbiAgVSA9PSBudWxsIHx8IFUuZGVzdHJveSgpLCBVID0gbnVsbDtcbn1cbmNsYXNzIGZpIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24gLSBNb2R1bGUgQ29uZmlndXJhdGlvblxuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5jb25maWcgLSBFZGl0b3IncyBjb25maWdcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uZXZlbnRzRGlzcGF0Y2hlciAtIEVkaXRvcidzIGV2ZW50IGRpc3BhdGNoZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnOiBlLCBldmVudHNEaXNwYXRjaGVyOiB0IH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBjb25maWc6IGUsXG4gICAgICBldmVudHNEaXNwYXRjaGVyOiB0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvdzogKGUsIHQsIG8pID0+IHRoaXMuc2hvdyhlLCB0LCBvKSxcbiAgICAgIGhpZGU6ICgpID0+IHRoaXMuaGlkZSgpLFxuICAgICAgb25Ib3ZlcjogKGUsIHQsIG8pID0+IHRoaXMub25Ib3ZlcihlLCB0LCBvKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZCBzaG93IHRvb2x0aXAgb24gZWxlbWVudCB3aXRoIHBhc3NlZCBIVE1MIGNvbnRlbnRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgb24gd2hpY2ggdG9vbHRpcCBzaG91bGQgYmUgc2hvd25cbiAgICogQHBhcmFtIHtUb29sdGlwQ29udGVudH0gY29udGVudCAtIHRvb2x0aXAgY29udGVudFxuICAgKiBAcGFyYW0ge1Rvb2x0aXBPcHRpb25zfSBvcHRpb25zIC0gdG9vbHRpcCBvcHRpb25zXG4gICAqL1xuICBzaG93KGUsIHQsIG8pIHtcbiAgICB1aShlLCB0LCBvKTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIGhpZGVzIHRvb2x0aXAgb24gSFRNTCBwYWdlXG4gICAqL1xuICBoaWRlKCkge1xuICAgIE5lKCk7XG4gIH1cbiAgLyoqXG4gICAqIERlY29yYXRvciBmb3Igc2hvd2luZyBUb29sdGlwIGJ5IG1vdXNlZW50ZXIvbW91c2VsZWF2ZVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCBvbiB3aGljaCB0b29sdGlwIHNob3VsZCBiZSBzaG93blxuICAgKiBAcGFyYW0ge1Rvb2x0aXBDb250ZW50fSBjb250ZW50IC0gdG9vbHRpcCBjb250ZW50XG4gICAqIEBwYXJhbSB7VG9vbHRpcE9wdGlvbnN9IG9wdGlvbnMgLSB0b29sdGlwIG9wdGlvbnNcbiAgICovXG4gIG9uSG92ZXIoZSwgdCwgbykge1xuICAgIFBlKGUsIHQsIG8pO1xuICB9XG59XG5jbGFzcyBnaSBleHRlbmRzIHkge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHMgLyBnZXR0ZXJzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZXM6IHRoaXMuZWRpdG9yTm9kZXNcbiAgICAgIC8qKlxuICAgICAgICogVGhlcmUgY2FuIGJlIGFkZGVkIHNvbWUgVUkgbWV0aG9kcywgbGlrZSB0b2dnbGVUaGluTW9kZSgpIGV0Y1xuICAgICAgICovXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRXhwb3J0ZWQgY2xhc3Nlc1xuICAgKi9cbiAgZ2V0IGVkaXRvck5vZGVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFRvcC1sZXZlbCBlZGl0b3IgaW5zdGFuY2Ugd3JhcHBlclxuICAgICAgICovXG4gICAgICB3cmFwcGVyOiB0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyLFxuICAgICAgLyoqXG4gICAgICAgKiBFbGVtZW50IHRoYXQgaG9sZHMgYWxsIHRoZSBCbG9ja3NcbiAgICAgICAqL1xuICAgICAgcmVkYWN0b3I6IHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gWXQobiwgZSkge1xuICBjb25zdCB0ID0ge307XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhuKS5mb3JFYWNoKChbbywgaV0pID0+IHtcbiAgICBpZiAoUihpKSkge1xuICAgICAgY29uc3QgcyA9IGUgPyBgJHtlfS4ke299YCA6IG87XG4gICAgICBPYmplY3QudmFsdWVzKGkpLmV2ZXJ5KChsKSA9PiBRKGwpKSA/IHRbb10gPSBzIDogdFtvXSA9IFl0KGksIHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0W29dID0gaTtcbiAgfSksIHQ7XG59XG5jb25zdCBLID0gWXQoX3QpO1xuZnVuY3Rpb24gbWkobiwgZSkge1xuICBjb25zdCB0ID0ge307XG4gIHJldHVybiBPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChvKSA9PiB7XG4gICAgY29uc3QgaSA9IGVbb107XG4gICAgaSAhPT0gdm9pZCAwID8gdFtpXSA9IG5bb10gOiB0W29dID0gbltvXTtcbiAgfSksIHQ7XG59XG5jb25zdCBXdCA9IGNsYXNzIHZlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnRbXX0gbm9kZUxpc3Qg4oCUIHRoZSBsaXN0IG9mIGl0ZXJhYmxlIEhUTUwtaXRlbXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZvY3VzZWRDc3NDbGFzcyAtIHVzZXItcHJvdmlkZWQgQ1NTLWNsYXNzIHRoYXQgd2lsbCBiZSBzZXQgaW4gZmxpcHBpbmcgcHJvY2Vzc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHRoaXMuY3Vyc29yID0gLTEsIHRoaXMuaXRlbXMgPSBbXSwgdGhpcy5pdGVtcyA9IGUgfHwgW10sIHRoaXMuZm9jdXNlZENzc0NsYXNzID0gdDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBGb2N1c2VkIGJ1dHRvbiBOb2RlXG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGdldCBjdXJyZW50SXRlbSgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09IC0xID8gbnVsbCA6IHRoaXMuaXRlbXNbdGhpcy5jdXJzb3JdO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGN1cnNvciB0byBzcGVjaWZpZWQgcG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIGN1cnNvclBvc2l0aW9uIC0gbmV3IGN1cnNvciBwb3NpdGlvblxuICAgKi9cbiAgc2V0Q3Vyc29yKGUpIHtcbiAgICBlIDwgdGhpcy5pdGVtcy5sZW5ndGggJiYgZSA+PSAtMSAmJiAodGhpcy5kcm9wQ3Vyc29yKCksIHRoaXMuY3Vyc29yID0gZSwgdGhpcy5pdGVtc1t0aGlzLmN1cnNvcl0uY2xhc3NMaXN0LmFkZCh0aGlzLmZvY3VzZWRDc3NDbGFzcykpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGl0ZW1zLiBDYW4gYmUgdXNlZCB3aGVuIGl0ZXJhYmxlIGl0ZW1zIGNoYW5nZWQgZHluYW1pY2FsbHlcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudFtdfSBub2RlTGlzdCAtIG5vZGVzIHRvIGl0ZXJhdGVcbiAgICovXG4gIHNldEl0ZW1zKGUpIHtcbiAgICB0aGlzLml0ZW1zID0gZTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBjdXJzb3IgbmV4dCB0byB0aGUgY3VycmVudFxuICAgKi9cbiAgbmV4dCgpIHtcbiAgICB0aGlzLmN1cnNvciA9IHRoaXMubGVhZk5vZGVzQW5kUmV0dXJuSW5kZXgodmUuZGlyZWN0aW9ucy5SSUdIVCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgY3Vyc29yIGJlZm9yZSBjdXJyZW50XG4gICAqL1xuICBwcmV2aW91cygpIHtcbiAgICB0aGlzLmN1cnNvciA9IHRoaXMubGVhZk5vZGVzQW5kUmV0dXJuSW5kZXgodmUuZGlyZWN0aW9ucy5MRUZUKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBjdXJzb3IgdG8gdGhlIGRlZmF1bHQgcG9zaXRpb24gYW5kIHJlbW92ZXMgQ1NTLWNsYXNzIGZyb20gcHJldmlvdXNseSBmb2N1c2VkIGl0ZW1cbiAgICovXG4gIGRyb3BDdXJzb3IoKSB7XG4gICAgdGhpcy5jdXJzb3IgIT09IC0xICYmICh0aGlzLml0ZW1zW3RoaXMuY3Vyc29yXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZm9jdXNlZENzc0NsYXNzKSwgdGhpcy5jdXJzb3IgPSAtMSk7XG4gIH1cbiAgLyoqXG4gICAqIExlYWZzIG5vZGVzIGluc2lkZSB0aGUgdGFyZ2V0IGxpc3QgZnJvbSBhY3RpdmUgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uIC0gbGVhZiBkaXJlY3Rpb24uIENhbiBiZSAnbGVmdCcgb3IgJ3JpZ2h0J1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBpbmRleCBvZiBmb2N1c2VkIG5vZGVcbiAgICovXG4gIGxlYWZOb2Rlc0FuZFJldHVybkluZGV4KGUpIHtcbiAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5jdXJzb3I7XG4gICAgbGV0IHQgPSB0aGlzLmN1cnNvcjtcbiAgICByZXR1cm4gdCA9PT0gLTEgPyB0ID0gZSA9PT0gdmUuZGlyZWN0aW9ucy5SSUdIVCA/IC0xIDogMCA6IHRoaXMuaXRlbXNbdF0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmZvY3VzZWRDc3NDbGFzcyksIGUgPT09IHZlLmRpcmVjdGlvbnMuUklHSFQgPyB0ID0gKHQgKyAxKSAlIHRoaXMuaXRlbXMubGVuZ3RoIDogdCA9ICh0aGlzLml0ZW1zLmxlbmd0aCArIHQgLSAxKSAlIHRoaXMuaXRlbXMubGVuZ3RoLCBkLmNhblNldENhcmV0KHRoaXMuaXRlbXNbdF0pICYmIE9lKCgpID0+IGIuc2V0Q3Vyc29yKHRoaXMuaXRlbXNbdF0pLCA1MCkoKSwgdGhpcy5pdGVtc1t0XS5jbGFzc0xpc3QuYWRkKHRoaXMuZm9jdXNlZENzc0NsYXNzKSwgdDtcbiAgfVxufTtcbld0LmRpcmVjdGlvbnMgPSB7XG4gIFJJR0hUOiBcInJpZ2h0XCIsXG4gIExFRlQ6IFwibGVmdFwiXG59O1xubGV0IG1lID0gV3Q7XG5jbGFzcyBsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGRpZmZlcmVudCBjb25zdHJ1Y3Rpbmcgc2V0dGluZ3NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLml0ZXJhdG9yID0gbnVsbCwgdGhpcy5hY3RpdmF0ZWQgPSAhMSwgdGhpcy5mbGlwQ2FsbGJhY2tzID0gW10sIHRoaXMub25LZXlEb3duID0gKHQpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzRXZlbnRSZWFkeUZvckhhbmRsaW5nKHQpKVxuICAgICAgICBzd2l0Y2ggKGxlLnVzZWRLZXlzLmluY2x1ZGVzKHQua2V5Q29kZSkgJiYgdC5wcmV2ZW50RGVmYXVsdCgpLCB0LmtleUNvZGUpIHtcbiAgICAgICAgICBjYXNlIHcuVEFCOlxuICAgICAgICAgICAgdGhpcy5oYW5kbGVUYWJQcmVzcyh0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2Ugdy5MRUZUOlxuICAgICAgICAgIGNhc2Ugdy5VUDpcbiAgICAgICAgICAgIHRoaXMuZmxpcExlZnQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2Ugdy5SSUdIVDpcbiAgICAgICAgICBjYXNlIHcuRE9XTjpcbiAgICAgICAgICAgIHRoaXMuZmxpcFJpZ2h0KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHcuRU5URVI6XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVudGVyUHJlc3ModCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0sIHRoaXMuaXRlcmF0b3IgPSBuZXcgbWUoZS5pdGVtcywgZS5mb2N1c2VkSXRlbUNsYXNzKSwgdGhpcy5hY3RpdmF0ZUNhbGxiYWNrID0gZS5hY3RpdmF0ZUNhbGxiYWNrLCB0aGlzLmFsbG93ZWRLZXlzID0gZS5hbGxvd2VkS2V5cyB8fCBsZS51c2VkS2V5cztcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBmbGlwcGVyIGlzIGN1cnJlbnRseSBhY3RpdmF0ZWRcbiAgICovXG4gIGdldCBpc0FjdGl2YXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmF0ZWQ7XG4gIH1cbiAgLyoqXG4gICAqIEFycmF5IG9mIGtleXMgKGNvZGVzKSB0aGF0IGlzIGhhbmRsZWQgYnkgRmxpcHBlclxuICAgKiBVc2VkIHRvOlxuICAgKiAgLSBwcmV2ZW50RGVmYXVsdCBvbmx5IGZvciB0aGlzIGtleXMsIG5vdCBhbGwga2V5ZG93bnMgKEBzZWUgY29uc3RydWN0b3IpXG4gICAqICAtIHRvIHNraXAgZXh0ZXJuYWwgYmVoYXZpb3VycyBvbmx5IGZvciB0aGVzZSBrZXlzLCB3aGVuIGZpbGxlciBpcyBhY3RpdmF0ZWQgKEBzZWUgQmxvY2tFdmVudHNAYXJyb3dSaWdodEFuZERvd24pXG4gICAqL1xuICBzdGF0aWMgZ2V0IHVzZWRLZXlzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB3LlRBQixcbiAgICAgIHcuTEVGVCxcbiAgICAgIHcuUklHSFQsXG4gICAgICB3LkVOVEVSLFxuICAgICAgdy5VUCxcbiAgICAgIHcuRE9XTlxuICAgIF07XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2ZSB0YWIvYXJyb3dzIGhhbmRsaW5nIGJ5IGZsaXBwZXJcbiAgICpcbiAgICogQHBhcmFtIGl0ZW1zIC0gU29tZSBtb2R1bGVzIChsaWtlLCBJbmxpbmVUb29sYmFyLCBCbG9ja1NldHRpbmdzKSBtaWdodCByZWZyZXNoIGJ1dHRvbnMgZHluYW1pY2FsbHlcbiAgICogQHBhcmFtIGN1cnNvclBvc2l0aW9uIC0gaW5kZXggb2YgdGhlIGl0ZW0gdGhhdCBzaG91bGQgYmUgZm9jdXNlZCBvbmNlIGZsaXBwZXIgaXMgYWN0aXZhdGVkXG4gICAqL1xuICBhY3RpdmF0ZShlLCB0KSB7XG4gICAgdGhpcy5hY3RpdmF0ZWQgPSAhMCwgZSAmJiB0aGlzLml0ZXJhdG9yLnNldEl0ZW1zKGUpLCB0ICE9PSB2b2lkIDAgJiYgdGhpcy5pdGVyYXRvci5zZXRDdXJzb3IodCksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25LZXlEb3duLCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGUgdGFiL2Fycm93cyBoYW5kbGluZyBieSBmbGlwcGVyXG4gICAqL1xuICBkZWFjdGl2YXRlKCkge1xuICAgIHRoaXMuYWN0aXZhdGVkID0gITEsIHRoaXMuZHJvcEN1cnNvcigpLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93bik7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzIGZpcnN0IGl0ZW1cbiAgICovXG4gIGZvY3VzRmlyc3QoKSB7XG4gICAgdGhpcy5kcm9wQ3Vyc29yKCksIHRoaXMuZmxpcFJpZ2h0KCk7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzZXMgcHJldmlvdXMgZmxpcHBlciBpdGVyYXRvciBpdGVtXG4gICAqL1xuICBmbGlwTGVmdCgpIHtcbiAgICB0aGlzLml0ZXJhdG9yLnByZXZpb3VzKCksIHRoaXMuZmxpcENhbGxiYWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzZXMgbmV4dCBmbGlwcGVyIGl0ZXJhdG9yIGl0ZW1cbiAgICovXG4gIGZsaXBSaWdodCgpIHtcbiAgICB0aGlzLml0ZXJhdG9yLm5leHQoKSwgdGhpcy5mbGlwQ2FsbGJhY2soKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRydWUgaWYgc29tZSBidXR0b24gaXMgZm9jdXNlZFxuICAgKi9cbiAgaGFzRm9jdXMoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbTtcbiAgfVxuICAvKipcbiAgICogUmVnaXN0ZXJlcyBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBleGVjdXRlZCBvbiBlYWNoIG5hdmlnYXRpb24gYWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBjYiAtIGZ1bmN0aW9uIHRvIGV4ZWN1dGVcbiAgICovXG4gIG9uRmxpcChlKSB7XG4gICAgdGhpcy5mbGlwQ2FsbGJhY2tzLnB1c2goZSk7XG4gIH1cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJlcyBmdW5jdGlvbiB0aGF0IGlzIGV4ZWN1dGVkIG9uIGVhY2ggbmF2aWdhdGlvbiBhY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIGNiIC0gZnVuY3Rpb24gdG8gc3RvcCBleGVjdXRpbmdcbiAgICovXG4gIHJlbW92ZU9uRmxpcChlKSB7XG4gICAgdGhpcy5mbGlwQ2FsbGJhY2tzID0gdGhpcy5mbGlwQ2FsbGJhY2tzLmZpbHRlcigodCkgPT4gdCAhPT0gZSk7XG4gIH1cbiAgLyoqXG4gICAqIERyb3BzIGZsaXBwZXIncyBpdGVyYXRvciBjdXJzb3JcbiAgICpcbiAgICogQHNlZSBEb21JdGVyYXRvciNkcm9wQ3Vyc29yXG4gICAqL1xuICBkcm9wQ3Vyc29yKCkge1xuICAgIHRoaXMuaXRlcmF0b3IuZHJvcEN1cnNvcigpO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGZpcmVkIGJlZm9yZSBoYW5kbGluZyBmbGlwcGVyIGtleWNvZGVzXG4gICAqIFRoZSByZXN1bHQgb2YgdGhpcyBmdW5jdGlvbiBkZWZpbmVzIGlmIGl0IGlzIG5lZWQgdG8gYmUgaGFuZGxlZCBvciBub3RcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWRvd24ga2V5Ym9hcmQgZXZlbnRcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0V2ZW50UmVhZHlGb3JIYW5kbGluZyhlKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkICYmIHRoaXMuYWxsb3dlZEtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiBmbGlwcGVyIGlzIGFjdGl2YXRlZCB0YWIgcHJlc3Mgd2lsbCBsZWFmIHRoZSBpdGVtc1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0gdGFiIGtleWRvd24gZXZlbnRcbiAgICovXG4gIGhhbmRsZVRhYlByZXNzKGUpIHtcbiAgICBzd2l0Y2ggKGUuc2hpZnRLZXkgPyBtZS5kaXJlY3Rpb25zLkxFRlQgOiBtZS5kaXJlY3Rpb25zLlJJR0hUKSB7XG4gICAgICBjYXNlIG1lLmRpcmVjdGlvbnMuUklHSFQ6XG4gICAgICAgIHRoaXMuZmxpcFJpZ2h0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBtZS5kaXJlY3Rpb25zLkxFRlQ6XG4gICAgICAgIHRoaXMuZmxpcExlZnQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFbnRlciBwcmVzcyB3aWxsIGNsaWNrIGN1cnJlbnQgaXRlbSBpZiBmbGlwcGVyIGlzIGFjdGl2YXRlZFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0gZW50ZXIga2V5ZG93biBldmVudFxuICAgKi9cbiAgaGFuZGxlRW50ZXJQcmVzcyhlKSB7XG4gICAgdGhpcy5hY3RpdmF0ZWQgJiYgKHRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW0gJiYgKGUuc3RvcFByb3BhZ2F0aW9uKCksIGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbS5jbGljaygpKSwgTyh0aGlzLmFjdGl2YXRlQ2FsbGJhY2spICYmIHRoaXMuYWN0aXZhdGVDYWxsYmFjayh0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpcmVkIGFmdGVyIGZsaXBwaW5nIGluIGFueSBkaXJlY3Rpb25cbiAgICovXG4gIGZsaXBDYWxsYmFjaygpIHtcbiAgICB0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtICYmIHRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW0uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpLCB0aGlzLmZsaXBDYWxsYmFja3MuZm9yRWFjaCgoZSkgPT4gZSgpKTtcbiAgfVxufVxuY29uc3QgYmkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkgMTJMOSA3LjFDOSA3LjA0NDc3IDkuMDQ0NzcgNyA5LjEgN0gxMC40QzExLjUgNyAxNCA3LjEgMTQgOS41QzE0IDkuNSAxNCAxMiAxMSAxMk05IDEyVjE2LjhDOSAxNi45MTA1IDkuMDg5NTQgMTcgOS4yIDE3SDEyLjVDMTQgMTcgMTUgMTYgMTUgMTQuNUMxNSAxMS43MDQ2IDExIDEyIDExIDEyTTkgMTJIMTFcIi8+PC9zdmc+Jywga2kgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgMTBMMTEuODU4NiAxNC44NTg2QzExLjkzNjcgMTQuOTM2NyAxMi4wNjMzIDE0LjkzNjcgMTIuMTQxNCAxNC44NTg2TDE3IDEwXCIvPjwvc3ZnPicsIHZpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC41IDE3LjVMOS42NDE0MiAxMi42NDE0QzkuNTYzMzEgMTIuNTYzMyA5LjU2MzMxIDEyLjQzNjcgOS42NDE0MiAxMi4zNTg2TDE0LjUgNy41XCIvPjwvc3ZnPicsIHdpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05LjU4Mjg0IDE3LjVMMTQuNDQxNCAxMi42NDE0QzE0LjUxOTUgMTIuNTYzMyAxNC41MTk1IDEyLjQzNjcgMTQuNDQxNCAxMi4zNTg2TDkuNTgyODQgNy41XCIvPjwvc3ZnPicsIHhpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDE1TDExLjg1ODYgMTAuMTQxNEMxMS45MzY3IDEwLjA2MzMgMTIuMDYzMyAxMC4wNjMzIDEyLjE0MTQgMTAuMTQxNEwxNyAxNVwiLz48L3N2Zz4nLCB5aSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOCA4TDEyIDEyTTEyIDEyTDE2IDE2TTEyIDEyTDE2IDhNMTIgMTJMOCAxNlwiLz48L3N2Zz4nLCBFaSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIEJpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMy4zNCAxMEMxMi40MjIzIDEyLjczMzcgMTEgMTcgMTEgMTdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0LjIxIDdIMTQuMlwiLz48L3N2Zz4nLCB5dCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNy42OTk5OCAxMi42TDcuNjc4OTYgMTIuNjJDNi41Mzk5MyAxMy43MDQ4IDYuNTIwMTIgMTUuNTE1NSA3LjYzNTE2IDE2LjYyNVYxNi42MjVDOC43MjI5MyAxNy43MDczIDEwLjQ3OTkgMTcuNzEwMiAxMS41NzEyIDE2LjYzMTRMMTMuMDI2MyAxNS4xOTNDMTQuMDcwMyAxNC4xNjA5IDE0LjIxNDEgMTIuNTI1IDEzLjM2NjIgMTEuMzI2NkwxMy4yMiAxMS4xMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYuMjIgMTEuMTJMMTYuMzU2NCAxMC45ODA1QzE3LjI4OTUgMTAuMDI2NSAxNy4zNDc4IDguNTIwNyAxNi40OTE0IDcuNDk3MzNWNy40OTczM0MxNS41NjkxIDYuMzk1MDkgMTMuOTI2OSA2LjI1MTQzIDEyLjgyNzEgNy4xNzY3NUwxMS4zOTAxIDguMzg1ODhDMTAuMDkzNSA5LjQ3Njc0IDkuOTU3MDYgMTEuNDI0MSAxMS4wODg4IDEyLjY4NTJMMTEuMTIgMTIuNzJcIi8+PC9zdmc+JywgVGkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS40MDk5OSA3LjI5OTk5SDkuNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDcuMjk5OTlIMTQuNTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS4zMDk5OSAxMkg5LjNcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTQuNiAxMkgxNC41OVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk05LjQwOTk5IDE2LjdIOS40XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTE0LjYgMTYuN0gxNC41OVwiLz48L3N2Zz4nLCBDaSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTIgN1YxMk0xMiAxN1YxMk0xNyAxMkgxMk0xMiAxMkg3XCIvPjwvc3ZnPicsIEt0ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMS41IDE3LjVMNSAxMU01IDExVjE1LjVNNSAxMUg5LjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyLjUgNi41TDE5IDEzTTE5IDEzVjguNU0xOSAxM0gxNC41XCIvPjwvc3ZnPicsIFNpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxjaXJjbGUgY3g9XCIxMC41XCIgY3k9XCIxMC41XCIgcj1cIjUuNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCIxNS40MTQyXCIgeDI9XCIxOVwiIHkxPVwiMTVcIiB5Mj1cIjE4LjU4NThcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L3N2Zz4nLCBJaSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUuNzc5NSAxMS41QzE1Ljc3OTUgMTEuNSAxNi4wNTMgMTEuMTk2MiAxNi41NDk3IDEwLjY3MjJDMTcuNDQ0MiA5LjcyODU2IDE3LjQ3MDEgOC4yNDc1IDE2LjU3ODEgNy4zMDE0NVY3LjMwMTQ1QzE1LjY0ODIgNi4zMTUyMiAxNC4wODczIDYuMjkyMjcgMTMuMTI4OCA3LjI1MDczTDExLjg3OTYgOC40OTk5OVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOC4yNDUxNyAxMi4zODgzQzguMjQ1MTcgMTIuMzg4MyA3Ljk3MTcxIDEyLjY5MjIgNy40NzUwNCAxMy4yMTYxQzYuNTgwNTEgMTQuMTU5OCA2LjU1NDY3IDE1LjY0MDggNy40NDY2NiAxNi41ODY5VjE2LjU4NjlDOC4zNzY1MyAxNy41NzMxIDkuOTM3NDQgMTcuNTk2MSAxMC44OTU5IDE2LjYzNzZMMTIuMTQ1MiAxNS4zODgzXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNy43ODAyIDE1LjEwMzJMMTYuNTk3IDE0Ljk0MjJDMTYuMDEwOSAxNC44NjI0IDE1LjQ4NDEgMTUuMzA1OSAxNS40NjI3IDE1Ljg5NjlMMTUuNDE5OSAxNy4wODE4XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02LjM5MDY0IDkuMDMyMzhMNy41ODQzMiA5LjA2NjY4QzguMTc1NTEgOS4wODM2NiA4LjY1MjIgOC41ODY2NSA4LjYxMDU2IDcuOTk2NjlMOC41MjcxIDYuODEzOTdcIi8+PGxpbmUgeDE9XCIxMi4xMTQyXCIgeDI9XCIxMS43XCIgeTE9XCIxMi4yXCIgeTI9XCIxMS43ODU4XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PC9zdmc+JywgTWkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTJcIiB5MT1cIjlcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDE1LjAyVjE1LjAxXCIvPjwvc3ZnPicsIEFpID0gXCJfX1wiLCBPaSA9IFwiLS1cIjtcbmZ1bmN0aW9uIHRlKG4pIHtcbiAgcmV0dXJuIChlLCB0KSA9PiBbW24sIGVdLmZpbHRlcigoaSkgPT4gISFpKS5qb2luKEFpKSwgdF0uZmlsdGVyKChpKSA9PiAhIWkpLmpvaW4oT2kpO1xufVxuY29uc3QgYmUgPSB0ZShcImNlLWhpbnRcIiksIGtlID0ge1xuICByb290OiBiZSgpLFxuICBhbGlnbmVkU3RhcnQ6IGJlKG51bGwsIFwiYWxpZ24tbGVmdFwiKSxcbiAgYWxpZ25lZENlbnRlcjogYmUobnVsbCwgXCJhbGlnbi1jZW50ZXJcIiksXG4gIHRpdGxlOiBiZShcInRpdGxlXCIpLFxuICBkZXNjcmlwdGlvbjogYmUoXCJkZXNjcmlwdGlvblwiKVxufTtcbmNsYXNzIExpIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIGhpbnQgY29udGVudCBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gaGludCBjb250ZW50IHBhcmFtZXRlcnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLm5vZGVzID0ge1xuICAgICAgcm9vdDogZC5tYWtlKFwiZGl2XCIsIFtrZS5yb290LCBlLmFsaWdubWVudCA9PT0gXCJjZW50ZXJcIiA/IGtlLmFsaWduZWRDZW50ZXIgOiBrZS5hbGlnbmVkU3RhcnRdKSxcbiAgICAgIHRpdGxlOiBkLm1ha2UoXCJkaXZcIiwga2UudGl0bGUsIHsgdGV4dENvbnRlbnQ6IGUudGl0bGUgfSlcbiAgICB9LCB0aGlzLm5vZGVzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy50aXRsZSksIGUuZGVzY3JpcHRpb24gIT09IHZvaWQgMCAmJiAodGhpcy5ub2Rlcy5kZXNjcmlwdGlvbiA9IGQubWFrZShcImRpdlwiLCBrZS5kZXNjcmlwdGlvbiwgeyB0ZXh0Q29udGVudDogZS5kZXNjcmlwdGlvbiB9KSwgdGhpcy5ub2Rlcy5yb290LmFwcGVuZENoaWxkKHRoaXMubm9kZXMuZGVzY3JpcHRpb24pKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBoaW50IGNvbnRlbnRcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucm9vdDtcbiAgfVxufVxuY2xhc3MgcnQge1xuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIGluc3RhbmNlIHBhcmFtZXRlcnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLnBhcmFtcyA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIEl0ZW0gbmFtZSBpZiBleGlzdHNcbiAgICovXG4gIGdldCBuYW1lKCkge1xuICAgIGlmICh0aGlzLnBhcmFtcyAhPT0gdm9pZCAwICYmIFwibmFtZVwiIGluIHRoaXMucGFyYW1zKVxuICAgICAgcmV0dXJuIHRoaXMucGFyYW1zLm5hbWU7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBpbnN0YW5jZVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBOZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBjaGlsZHJlbiBwb3BvdmVyIGlzIG9wZW5lZCAoaWYgZXhpc3RzKVxuICAgKi9cbiAgb25DaGlsZHJlbk9wZW4oKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5wYXJhbXMgIT09IHZvaWQgMCAmJiBcImNoaWxkcmVuXCIgaW4gdGhpcy5wYXJhbXMgJiYgdHlwZW9mICgoZSA9IHRoaXMucGFyYW1zLmNoaWxkcmVuKSA9PSBudWxsID8gdm9pZCAwIDogZS5vbk9wZW4pID09IFwiZnVuY3Rpb25cIiAmJiB0aGlzLnBhcmFtcy5jaGlsZHJlbi5vbk9wZW4oKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gY2hpbGRyZW4gcG9wb3ZlciBpcyBjbG9zZWQgKGlmIGV4aXN0cylcbiAgICovXG4gIG9uQ2hpbGRyZW5DbG9zZSgpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLnBhcmFtcyAhPT0gdm9pZCAwICYmIFwiY2hpbGRyZW5cIiBpbiB0aGlzLnBhcmFtcyAmJiB0eXBlb2YgKChlID0gdGhpcy5wYXJhbXMuY2hpbGRyZW4pID09IG51bGwgPyB2b2lkIDAgOiBlLm9uQ2xvc2UpID09IFwiZnVuY3Rpb25cIiAmJiB0aGlzLnBhcmFtcy5jaGlsZHJlbi5vbkNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbiBwb3BvdmVyIGl0ZW0gY2xpY2tcbiAgICovXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIHZhciBlLCB0O1xuICAgIHRoaXMucGFyYW1zICE9PSB2b2lkIDAgJiYgXCJvbkFjdGl2YXRlXCIgaW4gdGhpcy5wYXJhbXMgJiYgKCh0ID0gKGUgPSB0aGlzLnBhcmFtcykub25BY3RpdmF0ZSkgPT0gbnVsbCB8fCB0LmNhbGwoZSwgdGhpcy5wYXJhbXMpKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBoaW50IHRvIHRoZSBpdGVtIGVsZW1lbnQgaWYgaGludCBkYXRhIGlzIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtRWxlbWVudCAtIHBvcG92ZXIgaXRlbSByb290IGVsZW1lbnQgdG8gYWRkIGhpbnQgdG9cbiAgICogQHBhcmFtIGhpbnREYXRhIC0gaGludCBkYXRhXG4gICAqL1xuICBhZGRIaW50KGUsIHQpIHtcbiAgICBjb25zdCBvID0gbmV3IExpKHQpO1xuICAgIFBlKGUsIG8uZ2V0RWxlbWVudCgpLCB7XG4gICAgICBwbGFjZW1lbnQ6IHQucG9zaXRpb24sXG4gICAgICBoaWRpbmdEZWxheTogMTAwXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgaXRlbSBjaGlsZHJlbiB0aGF0IGFyZSByZXByZXNlbnRlZCBhcyBwb3BvdmVyIGl0ZW1zXG4gICAqL1xuICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgdmFyIGU7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zICE9PSB2b2lkIDAgJiYgXCJjaGlsZHJlblwiIGluIHRoaXMucGFyYW1zICYmICgoZSA9IHRoaXMucGFyYW1zLmNoaWxkcmVuKSA9PSBudWxsID8gdm9pZCAwIDogZS5pdGVtcykgIT09IHZvaWQgMCA/IHRoaXMucGFyYW1zLmNoaWxkcmVuLml0ZW1zIDogW107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBpdGVtIGhhcyBhbnkgdHlwZSBvZiBjaGlsZHJlblxuICAgKi9cbiAgZ2V0IGhhc0NoaWxkcmVuKCkge1xuICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDA7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBpdGVtIGNoaWxkcmVuIHNob3VsZCBiZSBvcGVuIGluc3RhbnRseSBhZnRlciBwb3BvdmVyIGlzIG9wZW5lZCBhbmQgbm90IG9uIGl0ZW0gY2xpY2svaG92ZXJcbiAgICovXG4gIGdldCBpc0NoaWxkcmVuT3BlbigpIHtcbiAgICB2YXIgZTtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMgIT09IHZvaWQgMCAmJiBcImNoaWxkcmVuXCIgaW4gdGhpcy5wYXJhbXMgJiYgKChlID0gdGhpcy5wYXJhbXMuY2hpbGRyZW4pID09IG51bGwgPyB2b2lkIDAgOiBlLmlzT3BlbikgPT09ICEwO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGl0ZW0gY2hpbGRyZW4gaXRlbXMgc2hvdWxkIGJlIG5hdmlnYXRhYmxlIHZpYSBrZXlib2FyZFxuICAgKi9cbiAgZ2V0IGlzQ2hpbGRyZW5GbGlwcGFibGUoKSB7XG4gICAgdmFyIGU7XG4gICAgcmV0dXJuICEodGhpcy5wYXJhbXMgPT09IHZvaWQgMCB8fCAhKFwiY2hpbGRyZW5cIiBpbiB0aGlzLnBhcmFtcykgfHwgKChlID0gdGhpcy5wYXJhbXMuY2hpbGRyZW4pID09IG51bGwgPyB2b2lkIDAgOiBlLmlzRmxpcHBhYmxlKSA9PT0gITEpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgaXRlbSBoYXMgY2hpbGRyZW4gdGhhdCBzaG91bGQgYmUgc2VhcmNoYWJsZVxuICAgKi9cbiAgZ2V0IGlzQ2hpbGRyZW5TZWFyY2hhYmxlKCkge1xuICAgIHZhciBlO1xuICAgIHJldHVybiB0aGlzLnBhcmFtcyAhPT0gdm9pZCAwICYmIFwiY2hpbGRyZW5cIiBpbiB0aGlzLnBhcmFtcyAmJiAoKGUgPSB0aGlzLnBhcmFtcy5jaGlsZHJlbikgPT0gbnVsbCA/IHZvaWQgMCA6IGUuc2VhcmNoYWJsZSkgPT09ICEwO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIHBvcG92ZXIgc2hvdWxkIGNsb3NlIG9uY2UgaXRlbSBpcyBhY3RpdmF0ZWRcbiAgICovXG4gIGdldCBjbG9zZU9uQWN0aXZhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zICE9PSB2b2lkIDAgJiYgXCJjbG9zZU9uQWN0aXZhdGVcIiBpbiB0aGlzLnBhcmFtcyAmJiB0aGlzLnBhcmFtcy5jbG9zZU9uQWN0aXZhdGU7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgaXRlbSBpcyBhY3RpdmVcbiAgICovXG4gIGdldCBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMgPT09IHZvaWQgMCB8fCAhKFwiaXNBY3RpdmVcIiBpbiB0aGlzLnBhcmFtcykgPyAhMSA6IHR5cGVvZiB0aGlzLnBhcmFtcy5pc0FjdGl2ZSA9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnBhcmFtcy5pc0FjdGl2ZSgpIDogdGhpcy5wYXJhbXMuaXNBY3RpdmUgPT09ICEwO1xuICB9XG59XG5jb25zdCBXID0gdGUoXCJjZS1wb3BvdmVyLWl0ZW1cIiksIEwgPSB7XG4gIGNvbnRhaW5lcjogVygpLFxuICBhY3RpdmU6IFcobnVsbCwgXCJhY3RpdmVcIiksXG4gIGRpc2FibGVkOiBXKG51bGwsIFwiZGlzYWJsZWRcIiksXG4gIGZvY3VzZWQ6IFcobnVsbCwgXCJmb2N1c2VkXCIpLFxuICBoaWRkZW46IFcobnVsbCwgXCJoaWRkZW5cIiksXG4gIGNvbmZpcm1hdGlvblN0YXRlOiBXKG51bGwsIFwiY29uZmlybWF0aW9uXCIpLFxuICBub0hvdmVyOiBXKG51bGwsIFwibm8taG92ZXJcIiksXG4gIG5vRm9jdXM6IFcobnVsbCwgXCJuby1mb2N1c1wiKSxcbiAgdGl0bGU6IFcoXCJ0aXRsZVwiKSxcbiAgc2Vjb25kYXJ5VGl0bGU6IFcoXCJzZWNvbmRhcnktdGl0bGVcIiksXG4gIGljb246IFcoXCJpY29uXCIpLFxuICBpY29uVG9vbDogVyhcImljb25cIiwgXCJ0b29sXCIpLFxuICBpY29uQ2hldnJvblJpZ2h0OiBXKFwiaWNvblwiLCBcImNoZXZyb24tcmlnaHRcIiksXG4gIHdvYmJsZUFuaW1hdGlvbjogdGUoXCJ3b2JibGVcIikoKVxufTtcbmNsYXNzIHNlIGV4dGVuZHMgcnQge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBwb3BvdmVyIGl0ZW0gaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIHBvcG92ZXIgaXRlbSBjb25zdHJ1Y3Rpb24gcGFyYW1zXG4gICAqIEBwYXJhbSByZW5kZXJQYXJhbXMgLSBwb3BvdmVyIGl0ZW0gcmVuZGVyIHBhcmFtcy5cbiAgICogVGhlIHBhcmFtZXRlcnMgdGhhdCBhcmUgbm90IHNldCBieSB1c2VyIHZpYSBwb3BvdmVyIGFwaSBidXQgcmF0aGVyIGRlcGVuZCBvbiB0ZWNobmljYWwgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBzdXBlcihlKSwgdGhpcy5wYXJhbXMgPSBlLCB0aGlzLm5vZGVzID0ge1xuICAgICAgcm9vdDogbnVsbCxcbiAgICAgIGljb246IG51bGxcbiAgICB9LCB0aGlzLmNvbmZpcm1hdGlvblN0YXRlID0gbnVsbCwgdGhpcy5yZW1vdmVTcGVjaWFsRm9jdXNCZWhhdmlvciA9ICgpID0+IHtcbiAgICAgIHZhciBvO1xuICAgICAgKG8gPSB0aGlzLm5vZGVzLnJvb3QpID09IG51bGwgfHwgby5jbGFzc0xpc3QucmVtb3ZlKEwubm9Gb2N1cyk7XG4gICAgfSwgdGhpcy5yZW1vdmVTcGVjaWFsSG92ZXJCZWhhdmlvciA9ICgpID0+IHtcbiAgICAgIHZhciBvO1xuICAgICAgKG8gPSB0aGlzLm5vZGVzLnJvb3QpID09IG51bGwgfHwgby5jbGFzc0xpc3QucmVtb3ZlKEwubm9Ib3Zlcik7XG4gICAgfSwgdGhpcy5vbkVycm9yQW5pbWF0aW9uRW5kID0gKCkgPT4ge1xuICAgICAgdmFyIG8sIGk7XG4gICAgICAobyA9IHRoaXMubm9kZXMuaWNvbikgPT0gbnVsbCB8fCBvLmNsYXNzTGlzdC5yZW1vdmUoTC53b2JibGVBbmltYXRpb24pLCAoaSA9IHRoaXMubm9kZXMuaWNvbikgPT0gbnVsbCB8fCBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdGhpcy5vbkVycm9yQW5pbWF0aW9uRW5kKTtcbiAgICB9LCB0aGlzLm5vZGVzLnJvb3QgPSB0aGlzLm1ha2UoZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgaXRlbSBpcyBkaXNhYmxlZCBhbmQgaGVuY2Ugbm90IGNsaWNrYWJsZVxuICAgKi9cbiAgZ2V0IGlzRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zLmlzRGlzYWJsZWQgPT09ICEwO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvc2VzIHBvcG92ZXIgaXRlbSB0b2dnbGUgcGFyYW1ldGVyXG4gICAqL1xuICBnZXQgdG9nZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy50b2dnbGU7XG4gIH1cbiAgLyoqXG4gICAqIEl0ZW0gdGl0bGVcbiAgICovXG4gIGdldCB0aXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMudGl0bGU7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgY29uZmlybWF0aW9uIHN0YXRlIGlzIGVuYWJsZWQgZm9yIHBvcG92ZXIgaXRlbVxuICAgKi9cbiAgZ2V0IGlzQ29uZmlybWF0aW9uU3RhdGVFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpcm1hdGlvblN0YXRlICE9PSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGl0ZW0gaXMgZm9jdXNlZCBpbiBrZXlib2FyZCBuYXZpZ2F0aW9uIHByb2Nlc3NcbiAgICovXG4gIGdldCBpc0ZvY3VzZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucm9vdCA9PT0gbnVsbCA/ICExIDogdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC5jb250YWlucyhMLmZvY3VzZWQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHBvcG92ZXIgaXRlbSByb290IGVsZW1lbnRcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucm9vdDtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uIHBvcG92ZXIgaXRlbSBjbGlja1xuICAgKi9cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuaXNDb25maXJtYXRpb25TdGF0ZUVuYWJsZWQgJiYgdGhpcy5jb25maXJtYXRpb25TdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hY3RpdmF0ZU9yRW5hYmxlQ29uZmlybWF0aW9uTW9kZSh0aGlzLmNvbmZpcm1hdGlvblN0YXRlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hY3RpdmF0ZU9yRW5hYmxlQ29uZmlybWF0aW9uTW9kZSh0aGlzLnBhcmFtcyk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgaXRlbSBhY3RpdmUgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIGlzQWN0aXZlIC0gdHJ1ZSBpZiBpdGVtIHNob3VsZCBzdHJpY3RseSBzaG91bGQgYmVjb21lIGFjdGl2ZVxuICAgKi9cbiAgdG9nZ2xlQWN0aXZlKGUpIHtcbiAgICB2YXIgdDtcbiAgICAodCA9IHRoaXMubm9kZXMucm9vdCkgPT0gbnVsbCB8fCB0LmNsYXNzTGlzdC50b2dnbGUoTC5hY3RpdmUsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIGl0ZW0gaGlkZGVuIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSBpc0hpZGRlbiAtIHRydWUgaWYgaXRlbSBzaG91bGQgYmUgaGlkZGVuXG4gICAqL1xuICB0b2dnbGVIaWRkZW4oZSkge1xuICAgIHZhciB0O1xuICAgICh0ID0gdGhpcy5ub2Rlcy5yb290KSA9PSBudWxsIHx8IHQuY2xhc3NMaXN0LnRvZ2dsZShMLmhpZGRlbiwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2V0cyBwb3BvdmVyIGl0ZW0gdG8gaXRzIG9yaWdpbmFsIHN0YXRlXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLmlzQ29uZmlybWF0aW9uU3RhdGVFbmFibGVkICYmIHRoaXMuZGlzYWJsZUNvbmZpcm1hdGlvbk1vZGUoKTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIGNhbGxlZCBvbmNlIGl0ZW0gYmVjb21lcyBmb2N1c2VkIGR1cmluZyBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAqL1xuICBvbkZvY3VzKCkge1xuICAgIHRoaXMuZGlzYWJsZVNwZWNpYWxIb3ZlckFuZEZvY3VzQmVoYXZpb3IoKTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0cyBIVE1MIGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byBwb3BvdmVyIGl0ZW0gcGFyYW1zXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBpdGVtIGNvbnN0cnVjdGlvbiBwYXJhbXNcbiAgICogQHBhcmFtIHJlbmRlclBhcmFtcyAtIHBvcG92ZXIgaXRlbSByZW5kZXIgcGFyYW1zXG4gICAqL1xuICBtYWtlKGUsIHQpIHtcbiAgICB2YXIgcywgcjtcbiAgICBjb25zdCBvID0gKHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQud3JhcHBlclRhZykgfHwgXCJkaXZcIiwgaSA9IGQubWFrZShvLCBMLmNvbnRhaW5lciwge1xuICAgICAgdHlwZTogbyA9PT0gXCJidXR0b25cIiA/IFwiYnV0dG9uXCIgOiB2b2lkIDBcbiAgICB9KTtcbiAgICByZXR1cm4gZS5uYW1lICYmIChpLmRhdGFzZXQuaXRlbU5hbWUgPSBlLm5hbWUpLCB0aGlzLm5vZGVzLmljb24gPSBkLm1ha2UoXCJkaXZcIiwgW0wuaWNvbiwgTC5pY29uVG9vbF0sIHtcbiAgICAgIGlubmVySFRNTDogZS5pY29uIHx8IEVpXG4gICAgfSksIGkuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5pY29uKSwgZS50aXRsZSAhPT0gdm9pZCAwICYmIGkuYXBwZW5kQ2hpbGQoZC5tYWtlKFwiZGl2XCIsIEwudGl0bGUsIHtcbiAgICAgIGlubmVySFRNTDogZS50aXRsZSB8fCBcIlwiXG4gICAgfSkpLCBlLnNlY29uZGFyeUxhYmVsICYmIGkuYXBwZW5kQ2hpbGQoZC5tYWtlKFwiZGl2XCIsIEwuc2Vjb25kYXJ5VGl0bGUsIHtcbiAgICAgIHRleHRDb250ZW50OiBlLnNlY29uZGFyeUxhYmVsXG4gICAgfSkpLCB0aGlzLmhhc0NoaWxkcmVuICYmIGkuYXBwZW5kQ2hpbGQoZC5tYWtlKFwiZGl2XCIsIFtMLmljb24sIEwuaWNvbkNoZXZyb25SaWdodF0sIHtcbiAgICAgIGlubmVySFRNTDogd2lcbiAgICB9KSksIHRoaXMuaXNBY3RpdmUgJiYgaS5jbGFzc0xpc3QuYWRkKEwuYWN0aXZlKSwgZS5pc0Rpc2FibGVkICYmIGkuY2xhc3NMaXN0LmFkZChMLmRpc2FibGVkKSwgZS5oaW50ICE9PSB2b2lkIDAgJiYgKChzID0gdCA9PSBudWxsID8gdm9pZCAwIDogdC5oaW50KSA9PSBudWxsID8gdm9pZCAwIDogcy5lbmFibGVkKSAhPT0gITEgJiYgdGhpcy5hZGRIaW50KGksIHtcbiAgICAgIC4uLmUuaGludCxcbiAgICAgIHBvc2l0aW9uOiAoKHIgPSB0ID09IG51bGwgPyB2b2lkIDAgOiB0LmhpbnQpID09IG51bGwgPyB2b2lkIDAgOiByLnBvc2l0aW9uKSB8fCBcInJpZ2h0XCJcbiAgICB9KSwgaTtcbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGNvbmZpcm1hdGlvbiBtb2RlIGZvciB0aGUgaXRlbS5cbiAgICpcbiAgICogQHBhcmFtIG5ld1N0YXRlIC0gbmV3IHBvcG92ZXIgaXRlbSBwYXJhbXMgdGhhdCBzaG91bGQgYmUgYXBwbGllZFxuICAgKi9cbiAgZW5hYmxlQ29uZmlybWF0aW9uTW9kZShlKSB7XG4gICAgaWYgKHRoaXMubm9kZXMucm9vdCA9PT0gbnVsbClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0ge1xuICAgICAgLi4udGhpcy5wYXJhbXMsXG4gICAgICAuLi5lLFxuICAgICAgY29uZmlybWF0aW9uOiBcImNvbmZpcm1hdGlvblwiIGluIGUgPyBlLmNvbmZpcm1hdGlvbiA6IHZvaWQgMFxuICAgIH0sIG8gPSB0aGlzLm1ha2UodCk7XG4gICAgdGhpcy5ub2Rlcy5yb290LmlubmVySFRNTCA9IG8uaW5uZXJIVE1MLCB0aGlzLm5vZGVzLnJvb3QuY2xhc3NMaXN0LmFkZChMLmNvbmZpcm1hdGlvblN0YXRlKSwgdGhpcy5jb25maXJtYXRpb25TdGF0ZSA9IGUsIHRoaXMuZW5hYmxlU3BlY2lhbEhvdmVyQW5kRm9jdXNCZWhhdmlvcigpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGl0ZW0gdG8gaXRzIG9yaWdpbmFsIHN0YXRlXG4gICAqL1xuICBkaXNhYmxlQ29uZmlybWF0aW9uTW9kZSgpIHtcbiAgICBpZiAodGhpcy5ub2Rlcy5yb290ID09PSBudWxsKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGUgPSB0aGlzLm1ha2UodGhpcy5wYXJhbXMpO1xuICAgIHRoaXMubm9kZXMucm9vdC5pbm5lckhUTUwgPSBlLmlubmVySFRNTCwgdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC5yZW1vdmUoTC5jb25maXJtYXRpb25TdGF0ZSksIHRoaXMuY29uZmlybWF0aW9uU3RhdGUgPSBudWxsLCB0aGlzLmRpc2FibGVTcGVjaWFsSG92ZXJBbmRGb2N1c0JlaGF2aW9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgc3BlY2lhbCBmb2N1cyBhbmQgaG92ZXIgYmVoYXZpb3IgZm9yIGl0ZW0gaW4gY29uZmlybWF0aW9uIHN0YXRlLlxuICAgKiBUaGlzIGlzIG5lZWRlZCB0byBwcmV2ZW50IGl0ZW0gZnJvbSBiZWluZyBoaWdobGlnaHRlZCBhcyBob3ZlcmVkL2ZvY3VzZWQganVzdCBhZnRlciBjbGljay5cbiAgICovXG4gIGVuYWJsZVNwZWNpYWxIb3ZlckFuZEZvY3VzQmVoYXZpb3IoKSB7XG4gICAgdmFyIGUsIHQsIG87XG4gICAgKGUgPSB0aGlzLm5vZGVzLnJvb3QpID09IG51bGwgfHwgZS5jbGFzc0xpc3QuYWRkKEwubm9Ib3ZlciksICh0ID0gdGhpcy5ub2Rlcy5yb290KSA9PSBudWxsIHx8IHQuY2xhc3NMaXN0LmFkZChMLm5vRm9jdXMpLCAobyA9IHRoaXMubm9kZXMucm9vdCkgPT0gbnVsbCB8fCBvLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMucmVtb3ZlU3BlY2lhbEhvdmVyQmVoYXZpb3IsIHsgb25jZTogITAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGVzIHNwZWNpYWwgZm9jdXMgYW5kIGhvdmVyIGJlaGF2aW9yXG4gICAqL1xuICBkaXNhYmxlU3BlY2lhbEhvdmVyQW5kRm9jdXNCZWhhdmlvcigpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLnJlbW92ZVNwZWNpYWxGb2N1c0JlaGF2aW9yKCksIHRoaXMucmVtb3ZlU3BlY2lhbEhvdmVyQmVoYXZpb3IoKSwgKGUgPSB0aGlzLm5vZGVzLnJvb3QpID09IG51bGwgfHwgZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLnJlbW92ZVNwZWNpYWxIb3ZlckJlaGF2aW9yKTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZXMgaXRlbSdzIG9uQWN0aXZhdGUgY2FsbGJhY2sgaWYgdGhlIGl0ZW0gaGFzIG5vIGNvbmZpcm1hdGlvbiBjb25maWd1cmVkXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB0byBhY3RpdmF0ZSBvciBicmluZyB0byBjb25maXJtYXRpb24gbW9kZVxuICAgKi9cbiAgYWN0aXZhdGVPckVuYWJsZUNvbmZpcm1hdGlvbk1vZGUoZSkge1xuICAgIHZhciB0O1xuICAgIGlmICghKFwiY29uZmlybWF0aW9uXCIgaW4gZSkgfHwgZS5jb25maXJtYXRpb24gPT09IHZvaWQgMClcbiAgICAgIHRyeSB7XG4gICAgICAgICh0ID0gZS5vbkFjdGl2YXRlKSA9PSBudWxsIHx8IHQuY2FsbChlLCBlKSwgdGhpcy5kaXNhYmxlQ29uZmlybWF0aW9uTW9kZSgpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHRoaXMuYW5pbWF0ZUVycm9yKCk7XG4gICAgICB9XG4gICAgZWxzZVxuICAgICAgdGhpcy5lbmFibGVDb25maXJtYXRpb25Nb2RlKGUuY29uZmlybWF0aW9uKTtcbiAgfVxuICAvKipcbiAgICogQW5pbWF0ZXMgaXRlbSB3aGljaCBzeW1ib2xpemVzIHRoYXQgZXJyb3Igb2NjdXJlZCB3aGlsZSBleGVjdXRpbmcgJ29uQWN0aXZhdGUoKScgY2FsbGJhY2tcbiAgICovXG4gIGFuaW1hdGVFcnJvcigpIHtcbiAgICB2YXIgZSwgdCwgbztcbiAgICAoZSA9IHRoaXMubm9kZXMuaWNvbikgIT0gbnVsbCAmJiBlLmNsYXNzTGlzdC5jb250YWlucyhMLndvYmJsZUFuaW1hdGlvbikgfHwgKCh0ID0gdGhpcy5ub2Rlcy5pY29uKSA9PSBudWxsIHx8IHQuY2xhc3NMaXN0LmFkZChMLndvYmJsZUFuaW1hdGlvbiksIChvID0gdGhpcy5ub2Rlcy5pY29uKSA9PSBudWxsIHx8IG8uYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCB0aGlzLm9uRXJyb3JBbmltYXRpb25FbmQpKTtcbiAgfVxufVxuY29uc3QgVWUgPSB0ZShcImNlLXBvcG92ZXItaXRlbS1zZXBhcmF0b3JcIiksIGplID0ge1xuICBjb250YWluZXI6IFVlKCksXG4gIGxpbmU6IFVlKFwibGluZVwiKSxcbiAgaGlkZGVuOiBVZShudWxsLCBcImhpZGRlblwiKVxufTtcbmNsYXNzIFh0IGV4dGVuZHMgcnQge1xuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCksIHRoaXMubm9kZXMgPSB7XG4gICAgICByb290OiBkLm1ha2UoXCJkaXZcIiwgamUuY29udGFpbmVyKSxcbiAgICAgIGxpbmU6IGQubWFrZShcImRpdlwiLCBqZS5saW5lKVxuICAgIH0sIHRoaXMubm9kZXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmxpbmUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHBvcG92ZXIgc2VwYXJhdG9yIHJvb3QgZWxlbWVudFxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5yb290O1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIGl0ZW0gaGlkZGVuIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSBpc0hpZGRlbiAtIHRydWUgaWYgaXRlbSBzaG91bGQgYmUgaGlkZGVuXG4gICAqL1xuICB0b2dnbGVIaWRkZW4oZSkge1xuICAgIHZhciB0O1xuICAgICh0ID0gdGhpcy5ub2Rlcy5yb290KSA9PSBudWxsIHx8IHQuY2xhc3NMaXN0LnRvZ2dsZShqZS5oaWRkZW4sIGUpO1xuICB9XG59XG52YXIgWiA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLkNsb3NlZCA9IFwiY2xvc2VkXCIsIG4uQ2xvc2VkT25BY3RpdmF0ZSA9IFwiY2xvc2VkLW9uLWFjdGl2YXRlXCIsIG4pKShaIHx8IHt9KTtcbmNvbnN0IEggPSB0ZShcImNlLXBvcG92ZXJcIiksIE4gPSB7XG4gIHBvcG92ZXI6IEgoKSxcbiAgcG9wb3ZlckNvbnRhaW5lcjogSChcImNvbnRhaW5lclwiKSxcbiAgcG9wb3Zlck9wZW5Ub3A6IEgobnVsbCwgXCJvcGVuLXRvcFwiKSxcbiAgcG9wb3Zlck9wZW5MZWZ0OiBIKG51bGwsIFwib3Blbi1sZWZ0XCIpLFxuICBwb3BvdmVyT3BlbmVkOiBIKG51bGwsIFwib3BlbmVkXCIpLFxuICBzZWFyY2g6IEgoXCJzZWFyY2hcIiksXG4gIG5vdGhpbmdGb3VuZE1lc3NhZ2U6IEgoXCJub3RoaW5nLWZvdW5kLW1lc3NhZ2VcIiksXG4gIG5vdGhpbmdGb3VuZE1lc3NhZ2VEaXNwbGF5ZWQ6IEgoXCJub3RoaW5nLWZvdW5kLW1lc3NhZ2VcIiwgXCJkaXNwbGF5ZWRcIiksXG4gIGl0ZW1zOiBIKFwiaXRlbXNcIiksXG4gIG92ZXJsYXk6IEgoXCJvdmVybGF5XCIpLFxuICBvdmVybGF5SGlkZGVuOiBIKFwib3ZlcmxheVwiLCBcImhpZGRlblwiKSxcbiAgcG9wb3Zlck5lc3RlZDogSChudWxsLCBcIm5lc3RlZFwiKSxcbiAgZ2V0UG9wb3Zlck5lc3RlZENsYXNzOiAobikgPT4gSChudWxsLCBgbmVzdGVkLWxldmVsLSR7bi50b1N0cmluZygpfWApLFxuICBwb3BvdmVySW5saW5lOiBIKG51bGwsIFwiaW5saW5lXCIpLFxuICBwb3BvdmVySGVhZGVyOiBIKFwiaGVhZGVyXCIpXG59O1xudmFyIGRlID0gLyogQF9fUFVSRV9fICovICgobikgPT4gKG4uTmVzdGluZ0xldmVsID0gXCItLW5lc3RpbmctbGV2ZWxcIiwgbi5Qb3BvdmVySGVpZ2h0ID0gXCItLXBvcG92ZXItaGVpZ2h0XCIsIG4uSW5saW5lUG9wb3ZlcldpZHRoID0gXCItLWlubGluZS1wb3BvdmVyLXdpZHRoXCIsIG4uVHJpZ2dlckl0ZW1MZWZ0ID0gXCItLXRyaWdnZXItaXRlbS1sZWZ0XCIsIG4uVHJpZ2dlckl0ZW1Ub3AgPSBcIi0tdHJpZ2dlci1pdGVtLXRvcFwiLCBuKSkoZGUgfHwge30pO1xuY29uc3QgRXQgPSB0ZShcImNlLXBvcG92ZXItaXRlbS1odG1sXCIpLCBCdCA9IHtcbiAgcm9vdDogRXQoKSxcbiAgaGlkZGVuOiBFdChudWxsLCBcImhpZGRlblwiKVxufTtcbmNsYXNzIEVlIGV4dGVuZHMgcnQge1xuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyDigJMgaW5zdGFuY2UgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0gcmVuZGVyUGFyYW1zIOKAkyBwb3BvdmVyIGl0ZW0gcmVuZGVyIHBhcmFtcy5cbiAgICogVGhlIHBhcmFtZXRlcnMgdGhhdCBhcmUgbm90IHNldCBieSB1c2VyIHZpYSBwb3BvdmVyIGFwaSBidXQgcmF0aGVyIGRlcGVuZCBvbiB0ZWNobmljYWwgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICB2YXIgbywgaTtcbiAgICBzdXBlcihlKSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIHJvb3Q6IGQubWFrZShcImRpdlwiLCBCdC5yb290KVxuICAgIH0sIHRoaXMubm9kZXMucm9vdC5hcHBlbmRDaGlsZChlLmVsZW1lbnQpLCBlLm5hbWUgJiYgKHRoaXMubm9kZXMucm9vdC5kYXRhc2V0Lml0ZW1OYW1lID0gZS5uYW1lKSwgZS5oaW50ICE9PSB2b2lkIDAgJiYgKChvID0gdCA9PSBudWxsID8gdm9pZCAwIDogdC5oaW50KSA9PSBudWxsID8gdm9pZCAwIDogby5lbmFibGVkKSAhPT0gITEgJiYgdGhpcy5hZGRIaW50KHRoaXMubm9kZXMucm9vdCwge1xuICAgICAgLi4uZS5oaW50LFxuICAgICAgcG9zaXRpb246ICgoaSA9IHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQuaGludCkgPT0gbnVsbCA/IHZvaWQgMCA6IGkucG9zaXRpb24pIHx8IFwicmlnaHRcIlxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHBvcG92ZXIgaXRlbSByb290IGVsZW1lbnRcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucm9vdDtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBpdGVtIGhpZGRlbiBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0gaXNIaWRkZW4gLSB0cnVlIGlmIGl0ZW0gc2hvdWxkIGJlIGhpZGRlblxuICAgKi9cbiAgdG9nZ2xlSGlkZGVuKGUpIHtcbiAgICB2YXIgdDtcbiAgICAodCA9IHRoaXMubm9kZXMucm9vdCkgPT0gbnVsbCB8fCB0LmNsYXNzTGlzdC50b2dnbGUoQnQuaGlkZGVuLCBlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IG9mIGJ1dHRvbnMgYW5kIGlucHV0cyBpbnNpZGUgY3VzdG9tIGNvbnRlbnRcbiAgICovXG4gIGdldENvbnRyb2xzKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLm5vZGVzLnJvb3QucXVlcnlTZWxlY3RvckFsbChcbiAgICAgIGBidXR0b24sICR7ZC5hbGxJbnB1dHNTZWxlY3Rvcn1gXG4gICAgKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShlKTtcbiAgfVxufVxuY2xhc3MgVnQgZXh0ZW5kcyBUZSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gcG9wb3ZlciBjb25zdHJ1Y3Rpb24gcGFyYW1zXG4gICAqIEBwYXJhbSBpdGVtc1JlbmRlclBhcmFtcyAtIHBvcG92ZXIgaXRlbSByZW5kZXIgcGFyYW1zLlxuICAgKiBUaGUgcGFyYW1ldGVycyB0aGF0IGFyZSBub3Qgc2V0IGJ5IHVzZXIgdmlhIHBvcG92ZXIgYXBpIGJ1dCByYXRoZXIgZGVwZW5kIG9uIHRlY2huaWNhbCBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoZSwgdCA9IHt9KSB7XG4gICAgc3VwZXIoKSwgdGhpcy5wYXJhbXMgPSBlLCB0aGlzLml0ZW1zUmVuZGVyUGFyYW1zID0gdCwgdGhpcy5saXN0ZW5lcnMgPSBuZXcgQ2UoKSwgdGhpcy5tZXNzYWdlcyA9IHtcbiAgICAgIG5vdGhpbmdGb3VuZDogXCJOb3RoaW5nIGZvdW5kXCIsXG4gICAgICBzZWFyY2g6IFwiU2VhcmNoXCJcbiAgICB9LCB0aGlzLml0ZW1zID0gdGhpcy5idWlsZEl0ZW1zKGUuaXRlbXMpLCBlLm1lc3NhZ2VzICYmICh0aGlzLm1lc3NhZ2VzID0ge1xuICAgICAgLi4udGhpcy5tZXNzYWdlcyxcbiAgICAgIC4uLmUubWVzc2FnZXNcbiAgICB9KSwgdGhpcy5ub2RlcyA9IHt9LCB0aGlzLm5vZGVzLnBvcG92ZXJDb250YWluZXIgPSBkLm1ha2UoXCJkaXZcIiwgW04ucG9wb3ZlckNvbnRhaW5lcl0pLCB0aGlzLm5vZGVzLm5vdGhpbmdGb3VuZE1lc3NhZ2UgPSBkLm1ha2UoXCJkaXZcIiwgW04ubm90aGluZ0ZvdW5kTWVzc2FnZV0sIHtcbiAgICAgIHRleHRDb250ZW50OiB0aGlzLm1lc3NhZ2VzLm5vdGhpbmdGb3VuZFxuICAgIH0pLCB0aGlzLm5vZGVzLnBvcG92ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5ub3RoaW5nRm91bmRNZXNzYWdlKSwgdGhpcy5ub2Rlcy5pdGVtcyA9IGQubWFrZShcImRpdlwiLCBbTi5pdGVtc10pLCB0aGlzLml0ZW1zLmZvckVhY2goKG8pID0+IHtcbiAgICAgIGNvbnN0IGkgPSBvLmdldEVsZW1lbnQoKTtcbiAgICAgIGkgIT09IG51bGwgJiYgdGhpcy5ub2Rlcy5pdGVtcy5hcHBlbmRDaGlsZChpKTtcbiAgICB9KSwgdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMuaXRlbXMpLCB0aGlzLmxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnBvcG92ZXJDb250YWluZXIsIFwiY2xpY2tcIiwgKG8pID0+IHRoaXMuaGFuZGxlQ2xpY2sobykpLCB0aGlzLm5vZGVzLnBvcG92ZXIgPSBkLm1ha2UoXCJkaXZcIiwgW1xuICAgICAgTi5wb3BvdmVyLFxuICAgICAgdGhpcy5wYXJhbXMuY2xhc3NcbiAgICBdKSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lcik7XG4gIH1cbiAgLyoqXG4gICAqIExpc3Qgb2YgZGVmYXVsdCBwb3BvdmVyIGl0ZW1zIHRoYXQgYXJlIHNlYXJjaGFibGUgYW5kIG1heSBoYXZlIGNvbmZpcm1hdGlvbiBzdGF0ZVxuICAgKi9cbiAgZ2V0IGl0ZW1zRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoKGUpID0+IGUgaW5zdGFuY2VvZiBzZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgSFRNTCBlbGVtZW50IGNvcnJlc3BvbmRpbmcgdG8gdGhlIHBvcG92ZXJcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucG9wb3ZlcjtcbiAgfVxuICAvKipcbiAgICogT3BlbiBwb3BvdmVyXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMubm9kZXMucG9wb3Zlci5jbGFzc0xpc3QuYWRkKE4ucG9wb3Zlck9wZW5lZCksIHRoaXMuc2VhcmNoICE9PSB2b2lkIDAgJiYgdGhpcy5zZWFyY2guZm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2VzIHBvcG92ZXJcbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5ub2Rlcy5wb3BvdmVyLmNsYXNzTGlzdC5yZW1vdmUoTi5wb3BvdmVyT3BlbmVkKSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmNsYXNzTGlzdC5yZW1vdmUoTi5wb3BvdmVyT3BlblRvcCksIHRoaXMuaXRlbXNEZWZhdWx0LmZvckVhY2goKGUpID0+IGUucmVzZXQoKSksIHRoaXMuc2VhcmNoICE9PSB2b2lkIDAgJiYgdGhpcy5zZWFyY2guY2xlYXIoKSwgdGhpcy5lbWl0KFouQ2xvc2VkKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIG1lbW9yeVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goKHQpID0+IHQuZGVzdHJveSgpKSwgdGhpcy5ub2Rlcy5wb3BvdmVyLnJlbW92ZSgpLCB0aGlzLmxpc3RlbmVycy5yZW1vdmVBbGwoKSwgKGUgPSB0aGlzLnNlYXJjaCkgPT0gbnVsbCB8fCBlLmRlc3Ryb3koKTtcbiAgfVxuICAvKipcbiAgICogTG9va3MgZm9yIHRoZSBpdGVtIGJ5IG5hbWUgYW5kIGltaXRhdGVzIGNsaWNrIG9uIGl0XG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gbmFtZSBvZiB0aGUgaXRlbSB0byBhY3RpdmF0ZVxuICAgKi9cbiAgYWN0aXZhdGVJdGVtQnlOYW1lKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5pdGVtcy5maW5kKChvKSA9PiBvLm5hbWUgPT09IGUpO1xuICAgIHRoaXMuaGFuZGxlSXRlbUNsaWNrKHQpO1xuICB9XG4gIC8qKlxuICAgKiBGYWN0b3J5IG1ldGhvZCBmb3IgY3JlYXRpbmcgcG9wb3ZlciBpdGVtc1xuICAgKlxuICAgKiBAcGFyYW0gaXRlbXMgLSBsaXN0IG9mIGl0ZW1zIHBhcmFtc1xuICAgKi9cbiAgYnVpbGRJdGVtcyhlKSB7XG4gICAgcmV0dXJuIGUubWFwKCh0KSA9PiB7XG4gICAgICBzd2l0Y2ggKHQudHlwZSkge1xuICAgICAgICBjYXNlIEEuU2VwYXJhdG9yOlxuICAgICAgICAgIHJldHVybiBuZXcgWHQoKTtcbiAgICAgICAgY2FzZSBBLkh0bWw6XG4gICAgICAgICAgcmV0dXJuIG5ldyBFZSh0LCB0aGlzLml0ZW1zUmVuZGVyUGFyYW1zW0EuSHRtbF0pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBuZXcgc2UodCwgdGhpcy5pdGVtc1JlbmRlclBhcmFtc1tBLkRlZmF1bHRdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0cmlldmVzIHBvcG92ZXIgaXRlbSB0aGF0IGlzIHRoZSB0YXJnZXQgb2YgdGhlIHNwZWNpZmllZCBldmVudFxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgLSBldmVudCB0byByZXRyaWV2ZSBwb3BvdmVyIGl0ZW0gZnJvbVxuICAgKi9cbiAgZ2V0VGFyZ2V0SXRlbShlKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKCh0KSA9PiB0IGluc3RhbmNlb2Ygc2UgfHwgdCBpbnN0YW5jZW9mIEVlKS5maW5kKCh0KSA9PiB7XG4gICAgICBjb25zdCBvID0gdC5nZXRFbGVtZW50KCk7XG4gICAgICByZXR1cm4gbyA9PT0gbnVsbCA/ICExIDogZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhvKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBwb3BvdmVyIGl0ZW0gY2xpY2tcbiAgICpcbiAgICogQHBhcmFtIGl0ZW0gLSBpdGVtIHRvIGhhbmRsZSBjbGljayBvZlxuICAgKi9cbiAgaGFuZGxlSXRlbUNsaWNrKGUpIHtcbiAgICBpZiAoIShcImlzRGlzYWJsZWRcIiBpbiBlICYmIGUuaXNEaXNhYmxlZCkpIHtcbiAgICAgIGlmIChlLmhhc0NoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuc2hvd05lc3RlZEl0ZW1zKGUpLCBcImhhbmRsZUNsaWNrXCIgaW4gZSAmJiB0eXBlb2YgZS5oYW5kbGVDbGljayA9PSBcImZ1bmN0aW9uXCIgJiYgZS5oYW5kbGVDbGljaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLml0ZW1zRGVmYXVsdC5maWx0ZXIoKHQpID0+IHQgIT09IGUpLmZvckVhY2goKHQpID0+IHQucmVzZXQoKSksIFwiaGFuZGxlQ2xpY2tcIiBpbiBlICYmIHR5cGVvZiBlLmhhbmRsZUNsaWNrID09IFwiZnVuY3Rpb25cIiAmJiBlLmhhbmRsZUNsaWNrKCksIHRoaXMudG9nZ2xlSXRlbUFjdGl2ZW5lc3NJZk5lZWRlZChlKSwgZS5jbG9zZU9uQWN0aXZhdGUgJiYgKHRoaXMuaGlkZSgpLCB0aGlzLmVtaXQoWi5DbG9zZWRPbkFjdGl2YXRlKSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVzIGNsaWNrcyBpbnNpZGUgcG9wb3ZlclxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgLSBpdGVtIHRvIGhhbmRsZSBjbGljayBvZlxuICAgKi9cbiAgaGFuZGxlQ2xpY2soZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmdldFRhcmdldEl0ZW0oZSk7XG4gICAgdCAhPT0gdm9pZCAwICYmIHRoaXMuaGFuZGxlSXRlbUNsaWNrKHQpO1xuICB9XG4gIC8qKlxuICAgKiAtIFRvZ2dsZXMgaXRlbSBhY3RpdmUgc3RhdGUsIGlmIGNsaWNrZWQgcG9wb3ZlciBpdGVtIGhhcyBwcm9wZXJ0eSAndG9nZ2xlJyBzZXQgdG8gdHJ1ZS5cbiAgICpcbiAgICogLSBQZXJmb3JtcyByYWRpb2J1dHRvbi1saWtlIGJlaGF2aW9yIGlmIHRoZSBpdGVtIGhhcyBwcm9wZXJ0eSAndG9nZ2xlJyBzZXQgdG8gc3RyaW5nIGtleS5cbiAgICogKEFsbCB0aGUgb3RoZXIgaXRlbXMgd2l0aCB0aGUgc2FtZSBrZXkgZ2V0IGluYWN0aXZlLCBhbmQgdGhlIGl0ZW0gZ2V0cyBhY3RpdmUpXG4gICAqXG4gICAqIEBwYXJhbSBjbGlja2VkSXRlbSAtIHBvcG92ZXIgaXRlbSB0aGF0IHdhcyBjbGlja2VkXG4gICAqL1xuICB0b2dnbGVJdGVtQWN0aXZlbmVzc0lmTmVlZGVkKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIHNlICYmIChlLnRvZ2dsZSA9PT0gITAgJiYgZS50b2dnbGVBY3RpdmUoKSwgdHlwZW9mIGUudG9nZ2xlID09IFwic3RyaW5nXCIpKSB7XG4gICAgICBjb25zdCB0ID0gdGhpcy5pdGVtc0RlZmF1bHQuZmlsdGVyKChvKSA9PiBvLnRvZ2dsZSA9PT0gZS50b2dnbGUpO1xuICAgICAgaWYgKHQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGUudG9nZ2xlQWN0aXZlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHQuZm9yRWFjaCgobykgPT4ge1xuICAgICAgICBvLnRvZ2dsZUFjdGl2ZShvID09PSBlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxudmFyIERlID0gLyogQF9fUFVSRV9fICovICgobikgPT4gKG4uU2VhcmNoID0gXCJzZWFyY2hcIiwgbikpKERlIHx8IHt9KTtcbmNvbnN0ICRlID0gdGUoXCJjZHgtc2VhcmNoLWZpZWxkXCIpLCBZZSA9IHtcbiAgd3JhcHBlcjogJGUoKSxcbiAgaWNvbjogJGUoXCJpY29uXCIpLFxuICBpbnB1dDogJGUoXCJpbnB1dFwiKVxufTtcbmNsYXNzIF9pIGV4dGVuZHMgVGUge1xuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhdmFpbGFibGUgY29uZmlnXG4gICAqIEBwYXJhbSBvcHRpb25zLml0ZW1zIC0gc2VhcmNoYWJsZSBpdGVtcyBsaXN0XG4gICAqIEBwYXJhbSBvcHRpb25zLnBsYWNlaG9sZGVyIC0gaW5wdXQgcGxhY2Vob2xkZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXM6IGUsIHBsYWNlaG9sZGVyOiB0IH0pIHtcbiAgICBzdXBlcigpLCB0aGlzLmxpc3RlbmVycyA9IG5ldyBDZSgpLCB0aGlzLml0ZW1zID0gZSwgdGhpcy53cmFwcGVyID0gZC5tYWtlKFwiZGl2XCIsIFllLndyYXBwZXIpO1xuICAgIGNvbnN0IG8gPSBkLm1ha2UoXCJkaXZcIiwgWWUuaWNvbiwge1xuICAgICAgaW5uZXJIVE1MOiBTaVxuICAgIH0pO1xuICAgIHRoaXMuaW5wdXQgPSBkLm1ha2UoXCJpbnB1dFwiLCBZZS5pbnB1dCwge1xuICAgICAgcGxhY2Vob2xkZXI6IHQsXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcHJldmVudCBmb2N1c2luZyBvbiB0aGUgaW5wdXQgYnkgVGFiIGtleVxuICAgICAgICogKFBvcG92ZXIgaW4gdGhlIFRvb2xiYXIgbGF5cyBiZWxvdyB0aGUgYmxvY2tzLFxuICAgICAgICogc28gVGFiIGluIHRoZSBsYXN0IGJsb2NrIHdpbGwgZm9jdXMgdGhpcyBoaWRkZW4gaW5wdXQgaWYgdGhpcyBwcm9wZXJ0eSBpcyBub3Qgc2V0KVxuICAgICAgICovXG4gICAgICB0YWJJbmRleDogLTFcbiAgICB9KSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKG8pLCB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5pbnB1dCksIHRoaXMubGlzdGVuZXJzLm9uKHRoaXMuaW5wdXQsIFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5zZWFyY2hRdWVyeSA9IHRoaXMuaW5wdXQudmFsdWUsIHRoaXMuZW1pdChEZS5TZWFyY2gsIHtcbiAgICAgICAgcXVlcnk6IHRoaXMuc2VhcmNoUXVlcnksXG4gICAgICAgIGl0ZW1zOiB0aGlzLmZvdW5kSXRlbXNcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlYXJjaCBmaWVsZCBlbGVtZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgZm9jdXMgdG8gdGhlIGlucHV0XG4gICAqL1xuICBmb2N1cygpIHtcbiAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBzZWFyY2ggcXVlcnkgYW5kIHJlc3VsdHNcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuaW5wdXQudmFsdWUgPSBcIlwiLCB0aGlzLnNlYXJjaFF1ZXJ5ID0gXCJcIiwgdGhpcy5lbWl0KERlLlNlYXJjaCwge1xuICAgICAgcXVlcnk6IFwiXCIsXG4gICAgICBpdGVtczogdGhpcy5mb3VuZEl0ZW1zXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBtZW1vcnlcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMucmVtb3ZlQWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBmb3VuZCBpdGVtcyBmb3IgdGhlIGN1cnJlbnQgc2VhcmNoIHF1ZXJ5XG4gICAqL1xuICBnZXQgZm91bmRJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5maWx0ZXIoKGUpID0+IHRoaXMuY2hlY2tJdGVtKGUpKTtcbiAgfVxuICAvKipcbiAgICogQ29udGFpbnMgbG9naWMgZm9yIGNoZWNraW5nIHdoZXRoZXIgcGFzc2VkIGl0ZW0gY29uZm9ybXMgdGhlIHNlYXJjaCBxdWVyeVxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSAtIGl0ZW0gdG8gYmUgY2hlY2tlZFxuICAgKi9cbiAgY2hlY2tJdGVtKGUpIHtcbiAgICB2YXIgaSwgcztcbiAgICBjb25zdCB0ID0gKChpID0gZS50aXRsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGkudG9Mb3dlckNhc2UoKSkgfHwgXCJcIiwgbyA9IChzID0gdGhpcy5zZWFyY2hRdWVyeSkgPT0gbnVsbCA/IHZvaWQgMCA6IHMudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbyAhPT0gdm9pZCAwID8gdC5pbmNsdWRlcyhvKSA6ICExO1xuICB9XG59XG52YXIgTmkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIFBpID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgRGkgPSAobiwgZSwgdCwgbykgPT4ge1xuICBmb3IgKHZhciBpID0gbyA+IDEgPyB2b2lkIDAgOiBvID8gUGkoZSwgdCkgOiBlLCBzID0gbi5sZW5ndGggLSAxLCByOyBzID49IDA7IHMtLSlcbiAgICAociA9IG5bc10pICYmIChpID0gKG8gPyByKGUsIHQsIGkpIDogcihpKSkgfHwgaSk7XG4gIHJldHVybiBvICYmIGkgJiYgTmkoZSwgdCwgaSksIGk7XG59O1xuY29uc3QgcXQgPSBjbGFzcyBadCBleHRlbmRzIFZ0IHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdCB0aGUgaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIHBvcG92ZXIgcGFyYW1zXG4gICAqIEBwYXJhbSBpdGVtc1JlbmRlclBhcmFtcyDigJPCoHBvcG92ZXIgaXRlbSByZW5kZXIgcGFyYW1zLlxuICAgKiBUaGUgcGFyYW1ldGVycyB0aGF0IGFyZSBub3Qgc2V0IGJ5IHVzZXIgdmlhIHBvcG92ZXIgYXBpIGJ1dCByYXRoZXIgZGVwZW5kIG9uIHRlY2huaWNhbCBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHN1cGVyKGUsIHQpLCB0aGlzLm5lc3RpbmdMZXZlbCA9IDAsIHRoaXMubmVzdGVkUG9wb3ZlclRyaWdnZXJJdGVtID0gbnVsbCwgdGhpcy5wcmV2aW91c2x5SG92ZXJlZEl0ZW0gPSBudWxsLCB0aGlzLnNjb3BlRWxlbWVudCA9IGRvY3VtZW50LmJvZHksIHRoaXMuaGlkZSA9ICgpID0+IHtcbiAgICAgIHZhciBvO1xuICAgICAgc3VwZXIuaGlkZSgpLCB0aGlzLmRlc3Ryb3lOZXN0ZWRQb3BvdmVySWZFeGlzdHMoKSwgKG8gPSB0aGlzLmZsaXBwZXIpID09IG51bGwgfHwgby5kZWFjdGl2YXRlKCksIHRoaXMucHJldmlvdXNseUhvdmVyZWRJdGVtID0gbnVsbDtcbiAgICB9LCB0aGlzLm9uRmxpcCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG8gPSB0aGlzLml0ZW1zRGVmYXVsdC5maW5kKChpKSA9PiBpLmlzRm9jdXNlZCk7XG4gICAgICBvID09IG51bGwgfHwgby5vbkZvY3VzKCk7XG4gICAgfSwgdGhpcy5vblNlYXJjaCA9IChvKSA9PiB7XG4gICAgICB2YXIgbDtcbiAgICAgIGNvbnN0IGkgPSBvLnF1ZXJ5ID09PSBcIlwiLCBzID0gby5pdGVtcy5sZW5ndGggPT09IDA7XG4gICAgICB0aGlzLml0ZW1zLmZvckVhY2goKGEpID0+IHtcbiAgICAgICAgbGV0IGMgPSAhMTtcbiAgICAgICAgYSBpbnN0YW5jZW9mIHNlID8gYyA9ICFvLml0ZW1zLmluY2x1ZGVzKGEpIDogKGEgaW5zdGFuY2VvZiBYdCB8fCBhIGluc3RhbmNlb2YgRWUpICYmIChjID0gcyB8fCAhaSksIGEudG9nZ2xlSGlkZGVuKGMpO1xuICAgICAgfSksIHRoaXMudG9nZ2xlTm90aGluZ0ZvdW5kTWVzc2FnZShzKTtcbiAgICAgIGNvbnN0IHIgPSBvLnF1ZXJ5ID09PSBcIlwiID8gdGhpcy5mbGlwcGFibGVFbGVtZW50cyA6IG8uaXRlbXMubWFwKChhKSA9PiBhLmdldEVsZW1lbnQoKSk7XG4gICAgICAobCA9IHRoaXMuZmxpcHBlcikgIT0gbnVsbCAmJiBsLmlzQWN0aXZhdGVkICYmICh0aGlzLmZsaXBwZXIuZGVhY3RpdmF0ZSgpLCB0aGlzLmZsaXBwZXIuYWN0aXZhdGUocikpO1xuICAgIH0sIGUubmVzdGluZ0xldmVsICE9PSB2b2lkIDAgJiYgKHRoaXMubmVzdGluZ0xldmVsID0gZS5uZXN0aW5nTGV2ZWwpLCB0aGlzLm5lc3RpbmdMZXZlbCA+IDAgJiYgdGhpcy5ub2Rlcy5wb3BvdmVyLmNsYXNzTGlzdC5hZGQoTi5wb3BvdmVyTmVzdGVkKSwgZS5zY29wZUVsZW1lbnQgIT09IHZvaWQgMCAmJiAodGhpcy5zY29wZUVsZW1lbnQgPSBlLnNjb3BlRWxlbWVudCksIHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lciAhPT0gbnVsbCAmJiB0aGlzLmxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnBvcG92ZXJDb250YWluZXIsIFwibW91c2VvdmVyXCIsIChvKSA9PiB0aGlzLmhhbmRsZUhvdmVyKG8pKSwgZS5zZWFyY2hhYmxlICYmIHRoaXMuYWRkU2VhcmNoKCksIGUuZmxpcHBhYmxlICE9PSAhMSAmJiAodGhpcy5mbGlwcGVyID0gbmV3IGxlKHtcbiAgICAgIGl0ZW1zOiB0aGlzLmZsaXBwYWJsZUVsZW1lbnRzLFxuICAgICAgZm9jdXNlZEl0ZW1DbGFzczogTC5mb2N1c2VkLFxuICAgICAgYWxsb3dlZEtleXM6IFtcbiAgICAgICAgdy5UQUIsXG4gICAgICAgIHcuVVAsXG4gICAgICAgIHcuRE9XTixcbiAgICAgICAgdy5FTlRFUlxuICAgICAgXVxuICAgIH0pLCB0aGlzLmZsaXBwZXIub25GbGlwKHRoaXMub25GbGlwKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBzb21lIGl0ZW0gaW5zaWRlIHBvcG92ZXIgaXMgZm9jdXNlZFxuICAgKi9cbiAgaGFzRm9jdXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmxpcHBlciA9PT0gdm9pZCAwID8gITEgOiB0aGlzLmZsaXBwZXIuaGFzRm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogU2Nyb2xsIHBvc2l0aW9uIGluc2lkZSBpdGVtcyBjb250YWluZXIgb2YgdGhlIHBvcG92ZXJcbiAgICovXG4gIGdldCBzY3JvbGxUb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMuaXRlbXMgPT09IG51bGwgPyAwIDogdGhpcy5ub2Rlcy5pdGVtcy5zY3JvbGxUb3A7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdmlzaWJsZSBlbGVtZW50IG9mZnNldCB0b3BcbiAgICovXG4gIGdldCBvZmZzZXRUb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lciA9PT0gbnVsbCA/IDAgOiB0aGlzLm5vZGVzLnBvcG92ZXJDb250YWluZXIub2Zmc2V0VG9wO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIHBvcG92ZXJcbiAgICovXG4gIHNob3coKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5ub2Rlcy5wb3BvdmVyLnN0eWxlLnNldFByb3BlcnR5KGRlLlBvcG92ZXJIZWlnaHQsIHRoaXMuc2l6ZS5oZWlnaHQgKyBcInB4XCIpLCB0aGlzLnNob3VsZE9wZW5Cb3R0b20gfHwgdGhpcy5ub2Rlcy5wb3BvdmVyLmNsYXNzTGlzdC5hZGQoTi5wb3BvdmVyT3BlblRvcCksIHRoaXMuc2hvdWxkT3BlblJpZ2h0IHx8IHRoaXMubm9kZXMucG9wb3Zlci5jbGFzc0xpc3QuYWRkKE4ucG9wb3Zlck9wZW5MZWZ0KSwgc3VwZXIuc2hvdygpLCAoZSA9IHRoaXMuZmxpcHBlcikgPT0gbnVsbCB8fCBlLmFjdGl2YXRlKHRoaXMuZmxpcHBhYmxlRWxlbWVudHMpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgbWVtb3J5XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuaGlkZSgpLCBzdXBlci5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgZGlzcGxheWluZyBuZXN0ZWQgaXRlbXMgZm9yIHRoZSBpdGVtLlxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSDigJMgaXRlbSB0byBzaG93IG5lc3RlZCBwb3BvdmVyIGZvclxuICAgKi9cbiAgc2hvd05lc3RlZEl0ZW1zKGUpIHtcbiAgICB0aGlzLm5lc3RlZFBvcG92ZXIgIT09IG51bGwgJiYgdGhpcy5uZXN0ZWRQb3BvdmVyICE9PSB2b2lkIDAgfHwgKHRoaXMubmVzdGVkUG9wb3ZlclRyaWdnZXJJdGVtID0gZSwgdGhpcy5zaG93TmVzdGVkUG9wb3ZlckZvckl0ZW0oZSkpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVzIGhvdmVyIGV2ZW50cyBpbnNpZGUgcG9wb3ZlciBpdGVtcyBjb250YWluZXJcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IC0gaG92ZXIgZXZlbnQgZGF0YVxuICAgKi9cbiAgaGFuZGxlSG92ZXIoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmdldFRhcmdldEl0ZW0oZSk7XG4gICAgdCAhPT0gdm9pZCAwICYmIHRoaXMucHJldmlvdXNseUhvdmVyZWRJdGVtICE9PSB0ICYmICh0aGlzLmRlc3Ryb3lOZXN0ZWRQb3BvdmVySWZFeGlzdHMoKSwgdGhpcy5wcmV2aW91c2x5SG92ZXJlZEl0ZW0gPSB0LCB0Lmhhc0NoaWxkcmVuICYmIHRoaXMuc2hvd05lc3RlZFBvcG92ZXJGb3JJdGVtKHQpKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBDU1MgdmFyaWFibGUgd2l0aCBwb3NpdGlvbiBvZiBpdGVtIG5lYXIgd2hpY2ggbmVzdGVkIHBvcG92ZXIgc2hvdWxkIGJlIGRpc3BsYXllZC5cbiAgICogSXMgdXNlZCBmb3IgY29ycmVjdCBwb3NpdGlvbmluZyBvZiB0aGUgbmVzdGVkIHBvcG92ZXJcbiAgICpcbiAgICogQHBhcmFtIG5lc3RlZFBvcG92ZXJFbCAtIG5lc3RlZCBwb3BvdmVyIGVsZW1lbnRcbiAgICogQHBhcmFtIGl0ZW0g4oCTIGl0ZW0gbmVhciB3aGljaCBuZXN0ZWQgcG9wb3ZlciBzaG91bGQgYmUgZGlzcGxheWVkXG4gICAqL1xuICBzZXRUcmlnZ2VySXRlbVBvc2l0aW9uKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdC5nZXRFbGVtZW50KCksIGkgPSAobyA/IG8ub2Zmc2V0VG9wIDogMCkgLSB0aGlzLnNjcm9sbFRvcCwgcyA9IHRoaXMub2Zmc2V0VG9wICsgaTtcbiAgICBlLnN0eWxlLnNldFByb3BlcnR5KGRlLlRyaWdnZXJJdGVtVG9wLCBzICsgXCJweFwiKTtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgZXhpc3RpbmcgbmVzdGVkIHBvcG92ZXJcbiAgICovXG4gIGRlc3Ryb3lOZXN0ZWRQb3BvdmVySWZFeGlzdHMoKSB7XG4gICAgdmFyIGUsIHQ7XG4gICAgdGhpcy5uZXN0ZWRQb3BvdmVyID09PSB2b2lkIDAgfHwgdGhpcy5uZXN0ZWRQb3BvdmVyID09PSBudWxsIHx8ICh0aGlzLm5lc3RlZFBvcG92ZXIub2ZmKFouQ2xvc2VkT25BY3RpdmF0ZSwgdGhpcy5oaWRlKSwgdGhpcy5uZXN0ZWRQb3BvdmVyLmhpZGUoKSwgdGhpcy5uZXN0ZWRQb3BvdmVyLmRlc3Ryb3koKSwgdGhpcy5uZXN0ZWRQb3BvdmVyLmdldEVsZW1lbnQoKS5yZW1vdmUoKSwgdGhpcy5uZXN0ZWRQb3BvdmVyID0gbnVsbCwgKGUgPSB0aGlzLmZsaXBwZXIpID09IG51bGwgfHwgZS5hY3RpdmF0ZSh0aGlzLmZsaXBwYWJsZUVsZW1lbnRzKSwgKHQgPSB0aGlzLm5lc3RlZFBvcG92ZXJUcmlnZ2VySXRlbSkgPT0gbnVsbCB8fCB0Lm9uQ2hpbGRyZW5DbG9zZSgpKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgZGlzcGxheXMgbmVzdGVkIHBvcG92ZXIgZm9yIHNwZWNpZmllZCBpdGVtLlxuICAgKiBJcyB1c2VkIG9ubHkgb24gZGVza3RvcFxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSAtIGl0ZW0gdG8gZGlzcGxheSBuZXN0ZWQgcG9wb3ZlciBieVxuICAgKi9cbiAgc2hvd05lc3RlZFBvcG92ZXJGb3JJdGVtKGUpIHtcbiAgICB2YXIgbztcbiAgICB0aGlzLm5lc3RlZFBvcG92ZXIgPSBuZXcgWnQoe1xuICAgICAgc2VhcmNoYWJsZTogZS5pc0NoaWxkcmVuU2VhcmNoYWJsZSxcbiAgICAgIGl0ZW1zOiBlLmNoaWxkcmVuLFxuICAgICAgbmVzdGluZ0xldmVsOiB0aGlzLm5lc3RpbmdMZXZlbCArIDEsXG4gICAgICBmbGlwcGFibGU6IGUuaXNDaGlsZHJlbkZsaXBwYWJsZSxcbiAgICAgIG1lc3NhZ2VzOiB0aGlzLm1lc3NhZ2VzXG4gICAgfSksIGUub25DaGlsZHJlbk9wZW4oKSwgdGhpcy5uZXN0ZWRQb3BvdmVyLm9uKFouQ2xvc2VkT25BY3RpdmF0ZSwgdGhpcy5oaWRlKTtcbiAgICBjb25zdCB0ID0gdGhpcy5uZXN0ZWRQb3BvdmVyLmdldEVsZW1lbnQoKTtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5wb3BvdmVyLmFwcGVuZENoaWxkKHQpLCB0aGlzLnNldFRyaWdnZXJJdGVtUG9zaXRpb24odCwgZSksIHQuc3R5bGUuc2V0UHJvcGVydHkoZGUuTmVzdGluZ0xldmVsLCB0aGlzLm5lc3RlZFBvcG92ZXIubmVzdGluZ0xldmVsLnRvU3RyaW5nKCkpLCB0aGlzLm5lc3RlZFBvcG92ZXIuc2hvdygpLCAobyA9IHRoaXMuZmxpcHBlcikgPT0gbnVsbCB8fCBvLmRlYWN0aXZhdGUoKSwgdGhpcy5uZXN0ZWRQb3BvdmVyO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgcG9wb3ZlciBzaG91bGQgYmUgb3BlbmVkIGJvdHRvbS5cbiAgICogSXQgc2hvdWxkIGhhcHBlbiB3aGVuIHRoZXJlIGlzIGVub3VnaCBzcGFjZSBiZWxvdyBvciBub3QgZW5vdWdoIHNwYWNlIGFib3ZlXG4gICAqL1xuICBnZXQgc2hvdWxkT3BlbkJvdHRvbSgpIHtcbiAgICBpZiAodGhpcy5ub2Rlcy5wb3BvdmVyID09PSB2b2lkIDAgfHwgdGhpcy5ub2Rlcy5wb3BvdmVyID09PSBudWxsKVxuICAgICAgcmV0dXJuICExO1xuICAgIGNvbnN0IGUgPSB0aGlzLm5vZGVzLnBvcG92ZXJDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHQgPSB0aGlzLnNjb3BlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbyA9IHRoaXMuc2l6ZS5oZWlnaHQsIGkgPSBlLnRvcCArIG8sIHMgPSBlLnRvcCAtIG8sIHIgPSBNYXRoLm1pbih3aW5kb3cuaW5uZXJIZWlnaHQsIHQuYm90dG9tKTtcbiAgICByZXR1cm4gcyA8IHQudG9wIHx8IGkgPD0gcjtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHBvcG92ZXIgc2hvdWxkIGJlIG9wZW5lZCBsZWZ0LlxuICAgKiBJdCBzaG91bGQgaGFwcGVuIHdoZW4gdGhlcmUgaXMgZW5vdWdoIHNwYWNlIGluIHRoZSByaWdodCBvciBub3QgZW5vdWdoIHNwYWNlIGluIHRoZSBsZWZ0XG4gICAqL1xuICBnZXQgc2hvdWxkT3BlblJpZ2h0KCkge1xuICAgIGlmICh0aGlzLm5vZGVzLnBvcG92ZXIgPT09IHZvaWQgMCB8fCB0aGlzLm5vZGVzLnBvcG92ZXIgPT09IG51bGwpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgZSA9IHRoaXMubm9kZXMucG9wb3Zlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdCA9IHRoaXMuc2NvcGVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBvID0gdGhpcy5zaXplLndpZHRoLCBpID0gZS5yaWdodCArIG8sIHMgPSBlLmxlZnQgLSBvLCByID0gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGgsIHQucmlnaHQpO1xuICAgIHJldHVybiBzIDwgdC5sZWZ0IHx8IGkgPD0gcjtcbiAgfVxuICBnZXQgc2l6ZSgpIHtcbiAgICB2YXIgaTtcbiAgICBjb25zdCBlID0ge1xuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgd2lkdGg6IDBcbiAgICB9O1xuICAgIGlmICh0aGlzLm5vZGVzLnBvcG92ZXIgPT09IG51bGwpXG4gICAgICByZXR1cm4gZTtcbiAgICBjb25zdCB0ID0gdGhpcy5ub2Rlcy5wb3BvdmVyLmNsb25lTm9kZSghMCk7XG4gICAgdC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIiwgdC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIiwgdC5zdHlsZS50b3AgPSBcIi0xMDAwcHhcIiwgdC5jbGFzc0xpc3QuYWRkKE4ucG9wb3Zlck9wZW5lZCksIChpID0gdC5xdWVyeVNlbGVjdG9yKFwiLlwiICsgTi5wb3BvdmVyTmVzdGVkKSkgPT0gbnVsbCB8fCBpLnJlbW92ZSgpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IG8gPSB0LnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBOLnBvcG92ZXJDb250YWluZXIpO1xuICAgIHJldHVybiBlLmhlaWdodCA9IG8ub2Zmc2V0SGVpZ2h0LCBlLndpZHRoID0gby5vZmZzZXRXaWR0aCwgdC5yZW1vdmUoKSwgZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IG9mIGVsZW1lbnRzIGF2YWlsYWJsZSBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICovXG4gIGdldCBmbGlwcGFibGVFbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5tYXAoKHQpID0+IHtcbiAgICAgIGlmICh0IGluc3RhbmNlb2Ygc2UpXG4gICAgICAgIHJldHVybiB0LmdldEVsZW1lbnQoKTtcbiAgICAgIGlmICh0IGluc3RhbmNlb2YgRWUpXG4gICAgICAgIHJldHVybiB0LmdldENvbnRyb2xzKCk7XG4gICAgfSkuZmxhdCgpLmZpbHRlcigodCkgPT4gdCAhPSBudWxsKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBzZWFyY2ggdG8gdGhlIHBvcG92ZXJcbiAgICovXG4gIGFkZFNlYXJjaCgpIHtcbiAgICB0aGlzLnNlYXJjaCA9IG5ldyBfaSh7XG4gICAgICBpdGVtczogdGhpcy5pdGVtc0RlZmF1bHQsXG4gICAgICBwbGFjZWhvbGRlcjogdGhpcy5tZXNzYWdlcy5zZWFyY2hcbiAgICB9KSwgdGhpcy5zZWFyY2gub24oRGUuU2VhcmNoLCB0aGlzLm9uU2VhcmNoKTtcbiAgICBjb25zdCBlID0gdGhpcy5zZWFyY2guZ2V0RWxlbWVudCgpO1xuICAgIGUuY2xhc3NMaXN0LmFkZChOLnNlYXJjaCksIHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lci5pbnNlcnRCZWZvcmUoZSwgdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIG5vdGhpbmcgZm91bmQgbWVzc2FnZSB2aXNpYmlsaXR5XG4gICAqXG4gICAqIEBwYXJhbSBpc0Rpc3BsYXllZCAtIHRydWUgaWYgdGhlIG1lc3NhZ2Ugc2hvdWxkIGJlIGRpc3BsYXllZFxuICAgKi9cbiAgdG9nZ2xlTm90aGluZ0ZvdW5kTWVzc2FnZShlKSB7XG4gICAgdGhpcy5ub2Rlcy5ub3RoaW5nRm91bmRNZXNzYWdlLmNsYXNzTGlzdC50b2dnbGUoTi5ub3RoaW5nRm91bmRNZXNzYWdlRGlzcGxheWVkLCBlKTtcbiAgfVxufTtcbkRpKFtcbiAgdWVcbl0sIHF0LnByb3RvdHlwZSwgXCJzaXplXCIsIDEpO1xubGV0IGx0ID0gcXQ7XG5jbGFzcyBSaSBleHRlbmRzIGx0IHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBpbnN0YW5jZSBwYXJhbWV0ZXJzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgY29uc3QgdCA9ICFwZSgpO1xuICAgIHN1cGVyKFxuICAgICAge1xuICAgICAgICAuLi5lLFxuICAgICAgICBjbGFzczogTi5wb3BvdmVySW5saW5lXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBbQS5EZWZhdWx0XToge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFdlIHVzZSBidXR0b24gaW5zdGVhZCBvZiBkaXYgaGVyZSB0byBmaXggYnVnIGFzc29jaWF0ZWQgd2l0aCBmb2N1cyBsb3NzICh3aGljaCBsZWFkcyB0byBzZWxlY3Rpb24gY2hhbmdlKSBvbiBjbGljayBpbiBzYWZhcmlcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEB0b2RvIGZpZ3VyZSBvdXQgYmV0dGVyIHdheSB0byBzb2x2ZSB0aGUgaXNzdWVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICB3cmFwcGVyVGFnOiBcImJ1dHRvblwiLFxuICAgICAgICAgIGhpbnQ6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcInRvcFwiLFxuICAgICAgICAgICAgYWxpZ25tZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgZW5hYmxlZDogdFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgW0EuSHRtbF06IHtcbiAgICAgICAgICBoaW50OiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJ0b3BcIixcbiAgICAgICAgICAgIGFsaWdubWVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApLCB0aGlzLml0ZW1zLmZvckVhY2goKG8pID0+IHtcbiAgICAgICEobyBpbnN0YW5jZW9mIHNlKSAmJiAhKG8gaW5zdGFuY2VvZiBFZSkgfHwgby5oYXNDaGlsZHJlbiAmJiBvLmlzQ2hpbGRyZW5PcGVuICYmIHRoaXMuc2hvd05lc3RlZEl0ZW1zKG8pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHZpc2libGUgZWxlbWVudCBvZmZzZXQgdG9wXG4gICAqL1xuICBnZXQgb2Zmc2V0TGVmdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyID09PSBudWxsID8gMCA6IHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lci5vZmZzZXRMZWZ0O1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIHBvcG92ZXJcbiAgICovXG4gIHNob3coKSB7XG4gICAgdGhpcy5uZXN0aW5nTGV2ZWwgPT09IDAgJiYgdGhpcy5ub2Rlcy5wb3BvdmVyLnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgZGUuSW5saW5lUG9wb3ZlcldpZHRoLFxuICAgICAgdGhpcy5zaXplLndpZHRoICsgXCJweFwiXG4gICAgKSwgc3VwZXIuc2hvdygpO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlIGhvdmVyIGV2ZW50IGhhbmRsaW5nLlxuICAgKiBPdmVycmlkZXMgcGFyZW50J3MgY2xhc3MgYmVoYXZpb3JcbiAgICovXG4gIGhhbmRsZUhvdmVyKCkge1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIENTUyB2YXJpYWJsZSB3aXRoIHBvc2l0aW9uIG9mIGl0ZW0gbmVhciB3aGljaCBuZXN0ZWQgcG9wb3ZlciBzaG91bGQgYmUgZGlzcGxheWVkLlxuICAgKiBJcyB1c2VkIHRvIHBvc2l0aW9uIG5lc3RlZCBwb3BvdmVyIHJpZ2h0IGJlbG93IGNsaWNrZWQgaXRlbVxuICAgKlxuICAgKiBAcGFyYW0gbmVzdGVkUG9wb3ZlckVsIC0gbmVzdGVkIHBvcG92ZXIgZWxlbWVudFxuICAgKiBAcGFyYW0gaXRlbSDigJMgaXRlbSBuZWFyIHdoaWNoIG5lc3RlZCBwb3BvdmVyIHNob3VsZCBiZSBkaXNwbGF5ZWRcbiAgICovXG4gIHNldFRyaWdnZXJJdGVtUG9zaXRpb24oZSwgdCkge1xuICAgIGNvbnN0IG8gPSB0LmdldEVsZW1lbnQoKSwgaSA9IG8gPyBvLm9mZnNldExlZnQgOiAwLCBzID0gdGhpcy5vZmZzZXRMZWZ0ICsgaTtcbiAgICBlLnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgZGUuVHJpZ2dlckl0ZW1MZWZ0LFxuICAgICAgcyArIFwicHhcIlxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgZGlzcGxheWluZyBuZXN0ZWQgaXRlbXMgZm9yIHRoZSBpdGVtLlxuICAgKiBPdmVycmlkaW5nIGluIG9yZGVyIHRvIGFkZCB0b2dnbGluZyBiZWhhdmlvdXJcbiAgICpcbiAgICogQHBhcmFtIGl0ZW0g4oCTIGl0ZW0gdG8gdG9nZ2xlIG5lc3RlZCBwb3BvdmVyIGZvclxuICAgKi9cbiAgc2hvd05lc3RlZEl0ZW1zKGUpIHtcbiAgICBpZiAodGhpcy5uZXN0ZWRQb3BvdmVyVHJpZ2dlckl0ZW0gPT09IGUpIHtcbiAgICAgIHRoaXMuZGVzdHJveU5lc3RlZFBvcG92ZXJJZkV4aXN0cygpLCB0aGlzLm5lc3RlZFBvcG92ZXJUcmlnZ2VySXRlbSA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN1cGVyLnNob3dOZXN0ZWRJdGVtcyhlKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgZGlzcGxheXMgbmVzdGVkIHBvcG92ZXIgZm9yIHNwZWNpZmllZCBpdGVtLlxuICAgKiBJcyB1c2VkIG9ubHkgb24gZGVza3RvcFxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSAtIGl0ZW0gdG8gZGlzcGxheSBuZXN0ZWQgcG9wb3ZlciBieVxuICAgKi9cbiAgc2hvd05lc3RlZFBvcG92ZXJGb3JJdGVtKGUpIHtcbiAgICBjb25zdCB0ID0gc3VwZXIuc2hvd05lc3RlZFBvcG92ZXJGb3JJdGVtKGUpO1xuICAgIHJldHVybiB0LmdldEVsZW1lbnQoKS5jbGFzc0xpc3QuYWRkKE4uZ2V0UG9wb3Zlck5lc3RlZENsYXNzKHQubmVzdGluZ0xldmVsKSksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyBkZWZhdWx0IGl0ZW0gY2xpY2sgaGFuZGxpbmcuXG4gICAqIEhlbHBzIHRvIGNsb3NlIG5lc3RlZCBwb3BvdmVyIG9uY2Ugb3RoZXIgaXRlbSBpcyBjbGlja2VkLlxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSAtIGNsaWNrZWQgaXRlbVxuICAgKi9cbiAgaGFuZGxlSXRlbUNsaWNrKGUpIHtcbiAgICB2YXIgdDtcbiAgICBlICE9PSB0aGlzLm5lc3RlZFBvcG92ZXJUcmlnZ2VySXRlbSAmJiAoKHQgPSB0aGlzLm5lc3RlZFBvcG92ZXJUcmlnZ2VySXRlbSkgPT0gbnVsbCB8fCB0LmhhbmRsZUNsaWNrKCksIHN1cGVyLmRlc3Ryb3lOZXN0ZWRQb3BvdmVySWZFeGlzdHMoKSksIHN1cGVyLmhhbmRsZUl0ZW1DbGljayhlKTtcbiAgfVxufVxuY29uc3QgR3QgPSBjbGFzcyB3ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2Nyb2xsUG9zaXRpb24gPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBMb2NrcyBib2R5IGVsZW1lbnQgc2Nyb2xsXG4gICAqL1xuICBsb2NrKCkge1xuICAgIEdlID8gdGhpcy5sb2NrSGFyZCgpIDogZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKHdlLkNTUy5zY3JvbGxMb2NrZWQpO1xuICB9XG4gIC8qKlxuICAgKiBVbmxvY2tzIGJvZHkgZWxlbWVudCBzY3JvbGxcbiAgICovXG4gIHVubG9jaygpIHtcbiAgICBHZSA/IHRoaXMudW5sb2NrSGFyZCgpIDogZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKHdlLkNTUy5zY3JvbGxMb2NrZWQpO1xuICB9XG4gIC8qKlxuICAgKiBMb2NrcyBzY3JvbGwgaW4gYSBoYXJkIHdheSAodmlhIHNldHRpbmcgZml4ZWQgcG9zaXRpb24gdG8gYm9keSBlbGVtZW50KVxuICAgKi9cbiAgbG9ja0hhcmQoKSB7XG4gICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5wYWdlWU9mZnNldCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgXCItLXdpbmRvdy1zY3JvbGwtb2Zmc2V0XCIsXG4gICAgICBgJHt0aGlzLnNjcm9sbFBvc2l0aW9ufXB4YFxuICAgICksIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCh3ZS5DU1Muc2Nyb2xsTG9ja2VkSGFyZCk7XG4gIH1cbiAgLyoqXG4gICAqIFVubG9ja3MgaGFyZCBzY3JvbGwgbG9ja1xuICAgKi9cbiAgdW5sb2NrSGFyZCgpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUod2UuQ1NTLnNjcm9sbExvY2tlZEhhcmQpLCB0aGlzLnNjcm9sbFBvc2l0aW9uICE9PSBudWxsICYmIHdpbmRvdy5zY3JvbGxUbygwLCB0aGlzLnNjcm9sbFBvc2l0aW9uKSwgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gIH1cbn07XG5HdC5DU1MgPSB7XG4gIHNjcm9sbExvY2tlZDogXCJjZS1zY3JvbGwtbG9ja2VkXCIsXG4gIHNjcm9sbExvY2tlZEhhcmQ6IFwiY2Utc2Nyb2xsLWxvY2tlZC0taGFyZFwiXG59O1xubGV0IEZpID0gR3Q7XG5jb25zdCBXZSA9IHRlKFwiY2UtcG9wb3Zlci1oZWFkZXJcIiksIEtlID0ge1xuICByb290OiBXZSgpLFxuICB0ZXh0OiBXZShcInRleHRcIiksXG4gIGJhY2tCdXR0b246IFdlKFwiYmFjay1idXR0b25cIilcbn07XG5jbGFzcyBIaSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gcG9wb3ZlciBoZWFkZXIgcGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IHRleHQ6IGUsIG9uQmFja0J1dHRvbkNsaWNrOiB0IH0pIHtcbiAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBDZSgpLCB0aGlzLnRleHQgPSBlLCB0aGlzLm9uQmFja0J1dHRvbkNsaWNrID0gdCwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIHJvb3Q6IGQubWFrZShcImRpdlwiLCBbS2Uucm9vdF0pLFxuICAgICAgYmFja0J1dHRvbjogZC5tYWtlKFwiYnV0dG9uXCIsIFtLZS5iYWNrQnV0dG9uXSksXG4gICAgICB0ZXh0OiBkLm1ha2UoXCJkaXZcIiwgW0tlLnRleHRdKVxuICAgIH0sIHRoaXMubm9kZXMuYmFja0J1dHRvbi5pbm5lckhUTUwgPSB2aSwgdGhpcy5ub2Rlcy5yb290LmFwcGVuZENoaWxkKHRoaXMubm9kZXMuYmFja0J1dHRvbiksIHRoaXMubGlzdGVuZXJzLm9uKHRoaXMubm9kZXMuYmFja0J1dHRvbiwgXCJjbGlja1wiLCB0aGlzLm9uQmFja0J1dHRvbkNsaWNrKSwgdGhpcy5ub2Rlcy50ZXh0LmlubmVyVGV4dCA9IHRoaXMudGV4dCwgdGhpcy5ub2Rlcy5yb290LmFwcGVuZENoaWxkKHRoaXMubm9kZXMudGV4dCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcG9wb3ZlciBoZWFkZXIgcm9vdCBodG1sIGVsZW1lbnRcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucm9vdDtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGluc3RhbmNlXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMubm9kZXMucm9vdC5yZW1vdmUoKSwgdGhpcy5saXN0ZW5lcnMuZGVzdHJveSgpO1xuICB9XG59XG5jbGFzcyB6aSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGlzdG9yeSA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBQdXNoIG5ldyBwb3BvdmVyIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSBzdGF0ZSAtIG5ldyBzdGF0ZVxuICAgKi9cbiAgcHVzaChlKSB7XG4gICAgdGhpcy5oaXN0b3J5LnB1c2goZSk7XG4gIH1cbiAgLyoqXG4gICAqIFBvcCBsYXN0IHBvcG92ZXIgc3RhdGVcbiAgICovXG4gIHBvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5oaXN0b3J5LnBvcCgpO1xuICB9XG4gIC8qKlxuICAgKiBUaXRsZSByZXRyaWV2ZWQgZnJvbSB0aGUgY3VycmVudCBzdGF0ZVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRUaXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5oaXN0b3J5Lmxlbmd0aCA9PT0gMCA/IFwiXCIgOiB0aGlzLmhpc3RvcnlbdGhpcy5oaXN0b3J5Lmxlbmd0aCAtIDFdLnRpdGxlO1xuICB9XG4gIC8qKlxuICAgKiBJdGVtcyBsaXN0IHJldHJpZXZlZCBmcm9tIHRoZSBjdXJyZW50IHN0YXRlXG4gICAqL1xuICBnZXQgY3VycmVudEl0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLmhpc3RvcnkubGVuZ3RoID09PSAwID8gW10gOiB0aGlzLmhpc3RvcnlbdGhpcy5oaXN0b3J5Lmxlbmd0aCAtIDFdLml0ZW1zO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGhpc3RvcnkgdG8gaW5pdGlhbCBwb3BvdmVyIHN0YXRlXG4gICAqL1xuICByZXNldCgpIHtcbiAgICBmb3IgKDsgdGhpcy5oaXN0b3J5Lmxlbmd0aCA+IDE7IClcbiAgICAgIHRoaXMucG9wKCk7XG4gIH1cbn1cbmNsYXNzIEp0IGV4dGVuZHMgVnQge1xuICAvKipcbiAgICogQ29uc3RydWN0IHRoZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gcG9wb3ZlciBwYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcihlLCB7XG4gICAgICBbQS5EZWZhdWx0XToge1xuICAgICAgICBoaW50OiB7XG4gICAgICAgICAgZW5hYmxlZDogITFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtBLkh0bWxdOiB7XG4gICAgICAgIGhpbnQ6IHtcbiAgICAgICAgICBlbmFibGVkOiAhMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksIHRoaXMuc2Nyb2xsTG9ja2VyID0gbmV3IEZpKCksIHRoaXMuaGlzdG9yeSA9IG5ldyB6aSgpLCB0aGlzLmlzSGlkZGVuID0gITAsIHRoaXMubm9kZXMub3ZlcmxheSA9IGQubWFrZShcImRpdlwiLCBbTi5vdmVybGF5LCBOLm92ZXJsYXlIaWRkZW5dKSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmluc2VydEJlZm9yZSh0aGlzLm5vZGVzLm92ZXJsYXksIHRoaXMubm9kZXMucG9wb3Zlci5maXJzdENoaWxkKSwgdGhpcy5saXN0ZW5lcnMub24odGhpcy5ub2Rlcy5vdmVybGF5LCBcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0pLCB0aGlzLmhpc3RvcnkucHVzaCh7IGl0ZW1zOiBlLml0ZW1zIH0pO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIHBvcG92ZXJcbiAgICovXG4gIHNob3coKSB7XG4gICAgdGhpcy5ub2Rlcy5vdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoTi5vdmVybGF5SGlkZGVuKSwgc3VwZXIuc2hvdygpLCB0aGlzLnNjcm9sbExvY2tlci5sb2NrKCksIHRoaXMuaXNIaWRkZW4gPSAhMTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2VzIHBvcG92ZXJcbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5pc0hpZGRlbiB8fCAoc3VwZXIuaGlkZSgpLCB0aGlzLm5vZGVzLm92ZXJsYXkuY2xhc3NMaXN0LmFkZChOLm92ZXJsYXlIaWRkZW4pLCB0aGlzLnNjcm9sbExvY2tlci51bmxvY2soKSwgdGhpcy5oaXN0b3J5LnJlc2V0KCksIHRoaXMuaXNIaWRkZW4gPSAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBtZW1vcnlcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpLCB0aGlzLnNjcm9sbExvY2tlci51bmxvY2soKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBkaXNwbGF5aW5nIG5lc3RlZCBpdGVtcyBmb3IgdGhlIGl0ZW1cbiAgICpcbiAgICogQHBhcmFtIGl0ZW0g4oCTwqBpdGVtIHRvIHNob3cgbmVzdGVkIHBvcG92ZXIgZm9yXG4gICAqL1xuICBzaG93TmVzdGVkSXRlbXMoZSkge1xuICAgIHRoaXMudXBkYXRlSXRlbXNBbmRIZWFkZXIoZS5jaGlsZHJlbiwgZS50aXRsZSksIHRoaXMuaGlzdG9yeS5wdXNoKHtcbiAgICAgIHRpdGxlOiBlLnRpdGxlLFxuICAgICAgaXRlbXM6IGUuY2hpbGRyZW5cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyByZW5kZXJlZCBwb3BvdmVyIGl0ZW1zIGFuZCBoZWFkZXIgYW5kIGRpc3BsYXlzIG5ldyBvbmVzXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtcyAtIG5ldyBwb3BvdmVyIGl0ZW1zXG4gICAqIEBwYXJhbSB0aXRsZSAtIG5ldyBwb3BvdmVyIGhlYWRlciB0ZXh0XG4gICAqL1xuICB1cGRhdGVJdGVtc0FuZEhlYWRlcihlLCB0KSB7XG4gICAgaWYgKHRoaXMuaGVhZGVyICE9PSBudWxsICYmIHRoaXMuaGVhZGVyICE9PSB2b2lkIDAgJiYgKHRoaXMuaGVhZGVyLmRlc3Ryb3koKSwgdGhpcy5oZWFkZXIgPSBudWxsKSwgdCAhPT0gdm9pZCAwKSB7XG4gICAgICB0aGlzLmhlYWRlciA9IG5ldyBIaSh7XG4gICAgICAgIHRleHQ6IHQsXG4gICAgICAgIG9uQmFja0J1dHRvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5oaXN0b3J5LnBvcCgpLCB0aGlzLnVwZGF0ZUl0ZW1zQW5kSGVhZGVyKHRoaXMuaGlzdG9yeS5jdXJyZW50SXRlbXMsIHRoaXMuaGlzdG9yeS5jdXJyZW50VGl0bGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG8gPSB0aGlzLmhlYWRlci5nZXRFbGVtZW50KCk7XG4gICAgICBvICE9PSBudWxsICYmIHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lci5pbnNlcnRCZWZvcmUobywgdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICB0aGlzLml0ZW1zLmZvckVhY2goKG8pID0+IHtcbiAgICAgIHZhciBpO1xuICAgICAgcmV0dXJuIChpID0gby5nZXRFbGVtZW50KCkpID09IG51bGwgPyB2b2lkIDAgOiBpLnJlbW92ZSgpO1xuICAgIH0pLCB0aGlzLml0ZW1zID0gdGhpcy5idWlsZEl0ZW1zKGUpLCB0aGlzLml0ZW1zLmZvckVhY2goKG8pID0+IHtcbiAgICAgIHZhciBzO1xuICAgICAgY29uc3QgaSA9IG8uZ2V0RWxlbWVudCgpO1xuICAgICAgaSAhPT0gbnVsbCAmJiAoKHMgPSB0aGlzLm5vZGVzLml0ZW1zKSA9PSBudWxsIHx8IHMuYXBwZW5kQ2hpbGQoaSkpO1xuICAgIH0pO1xuICB9XG59XG5jbGFzcyBVaSBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLnNlbGVjdGlvbiA9IG5ldyBiKCksIHRoaXMucG9wb3ZlciA9IG51bGwsIHRoaXMuY2xvc2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9wZW5lZCAmJiAodGhpcy5vcGVuZWQgPSAhMSwgYi5pc0F0RWRpdG9yIHx8IHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5zZWxlY3Rpb24uY2xlYXJTYXZlZCgpLCAhdGhpcy5FZGl0b3IuQ3Jvc3NCbG9ja1NlbGVjdGlvbi5pc0Nyb3NzQmxvY2tTZWxlY3Rpb25TdGFydGVkICYmIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24udW5zZWxlY3RCbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrKSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQodGhpcy5ldmVudHMuY2xvc2VkKSwgdGhpcy5wb3BvdmVyICYmICh0aGlzLnBvcG92ZXIub2ZmKFouQ2xvc2VkLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgdGhpcy5wb3BvdmVyLmRlc3Ryb3koKSwgdGhpcy5wb3BvdmVyLmdldEVsZW1lbnQoKS5yZW1vdmUoKSwgdGhpcy5wb3BvdmVyID0gbnVsbCkpO1xuICAgIH0sIHRoaXMub25Qb3BvdmVyQ2xvc2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlIEV2ZW50c1xuICAgKi9cbiAgZ2V0IGV2ZW50cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3BlbmVkOiBcImJsb2NrLXNldHRpbmdzLW9wZW5lZFwiLFxuICAgICAgY2xvc2VkOiBcImJsb2NrLXNldHRpbmdzLWNsb3NlZFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQmxvY2sgU2V0dGluZ3MgQ1NTXG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZXR0aW5nczogXCJjZS1zZXR0aW5nc1wiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0dGVyIGZvciBpbm5lciBwb3BvdmVyJ3MgZmxpcHBlciBpbnN0YW5jZVxuICAgKlxuICAgKiBAdG9kbyByZW1vdmUgb25jZSBCbG9ja1NldHRpbmdzIGJlY29tZXMgc3RhbmRhbG9uZSBub24tbW9kdWxlIGNsYXNzXG4gICAqL1xuICBnZXQgZmxpcHBlcigpIHtcbiAgICB2YXIgZTtcbiAgICBpZiAodGhpcy5wb3BvdmVyICE9PSBudWxsKVxuICAgICAgcmV0dXJuIFwiZmxpcHBlclwiIGluIHRoaXMucG9wb3ZlciA/IChlID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogZS5mbGlwcGVyIDogdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBQYW5lbCB3aXRoIGJsb2NrIHNldHRpbmdzIHdpdGggMiBzZWN0aW9uczpcbiAgICogIC0gVG9vbCdzIFNldHRpbmdzXG4gICAqICAtIERlZmF1bHQgU2V0dGluZ3MgW01vdmUsIFJlbW92ZSwgZXRjXVxuICAgKi9cbiAgbWFrZSgpIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgW3RoaXMuQ1NTLnNldHRpbmdzXSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vbih5ZSwgdGhpcy5jbG9zZSk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIG1vZHVsZVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUFsbE5vZGVzKCksIHRoaXMubGlzdGVuZXJzLmRlc3Ryb3koKSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9mZih5ZSwgdGhpcy5jbG9zZSk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gQmxvY2sgU2V0dGluZ3MgcGFuZVxuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0QmxvY2sgLSBuZWFyIHdoaWNoIEJsb2NrIHdlIHNob3VsZCBvcGVuIEJsb2NrU2V0dGluZ3NcbiAgICovXG4gIGFzeW5jIG9wZW4oZSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2spIHtcbiAgICB2YXIgcztcbiAgICB0aGlzLm9wZW5lZCA9ICEwLCB0aGlzLnNlbGVjdGlvbi5zYXZlKCksIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnNlbGVjdEJsb2NrKGUpLCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhckNhY2hlKCk7XG4gICAgY29uc3QgeyB0b29sVHVuZXM6IHQsIGNvbW1vblR1bmVzOiBvIH0gPSBlLmdldFR1bmVzKCk7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQodGhpcy5ldmVudHMub3BlbmVkKTtcbiAgICBjb25zdCBpID0gcGUoKSA/IEp0IDogbHQ7XG4gICAgdGhpcy5wb3BvdmVyID0gbmV3IGkoe1xuICAgICAgc2VhcmNoYWJsZTogITAsXG4gICAgICBpdGVtczogYXdhaXQgdGhpcy5nZXRUdW5lc0l0ZW1zKGUsIG8sIHQpLFxuICAgICAgc2NvcGVFbGVtZW50OiB0aGlzLkVkaXRvci5BUEkubWV0aG9kcy51aS5ub2Rlcy5yZWRhY3RvcixcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIG5vdGhpbmdGb3VuZDogei51aShLLnVpLnBvcG92ZXIsIFwiTm90aGluZyBmb3VuZFwiKSxcbiAgICAgICAgc2VhcmNoOiB6LnVpKEsudWkucG9wb3ZlciwgXCJGaWx0ZXJcIilcbiAgICAgIH1cbiAgICB9KSwgdGhpcy5wb3BvdmVyLm9uKFouQ2xvc2VkLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgKHMgPSB0aGlzLm5vZGVzLndyYXBwZXIpID09IG51bGwgfHwgcy5hcHBlbmQodGhpcy5wb3BvdmVyLmdldEVsZW1lbnQoKSksIHRoaXMucG9wb3Zlci5zaG93KCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcm9vdCBibG9jayBzZXR0aW5ncyBlbGVtZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBpdGVtcyB0byBiZSBkaXNwbGF5ZWQgaW4gYmxvY2sgdHVuZXMgbWVudS5cbiAgICogTWVyZ2VzIHRvb2wgc3BlY2lmaWMgdHVuZXMsIGNvbnZlcnNpb24gbWVudSBhbmQgY29tbW9uIHR1bmVzIGluIG9uZSBsaXN0IGluIHByZWRlZmluZWQgb3JkZXJcbiAgICpcbiAgICogQHBhcmFtIGN1cnJlbnRCbG9jayDigJMgIGJsb2NrIHdlIGFyZSBhYm91dCB0byBvcGVuIGJsb2NrIHR1bmVzIGZvclxuICAgKiBAcGFyYW0gY29tbW9uVHVuZXMg4oCTIGNvbW1vbiB0dW5lc1xuICAgKiBAcGFyYW0gdG9vbFR1bmVzIC0gdG9vbCBzcGVjaWZpYyB0dW5lc1xuICAgKi9cbiAgYXN5bmMgZ2V0VHVuZXNJdGVtcyhlLCB0LCBvKSB7XG4gICAgY29uc3QgaSA9IFtdO1xuICAgIG8gIT09IHZvaWQgMCAmJiBvLmxlbmd0aCA+IDAgJiYgKGkucHVzaCguLi5vKSwgaS5wdXNoKHtcbiAgICAgIHR5cGU6IEEuU2VwYXJhdG9yXG4gICAgfSkpO1xuICAgIGNvbnN0IHMgPSBBcnJheS5mcm9tKHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMudmFsdWVzKCkpLCBsID0gKGF3YWl0IHp0KGUsIHMpKS5yZWR1Y2UoKGEsIGMpID0+IChjLnRvb2xib3guZm9yRWFjaCgodSkgPT4ge1xuICAgICAgYS5wdXNoKHtcbiAgICAgICAgaWNvbjogdS5pY29uLFxuICAgICAgICB0aXRsZTogei50KEsudG9vbE5hbWVzLCB1LnRpdGxlKSxcbiAgICAgICAgbmFtZTogYy5uYW1lLFxuICAgICAgICBjbG9zZU9uQWN0aXZhdGU6ICEwLFxuICAgICAgICBvbkFjdGl2YXRlOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGgsIENhcmV0OiBwLCBUb29sYmFyOiBnIH0gPSB0aGlzLkVkaXRvciwgZiA9IGF3YWl0IGguY29udmVydChlLCBjLm5hbWUsIHUuZGF0YSk7XG4gICAgICAgICAgZy5jbG9zZSgpLCBwLnNldFRvQmxvY2soZiwgcC5wb3NpdGlvbnMuRU5EKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSksIGEpLCBbXSk7XG4gICAgcmV0dXJuIGwubGVuZ3RoID4gMCAmJiAoaS5wdXNoKHtcbiAgICAgIGljb246IEt0LFxuICAgICAgbmFtZTogXCJjb252ZXJ0LXRvXCIsXG4gICAgICB0aXRsZTogei51aShLLnVpLnBvcG92ZXIsIFwiQ29udmVydCB0b1wiKSxcbiAgICAgIGNoaWxkcmVuOiB7XG4gICAgICAgIHNlYXJjaGFibGU6ICEwLFxuICAgICAgICBpdGVtczogbFxuICAgICAgfVxuICAgIH0pLCBpLnB1c2goe1xuICAgICAgdHlwZTogQS5TZXBhcmF0b3JcbiAgICB9KSksIGkucHVzaCguLi50KSwgaS5tYXAoKGEpID0+IHRoaXMucmVzb2x2ZVR1bmVBbGlhc2VzKGEpKTtcbiAgfVxuICAvKipcbiAgICogUmVzb2x2ZXMgYWxpYXNlcyBpbiB0dW5lcyBtZW51IGl0ZW1zXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB3aXRoIHJlc29sdmVkIGFsaWFzZXNcbiAgICovXG4gIHJlc29sdmVUdW5lQWxpYXNlcyhlKSB7XG4gICAgaWYgKGUudHlwZSA9PT0gQS5TZXBhcmF0b3IgfHwgZS50eXBlID09PSBBLkh0bWwpXG4gICAgICByZXR1cm4gZTtcbiAgICBjb25zdCB0ID0gbWkoZSwgeyBsYWJlbDogXCJ0aXRsZVwiIH0pO1xuICAgIHJldHVybiBlLmNvbmZpcm1hdGlvbiAmJiAodC5jb25maXJtYXRpb24gPSB0aGlzLnJlc29sdmVUdW5lQWxpYXNlcyhlLmNvbmZpcm1hdGlvbikpLCB0O1xuICB9XG59XG52YXIgUXQgPSB7IGV4cG9ydHM6IHt9IH07XG4vKiFcbiAqIExpYnJhcnkgZm9yIGhhbmRsaW5nIGtleWJvYXJkIHNob3J0Y3V0c1xuICogQGNvcHlyaWdodCBDb2RlWCAoaHR0cHM6Ly9jb2RleC5zbylcbiAqIEBsaWNlbnNlIE1JVFxuICogQGF1dGhvciBDb2RlWCAoaHR0cHM6Ly9jb2RleC5zbylcbiAqIEB2ZXJzaW9uIDEuMi4wXG4gKi9cbihmdW5jdGlvbihuLCBlKSB7XG4gIChmdW5jdGlvbih0LCBvKSB7XG4gICAgbi5leHBvcnRzID0gbygpO1xuICB9KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgbyA9IHt9O1xuICAgICAgZnVuY3Rpb24gaShzKSB7XG4gICAgICAgIGlmIChvW3NdKVxuICAgICAgICAgIHJldHVybiBvW3NdLmV4cG9ydHM7XG4gICAgICAgIHZhciByID0gb1tzXSA9IHsgaTogcywgbDogITEsIGV4cG9ydHM6IHt9IH07XG4gICAgICAgIHJldHVybiB0W3NdLmNhbGwoci5leHBvcnRzLCByLCByLmV4cG9ydHMsIGkpLCByLmwgPSAhMCwgci5leHBvcnRzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGkubSA9IHQsIGkuYyA9IG8sIGkuZCA9IGZ1bmN0aW9uKHMsIHIsIGwpIHtcbiAgICAgICAgaS5vKHMsIHIpIHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCByLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGwgfSk7XG4gICAgICB9LCBpLnIgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHR5cGVvZiBTeW1ib2wgPCBcInVcIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgICAgIH0sIGkudCA9IGZ1bmN0aW9uKHMsIHIpIHtcbiAgICAgICAgaWYgKDEgJiByICYmIChzID0gaShzKSksIDggJiByIHx8IDQgJiByICYmIHR5cGVvZiBzID09IFwib2JqZWN0XCIgJiYgcyAmJiBzLl9fZXNNb2R1bGUpXG4gICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIHZhciBsID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGlmIChpLnIobCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgdmFsdWU6IHMgfSksIDIgJiByICYmIHR5cGVvZiBzICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgZm9yICh2YXIgYSBpbiBzKVxuICAgICAgICAgICAgaS5kKGwsIGEsIChmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzW2NdO1xuICAgICAgICAgICAgfSkuYmluZChudWxsLCBhKSk7XG4gICAgICAgIHJldHVybiBsO1xuICAgICAgfSwgaS5uID0gZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgciA9IHMgJiYgcy5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHMuZGVmYXVsdDtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5kKHIsIFwiYVwiLCByKSwgcjtcbiAgICAgIH0sIGkubyA9IGZ1bmN0aW9uKHMsIHIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCByKTtcbiAgICAgIH0sIGkucCA9IFwiXCIsIGkoaS5zID0gMCk7XG4gICAgfShbZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgZnVuY3Rpb24gcyhhLCBjKSB7XG4gICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgIHZhciBoID0gY1t1XTtcbiAgICAgICAgICBoLmVudW1lcmFibGUgPSBoLmVudW1lcmFibGUgfHwgITEsIGguY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBoICYmIChoLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwgaC5rZXksIGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByKGEsIGMsIHUpIHtcbiAgICAgICAgcmV0dXJuIGMgJiYgcyhhLnByb3RvdHlwZSwgYyksIHUgJiYgcyhhLCB1KSwgYTtcbiAgICAgIH1cbiAgICAgIGkucihvKTtcbiAgICAgIHZhciBsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIGEoYykge1xuICAgICAgICAgIHZhciB1ID0gdGhpcztcbiAgICAgICAgICAoZnVuY3Rpb24oaCwgcCkge1xuICAgICAgICAgICAgaWYgKCEoaCBpbnN0YW5jZW9mIHApKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgIH0pKHRoaXMsIGEpLCB0aGlzLmNvbW1hbmRzID0ge30sIHRoaXMua2V5cyA9IHt9LCB0aGlzLm5hbWUgPSBjLm5hbWUsIHRoaXMucGFyc2VTaG9ydGN1dE5hbWUoYy5uYW1lKSwgdGhpcy5lbGVtZW50ID0gYy5vbiwgdGhpcy5jYWxsYmFjayA9IGMuY2FsbGJhY2ssIHRoaXMuZXhlY3V0ZVNob3J0Y3V0ID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgdS5leGVjdXRlKGgpO1xuICAgICAgICAgIH0sIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmV4ZWN1dGVTaG9ydGN1dCwgITEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByKGEsIG51bGwsIFt7IGtleTogXCJzdXBwb3J0ZWRDb21tYW5kc1wiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7IFNISUZUOiBbXCJTSElGVFwiXSwgQ01EOiBbXCJDTURcIiwgXCJDT05UUk9MXCIsIFwiQ09NTUFORFwiLCBcIldJTkRPV1NcIiwgXCJDVFJMXCJdLCBBTFQ6IFtcIkFMVFwiLCBcIk9QVElPTlwiXSB9O1xuICAgICAgICB9IH0sIHsga2V5OiBcImtleUNvZGVzXCIsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHsgMDogNDgsIDE6IDQ5LCAyOiA1MCwgMzogNTEsIDQ6IDUyLCA1OiA1MywgNjogNTQsIDc6IDU1LCA4OiA1NiwgOTogNTcsIEE6IDY1LCBCOiA2NiwgQzogNjcsIEQ6IDY4LCBFOiA2OSwgRjogNzAsIEc6IDcxLCBIOiA3MiwgSTogNzMsIEo6IDc0LCBLOiA3NSwgTDogNzYsIE06IDc3LCBOOiA3OCwgTzogNzksIFA6IDgwLCBROiA4MSwgUjogODIsIFM6IDgzLCBUOiA4NCwgVTogODUsIFY6IDg2LCBXOiA4NywgWDogODgsIFk6IDg5LCBaOiA5MCwgQkFDS1NQQUNFOiA4LCBFTlRFUjogMTMsIEVTQ0FQRTogMjcsIExFRlQ6IDM3LCBVUDogMzgsIFJJR0hUOiAzOSwgRE9XTjogNDAsIElOU0VSVDogNDUsIERFTEVURTogNDYsIFwiLlwiOiAxOTAgfTtcbiAgICAgICAgfSB9XSksIHIoYSwgW3sga2V5OiBcInBhcnNlU2hvcnRjdXROYW1lXCIsIHZhbHVlOiBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgYyA9IGMuc3BsaXQoXCIrXCIpO1xuICAgICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgICAgY1t1XSA9IGNbdV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBoID0gITE7XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIGEuc3VwcG9ydGVkQ29tbWFuZHMpXG4gICAgICAgICAgICAgIGlmIChhLnN1cHBvcnRlZENvbW1hbmRzW3BdLmluY2x1ZGVzKGNbdV0pKSB7XG4gICAgICAgICAgICAgICAgaCA9IHRoaXMuY29tbWFuZHNbcF0gPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaCB8fCAodGhpcy5rZXlzW2NbdV1dID0gITApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBnIGluIGEuc3VwcG9ydGVkQ29tbWFuZHMpXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzW2ddIHx8ICh0aGlzLmNvbW1hbmRzW2ddID0gITEpO1xuICAgICAgICB9IH0sIHsga2V5OiBcImV4ZWN1dGVcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICB2YXIgdSwgaCA9IHsgQ01EOiBjLmN0cmxLZXkgfHwgYy5tZXRhS2V5LCBTSElGVDogYy5zaGlmdEtleSwgQUxUOiBjLmFsdEtleSB9LCBwID0gITA7XG4gICAgICAgICAgZm9yICh1IGluIHRoaXMuY29tbWFuZHMpXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzW3VdICE9PSBoW3VdICYmIChwID0gITEpO1xuICAgICAgICAgIHZhciBnLCBmID0gITA7XG4gICAgICAgICAgZm9yIChnIGluIHRoaXMua2V5cylcbiAgICAgICAgICAgIGYgPSBmICYmIGMua2V5Q29kZSA9PT0gYS5rZXlDb2Rlc1tnXTtcbiAgICAgICAgICBwICYmIGYgJiYgdGhpcy5jYWxsYmFjayhjKTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJyZW1vdmVcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmV4ZWN1dGVTaG9ydGN1dCk7XG4gICAgICAgIH0gfV0pLCBhO1xuICAgICAgfSgpO1xuICAgICAgby5kZWZhdWx0ID0gbDtcbiAgICB9XSkuZGVmYXVsdDtcbiAgfSk7XG59KShRdCk7XG52YXIgamkgPSBRdC5leHBvcnRzO1xuY29uc3QgJGkgPSAvKiBAX19QVVJFX18gKi8gRmUoamkpO1xuY2xhc3MgWWkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlciBzaG9ydGN1dFxuICAgKlxuICAgKiBAcGFyYW0gc2hvcnRjdXQgLSBzaG9ydGN1dCBvcHRpb25zXG4gICAqL1xuICBhZGQoZSkge1xuICAgIGlmICh0aGlzLmZpbmRTaG9ydGN1dChlLm9uLCBlLm5hbWUpKVxuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIGBTaG9ydGN1dCAke2UubmFtZX0gaXMgYWxyZWFkeSByZWdpc3RlcmVkIGZvciAke2Uub259LiBQbGVhc2UgcmVtb3ZlIGl0IGJlZm9yZSBhZGQgYSBuZXcgaGFuZGxlci5gXG4gICAgICApO1xuICAgIGNvbnN0IG8gPSBuZXcgJGkoe1xuICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgb246IGUub24sXG4gICAgICBjYWxsYmFjazogZS5oYW5kbGVyXG4gICAgfSksIGkgPSB0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMuZ2V0KGUub24pIHx8IFtdO1xuICAgIHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5zZXQoZS5vbiwgWy4uLmksIG9dKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHNob3J0Y3V0XG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gRWxlbWVudCBzaG9ydGN1dCBpcyBzZXQgZm9yXG4gICAqIEBwYXJhbSBuYW1lIC0gc2hvcnRjdXQgbmFtZVxuICAgKi9cbiAgcmVtb3ZlKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5maW5kU2hvcnRjdXQoZSwgdCk7XG4gICAgaWYgKCFvKVxuICAgICAgcmV0dXJuO1xuICAgIG8ucmVtb3ZlKCk7XG4gICAgY29uc3QgaSA9IHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5nZXQoZSk7XG4gICAgdGhpcy5yZWdpc3RlcmVkU2hvcnRjdXRzLnNldChlLCBpLmZpbHRlcigocykgPT4gcyAhPT0gbykpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgU2hvcnRjdXQgaW5zdGFuY2UgaWYgZXhpc3RcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBFbGVtZW50IHNob3JjdXQgaXMgc2V0IGZvclxuICAgKiBAcGFyYW0gc2hvcnRjdXQgLSBzaG9ydGN1dCBuYW1lXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGluZGV4IC0gc2hvcnRjdXQgaW5kZXggaWYgZXhpc3RcbiAgICovXG4gIGZpbmRTaG9ydGN1dChlLCB0KSB7XG4gICAgcmV0dXJuICh0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMuZ2V0KGUpIHx8IFtdKS5maW5kKCh7IG5hbWU6IGkgfSkgPT4gaSA9PT0gdCk7XG4gIH1cbn1cbmNvbnN0IGhlID0gbmV3IFlpKCk7XG52YXIgV2kgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIEtpID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgZW8gPSAobiwgZSwgdCwgbykgPT4ge1xuICBmb3IgKHZhciBpID0gbyA+IDEgPyB2b2lkIDAgOiBvID8gS2koZSwgdCkgOiBlLCBzID0gbi5sZW5ndGggLSAxLCByOyBzID49IDA7IHMtLSlcbiAgICAociA9IG5bc10pICYmIChpID0gKG8gPyByKGUsIHQsIGkpIDogcihpKSkgfHwgaSk7XG4gIHJldHVybiBvICYmIGkgJiYgV2koZSwgdCwgaSksIGk7XG59LCBTZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLk9wZW5lZCA9IFwidG9vbGJveC1vcGVuZWRcIiwgbi5DbG9zZWQgPSBcInRvb2xib3gtY2xvc2VkXCIsIG4uQmxvY2tBZGRlZCA9IFwidG9vbGJveC1ibG9jay1hZGRlZFwiLCBuKSkoU2UgfHwge30pO1xuY29uc3QgYXQgPSBjbGFzcyB0byBleHRlbmRzIFRlIHtcbiAgLyoqXG4gICAqIFRvb2xib3ggY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhdmFpbGFibGUgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5hcGkgLSBFZGl0b3IgQVBJIG1ldGhvZHNcbiAgICogQHBhcmFtIG9wdGlvbnMudG9vbHMgLSBUb29scyBhdmFpbGFibGUgdG8gY2hlY2sgd2hldGhlciBzb21lIG9mIHRoZW0gc2hvdWxkIGJlIGRpc3BsYXllZCBhdCB0aGUgVG9vbGJveCBvciBub3RcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYXBpOiBlLCB0b29sczogdCwgaTE4bkxhYmVsczogbyB9KSB7XG4gICAgc3VwZXIoKSwgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5saXN0ZW5lcnMgPSBuZXcgQ2UoKSwgdGhpcy5wb3BvdmVyID0gbnVsbCwgdGhpcy5oYW5kbGVNb2JpbGVMYXlvdXRUb2dnbGUgPSAoKSA9PiB7XG4gICAgICB0aGlzLmRlc3Ryb3lQb3BvdmVyKCksIHRoaXMuaW5pdFBvcG92ZXIoKTtcbiAgICB9LCB0aGlzLm9uUG9wb3ZlckNsb3NlID0gKCkgPT4ge1xuICAgICAgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5lbWl0KFxuICAgICAgICBcInRvb2xib3gtY2xvc2VkXCJcbiAgICAgICAgLyogQ2xvc2VkICovXG4gICAgICApO1xuICAgIH0sIHRoaXMuYXBpID0gZSwgdGhpcy50b29scyA9IHQsIHRoaXMuaTE4bkxhYmVscyA9IG8sIHRoaXMuZW5hYmxlU2hvcnRjdXRzKCksIHRoaXMubm9kZXMgPSB7XG4gICAgICB0b29sYm94OiBkLm1ha2UoXCJkaXZcIiwgdG8uQ1NTLnRvb2xib3gpXG4gICAgfSwgdGhpcy5pbml0UG9wb3ZlcigpLCB0aGlzLmFwaS5ldmVudHMub24oeWUsIHRoaXMuaGFuZGxlTW9iaWxlTGF5b3V0VG9nZ2xlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUcnVlIGlmIFRvb2xib3ggaXMgRW1wdHkgYW5kIG5vdGhpbmcgdG8gc2hvd1xuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5sZW5ndGggPT09IDA7XG4gIH1cbiAgLyoqXG4gICAqIENTUyBzdHlsZXNcbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b29sYm94OiBcImNlLXRvb2xib3hcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcm9vdCBibG9jayBzZXR0aW5ncyBlbGVtZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnRvb2xib3g7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgVG9vbGJveCBoYXMgdGhlIEZsaXBwZXIgYWN0aXZhdGVkIGFuZCB0aGUgRmxpcHBlciBoYXMgc2VsZWN0ZWQgYnV0dG9uXG4gICAqL1xuICBoYXNGb2N1cygpIHtcbiAgICBpZiAodGhpcy5wb3BvdmVyICE9PSBudWxsKVxuICAgICAgcmV0dXJuIFwiaGFzRm9jdXNcIiBpbiB0aGlzLnBvcG92ZXIgPyB0aGlzLnBvcG92ZXIuaGFzRm9jdXMoKSA6IHZvaWQgMDtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveSBNb2R1bGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdmFyIGU7XG4gICAgc3VwZXIuZGVzdHJveSgpLCB0aGlzLm5vZGVzICYmIHRoaXMubm9kZXMudG9vbGJveCAmJiB0aGlzLm5vZGVzLnRvb2xib3gucmVtb3ZlKCksIHRoaXMucmVtb3ZlQWxsU2hvcnRjdXRzKCksIChlID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IGUub2ZmKFouQ2xvc2VkLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgdGhpcy5saXN0ZW5lcnMuZGVzdHJveSgpLCB0aGlzLmFwaS5ldmVudHMub2ZmKHllLCB0aGlzLmhhbmRsZU1vYmlsZUxheW91dFRvZ2dsZSk7XG4gIH1cbiAgLyoqXG4gICAqIFRvb2xib3ggVG9vbCdzIGJ1dHRvbiBjbGljayBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB0b29sTmFtZSAtIHRvb2wgdHlwZSB0byBiZSBhY3RpdmF0ZWRcbiAgICogQHBhcmFtIGJsb2NrRGF0YU92ZXJyaWRlcyAtIEJsb2NrIGRhdGEgcHJlZGVmaW5lZCBieSB0aGUgYWN0aXZhdGVkIFRvb2xib3ggaXRlbVxuICAgKi9cbiAgdG9vbEJ1dHRvbkFjdGl2YXRlZChlLCB0KSB7XG4gICAgdGhpcy5pbnNlcnROZXdCbG9jayhlLCB0KTtcbiAgfVxuICAvKipcbiAgICogT3BlbiBUb29sYm94IHdpdGggVG9vbHNcbiAgICovXG4gIG9wZW4oKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5pc0VtcHR5IHx8ICgoZSA9IHRoaXMucG9wb3ZlcikgPT0gbnVsbCB8fCBlLnNob3coKSwgdGhpcy5vcGVuZWQgPSAhMCwgdGhpcy5lbWl0KFxuICAgICAgXCJ0b29sYm94LW9wZW5lZFwiXG4gICAgICAvKiBPcGVuZWQgKi9cbiAgICApKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgVG9vbGJveFxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdmFyIGU7XG4gICAgKGUgPSB0aGlzLnBvcG92ZXIpID09IG51bGwgfHwgZS5oaWRlKCksIHRoaXMub3BlbmVkID0gITEsIHRoaXMuZW1pdChcbiAgICAgIFwidG9vbGJveC1jbG9zZWRcIlxuICAgICAgLyogQ2xvc2VkICovXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgVG9vbGJveFxuICAgKi9cbiAgdG9nZ2xlKCkge1xuICAgIHRoaXMub3BlbmVkID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgdG9vbGJveCBwb3BvdmVyIGFuZCBhcHBlbmRzIGl0IGluc2lkZSB3cmFwcGVyIGVsZW1lbnRcbiAgICovXG4gIGluaXRQb3BvdmVyKCkge1xuICAgIHZhciB0O1xuICAgIGNvbnN0IGUgPSBwZSgpID8gSnQgOiBsdDtcbiAgICB0aGlzLnBvcG92ZXIgPSBuZXcgZSh7XG4gICAgICBzY29wZUVsZW1lbnQ6IHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLFxuICAgICAgc2VhcmNoYWJsZTogITAsXG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICBub3RoaW5nRm91bmQ6IHRoaXMuaTE4bkxhYmVscy5ub3RoaW5nRm91bmQsXG4gICAgICAgIHNlYXJjaDogdGhpcy5pMThuTGFiZWxzLmZpbHRlclxuICAgICAgfSxcbiAgICAgIGl0ZW1zOiB0aGlzLnRvb2xib3hJdGVtc1RvQmVEaXNwbGF5ZWRcbiAgICB9KSwgdGhpcy5wb3BvdmVyLm9uKFouQ2xvc2VkLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgKHQgPSB0aGlzLm5vZGVzLnRvb2xib3gpID09IG51bGwgfHwgdC5hcHBlbmQodGhpcy5wb3BvdmVyLmdldEVsZW1lbnQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHBvcG92ZXIgaW5zdGFuY2UgYW5kIHJlbW92ZXMgaXQgZnJvbSBET01cbiAgICovXG4gIGRlc3Ryb3lQb3BvdmVyKCkge1xuICAgIHRoaXMucG9wb3ZlciAhPT0gbnVsbCAmJiAodGhpcy5wb3BvdmVyLmhpZGUoKSwgdGhpcy5wb3BvdmVyLm9mZihaLkNsb3NlZCwgdGhpcy5vblBvcG92ZXJDbG9zZSksIHRoaXMucG9wb3Zlci5kZXN0cm95KCksIHRoaXMucG9wb3ZlciA9IG51bGwpLCB0aGlzLm5vZGVzLnRvb2xib3ggIT09IG51bGwgJiYgKHRoaXMubm9kZXMudG9vbGJveC5pbm5lckhUTUwgPSBcIlwiKTtcbiAgfVxuICBnZXQgdG9vbHNUb0JlRGlzcGxheWVkKCkge1xuICAgIGNvbnN0IGUgPSBbXTtcbiAgICByZXR1cm4gdGhpcy50b29scy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICB0LnRvb2xib3ggJiYgZS5wdXNoKHQpO1xuICAgIH0pLCBlO1xuICB9XG4gIGdldCB0b29sYm94SXRlbXNUb0JlRGlzcGxheWVkKCkge1xuICAgIGNvbnN0IGUgPSAodCwgbykgPT4gKHtcbiAgICAgIGljb246IHQuaWNvbixcbiAgICAgIHRpdGxlOiB6LnQoSy50b29sTmFtZXMsIHQudGl0bGUgfHwgTGUoby5uYW1lKSksXG4gICAgICBuYW1lOiBvLm5hbWUsXG4gICAgICBvbkFjdGl2YXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudG9vbEJ1dHRvbkFjdGl2YXRlZChvLm5hbWUsIHQuZGF0YSk7XG4gICAgICB9LFxuICAgICAgc2Vjb25kYXJ5TGFiZWw6IG8uc2hvcnRjdXQgPyB0dChvLnNob3J0Y3V0KSA6IFwiXCJcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy50b29sc1RvQmVEaXNwbGF5ZWQucmVkdWNlKCh0LCBvKSA9PiAoQXJyYXkuaXNBcnJheShvLnRvb2xib3gpID8gby50b29sYm94LmZvckVhY2goKGkpID0+IHtcbiAgICAgIHQucHVzaChlKGksIG8pKTtcbiAgICB9KSA6IG8udG9vbGJveCAhPT0gdm9pZCAwICYmIHQucHVzaChlKG8udG9vbGJveCwgbykpLCB0KSwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBJdGVyYXRlIGFsbCB0b29scyBhbmQgZW5hYmxlIHRoZWlycyBzaG9ydGN1dHMgaWYgc3BlY2lmaWVkXG4gICAqL1xuICBlbmFibGVTaG9ydGN1dHMoKSB7XG4gICAgdGhpcy50b29sc1RvQmVEaXNwbGF5ZWQuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgY29uc3QgdCA9IGUuc2hvcnRjdXQ7XG4gICAgICB0ICYmIHRoaXMuZW5hYmxlU2hvcnRjdXRGb3JUb29sKGUubmFtZSwgdCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBzaG9ydGN1dCBCbG9jayBUb29sIGltcGxlbWVudGVkIHNob3J0Y3V0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b29sTmFtZSAtIFRvb2wgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2hvcnRjdXQgLSBzaG9ydGN1dCBhY2NvcmRpbmcgdG8gdGhlIFNob3J0Y3V0RGF0YSBNb2R1bGUgZm9ybWF0XG4gICAqL1xuICBlbmFibGVTaG9ydGN1dEZvclRvb2woZSwgdCkge1xuICAgIGhlLmFkZCh7XG4gICAgICBuYW1lOiB0LFxuICAgICAgb246IHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLFxuICAgICAgaGFuZGxlcjogYXN5bmMgKG8pID0+IHtcbiAgICAgICAgby5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBpID0gdGhpcy5hcGkuYmxvY2tzLmdldEN1cnJlbnRCbG9ja0luZGV4KCksIHMgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0QmxvY2tCeUluZGV4KGkpO1xuICAgICAgICBpZiAocylcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHRoaXMuYXBpLmJsb2Nrcy5jb252ZXJ0KHMuaWQsIGUpO1xuICAgICAgICAgICAgdGhpcy5hcGkuY2FyZXQuc2V0VG9CbG9jayhyLCBcImVuZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zZXJ0TmV3QmxvY2soZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGFkZGVkIHNob3J0Y3V0c1xuICAgKiBGaXJlZCB3aGVuIHRoZSBSZWFkLU9ubHkgbW9kZSBpcyBhY3RpdmF0ZWRcbiAgICovXG4gIHJlbW92ZUFsbFNob3J0Y3V0cygpIHtcbiAgICB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBjb25zdCB0ID0gZS5zaG9ydGN1dDtcbiAgICAgIHQgJiYgaGUucmVtb3ZlKHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLCB0KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyBuZXcgYmxvY2tcbiAgICogQ2FuIGJlIGNhbGxlZCB3aGVuIGJ1dHRvbiBjbGlja2VkIG9uIFRvb2xib3ggb3IgYnkgU2hvcnRjdXREYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b29sTmFtZSAtIFRvb2wgbmFtZVxuICAgKiBAcGFyYW0gYmxvY2tEYXRhT3ZlcnJpZGVzIC0gcHJlZGVmaW5lZCBCbG9jayBkYXRhXG4gICAqL1xuICBhc3luYyBpbnNlcnROZXdCbG9jayhlLCB0KSB7XG4gICAgY29uc3QgbyA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLCBpID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleChvKTtcbiAgICBpZiAoIWkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgcyA9IGkuaXNFbXB0eSA/IG8gOiBvICsgMTtcbiAgICBsZXQgcjtcbiAgICBpZiAodCkge1xuICAgICAgY29uc3QgYSA9IGF3YWl0IHRoaXMuYXBpLmJsb2Nrcy5jb21wb3NlQmxvY2tEYXRhKGUpO1xuICAgICAgciA9IE9iamVjdC5hc3NpZ24oYSwgdCk7XG4gICAgfVxuICAgIGNvbnN0IGwgPSB0aGlzLmFwaS5ibG9ja3MuaW5zZXJ0KFxuICAgICAgZSxcbiAgICAgIHIsXG4gICAgICB2b2lkIDAsXG4gICAgICBzLFxuICAgICAgdm9pZCAwLFxuICAgICAgaS5pc0VtcHR5XG4gICAgKTtcbiAgICBsLmNhbGwoSi5BUFBFTkRfQ0FMTEJBQ0spLCB0aGlzLmFwaS5jYXJldC5zZXRUb0Jsb2NrKHMpLCB0aGlzLmVtaXQoXCJ0b29sYm94LWJsb2NrLWFkZGVkXCIsIHtcbiAgICAgIGJsb2NrOiBsXG4gICAgfSksIHRoaXMuYXBpLnRvb2xiYXIuY2xvc2UoKTtcbiAgfVxufTtcbmVvKFtcbiAgdWVcbl0sIGF0LnByb3RvdHlwZSwgXCJ0b29sc1RvQmVEaXNwbGF5ZWRcIiwgMSk7XG5lbyhbXG4gIHVlXG5dLCBhdC5wcm90b3R5cGUsIFwidG9vbGJveEl0ZW1zVG9CZURpc3BsYXllZFwiLCAxKTtcbmxldCBYaSA9IGF0O1xuY29uc3Qgb28gPSBcImJsb2NrIGhvdmVyZWRcIjtcbmFzeW5jIGZ1bmN0aW9uIFZpKG4sIGUpIHtcbiAgY29uc3QgdCA9IG5hdmlnYXRvci5rZXlib2FyZDtcbiAgaWYgKCF0KVxuICAgIHJldHVybiBlO1xuICB0cnkge1xuICAgIHJldHVybiAoYXdhaXQgdC5nZXRMYXlvdXRNYXAoKSkuZ2V0KG4pIHx8IGU7XG4gIH0gY2F0Y2ggKG8pIHtcbiAgICByZXR1cm4gY29uc29sZS5lcnJvcihvKSwgZTtcbiAgfVxufVxuY2xhc3MgcWkgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbiAtIE1vZHVsZSBDb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmNvbmZpZyAtIEVkaXRvcidzIGNvbmZpZ1xuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5ldmVudHNEaXNwYXRjaGVyIC0gRWRpdG9yJ3MgZXZlbnQgZGlzcGF0Y2hlclxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZzogZSxcbiAgICAgIGV2ZW50c0Rpc3BhdGNoZXI6IHRcbiAgICB9KSwgdGhpcy50b29sYm94SW5zdGFuY2UgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBDU1Mgc3R5bGVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b29sYmFyOiBcImNlLXRvb2xiYXJcIixcbiAgICAgIGNvbnRlbnQ6IFwiY2UtdG9vbGJhcl9fY29udGVudFwiLFxuICAgICAgYWN0aW9uczogXCJjZS10b29sYmFyX19hY3Rpb25zXCIsXG4gICAgICBhY3Rpb25zT3BlbmVkOiBcImNlLXRvb2xiYXJfX2FjdGlvbnMtLW9wZW5lZFwiLFxuICAgICAgdG9vbGJhck9wZW5lZDogXCJjZS10b29sYmFyLS1vcGVuZWRcIixcbiAgICAgIG9wZW5lZFRvb2xib3hIb2xkZXJNb2RpZmllcjogXCJjb2RleC1lZGl0b3ItLXRvb2xib3gtb3BlbmVkXCIsXG4gICAgICBwbHVzQnV0dG9uOiBcImNlLXRvb2xiYXJfX3BsdXNcIixcbiAgICAgIHBsdXNCdXR0b25TaG9ydGN1dDogXCJjZS10b29sYmFyX19wbHVzLXNob3J0Y3V0XCIsXG4gICAgICBzZXR0aW5nc1RvZ2dsZXI6IFwiY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuXCIsXG4gICAgICBzZXR0aW5nc1RvZ2dsZXJIaWRkZW46IFwiY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1oaWRkZW5cIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFRvb2xiYXIgb3BlbmluZyBzdGF0ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBvcGVuZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5DU1MudG9vbGJhck9wZW5lZCk7XG4gIH1cbiAgLyoqXG4gICAqIFB1YmxpYyBpbnRlcmZhY2UgZm9yIGFjY2Vzc2luZyB0aGUgVG9vbGJveFxuICAgKi9cbiAgZ2V0IHRvb2xib3goKSB7XG4gICAgdmFyIGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZW5lZDogKGUgPSB0aGlzLnRvb2xib3hJbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGUub3BlbmVkLFxuICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgICh0ID0gdGhpcy50b29sYm94SW5zdGFuY2UpID09IG51bGwgfHwgdC5jbG9zZSgpO1xuICAgICAgfSxcbiAgICAgIG9wZW46ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMudG9vbGJveEluc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgSShcInRvb2xib3gub3BlbigpIGNhbGxlZCBiZWZvcmUgaW5pdGlhbGl6YXRpb24gaXMgZmluaXNoZWRcIiwgXCJ3YXJuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrID0gdGhpcy5ob3ZlcmVkQmxvY2ssIHRoaXMudG9vbGJveEluc3RhbmNlLm9wZW4oKTtcbiAgICAgIH0sXG4gICAgICB0b2dnbGU6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMudG9vbGJveEluc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgSShcInRvb2xib3gudG9nZ2xlKCkgY2FsbGVkIGJlZm9yZSBpbml0aWFsaXphdGlvbiBpcyBmaW5pc2hlZFwiLCBcIndhcm5cIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9vbGJveEluc3RhbmNlLnRvZ2dsZSgpO1xuICAgICAgfSxcbiAgICAgIGhhc0ZvY3VzOiAoKSA9PiB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICByZXR1cm4gKHQgPSB0aGlzLnRvb2xib3hJbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuaGFzRm9jdXMoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBCbG9jayBhY3Rpb25zIGFwcGVhcmFuY2UgbWFuaXB1bGF0aW9uc1xuICAgKi9cbiAgZ2V0IGJsb2NrQWN0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGlkZTogKCkgPT4ge1xuICAgICAgICB0aGlzLm5vZGVzLmFjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5hY3Rpb25zT3BlbmVkKTtcbiAgICAgIH0sXG4gICAgICBzaG93OiAoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZXMuYWN0aW9ucy5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmFjdGlvbnNPcGVuZWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCBCbG9jayBUdW5lcyB0b2dnbGVyXG4gICAqL1xuICBnZXQgYmxvY2tUdW5lc1RvZ2dsZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhpZGU6ICgpID0+IHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1Muc2V0dGluZ3NUb2dnbGVySGlkZGVuKSxcbiAgICAgIHNob3c6ICgpID0+IHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1Muc2V0dGluZ3NUb2dnbGVySGlkZGVuKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgcmVhZC1vbmx5IG1vZGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyAodGhpcy5kZXN0cm95KCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuZGVzdHJveSgpLCB0aGlzLmRpc2FibGVNb2R1bGVCaW5kaW5ncygpKSA6IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMuZHJhd1VJKCksIHRoaXMuZW5hYmxlTW9kdWxlQmluZGluZ3MoKTtcbiAgICB9LCB7IHRpbWVvdXQ6IDJlMyB9KTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBUb29sYmFyIHRvIHRoZSBwYXNzZWQgKG9yIGN1cnJlbnQpIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSBibG9jayAtIGJsb2NrIHRvIG1vdmUgVG9vbGJhciBuZWFyIGl0XG4gICAqL1xuICBtb3ZlQW5kT3BlbihlID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jaykge1xuICAgIGlmICh0aGlzLnRvb2xib3hJbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgSShcIkNhbid0IG9wZW4gVG9vbGJhciBzaW5jZSBFZGl0b3IgaW5pdGlhbGl6YXRpb24gaXMgbm90IGZpbmlzaGVkIHlldFwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnRvb2xib3hJbnN0YW5jZS5vcGVuZWQgJiYgdGhpcy50b29sYm94SW5zdGFuY2UuY2xvc2UoKSwgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpLCAhZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmhvdmVyZWRCbG9jayA9IGU7XG4gICAgY29uc3QgdCA9IGUuaG9sZGVyLCB7IGlzTW9iaWxlOiBvIH0gPSB0aGlzLkVkaXRvci5VSTtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBzID0gMjAsIHIgPSBlLmZpcnN0SW5wdXQsIGwgPSB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBhID0gciAhPT0gdm9pZCAwID8gci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGwsIGMgPSBhICE9PSBudWxsID8gYS50b3AgLSBsLnRvcCA6IG51bGwsIHUgPSBjICE9PSBudWxsID8gYyA+IHMgOiB2b2lkIDA7XG4gICAgaWYgKG8pXG4gICAgICBpID0gdC5vZmZzZXRUb3AgKyB0Lm9mZnNldEhlaWdodDtcbiAgICBlbHNlIGlmIChyID09PSB2b2lkIDAgfHwgdSkge1xuICAgICAgY29uc3QgaCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUucGx1Z2luc0NvbnRlbnQpLnBhZGRpbmdUb3ApO1xuICAgICAgaSA9IHQub2Zmc2V0VG9wICsgaDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaCA9IF9vKHIpLCBwID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5ub2Rlcy5wbHVzQnV0dG9uKS5oZWlnaHQsIDEwKSwgZyA9IDg7XG4gICAgICBpID0gdC5vZmZzZXRUb3AgKyBoIC0gcCArIGcgKyBjO1xuICAgIH1cbiAgICB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gYCR7TWF0aC5mbG9vcihpKX1weGAsIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3MubGVuZ3RoID09PSAxICYmIGUuaXNFbXB0eSA/IHRoaXMuYmxvY2tUdW5lc1RvZ2dsZXIuaGlkZSgpIDogdGhpcy5ibG9ja1R1bmVzVG9nZ2xlci5zaG93KCksIHRoaXMub3BlbigpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgVG9vbGJhclxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdmFyIGUsIHQ7XG4gICAgdGhpcy5FZGl0b3IuUmVhZE9ubHkuaXNFbmFibGVkIHx8ICgoZSA9IHRoaXMubm9kZXMud3JhcHBlcikgPT0gbnVsbCB8fCBlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MudG9vbGJhck9wZW5lZCksIHRoaXMuYmxvY2tBY3Rpb25zLmhpZGUoKSwgKHQgPSB0aGlzLnRvb2xib3hJbnN0YW5jZSkgPT0gbnVsbCB8fCB0LmNsb3NlKCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKSwgdGhpcy5yZXNldCgpKTtcbiAgfVxuICAvKipcbiAgICogUmVzZXQgdGhlIFRvb2xiYXIgcG9zaXRpb24gdG8gcHJldmVudCBET00gaGVpZ2h0IGdyb3d0aCwgZm9yIGV4YW1wbGUgYWZ0ZXIgYmxvY2tzIGRlbGV0aW9uXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gXCJ1bnNldFwiO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIFRvb2xiYXIgd2l0aCBQbHVzIEJ1dHRvbiBhbmQgQWN0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdpdGhCbG9ja0FjdGlvbnMgLSBieSBkZWZhdWx0LCBUb29sYmFyIG9wZW5zIHdpdGggQmxvY2sgQWN0aW9ucy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBmbGFnIGFsbG93cyB0byBvcGVuIFRvb2xiYXIgd2l0aG91dCBBY3Rpb25zLlxuICAgKi9cbiAgb3BlbihlID0gITApIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy50b29sYmFyT3BlbmVkKSwgZSA/IHRoaXMuYmxvY2tBY3Rpb25zLnNob3coKSA6IHRoaXMuYmxvY2tBY3Rpb25zLmhpZGUoKTtcbiAgfVxuICAvKipcbiAgICogRHJhd3MgVG9vbGJhciBlbGVtZW50c1xuICAgKi9cbiAgYXN5bmMgbWFrZSgpIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MudG9vbGJhciksIFtcImNvbnRlbnRcIiwgXCJhY3Rpb25zXCJdLmZvckVhY2goKHMpID0+IHtcbiAgICAgIHRoaXMubm9kZXNbc10gPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1Nbc10pO1xuICAgIH0pLCBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMuY29udGVudCksIGQuYXBwZW5kKHRoaXMubm9kZXMuY29udGVudCwgdGhpcy5ub2Rlcy5hY3Rpb25zKSwgdGhpcy5ub2Rlcy5wbHVzQnV0dG9uID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnBsdXNCdXR0b24sIHtcbiAgICAgIGlubmVySFRNTDogQ2lcbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLm5vZGVzLnBsdXNCdXR0b24pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnBsdXNCdXR0b24sIFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgTmUoITApLCB0aGlzLnBsdXNCdXR0b25DbGlja2VkKCk7XG4gICAgfSwgITEpO1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh6LnVpKEsudWkudG9vbGJhci50b29sYm94LCBcIkFkZFwiKSkpLCBlLmFwcGVuZENoaWxkKGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5wbHVzQnV0dG9uU2hvcnRjdXQsIHtcbiAgICAgIHRleHRDb250ZW50OiBcIi9cIlxuICAgIH0pKSwgUGUodGhpcy5ub2Rlcy5wbHVzQnV0dG9uLCBlLCB7XG4gICAgICBoaWRpbmdEZWxheTogNDAwXG4gICAgfSksIHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyID0gZC5tYWtlKFwic3BhblwiLCB0aGlzLkNTUy5zZXR0aW5nc1RvZ2dsZXIsIHtcbiAgICAgIGlubmVySFRNTDogVGlcbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLm5vZGVzLnNldHRpbmdzVG9nZ2xlcik7XG4gICAgY29uc3QgdCA9IGQubWFrZShcImRpdlwiKSwgbyA9IGQudGV4dCh6LnVpKEsudWkuYmxvY2tUdW5lcy50b2dnbGVyLCBcIkNsaWNrIHRvIHR1bmVcIikpLCBpID0gYXdhaXQgVmkoXCJTbGFzaFwiLCBcIi9cIik7XG4gICAgdC5hcHBlbmRDaGlsZChvKSwgdC5hcHBlbmRDaGlsZChkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MucGx1c0J1dHRvblNob3J0Y3V0LCB7XG4gICAgICB0ZXh0Q29udGVudDogdHQoYENNRCArICR7aX1gKVxuICAgIH0pKSwgUGUodGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIsIHQsIHtcbiAgICAgIGhpZGluZ0RlbGF5OiA0MDBcbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLm1ha2VUb29sYm94KCkpLCBkLmFwcGVuZCh0aGlzLm5vZGVzLmFjdGlvbnMsIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuZ2V0RWxlbWVudCgpKSwgZC5hcHBlbmQodGhpcy5FZGl0b3IuVUkubm9kZXMud3JhcHBlciwgdGhpcy5ub2Rlcy53cmFwcGVyKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgVG9vbGJveCBpbnN0YW5jZSBhbmQgcmV0dXJuIGl0J3MgcmVuZGVyZWQgZWxlbWVudFxuICAgKi9cbiAgbWFrZVRvb2xib3goKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbGJveEluc3RhbmNlID0gbmV3IFhpKHtcbiAgICAgIGFwaTogdGhpcy5FZGl0b3IuQVBJLm1ldGhvZHMsXG4gICAgICB0b29sczogdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scyxcbiAgICAgIGkxOG5MYWJlbHM6IHtcbiAgICAgICAgZmlsdGVyOiB6LnVpKEsudWkucG9wb3ZlciwgXCJGaWx0ZXJcIiksXG4gICAgICAgIG5vdGhpbmdGb3VuZDogei51aShLLnVpLnBvcG92ZXIsIFwiTm90aGluZyBmb3VuZFwiKVxuICAgICAgfVxuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vbihTZS5PcGVuZWQsICgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5vcGVuZWRUb29sYm94SG9sZGVyTW9kaWZpZXIpO1xuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vbihTZS5DbG9zZWQsICgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5vcGVuZWRUb29sYm94SG9sZGVyTW9kaWZpZXIpO1xuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vbihTZS5CbG9ja0FkZGVkLCAoeyBibG9jazogZSB9KSA9PiB7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQ2FyZXQ6IG8gfSA9IHRoaXMuRWRpdG9yLCBpID0gdC5nZXRCbG9ja0J5SWQoZS5pZCk7XG4gICAgICBpLmlucHV0cy5sZW5ndGggPT09IDAgJiYgKGkgPT09IHQubGFzdEJsb2NrID8gKHQuaW5zZXJ0QXRFbmQoKSwgby5zZXRUb0Jsb2NrKHQubGFzdEJsb2NrKSkgOiBvLnNldFRvQmxvY2sodC5uZXh0QmxvY2spKTtcbiAgICB9KSwgdGhpcy50b29sYm94SW5zdGFuY2UuZ2V0RWxlbWVudCgpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVyIGZvciBQbHVzIEJ1dHRvblxuICAgKi9cbiAgcGx1c0J1dHRvbkNsaWNrZWQoKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayA9IHRoaXMuaG92ZXJlZEJsb2NrLCAoZSA9IHRoaXMudG9vbGJveEluc3RhbmNlKSA9PSBudWxsIHx8IGUudG9nZ2xlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBiaW5kaW5nc1xuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIsIFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICB2YXIgdDtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCksIHRoaXMuc2V0dGluZ3NUb2dnbGVyQ2xpY2tlZCgpLCAodCA9IHRoaXMudG9vbGJveEluc3RhbmNlKSAhPSBudWxsICYmIHQub3BlbmVkICYmIHRoaXMudG9vbGJveEluc3RhbmNlLmNsb3NlKCksIE5lKCEwKTtcbiAgICB9LCAhMCksIHBlKCkgfHwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKG9vLCAoZSkgPT4ge1xuICAgICAgdmFyIHQ7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCB8fCAodCA9IHRoaXMudG9vbGJveEluc3RhbmNlKSAhPSBudWxsICYmIHQub3BlbmVkIHx8IHRoaXMubW92ZUFuZE9wZW4oZS5ibG9jayk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGUgYmluZGluZ3NcbiAgICovXG4gIGRpc2FibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5jbGVhckFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGlja3Mgb24gdGhlIEJsb2NrIFNldHRpbmdzIHRvZ2dsZXJcbiAgICovXG4gIHNldHRpbmdzVG9nZ2xlckNsaWNrZWQoKSB7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayA9IHRoaXMuaG92ZXJlZEJsb2NrLCB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCA/IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKSA6IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3Blbih0aGlzLmhvdmVyZWRCbG9jayk7XG4gIH1cbiAgLyoqXG4gICAqIERyYXdzIFRvb2xiYXIgVUlcbiAgICpcbiAgICogVG9vbGJhciBjb250YWlucyBCbG9ja1NldHRpbmdzIGFuZCBUb29sYm94LlxuICAgKiBUaGF0J3Mgd2h5IGF0IGZpcnN0IHdlIGRyYXcgaXRzIGNvbXBvbmVudHMgYW5kIHRoZW4gVG9vbGJhciBpdHNlbGZcbiAgICpcbiAgICogU3RlcHM6XG4gICAqICAtIE1ha2UgVG9vbGJhciBkZXBlbmRlbnQgY29tcG9uZW50cyBsaWtlIEJsb2NrU2V0dGluZ3MsIFRvb2xib3ggYW5kIHNvIG9uXG4gICAqICAtIE1ha2UgaXRzZWxmIGFuZCBhcHBlbmQgZGVwZW5kZW50IG5vZGVzIHRvIGl0c2VsZlxuICAgKlxuICAgKi9cbiAgZHJhd1VJKCkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MubWFrZSgpLCB0aGlzLm1ha2UoKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgY3JlYXRlZCBhbmQgc2F2ZWQgSFRNTEVsZW1lbnRzXG4gICAqIEl0IGlzIHVzZWQgaW4gUmVhZC1Pbmx5IG1vZGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW1vdmVBbGxOb2RlcygpLCB0aGlzLnRvb2xib3hJbnN0YW5jZSAmJiB0aGlzLnRvb2xib3hJbnN0YW5jZS5kZXN0cm95KCk7XG4gIH1cbn1cbnZhciBuZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuW24uQmxvY2sgPSAwXSA9IFwiQmxvY2tcIiwgbltuLklubGluZSA9IDFdID0gXCJJbmxpbmVcIiwgbltuLlR1bmUgPSAyXSA9IFwiVHVuZVwiLCBuKSkobmUgfHwge30pLCBJZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLlNob3J0Y3V0ID0gXCJzaG9ydGN1dFwiLCBuLlRvb2xib3ggPSBcInRvb2xib3hcIiwgbi5FbmFibGVkSW5saW5lVG9vbHMgPSBcImlubGluZVRvb2xiYXJcIiwgbi5FbmFibGVkQmxvY2tUdW5lcyA9IFwidHVuZXNcIiwgbi5Db25maWcgPSBcImNvbmZpZ1wiLCBuKSkoSWUgfHwge30pLCBpbyA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLlNob3J0Y3V0ID0gXCJzaG9ydGN1dFwiLCBuLlNhbml0aXplQ29uZmlnID0gXCJzYW5pdGl6ZVwiLCBuKSkoaW8gfHwge30pLCBjZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLklzRW5hYmxlZExpbmVCcmVha3MgPSBcImVuYWJsZUxpbmVCcmVha3NcIiwgbi5Ub29sYm94ID0gXCJ0b29sYm94XCIsIG4uQ29udmVyc2lvbkNvbmZpZyA9IFwiY29udmVyc2lvbkNvbmZpZ1wiLCBuLklzUmVhZE9ubHlTdXBwb3J0ZWQgPSBcImlzUmVhZE9ubHlTdXBwb3J0ZWRcIiwgbi5QYXN0ZUNvbmZpZyA9IFwicGFzdGVDb25maWdcIiwgbikpKGNlIHx8IHt9KSwgY3QgPSAvKiBAX19QVVJFX18gKi8gKChuKSA9PiAobi5Jc0lubGluZSA9IFwiaXNJbmxpbmVcIiwgbi5UaXRsZSA9IFwidGl0bGVcIiwgbikpKGN0IHx8IHt9KSwgZXQgPSAvKiBAX19QVVJFX18gKi8gKChuKSA9PiAobi5Jc1R1bmUgPSBcImlzVHVuZVwiLCBuKSkoZXQgfHwge30pO1xuY2xhc3MgZHQge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSB7Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zIC0gQ29uc3RydWN0b3Igb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIG5hbWU6IGUsXG4gICAgY29uc3RydWN0YWJsZTogdCxcbiAgICBjb25maWc6IG8sXG4gICAgYXBpOiBpLFxuICAgIGlzRGVmYXVsdDogcyxcbiAgICBpc0ludGVybmFsOiByID0gITEsXG4gICAgZGVmYXVsdFBsYWNlaG9sZGVyOiBsXG4gIH0pIHtcbiAgICB0aGlzLmFwaSA9IGksIHRoaXMubmFtZSA9IGUsIHRoaXMuY29uc3RydWN0YWJsZSA9IHQsIHRoaXMuY29uZmlnID0gbywgdGhpcy5pc0RlZmF1bHQgPSBzLCB0aGlzLmlzSW50ZXJuYWwgPSByLCB0aGlzLmRlZmF1bHRQbGFjZWhvbGRlciA9IGw7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCB1c2VyIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGdldCBzZXR0aW5ncygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5jb25maWcuY29uZmlnIHx8IHt9O1xuICAgIHJldHVybiB0aGlzLmlzRGVmYXVsdCAmJiAhKFwicGxhY2Vob2xkZXJcIiBpbiBlKSAmJiB0aGlzLmRlZmF1bHRQbGFjZWhvbGRlciAmJiAoZS5wbGFjZWhvbGRlciA9IHRoaXMuZGVmYXVsdFBsYWNlaG9sZGVyKSwgZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgVG9vbCdzIHJlc2V0IG1ldGhvZFxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgaWYgKE8odGhpcy5jb25zdHJ1Y3RhYmxlLnJlc2V0KSlcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGUucmVzZXQoKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgVG9vbCdzIHByZXBhcmUgbWV0aG9kXG4gICAqL1xuICBwcmVwYXJlKCkge1xuICAgIGlmIChPKHRoaXMuY29uc3RydWN0YWJsZS5wcmVwYXJlKSlcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGUucHJlcGFyZSh7XG4gICAgICAgIHRvb2xOYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIGNvbmZpZzogdGhpcy5zZXR0aW5nc1xuICAgICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc2hvcnRjdXQgZm9yIFRvb2wgKGludGVybmFsIG9yIHNwZWNpZmllZCBieSB1c2VyKVxuICAgKi9cbiAgZ2V0IHNob3J0Y3V0KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmNvbnN0cnVjdGFibGUuc2hvcnRjdXQ7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnNob3J0Y3V0IHx8IGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCdzIHNhbml0aXplciBjb25maWd1cmF0aW9uXG4gICAqL1xuICBnZXQgc2FuaXRpemVDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZS5zYW5pdGl6ZSB8fCB7fTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIFRvb2xzIGlzIGlubGluZVxuICAgKi9cbiAgaXNJbmxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gbmUuSW5saW5lO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgVG9vbHMgaXMgYmxvY2tcbiAgICovXG4gIGlzQmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gbmUuQmxvY2s7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBUb29scyBpcyB0dW5lXG4gICAqL1xuICBpc1R1bmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gbmUuVHVuZTtcbiAgfVxufVxuY2xhc3MgWmkgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLkNTUyA9IHtcbiAgICAgIGlubGluZVRvb2xiYXI6IFwiY2UtaW5saW5lLXRvb2xiYXJcIlxuICAgIH0sIHRoaXMub3BlbmVkID0gITEsIHRoaXMucG9wb3ZlciA9IG51bGwsIHRoaXMudG9vbGJhclZlcnRpY2FsTWFyZ2luID0gcGUoKSA/IDIwIDogNiwgdGhpcy50b29sc0luc3RhbmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgcmVhZC1vbmx5IG1vZGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyB0aGlzLmRlc3Ryb3koKSA6IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMubWFrZSgpO1xuICAgIH0sIHsgdGltZW91dDogMmUzIH0pO1xuICB9XG4gIC8qKlxuICAgKiAgTW92aW5nIC8gYXBwZWFyYW5jZVxuICAgKiAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICAgKi9cbiAgLyoqXG4gICAqIFNob3dzIElubGluZSBUb29sYmFyIGlmIHNvbWV0aGluZyBpcyBzZWxlY3RlZFxuICAgKlxuICAgKiBAcGFyYW0gW25lZWRUb0Nsb3NlXSAtIHBhc3MgdHJ1ZSB0byBjbG9zZSB0b29sYmFyIGlmIGl0IGlzIG5vdCBhbGxvd2VkLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdm9pZCB0byB1c2UgaXQganVzdCBmb3IgY2xvc2luZyBJVCwgYmV0dGVyIGNhbGwgLmNsb3NlKCkgY2xlYXJseS5cbiAgICovXG4gIGFzeW5jIHRyeVRvU2hvdyhlID0gITEpIHtcbiAgICBlICYmIHRoaXMuY2xvc2UoKSwgdGhpcy5hbGxvd2VkVG9TaG93KCkgJiYgKGF3YWl0IHRoaXMub3BlbigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBIaWRlcyBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdmFyIGUsIHQ7XG4gICAgdGhpcy5vcGVuZWQgJiYgKHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZCB8fCAoQXJyYXkuZnJvbSh0aGlzLnRvb2xzSW5zdGFuY2VzLmVudHJpZXMoKSkuZm9yRWFjaCgoW28sIGldKSA9PiB7XG4gICAgICBjb25zdCBzID0gdGhpcy5nZXRUb29sU2hvcnRjdXQobyk7XG4gICAgICBzICYmIGhlLnJlbW92ZSh0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvciwgcyksIE8oaS5jbGVhcikgJiYgaS5jbGVhcigpO1xuICAgIH0pLCB0aGlzLnRvb2xzSW5zdGFuY2VzID0gbnVsbCwgdGhpcy5yZXNldCgpLCB0aGlzLm9wZW5lZCA9ICExLCAoZSA9IHRoaXMucG9wb3ZlcikgPT0gbnVsbCB8fCBlLmhpZGUoKSwgKHQgPSB0aGlzLnBvcG92ZXIpID09IG51bGwgfHwgdC5kZXN0cm95KCksIHRoaXMucG9wb3ZlciA9IG51bGwpKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgbm9kZSBpcyBjb250YWluZWQgYnkgSW5saW5lIFRvb2xiYXJcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIOKAlCBub2RlIHRvIGNoZWNrXG4gICAqL1xuICBjb250YWluc05vZGUoZSkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLndyYXBwZXIgPT09IHZvaWQgMCA/ICExIDogdGhpcy5ub2Rlcy53cmFwcGVyLmNvbnRhaW5zKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIFVJIGFuZCBpdHMgY29tcG9uZW50c1xuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLnJlbW92ZUFsbE5vZGVzKCksIChlID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IGUuZGVzdHJveSgpLCB0aGlzLnBvcG92ZXIgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBNYWtpbmcgRE9NXG4gICAqL1xuICBtYWtlKCkge1xuICAgIHRoaXMubm9kZXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCBbXG4gICAgICB0aGlzLkNTUy5pbmxpbmVUb29sYmFyLFxuICAgICAgLi4udGhpcy5pc1J0bCA/IFt0aGlzLkVkaXRvci5VSS5DU1MuZWRpdG9yUnRsRml4XSA6IFtdXG4gICAgXSksIGQuYXBwZW5kKHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMud3JhcHBlcik7XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIElubGluZSBUb29sYmFyXG4gICAqL1xuICBhc3luYyBvcGVuKCkge1xuICAgIHZhciB0O1xuICAgIGlmICh0aGlzLm9wZW5lZClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLm9wZW5lZCA9ICEwLCB0aGlzLnBvcG92ZXIgIT09IG51bGwgJiYgdGhpcy5wb3BvdmVyLmRlc3Ryb3koKTtcbiAgICBjb25zdCBlID0gYXdhaXQgdGhpcy5nZXRJbmxpbmVUb29scygpO1xuICAgIHRoaXMucG9wb3ZlciA9IG5ldyBSaSh7XG4gICAgICBpdGVtczogZSxcbiAgICAgIHNjb3BlRWxlbWVudDogdGhpcy5FZGl0b3IuQVBJLm1ldGhvZHMudWkubm9kZXMucmVkYWN0b3IsXG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICBub3RoaW5nRm91bmQ6IHoudWkoSy51aS5wb3BvdmVyLCBcIk5vdGhpbmcgZm91bmRcIiksXG4gICAgICAgIHNlYXJjaDogei51aShLLnVpLnBvcG92ZXIsIFwiRmlsdGVyXCIpXG4gICAgICB9XG4gICAgfSksIHRoaXMubW92ZSh0aGlzLnBvcG92ZXIuc2l6ZS53aWR0aCksICh0ID0gdGhpcy5ub2Rlcy53cmFwcGVyKSA9PSBudWxsIHx8IHQuYXBwZW5kKHRoaXMucG9wb3Zlci5nZXRFbGVtZW50KCkpLCB0aGlzLnBvcG92ZXIuc2hvdygpO1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIFRvb2xiYXIgdG8gdGhlIHNlbGVjdGVkIHRleHRcbiAgICpcbiAgICogQHBhcmFtIHBvcG92ZXJXaWR0aCAtIHdpZHRoIG9mIHRoZSB0b29sYmFyIHBvcG92ZXJcbiAgICovXG4gIG1vdmUoZSkge1xuICAgIGNvbnN0IHQgPSBiLnJlY3QsIG8gPSB0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBpID0ge1xuICAgICAgeDogdC54IC0gby54LFxuICAgICAgeTogdC55ICsgdC5oZWlnaHQgLSAvLyArIHdpbmRvdy5zY3JvbGxZXG4gICAgICBvLnRvcCArIHRoaXMudG9vbGJhclZlcnRpY2FsTWFyZ2luXG4gICAgfTtcbiAgICBpLnggKyBlICsgby54ID4gdGhpcy5FZGl0b3IuVUkuY29udGVudFJlY3QucmlnaHQgJiYgKGkueCA9IHRoaXMuRWRpdG9yLlVJLmNvbnRlbnRSZWN0LnJpZ2h0IC0gZSAtIG8ueCksIHRoaXMubm9kZXMud3JhcHBlci5zdHlsZS5sZWZ0ID0gTWF0aC5mbG9vcihpLngpICsgXCJweFwiLCB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gTWF0aC5mbG9vcihpLnkpICsgXCJweFwiO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBvcmllbnRhdGlvbiBjbGFzc2VzIGFuZCByZXNldCBwb3NpdGlvblxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLmxlZnQgPSBcIjBcIiwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLnRvcCA9IFwiMFwiO1xuICB9XG4gIC8qKlxuICAgKiBOZWVkIHRvIHNob3cgSW5saW5lIFRvb2xiYXIgb3Igbm90XG4gICAqL1xuICBhbGxvd2VkVG9TaG93KCkge1xuICAgIGNvbnN0IGUgPSBbXCJJTUdcIiwgXCJJTlBVVFwiXSwgdCA9IGIuZ2V0KCksIG8gPSBiLnRleHQ7XG4gICAgaWYgKCF0IHx8ICF0LmFuY2hvck5vZGUgfHwgdC5pc0NvbGxhcHNlZCB8fCBvLmxlbmd0aCA8IDEpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgaSA9IGQuaXNFbGVtZW50KHQuYW5jaG9yTm9kZSkgPyB0LmFuY2hvck5vZGUgOiB0LmFuY2hvck5vZGUucGFyZW50RWxlbWVudDtcbiAgICBpZiAoaSA9PT0gbnVsbCB8fCB0ICYmIGUuaW5jbHVkZXMoaS50YWdOYW1lKSB8fCBpLmNsb3Nlc3QoJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJykgPT09IG51bGwpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgciA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9jayh0LmFuY2hvck5vZGUpO1xuICAgIHJldHVybiByID8gci50b29sLmlubGluZVRvb2xzLnNpemUgIT09IDAgOiAhMTtcbiAgfVxuICAvKipcbiAgICogIFdvcmtpbmcgd2l0aCBUb29sc1xuICAgKiAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICAgKi9cbiAgLyoqXG4gICAqIFJldHVybnMgSW5saW5lIFRvb2xzIHNlZ3JlZ2F0ZWQgYnkgdGhlaXIgYXBwZWFyYW5jZSB0eXBlOiBwb3BvdmVyIGl0ZW1zIGFuZCBjdXN0b20gaHRtbCBlbGVtZW50cy5cbiAgICogU2V0cyB0aGlzLnRvb2xzSW5zdGFuY2VzIG1hcFxuICAgKi9cbiAgYXN5bmMgZ2V0SW5saW5lVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IGIuZ2V0KCksIHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2soZS5hbmNob3JOb2RlKSwgbyA9IEFycmF5LmZyb20odC50b29sLmlubGluZVRvb2xzLnZhbHVlcygpKSwgaSA9IFtdO1xuICAgIHRoaXMudG9vbHNJbnN0YW5jZXMgPT09IG51bGwgJiYgKHRoaXMudG9vbHNJbnN0YW5jZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgICBmb3IgKGxldCBzID0gMDsgcyA8IG8ubGVuZ3RoOyBzKyspIHtcbiAgICAgIGNvbnN0IHIgPSBvW3NdLCBsID0gci5jcmVhdGUoKSwgYSA9IGF3YWl0IGwucmVuZGVyKCk7XG4gICAgICB0aGlzLnRvb2xzSW5zdGFuY2VzLnNldChyLm5hbWUsIGwpO1xuICAgICAgY29uc3QgYyA9IHRoaXMuZ2V0VG9vbFNob3J0Y3V0KHIubmFtZSk7XG4gICAgICBpZiAoYylcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmVuYWJsZVNob3J0Y3V0cyhyLm5hbWUsIGMpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgICAgY29uc3QgdSA9IGMgIT09IHZvaWQgMCA/IHR0KGMpIDogdm9pZCAwLCBoID0gei50KFxuICAgICAgICBLLnRvb2xOYW1lcyxcbiAgICAgICAgci50aXRsZSB8fCBMZShyLm5hbWUpXG4gICAgICApO1xuICAgICAgW2FdLmZsYXQoKS5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIHZhciBmLCBrO1xuICAgICAgICBjb25zdCBnID0ge1xuICAgICAgICAgIG5hbWU6IHIubmFtZSxcbiAgICAgICAgICBvbkFjdGl2YXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRvb2xDbGlja2VkKGwpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGludDoge1xuICAgICAgICAgICAgdGl0bGU6IGgsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGQuaXNFbGVtZW50KHApKSB7XG4gICAgICAgICAgY29uc3QgQyA9IHtcbiAgICAgICAgICAgIC4uLmcsXG4gICAgICAgICAgICBlbGVtZW50OiBwLFxuICAgICAgICAgICAgdHlwZTogQS5IdG1sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoTyhsLnJlbmRlckFjdGlvbnMpKSB7XG4gICAgICAgICAgICBjb25zdCBTID0gbC5yZW5kZXJBY3Rpb25zKCk7XG4gICAgICAgICAgICBDLmNoaWxkcmVuID0ge1xuICAgICAgICAgICAgICBpc09wZW46IChmID0gbC5jaGVja1N0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogZi5jYWxsKGwsIGIuZ2V0KCkpLFxuICAgICAgICAgICAgICAvKiogRGlzYWJsZSBrZXlib2FyZCBuYXZpZ2F0aW9uIGluIGFjdGlvbnMsIGFzIGl0IG1pZ2h0IGNvbmZsaWN0IHdpdGggZW50ZXIgcHJlc3MgaGFuZGxpbmcgKi9cbiAgICAgICAgICAgICAgaXNGbGlwcGFibGU6ICExLFxuICAgICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IEEuSHRtbCxcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IFNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAoayA9IGwuY2hlY2tTdGF0ZSkgPT0gbnVsbCB8fCBrLmNhbGwobCwgYi5nZXQoKSk7XG4gICAgICAgICAgaS5wdXNoKEMpO1xuICAgICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gQS5IdG1sKVxuICAgICAgICAgIGkucHVzaCh7XG4gICAgICAgICAgICAuLi5nLFxuICAgICAgICAgICAgLi4ucCxcbiAgICAgICAgICAgIHR5cGU6IEEuSHRtbFxuICAgICAgICAgIH0pO1xuICAgICAgICBlbHNlIGlmIChwLnR5cGUgPT09IEEuU2VwYXJhdG9yKVxuICAgICAgICAgIGkucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBBLlNlcGFyYXRvclxuICAgICAgICAgIH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zdCBDID0ge1xuICAgICAgICAgICAgLi4uZyxcbiAgICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgICB0eXBlOiBBLkRlZmF1bHRcbiAgICAgICAgICB9O1xuICAgICAgICAgIFwiY2hpbGRyZW5cIiBpbiBDICYmIHMgIT09IDAgJiYgaS5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IEEuU2VwYXJhdG9yXG4gICAgICAgICAgfSksIGkucHVzaChDKSwgXCJjaGlsZHJlblwiIGluIEMgJiYgcyA8IG8ubGVuZ3RoIC0gMSAmJiBpLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogQS5TZXBhcmF0b3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc2hvcnRjdXQgbmFtZSBmb3IgdG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbE5hbWUg4oCUIFRvb2wgbmFtZVxuICAgKi9cbiAgZ2V0VG9vbFNob3J0Y3V0KGUpIHtcbiAgICBjb25zdCB7IFRvb2xzOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IHQuaW5saW5lVG9vbHMuZ2V0KGUpLCBpID0gdC5pbnRlcm5hbC5pbmxpbmVUb29scztcbiAgICByZXR1cm4gQXJyYXkuZnJvbShpLmtleXMoKSkuaW5jbHVkZXMoZSkgPyB0aGlzLmlubGluZVRvb2xzW2VdW2lvLlNob3J0Y3V0XSA6IG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uc2hvcnRjdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBUb29sIHNob3J0Y3V0IHdpdGggRWRpdG9yIFNob3J0Y3V0cyBNb2R1bGVcbiAgICpcbiAgICogQHBhcmFtIHRvb2xOYW1lIC0gdG9vbCBuYW1lXG4gICAqIEBwYXJhbSBzaG9ydGN1dCAtIHNob3J0Y3V0IGFjY29yZGluZyB0byB0aGUgU2hvcnRjdXREYXRhIE1vZHVsZSBmb3JtYXRcbiAgICovXG4gIGVuYWJsZVNob3J0Y3V0cyhlLCB0KSB7XG4gICAgaGUuYWRkKHtcbiAgICAgIG5hbWU6IHQsXG4gICAgICBoYW5kbGVyOiAobykgPT4ge1xuICAgICAgICB2YXIgcztcbiAgICAgICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IGkgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlcjtcbiAgICAgICAgaSAmJiBpLnRvb2wuZW5hYmxlZElubGluZVRvb2xzICYmIChvLnByZXZlbnREZWZhdWx0KCksIChzID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IHMuYWN0aXZhdGVJdGVtQnlOYW1lKGUpKTtcbiAgICAgIH0sXG4gICAgICBvbjogdGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3JcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5saW5lIFRvb2wgYnV0dG9uIGNsaWNrc1xuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIFRvb2wncyBpbnN0YW5jZVxuICAgKi9cbiAgdG9vbENsaWNrZWQoZSkge1xuICAgIHZhciBvO1xuICAgIGNvbnN0IHQgPSBiLnJhbmdlO1xuICAgIChvID0gZS5zdXJyb3VuZCkgPT0gbnVsbCB8fCBvLmNhbGwoZSwgdCksIHRoaXMuY2hlY2tUb29sc1N0YXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIFRvb2xzYCBzdGF0ZSBieSBzZWxlY3Rpb25cbiAgICovXG4gIGNoZWNrVG9vbHNTdGF0ZSgpIHtcbiAgICB2YXIgZTtcbiAgICAoZSA9IHRoaXMudG9vbHNJbnN0YW5jZXMpID09IG51bGwgfHwgZS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICB2YXIgbztcbiAgICAgIChvID0gdC5jaGVja1N0YXRlKSA9PSBudWxsIHx8IG8uY2FsbCh0LCBiLmdldCgpKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGlubGluZSB0b29scyB0b29sc1xuICAgKiBUb29scyB0aGF0IGhhcyBpc0lubGluZSBpcyB0cnVlXG4gICAqL1xuICBnZXQgaW5saW5lVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuRWRpdG9yLlRvb2xzLmlubGluZVRvb2xzLmVudHJpZXMoKSkuZm9yRWFjaCgoW3QsIG9dKSA9PiB7XG4gICAgICBlW3RdID0gby5jcmVhdGUoKTtcbiAgICB9KSwgZTtcbiAgfVxufVxuZnVuY3Rpb24gc28oKSB7XG4gIGNvbnN0IG4gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gIGlmIChuID09PSBudWxsKVxuICAgIHJldHVybiBbbnVsbCwgMF07XG4gIGxldCBlID0gbi5mb2N1c05vZGUsIHQgPSBuLmZvY3VzT2Zmc2V0O1xuICByZXR1cm4gZSA9PT0gbnVsbCA/IFtudWxsLCAwXSA6IChlLm5vZGVUeXBlICE9PSBOb2RlLlRFWFRfTk9ERSAmJiBlLmNoaWxkTm9kZXMubGVuZ3RoID4gMCAmJiAoZS5jaGlsZE5vZGVzW3RdID8gKGUgPSBlLmNoaWxkTm9kZXNbdF0sIHQgPSAwKSA6IChlID0gZS5jaGlsZE5vZGVzW3QgLSAxXSwgdCA9IGUudGV4dENvbnRlbnQubGVuZ3RoKSksIFtlLCB0XSk7XG59XG5mdW5jdGlvbiBubyhuLCBlLCB0LCBvKSB7XG4gIGNvbnN0IGkgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICBvID09PSBcImxlZnRcIiA/IChpLnNldFN0YXJ0KG4sIDApLCBpLnNldEVuZChlLCB0KSkgOiAoaS5zZXRTdGFydChlLCB0KSwgaS5zZXRFbmQobiwgbi5jaGlsZE5vZGVzLmxlbmd0aCkpO1xuICBjb25zdCBzID0gaS5jbG9uZUNvbnRlbnRzKCksIHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICByLmFwcGVuZENoaWxkKHMpO1xuICBjb25zdCBsID0gci50ZXh0Q29udGVudCB8fCBcIlwiO1xuICByZXR1cm4gTG8obCk7XG59XG5mdW5jdGlvbiBNZShuKSB7XG4gIGNvbnN0IGUgPSBkLmdldERlZXBlc3ROb2RlKG4pO1xuICBpZiAoZSA9PT0gbnVsbCB8fCBkLmlzRW1wdHkobikpXG4gICAgcmV0dXJuICEwO1xuICBpZiAoZC5pc05hdGl2ZUlucHV0KGUpKVxuICAgIHJldHVybiBlLnNlbGVjdGlvbkVuZCA9PT0gMDtcbiAgaWYgKGQuaXNFbXB0eShuKSlcbiAgICByZXR1cm4gITA7XG4gIGNvbnN0IFt0LCBvXSA9IHNvKCk7XG4gIHJldHVybiB0ID09PSBudWxsID8gITEgOiBubyhuLCB0LCBvLCBcImxlZnRcIik7XG59XG5mdW5jdGlvbiBBZShuKSB7XG4gIGNvbnN0IGUgPSBkLmdldERlZXBlc3ROb2RlKG4sICEwKTtcbiAgaWYgKGUgPT09IG51bGwpXG4gICAgcmV0dXJuICEwO1xuICBpZiAoZC5pc05hdGl2ZUlucHV0KGUpKVxuICAgIHJldHVybiBlLnNlbGVjdGlvbkVuZCA9PT0gZS52YWx1ZS5sZW5ndGg7XG4gIGNvbnN0IFt0LCBvXSA9IHNvKCk7XG4gIHJldHVybiB0ID09PSBudWxsID8gITEgOiBubyhuLCB0LCBvLCBcInJpZ2h0XCIpO1xufVxuY2xhc3MgR2kgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEFsbCBrZXlkb3ducyBvbiBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAga2V5ZG93bihlKSB7XG4gICAgc3dpdGNoICh0aGlzLmJlZm9yZUtleWRvd25Qcm9jZXNzaW5nKGUpLCBlLmtleUNvZGUpIHtcbiAgICAgIGNhc2Ugdy5CQUNLU1BBQ0U6XG4gICAgICAgIHRoaXMuYmFja3NwYWNlKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2Ugdy5ERUxFVEU6XG4gICAgICAgIHRoaXMuZGVsZXRlKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2Ugdy5FTlRFUjpcbiAgICAgICAgdGhpcy5lbnRlcihlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHcuRE9XTjpcbiAgICAgIGNhc2Ugdy5SSUdIVDpcbiAgICAgICAgdGhpcy5hcnJvd1JpZ2h0QW5kRG93bihlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHcuVVA6XG4gICAgICBjYXNlIHcuTEVGVDpcbiAgICAgICAgdGhpcy5hcnJvd0xlZnRBbmRVcChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHcuVEFCOlxuICAgICAgICB0aGlzLnRhYlByZXNzZWQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBlLmtleSA9PT0gXCIvXCIgJiYgIWUuY3RybEtleSAmJiAhZS5tZXRhS2V5ICYmIHRoaXMuc2xhc2hQcmVzc2VkKGUpLCBlLmNvZGUgPT09IFwiU2xhc2hcIiAmJiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5jb21tYW5kU2xhc2hQcmVzc2VkKCkpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJlcyBvbiBrZXlkb3duIGJlZm9yZSBldmVudCBwcm9jZXNzaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBiZWZvcmVLZXlkb3duUHJvY2Vzc2luZyhlKSB7XG4gICAgdGhpcy5uZWVkVG9vbGJhckNsb3NpbmcoZSkgJiYgTXQoZS5rZXlDb2RlKSAmJiAodGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpLCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkgfHwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSkpO1xuICB9XG4gIC8qKlxuICAgKiBLZXkgdXAgb24gQmxvY2s6XG4gICAqIC0gc2hvd3MgSW5saW5lIFRvb2xiYXIgaWYgc29tZXRoaW5nIHNlbGVjdGVkXG4gICAqIC0gc2hvd3MgY29udmVyc2lvbiB0b29sYmFyIHdpdGggODUlIG9mIGJsb2NrIHNlbGVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5dXAgZXZlbnRcbiAgICovXG4gIGtleXVwKGUpIHtcbiAgICBlLnNoaWZ0S2V5IHx8IHRoaXMuRWRpdG9yLlVJLmNoZWNrRW1wdGluZXNzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBkcm9wIHRhcmdldCBzdHlsZXNcbiAgICpcbiAgICogQHBhcmFtIHtEcmFnRXZlbnR9IGV2ZW50IC0gZHJhZyBvdmVyIGV2ZW50XG4gICAqL1xuICBkcmFnT3ZlcihlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICB0LmRyb3BUYXJnZXQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGRyb3AgdGFyZ2V0IHN0eWxlXG4gICAqXG4gICAqIEBwYXJhbSB7RHJhZ0V2ZW50fSBldmVudCAtIGRyYWcgbGVhdmUgZXZlbnRcbiAgICovXG4gIGRyYWdMZWF2ZShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICB0LmRyb3BUYXJnZXQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogQ29weWluZyBzZWxlY3RlZCBibG9ja3NcbiAgICogQmVmb3JlIHB1dHRpbmcgdG8gdGhlIGNsaXBib2FyZCB3ZSBzYW5pdGl6ZSBhbGwgYmxvY2tzIGFuZCB0aGVuIGNvcHkgdG8gdGhlIGNsaXBib2FyZFxuICAgKlxuICAgKiBAcGFyYW0ge0NsaXBib2FyZEV2ZW50fSBldmVudCAtIGNsaXBib2FyZCBldmVudFxuICAgKi9cbiAgaGFuZGxlQ29tbWFuZEMoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tTZWxlY3Rpb246IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHQuYW55QmxvY2tTZWxlY3RlZCAmJiB0LmNvcHlTZWxlY3RlZEJsb2NrcyhlKTtcbiAgfVxuICAvKipcbiAgICogQ29weSBhbmQgRGVsZXRlIHNlbGVjdGVkIEJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge0NsaXBib2FyZEV2ZW50fSBldmVudCAtIGNsaXBib2FyZCBldmVudFxuICAgKi9cbiAgaGFuZGxlQ29tbWFuZFgoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tTZWxlY3Rpb246IHQsIEJsb2NrTWFuYWdlcjogbywgQ2FyZXQ6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHQuYW55QmxvY2tTZWxlY3RlZCAmJiB0LmNvcHlTZWxlY3RlZEJsb2NrcyhlKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IHMgPSBvLnJlbW92ZVNlbGVjdGVkQmxvY2tzKCksIHIgPSBvLmluc2VydERlZmF1bHRCbG9ja0F0SW5kZXgocywgITApO1xuICAgICAgaS5zZXRUb0Jsb2NrKHIsIGkucG9zaXRpb25zLlNUQVJUKSwgdC5jbGVhclNlbGVjdGlvbihlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVGFiIHByZXNzZWQgaW5zaWRlIGEgQmxvY2suXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICB0YWJQcmVzc2VkKGUpIHtcbiAgICBjb25zdCB7IElubGluZVRvb2xiYXI6IHQsIENhcmV0OiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpZiAodC5vcGVuZWQpXG4gICAgICByZXR1cm47XG4gICAgKGUuc2hpZnRLZXkgPyBvLm5hdmlnYXRlUHJldmlvdXMoITApIDogby5uYXZpZ2F0ZU5leHQoITApKSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgLyoqXG4gICAqICcvJyArICdjb21tYW5kJyBrZXlkb3duIGluc2lkZSBhIEJsb2NrXG4gICAqL1xuICBjb21tYW5kU2xhc2hQcmVzc2VkKCkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnNlbGVjdGVkQmxvY2tzLmxlbmd0aCA+IDEgfHwgdGhpcy5hY3RpdmF0ZUJsb2NrU2V0dGluZ3MoKTtcbiAgfVxuICAvKipcbiAgICogJy8nIGtleWRvd24gaW5zaWRlIGEgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAgc2xhc2hQcmVzc2VkKGUpIHtcbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLmlzRW1wdHkgJiYgKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5FZGl0b3IuQ2FyZXQuaW5zZXJ0Q29udGVudEF0Q2FyZXRQb3NpdGlvbihcIi9cIiksIHRoaXMuYWN0aXZhdGVUb29sYm94KCkpO1xuICB9XG4gIC8qKlxuICAgKiBFTlRFUiBwcmVzc2VkIG9uIGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBlbnRlcihlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIFVJOiBvIH0gPSB0aGlzLkVkaXRvciwgaSA9IHQuY3VycmVudEJsb2NrO1xuICAgIGlmIChpID09PSB2b2lkIDAgfHwgaS50b29sLmlzTGluZUJyZWFrc0VuYWJsZWQgfHwgby5zb21lVG9vbGJhck9wZW5lZCAmJiBvLnNvbWVGbGlwcGVyQnV0dG9uRm9jdXNlZCB8fCBlLnNoaWZ0S2V5ICYmICFHZSlcbiAgICAgIHJldHVybjtcbiAgICBsZXQgcyA9IGk7XG4gICAgaS5jdXJyZW50SW5wdXQgIT09IHZvaWQgMCAmJiBNZShpLmN1cnJlbnRJbnB1dCkgJiYgIWkuaGFzTWVkaWEgPyB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleCh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXgpIDogaS5jdXJyZW50SW5wdXQgJiYgQWUoaS5jdXJyZW50SW5wdXQpID8gcyA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2tJbmRleCArIDEpIDogcyA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5zcGxpdCgpLCB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHMpLCB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKHMpLCBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBiYWNrc3BhY2Uga2V5ZG93biBvbiBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAgYmFja3NwYWNlKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQ2FyZXQ6IG8gfSA9IHRoaXMuRWRpdG9yLCB7IGN1cnJlbnRCbG9jazogaSwgcHJldmlvdXNCbG9jazogcyB9ID0gdDtcbiAgICBpZiAoaSA9PT0gdm9pZCAwIHx8ICFiLmlzQ29sbGFwc2VkIHx8ICFpLmN1cnJlbnRJbnB1dCB8fCAhTWUoaS5jdXJyZW50SW5wdXQpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKSwgIShpLmN1cnJlbnRJbnB1dCA9PT0gaS5maXJzdElucHV0KSkge1xuICAgICAgby5uYXZpZ2F0ZVByZXZpb3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzID09PSBudWxsKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChzLmlzRW1wdHkpIHtcbiAgICAgIHQucmVtb3ZlQmxvY2socyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpLmlzRW1wdHkpIHtcbiAgICAgIHQucmVtb3ZlQmxvY2soaSk7XG4gICAgICBjb25zdCBhID0gdC5jdXJyZW50QmxvY2s7XG4gICAgICBvLnNldFRvQmxvY2soYSwgby5wb3NpdGlvbnMuRU5EKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd3QocywgaSkgPyB0aGlzLm1lcmdlQmxvY2tzKHMsIGkpIDogby5zZXRUb0Jsb2NrKHMsIG8ucG9zaXRpb25zLkVORCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgZGVsZXRlIGtleWRvd24gb24gQmxvY2tcbiAgICogUmVtb3ZlcyBjaGFyIGFmdGVyIHRoZSBjYXJldC5cbiAgICogSWYgY2FyZXQgaXMgYXQgdGhlIGVuZCBvZiB0aGUgYmxvY2ssIG1lcmdlIG5leHQgYmxvY2sgd2l0aCBjdXJyZW50XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBkZWxldGUoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBDYXJldDogbyB9ID0gdGhpcy5FZGl0b3IsIHsgY3VycmVudEJsb2NrOiBpLCBuZXh0QmxvY2s6IHMgfSA9IHQ7XG4gICAgaWYgKCFiLmlzQ29sbGFwc2VkIHx8ICFBZShpLmN1cnJlbnRJbnB1dCkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpLCAhKGkuY3VycmVudElucHV0ID09PSBpLmxhc3RJbnB1dCkpIHtcbiAgICAgIG8ubmF2aWdhdGVOZXh0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzID09PSBudWxsKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChzLmlzRW1wdHkpIHtcbiAgICAgIHQucmVtb3ZlQmxvY2socyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpLmlzRW1wdHkpIHtcbiAgICAgIHQucmVtb3ZlQmxvY2soaSksIG8uc2V0VG9CbG9jayhzLCBvLnBvc2l0aW9ucy5TVEFSVCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHd0KGksIHMpID8gdGhpcy5tZXJnZUJsb2NrcyhpLCBzKSA6IG8uc2V0VG9CbG9jayhzLCBvLnBvc2l0aW9ucy5TVEFSVCk7XG4gIH1cbiAgLyoqXG4gICAqIE1lcmdlIHBhc3NlZCBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHRhcmdldEJsb2NrIC0gdG8gd2hpY2ggQmxvY2sgd2Ugd2FudCB0byBtZXJnZVxuICAgKiBAcGFyYW0gYmxvY2tUb01lcmdlIC0gd2hhdCBCbG9jayB3ZSB3YW50IHRvIG1lcmdlXG4gICAqL1xuICBtZXJnZUJsb2NrcyhlLCB0KSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IG8sIENhcmV0OiBpLCBUb29sYmFyOiBzIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpLmNyZWF0ZVNoYWRvdyhlLmxhc3RJbnB1dCksIG8ubWVyZ2VCbG9ja3MoZSwgdCkudGhlbigoKSA9PiB7XG4gICAgICBpLnJlc3RvcmVDYXJldChlLnBsdWdpbnNDb250ZW50KSwgcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgcmlnaHQgYW5kIGRvd24ga2V5Ym9hcmQga2V5c1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGFycm93UmlnaHRBbmREb3duKGUpIHtcbiAgICBjb25zdCB0ID0gbGUudXNlZEtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKSAmJiAoIWUuc2hpZnRLZXkgfHwgZS5rZXlDb2RlID09PSB3LlRBQik7XG4gICAgaWYgKHRoaXMuRWRpdG9yLlVJLnNvbWVUb29sYmFyT3BlbmVkICYmIHQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICAgIGNvbnN0IHsgY3VycmVudEJsb2NrOiBvIH0gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIsIHMgPSAoKG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uY3VycmVudElucHV0KSAhPT0gdm9pZCAwID8gQWUoby5jdXJyZW50SW5wdXQpIDogdm9pZCAwKSB8fCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5hbnlCbG9ja1NlbGVjdGVkO1xuICAgIGlmIChlLnNoaWZ0S2V5ICYmIGUua2V5Q29kZSA9PT0gdy5ET1dOICYmIHMpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24udG9nZ2xlQmxvY2tTZWxlY3RlZFN0YXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlLmtleUNvZGUgPT09IHcuRE9XTiB8fCBlLmtleUNvZGUgPT09IHcuUklHSFQgJiYgIXRoaXMuaXNSdGwgPyB0aGlzLkVkaXRvci5DYXJldC5uYXZpZ2F0ZU5leHQoKSA6IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlUHJldmlvdXMoKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPZSgoKSA9PiB7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrICYmIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sudXBkYXRlQ3VycmVudElucHV0KCk7XG4gICAgfSwgMjApKCksIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbGVmdCBhbmQgdXAga2V5Ym9hcmQga2V5c1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGFycm93TGVmdEFuZFVwKGUpIHtcbiAgICBpZiAodGhpcy5FZGl0b3IuVUkuc29tZVRvb2xiYXJPcGVuZWQpIHtcbiAgICAgIGlmIChsZS51c2VkS2V5cy5pbmNsdWRlcyhlLmtleUNvZGUpICYmICghZS5zaGlmdEtleSB8fCBlLmtleUNvZGUgPT09IHcuVEFCKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5FZGl0b3IuVUkuY2xvc2VBbGxUb29sYmFycygpO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCk7XG4gICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IHQgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlciwgaSA9ICgodCA9PSBudWxsID8gdm9pZCAwIDogdC5jdXJyZW50SW5wdXQpICE9PSB2b2lkIDAgPyBNZSh0LmN1cnJlbnRJbnB1dCkgOiB2b2lkIDApIHx8IHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmFueUJsb2NrU2VsZWN0ZWQ7XG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgZS5rZXlDb2RlID09PSB3LlVQICYmIGkpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24udG9nZ2xlQmxvY2tTZWxlY3RlZFN0YXRlKCExKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gdy5VUCB8fCBlLmtleUNvZGUgPT09IHcuTEVGVCAmJiAhdGhpcy5pc1J0bCA/IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlUHJldmlvdXMoKSA6IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlTmV4dCgpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9lKCgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay51cGRhdGVDdXJyZW50SW5wdXQoKTtcbiAgICB9LCAyMCkoKSwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhc2VzIHdoZW4gd2UgbmVlZCB0byBjbG9zZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgbmVlZFRvb2xiYXJDbG9zaW5nKGUpIHtcbiAgICBjb25zdCB0ID0gZS5rZXlDb2RlID09PSB3LkVOVEVSICYmIHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5vcGVuZWQsIG8gPSBlLmtleUNvZGUgPT09IHcuRU5URVIgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQsIGkgPSBlLmtleUNvZGUgPT09IHcuRU5URVIgJiYgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5vcGVuZWQsIHMgPSBlLmtleUNvZGUgPT09IHcuVEFCO1xuICAgIHJldHVybiAhKGUuc2hpZnRLZXkgfHwgcyB8fCB0IHx8IG8gfHwgaSk7XG4gIH1cbiAgLyoqXG4gICAqIElmIFRvb2xib3ggaXMgbm90IG9wZW4sIHRoZW4ganVzdCBvcGVuIGl0IGFuZCBzaG93IHBsdXMgYnV0dG9uXG4gICAqL1xuICBhY3RpdmF0ZVRvb2xib3goKSB7XG4gICAgdGhpcy5FZGl0b3IuVG9vbGJhci5vcGVuZWQgfHwgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbigpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIFRvb2xiYXIgYW5kIHNob3cgQmxvY2tTZXR0aW5ncyBiZWZvcmUgZmxpcHBpbmcgVG9vbHNcbiAgICovXG4gIGFjdGl2YXRlQmxvY2tTZXR0aW5ncygpIHtcbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm9wZW5lZCB8fCB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkIHx8IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbigpO1xuICB9XG59XG5jbGFzcyBYZSB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gd29ya2luZ0FyZWEg4oCUIGVkaXRvcmBzIHdvcmtpbmcgbm9kZVxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMuYmxvY2tzID0gW10sIHRoaXMud29ya2luZ0FyZWEgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgbGVuZ3RoIG9mIEJsb2NrIGluc3RhbmNlcyBhcnJheVxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgQmxvY2sgaW5zdGFuY2VzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja1tdfVxuICAgKi9cbiAgZ2V0IGFycmF5KCkge1xuICAgIHJldHVybiB0aGlzLmJsb2NrcztcbiAgfVxuICAvKipcbiAgICogR2V0IGJsb2NrcyBodG1sIGVsZW1lbnRzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFtdfVxuICAgKi9cbiAgZ2V0IG5vZGVzKCkge1xuICAgIHJldHVybiBBdCh0aGlzLndvcmtpbmdBcmVhLmNoaWxkcmVuKTtcbiAgfVxuICAvKipcbiAgICogUHJveHkgdHJhcCB0byBpbXBsZW1lbnQgYXJyYXktbGlrZSBzZXR0ZXJcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYmxvY2tzWzBdID0gbmV3IEJsb2NrKC4uLilcbiAgICogQHBhcmFtIHtCbG9ja3N9IGluc3RhbmNlIOKAlCBCbG9ja3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHkg4oCUIGJsb2NrIGluZGV4IG9yIGFueSBCbG9ja3MgY2xhc3MgcHJvcGVydHkga2V5IHRvIHNldFxuICAgKiBAcGFyYW0ge0Jsb2NrfSB2YWx1ZSDigJQgdmFsdWUgdG8gc2V0XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIHNldChlLCB0LCBvKSB7XG4gICAgcmV0dXJuIGlzTmFOKE51bWJlcih0KSkgPyAoUmVmbGVjdC5zZXQoZSwgdCwgbyksICEwKSA6IChlLmluc2VydCgrdCwgbyksICEwKTtcbiAgfVxuICAvKipcbiAgICogUHJveHkgdHJhcCB0byBpbXBsZW1lbnQgYXJyYXktbGlrZSBnZXR0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja3N9IGluc3RhbmNlIOKAlCBCbG9ja3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHkg4oCUIEJsb2NrcyBjbGFzcyBwcm9wZXJ0eSBrZXlcbiAgICogQHJldHVybnMge0Jsb2NrfCp9XG4gICAqL1xuICBzdGF0aWMgZ2V0KGUsIHQpIHtcbiAgICByZXR1cm4gaXNOYU4oTnVtYmVyKHQpKSA/IFJlZmxlY3QuZ2V0KGUsIHQpIDogZS5nZXQoK3QpO1xuICB9XG4gIC8qKlxuICAgKiBQdXNoIG5ldyBCbG9jayB0byB0aGUgYmxvY2tzIGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gd29ya2luZyBhcmVhXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gYWRkXG4gICAqL1xuICBwdXNoKGUpIHtcbiAgICB0aGlzLmJsb2Nrcy5wdXNoKGUpLCB0aGlzLmluc2VydFRvRE9NKGUpO1xuICB9XG4gIC8qKlxuICAgKiBTd2FwcyBibG9ja3Mgd2l0aCBpbmRleGVzIGZpcnN0IGFuZCBzZWNvbmRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpcnN0IC0gZmlyc3QgYmxvY2sgaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZCAtIHNlY29uZCBibG9jayBpbmRleFxuICAgKiBAZGVwcmVjYXRlZCDigJQgdXNlICdtb3ZlJyBpbnN0ZWFkXG4gICAqL1xuICBzd2FwKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5ibG9ja3NbdF07XG4gICAgZC5zd2FwKHRoaXMuYmxvY2tzW2VdLmhvbGRlciwgby5ob2xkZXIpLCB0aGlzLmJsb2Nrc1t0XSA9IHRoaXMuYmxvY2tzW2VdLCB0aGlzLmJsb2Nrc1tlXSA9IG87XG4gIH1cbiAgLyoqXG4gICAqIE1vdmUgYSBibG9jayBmcm9tIG9uZSB0byBhbm90aGVyIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gbmV3IGluZGV4IG9mIHRoZSBibG9ja1xuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gYmxvY2sgdG8gbW92ZVxuICAgKi9cbiAgbW92ZShlLCB0KSB7XG4gICAgY29uc3QgbyA9IHRoaXMuYmxvY2tzLnNwbGljZSh0LCAxKVswXSwgaSA9IGUgLSAxLCBzID0gTWF0aC5tYXgoMCwgaSksIHIgPSB0aGlzLmJsb2Nrc1tzXTtcbiAgICBlID4gMCA/IHRoaXMuaW5zZXJ0VG9ET00obywgXCJhZnRlcmVuZFwiLCByKSA6IHRoaXMuaW5zZXJ0VG9ET00obywgXCJiZWZvcmViZWdpblwiLCByKSwgdGhpcy5ibG9ja3Muc3BsaWNlKGUsIDAsIG8pO1xuICAgIGNvbnN0IGwgPSB0aGlzLmNvbXBvc2VCbG9ja0V2ZW50KFwibW92ZVwiLCB7XG4gICAgICBmcm9tSW5kZXg6IHQsXG4gICAgICB0b0luZGV4OiBlXG4gICAgfSk7XG4gICAgby5jYWxsKEouTU9WRUQsIGwpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IEJsb2NrIGF0IHBhc3NlZCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgg4oCUIGluZGV4IHRvIGluc2VydCBCbG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayDigJQgQmxvY2sgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSDigJQgaXQgdHJ1ZSwgcmVwbGFjZSBibG9jayBvbiBnaXZlbiBpbmRleFxuICAgKi9cbiAgaW5zZXJ0KGUsIHQsIG8gPSAhMSkge1xuICAgIGlmICghdGhpcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucHVzaCh0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZSA+IHRoaXMubGVuZ3RoICYmIChlID0gdGhpcy5sZW5ndGgpLCBvICYmICh0aGlzLmJsb2Nrc1tlXS5ob2xkZXIucmVtb3ZlKCksIHRoaXMuYmxvY2tzW2VdLmNhbGwoSi5SRU1PVkVEKSk7XG4gICAgY29uc3QgaSA9IG8gPyAxIDogMDtcbiAgICBpZiAodGhpcy5ibG9ja3Muc3BsaWNlKGUsIGksIHQpLCBlID4gMCkge1xuICAgICAgY29uc3QgcyA9IHRoaXMuYmxvY2tzW2UgLSAxXTtcbiAgICAgIHRoaXMuaW5zZXJ0VG9ET00odCwgXCJhZnRlcmVuZFwiLCBzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcyA9IHRoaXMuYmxvY2tzW2UgKyAxXTtcbiAgICAgIHMgPyB0aGlzLmluc2VydFRvRE9NKHQsIFwiYmVmb3JlYmVnaW5cIiwgcykgOiB0aGlzLmluc2VydFRvRE9NKHQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVwbGFjZXMgYmxvY2sgdW5kZXIgcGFzc2VkIGluZGV4IHdpdGggcGFzc2VkIGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IG9mIGV4aXN0ZWQgYmxvY2tcbiAgICogQHBhcmFtIGJsb2NrIC0gbmV3IGJsb2NrXG4gICAqL1xuICByZXBsYWNlKGUsIHQpIHtcbiAgICBpZiAodGhpcy5ibG9ja3NbZV0gPT09IHZvaWQgMClcbiAgICAgIHRocm93IEVycm9yKFwiSW5jb3JyZWN0IGluZGV4XCIpO1xuICAgIHRoaXMuYmxvY2tzW2VdLmhvbGRlci5yZXBsYWNlV2l0aCh0LmhvbGRlciksIHRoaXMuYmxvY2tzW2VdID0gdDtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyBzZXZlcmFsIGJsb2NrcyBhdCBvbmNlXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja3MgLSBibG9ja3MgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IHRvIGluc2VydCBibG9ja3MgYXRcbiAgICovXG4gIGluc2VydE1hbnkoZSwgdCkge1xuICAgIGNvbnN0IG8gPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIGZvciAoY29uc3QgaSBvZiBlKVxuICAgICAgby5hcHBlbmRDaGlsZChpLmhvbGRlcik7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgIGNvbnN0IGkgPSBNYXRoLm1pbih0IC0gMSwgdGhpcy5sZW5ndGggLSAxKTtcbiAgICAgICAgdGhpcy5ibG9ja3NbaV0uaG9sZGVyLmFmdGVyKG8pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHQgPT09IDAgJiYgdGhpcy53b3JraW5nQXJlYS5wcmVwZW5kKG8pO1xuICAgICAgdGhpcy5ibG9ja3Muc3BsaWNlKHQsIDAsIC4uLmUpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5ibG9ja3MucHVzaCguLi5lKSwgdGhpcy53b3JraW5nQXJlYS5hcHBlbmRDaGlsZChvKTtcbiAgICBlLmZvckVhY2goKGkpID0+IGkuY2FsbChKLlJFTkRFUkVEKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBibG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCBvZiBCbG9jayB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZShlKSB7XG4gICAgaXNOYU4oZSkgJiYgKGUgPSB0aGlzLmxlbmd0aCAtIDEpLCB0aGlzLmJsb2Nrc1tlXS5ob2xkZXIucmVtb3ZlKCksIHRoaXMuYmxvY2tzW2VdLmNhbGwoSi5SRU1PVkVEKSwgdGhpcy5ibG9ja3Muc3BsaWNlKGUsIDEpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGJsb2Nrc1xuICAgKi9cbiAgcmVtb3ZlQWxsKCkge1xuICAgIHRoaXMud29ya2luZ0FyZWEuaW5uZXJIVE1MID0gXCJcIiwgdGhpcy5ibG9ja3MuZm9yRWFjaCgoZSkgPT4gZS5jYWxsKEouUkVNT1ZFRCkpLCB0aGlzLmJsb2Nrcy5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgQmxvY2sgYWZ0ZXIgcGFzc2VkIHRhcmdldFxuICAgKlxuICAgKiBAdG9kbyBkZWNpZGUgaWYgdGhpcyBtZXRob2QgaXMgbmVjZXNzYXJ5XG4gICAqIEBwYXJhbSB7QmxvY2t9IHRhcmdldEJsb2NrIOKAlCB0YXJnZXQgYWZ0ZXIgd2hpY2ggQmxvY2sgc2hvdWxkIGJlIGluc2VydGVkXG4gICAqIEBwYXJhbSB7QmxvY2t9IG5ld0Jsb2NrIOKAlCBCbG9jayB0byBpbnNlcnRcbiAgICovXG4gIGluc2VydEFmdGVyKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5ibG9ja3MuaW5kZXhPZihlKTtcbiAgICB0aGlzLmluc2VydChvICsgMSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBCbG9jayBieSBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgg4oCUIEJsb2NrIGluZGV4XG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldChlKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzW2VdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gaW5kZXggb2YgcGFzc2VkIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gZmluZFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgaW5kZXhPZihlKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLmluZGV4T2YoZSk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBuZXcgQmxvY2sgaW50byBET01cbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayB0byBpbnNlcnRcbiAgICogQHBhcmFtIHtJbnNlcnRQb3NpdGlvbn0gcG9zaXRpb24g4oCUIGluc2VydCBwb3NpdGlvbiAoaWYgc2V0LCB3aWxsIHVzZSBpbnNlcnRBZGphY2VudEVsZW1lbnQpXG4gICAqIEBwYXJhbSB7QmxvY2t9IHRhcmdldCDigJQgQmxvY2sgcmVsYXRlZCB0byBwb3NpdGlvblxuICAgKi9cbiAgaW5zZXJ0VG9ET00oZSwgdCwgbykge1xuICAgIHQgPyBvLmhvbGRlci5pbnNlcnRBZGphY2VudEVsZW1lbnQodCwgZS5ob2xkZXIpIDogdGhpcy53b3JraW5nQXJlYS5hcHBlbmRDaGlsZChlLmhvbGRlciksIGUuY2FsbChKLlJFTkRFUkVEKTtcbiAgfVxuICAvKipcbiAgICogQ29tcG9zZXMgQmxvY2sgZXZlbnQgd2l0aCBwYXNzZWQgdHlwZSBhbmQgZGV0YWlsc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtvYmplY3R9IGRldGFpbCAtIGV2ZW50IGRldGFpbFxuICAgKi9cbiAgY29tcG9zZUJsb2NrRXZlbnQoZSwgdCkge1xuICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQoZSwge1xuICAgICAgZGV0YWlsOiB0XG4gICAgfSk7XG4gIH1cbn1cbmNvbnN0IFR0ID0gXCJibG9jay1yZW1vdmVkXCIsIEN0ID0gXCJibG9jay1hZGRlZFwiLCBKaSA9IFwiYmxvY2stbW92ZWRcIiwgU3QgPSBcImJsb2NrLWNoYW5nZWRcIjtcbmNsYXNzIFFpIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21wbGV0ZWQgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICAvKipcbiAgICogQWRkIG5ldyBwcm9taXNlIHRvIHF1ZXVlXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBwcm9taXNlIHNob3VsZCBiZSBhZGRlZCB0byBxdWV1ZVxuICAgKi9cbiAgYWRkKGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHQsIG8pID0+IHtcbiAgICAgIHRoaXMuY29tcGxldGVkID0gdGhpcy5jb21wbGV0ZWQudGhlbihlKS50aGVuKHQpLmNhdGNoKG8pO1xuICAgIH0pO1xuICB9XG59XG5jbGFzcyBlcyBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLl9jdXJyZW50QmxvY2tJbmRleCA9IC0xLCB0aGlzLl9ibG9ja3MgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldCBjdXJyZW50QmxvY2tJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEJsb2NrSW5kZXg7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBjdXJyZW50IEJsb2NrIGluZGV4IGFuZCBmaXJlIEJsb2NrIGxpZmVjeWNsZSBjYWxsYmFja3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5ld0luZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gc2V0IGFzIGN1cnJlbnRcbiAgICovXG4gIHNldCBjdXJyZW50QmxvY2tJbmRleChlKSB7XG4gICAgdGhpcy5fY3VycmVudEJsb2NrSW5kZXggPSBlO1xuICB9XG4gIC8qKlxuICAgKiByZXR1cm5zIGZpcnN0IEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldCBmaXJzdEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbMF07XG4gIH1cbiAgLyoqXG4gICAqIHJldHVybnMgbGFzdCBCbG9ja1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQgbGFzdEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbdGhpcy5fYmxvY2tzLmxlbmd0aCAtIDFdO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBCbG9jayBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQgY3VycmVudEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbdGhpcy5jdXJyZW50QmxvY2tJbmRleF07XG4gIH1cbiAgLyoqXG4gICAqIFNldCBwYXNzZWQgQmxvY2sgYXMgYSBjdXJyZW50XG4gICAqXG4gICAqIEBwYXJhbSBibG9jayAtIGJsb2NrIHRvIHNldCBhcyBhIGN1cnJlbnRcbiAgICovXG4gIHNldCBjdXJyZW50QmxvY2soZSkge1xuICAgIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLmdldEJsb2NrSW5kZXgoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbmV4dCBCbG9jayBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t8bnVsbH1cbiAgICovXG4gIGdldCBuZXh0QmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPT09IHRoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxID8gbnVsbCA6IHRoaXMuX2Jsb2Nrc1t0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICsgMV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBmaXJzdCBCbG9jayB3aXRoIGlucHV0cyBhZnRlciBjdXJyZW50IEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9jayB8IHVuZGVmaW5lZH1cbiAgICovXG4gIGdldCBuZXh0Q29udGVudGZ1bEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5zbGljZSh0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICsgMSkuZmluZCgodCkgPT4gISF0LmlucHV0cy5sZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZmlyc3QgQmxvY2sgd2l0aCBpbnB1dHMgYmVmb3JlIGN1cnJlbnQgQmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrIHwgdW5kZWZpbmVkfVxuICAgKi9cbiAgZ2V0IHByZXZpb3VzQ29udGVudGZ1bEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5zbGljZSgwLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KS5yZXZlcnNlKCkuZmluZCgodCkgPT4gISF0LmlucHV0cy5sZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHByZXZpb3VzIEJsb2NrIGluc3RhbmNlXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja3xudWxsfVxuICAgKi9cbiAgZ2V0IHByZXZpb3VzQmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPT09IDAgPyBudWxsIDogdGhpcy5fYmxvY2tzW3RoaXMuY3VycmVudEJsb2NrSW5kZXggLSAxXTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFycmF5IG9mIEJsb2NrIGluc3RhbmNlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2tbXX0ge0BsaW5rIEJsb2NrcyNhcnJheX1cbiAgICovXG4gIGdldCBibG9ja3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5hcnJheTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgZWFjaCBCbG9jayBpcyBlbXB0eVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VkaXRvckVtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5ldmVyeSgoZSkgPT4gZS5pc0VtcHR5KTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIGJlIGNhbGxlZCBhZnRlciBFZGl0b3IuVUkgcHJlcGFyYXRpb25cbiAgICogRGVmaW5lIHRoaXMuX2Jsb2NrcyBwcm9wZXJ0eVxuICAgKi9cbiAgcHJlcGFyZSgpIHtcbiAgICBjb25zdCBlID0gbmV3IFhlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yKTtcbiAgICB0aGlzLl9ibG9ja3MgPSBuZXcgUHJveHkoZSwge1xuICAgICAgc2V0OiBYZS5zZXQsXG4gICAgICBnZXQ6IFhlLmdldFxuICAgIH0pLCB0aGlzLmxpc3RlbmVycy5vbihcbiAgICAgIGRvY3VtZW50LFxuICAgICAgXCJjb3B5XCIsXG4gICAgICAodCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tFdmVudHMuaGFuZGxlQ29tbWFuZEModClcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIElmIHJlYWRPbmx5IGlzIHRydWU6XG4gICAqICAtIFVuYmluZCBldmVudCBoYW5kbGVycyBmcm9tIGNyZWF0ZWQgQmxvY2tzXG4gICAqXG4gICAqIGlmIHJlYWRPbmx5IGlzIGZhbHNlOlxuICAgKiAgLSBCaW5kIGV2ZW50IGhhbmRsZXJzIHRvIGFsbCBleGlzdGluZyBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSBcInJlYWQgb25seVwiIHN0YXRlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/IHRoaXMuZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkgOiB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgQmxvY2sgaW5zdGFuY2UgYnkgdG9vbCBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gYmxvY2sgY3JlYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy50b29sIC0gdG9vbHMgcGFzc2VkIGluIGVkaXRvciBjb25maWcge0BsaW5rIEVkaXRvckNvbmZpZyN0b29sc31cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmlkXSAtIHVuaXF1ZSBpZCBmb3IgdGhpcyBibG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IFtvcHRpb25zLmRhdGFdIC0gY29uc3RydWN0b3IgcGFyYW1zXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGNvbXBvc2VCbG9jayh7XG4gICAgdG9vbDogZSxcbiAgICBkYXRhOiB0ID0ge30sXG4gICAgaWQ6IG8gPSB2b2lkIDAsXG4gICAgdHVuZXM6IGkgPSB7fVxuICB9KSB7XG4gICAgY29uc3QgcyA9IHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZCwgciA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMuZ2V0KGUpLCBsID0gbmV3IEQoe1xuICAgICAgaWQ6IG8sXG4gICAgICBkYXRhOiB0LFxuICAgICAgdG9vbDogcixcbiAgICAgIGFwaTogdGhpcy5FZGl0b3IuQVBJLFxuICAgICAgcmVhZE9ubHk6IHMsXG4gICAgICB0dW5lc0RhdGE6IGlcbiAgICB9LCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIpO1xuICAgIHJldHVybiBzIHx8IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMuYmluZEJsb2NrRXZlbnRzKGwpO1xuICAgIH0sIHsgdGltZW91dDogMmUzIH0pLCBsO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IGJsb2NrIGludG8gX2Jsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGluc2VydCBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZF0gLSBibG9jaydzIHVuaXF1ZSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudG9vbF0gLSBwbHVnaW4gbmFtZSwgYnkgZGVmYXVsdCBtZXRob2QgaW5zZXJ0cyB0aGUgZGVmYXVsdCBibG9jayB0eXBlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5kYXRhXSAtIHBsdWdpbiBkYXRhXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5pbmRleF0gLSBpbmRleCB3aGVyZSB0byBpbnNlcnQgbmV3IEJsb2NrXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmVlZFRvRm9jdXNdIC0gZmxhZyBzaG93cyBpZiBuZWVkZWQgdG8gdXBkYXRlIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZXBsYWNlXSAtIGZsYWcgc2hvd3MgaWYgYmxvY2sgYnkgcGFzc2VkIGluZGV4IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGluc2VydGVkIG9uZVxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBpbnNlcnQoe1xuICAgIGlkOiBlID0gdm9pZCAwLFxuICAgIHRvb2w6IHQgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2ssXG4gICAgZGF0YTogbyA9IHt9LFxuICAgIGluZGV4OiBpLFxuICAgIG5lZWRUb0ZvY3VzOiBzID0gITAsXG4gICAgcmVwbGFjZTogciA9ICExLFxuICAgIHR1bmVzOiBsID0ge31cbiAgfSA9IHt9KSB7XG4gICAgbGV0IGEgPSBpO1xuICAgIGEgPT09IHZvaWQgMCAmJiAoYSA9IHRoaXMuY3VycmVudEJsb2NrSW5kZXggKyAociA/IDAgOiAxKSk7XG4gICAgY29uc3QgYyA9IHRoaXMuY29tcG9zZUJsb2NrKHtcbiAgICAgIGlkOiBlLFxuICAgICAgdG9vbDogdCxcbiAgICAgIGRhdGE6IG8sXG4gICAgICB0dW5lczogbFxuICAgIH0pO1xuICAgIHJldHVybiByICYmIHRoaXMuYmxvY2tEaWRNdXRhdGVkKFR0LCB0aGlzLmdldEJsb2NrQnlJbmRleChhKSwge1xuICAgICAgaW5kZXg6IGFcbiAgICB9KSwgdGhpcy5fYmxvY2tzLmluc2VydChhLCBjLCByKSwgdGhpcy5ibG9ja0RpZE11dGF0ZWQoQ3QsIGMsIHtcbiAgICAgIGluZGV4OiBhXG4gICAgfSksIHMgPyB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gYSA6IGEgPD0gdGhpcy5jdXJyZW50QmxvY2tJbmRleCAmJiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KyssIGM7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydHMgc2V2ZXJhbCBibG9ja3MgYXQgb25jZVxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tzIC0gYmxvY2tzIHRvIGluc2VydFxuICAgKiBAcGFyYW0gaW5kZXggLSBpbmRleCB3aGVyZSB0byBpbnNlcnRcbiAgICovXG4gIGluc2VydE1hbnkoZSwgdCA9IDApIHtcbiAgICB0aGlzLl9ibG9ja3MuaW5zZXJ0TWFueShlLCB0KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIEJsb2NrIGRhdGEuXG4gICAqXG4gICAqIEN1cnJlbnRseSB3ZSBkb24ndCBoYXZlIGFuICd1cGRhdGUnIG1ldGhvZCBpbiB0aGUgVG9vbHMgQVBJLCBzbyB3ZSBqdXN0IGNyZWF0ZSBhIG5ldyBibG9jayB3aXRoIHRoZSBzYW1lIGlkIGFuZCB0eXBlXG4gICAqIFNob3VsZCBub3QgdHJpZ2dlciAnYmxvY2stcmVtb3ZlZCcgb3IgJ2Jsb2NrLWFkZGVkJyBldmVudHMuXG4gICAqXG4gICAqIElmIG5laXRoZXIgZGF0YSBub3IgdHVuZXMgaXMgcHJvdmlkZWQsIHJldHVybiB0aGUgcHJvdmlkZWQgYmxvY2sgaW5zdGVhZC5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSBkYXRhIC0gKG9wdGlvbmFsKSBuZXcgZGF0YVxuICAgKiBAcGFyYW0gdHVuZXMgLSAob3B0aW9uYWwpIHR1bmUgZGF0YVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlKGUsIHQsIG8pIHtcbiAgICBpZiAoIXQgJiYgIW8pXG4gICAgICByZXR1cm4gZTtcbiAgICBjb25zdCBpID0gYXdhaXQgZS5kYXRhLCBzID0gdGhpcy5jb21wb3NlQmxvY2soe1xuICAgICAgaWQ6IGUuaWQsXG4gICAgICB0b29sOiBlLm5hbWUsXG4gICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHt9LCBpLCB0ID8/IHt9KSxcbiAgICAgIHR1bmVzOiBvID8/IGUudHVuZXNcbiAgICB9KSwgciA9IHRoaXMuZ2V0QmxvY2tJbmRleChlKTtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLnJlcGxhY2UociwgcyksIHRoaXMuYmxvY2tEaWRNdXRhdGVkKFN0LCBzLCB7XG4gICAgICBpbmRleDogclxuICAgIH0pLCBzO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIHBhc3NlZCBCbG9jayB3aXRoIHRoZSBuZXcgb25lIHdpdGggc3BlY2lmaWVkIFRvb2wgYW5kIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gcmVwbGFjZVxuICAgKiBAcGFyYW0gbmV3VG9vbCAtIG5ldyBUb29sIG5hbWVcbiAgICogQHBhcmFtIGRhdGEgLSBuZXcgVG9vbCBkYXRhXG4gICAqL1xuICByZXBsYWNlKGUsIHQsIG8pIHtcbiAgICBjb25zdCBpID0gdGhpcy5nZXRCbG9ja0luZGV4KGUpO1xuICAgIHJldHVybiB0aGlzLmluc2VydCh7XG4gICAgICB0b29sOiB0LFxuICAgICAgZGF0YTogbyxcbiAgICAgIGluZGV4OiBpLFxuICAgICAgcmVwbGFjZTogITBcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IHBhc3RlZCBjb250ZW50LiBDYWxsIG9uUGFzdGUgY2FsbGJhY2sgYWZ0ZXIgaW5zZXJ0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9vbE5hbWUgLSBuYW1lIG9mIFRvb2wgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gcGFzdGVFdmVudCAtIHBhc3RlZCBkYXRhXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSAtIHNob3VsZCByZXBsYWNlIGN1cnJlbnQgYmxvY2tcbiAgICovXG4gIHBhc3RlKGUsIHQsIG8gPSAhMSkge1xuICAgIGNvbnN0IGkgPSB0aGlzLmluc2VydCh7XG4gICAgICB0b29sOiBlLFxuICAgICAgcmVwbGFjZTogb1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGkuY2FsbChKLk9OX1BBU1RFLCB0KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgIEkoYCR7ZX06IG9uUGFzdGUgY2FsbGJhY2sgY2FsbCBpcyBmYWlsZWRgLCBcImVycm9yXCIsIHMpO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IG5ldyBkZWZhdWx0IGJsb2NrIGF0IHBhc3NlZCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCB3aGVyZSBCbG9jayBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICogQHBhcmFtIHtib29sZWFufSBuZWVkVG9Gb2N1cyAtIGlmIHRydWUsIHVwZGF0ZXMgY3VycmVudCBCbG9jayBpbmRleFxuICAgKlxuICAgKiBUT0RPOiBSZW1vdmUgbWV0aG9kIGFuZCB1c2UgaW5zZXJ0KCkgd2l0aCBpbmRleCBpbnN0ZWFkICg/KVxuICAgKiBAcmV0dXJucyB7QmxvY2t9IGluc2VydGVkIEJsb2NrXG4gICAqL1xuICBpbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KGUsIHQgPSAhMSkge1xuICAgIGNvbnN0IG8gPSB0aGlzLmNvbXBvc2VCbG9jayh7IHRvb2w6IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayB9KTtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzW2VdID0gbywgdGhpcy5ibG9ja0RpZE11dGF0ZWQoQ3QsIG8sIHtcbiAgICAgIGluZGV4OiBlXG4gICAgfSksIHQgPyB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gZSA6IGUgPD0gdGhpcy5jdXJyZW50QmxvY2tJbmRleCAmJiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KyssIG87XG4gIH1cbiAgLyoqXG4gICAqIEFsd2F5cyBpbnNlcnRzIGF0IHRoZSBlbmRcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgaW5zZXJ0QXRFbmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLmJsb2Nrcy5sZW5ndGggLSAxLCB0aGlzLmluc2VydCgpO1xuICB9XG4gIC8qKlxuICAgKiBNZXJnZSB0d28gYmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IHRhcmdldEJsb2NrIC0gcHJldmlvdXMgYmxvY2sgd2lsbCBiZSBhcHBlbmQgdG8gdGhpcyBibG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9ja1RvTWVyZ2UgLSBibG9jayB0aGF0IHdpbGwgYmUgbWVyZ2VkIHdpdGggdGFyZ2V0IGJsb2NrXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHRoZSBzZXF1ZW5jZSB0aGF0IGNhbiBiZSBjb250aW51ZWRcbiAgICovXG4gIGFzeW5jIG1lcmdlQmxvY2tzKGUsIHQpIHtcbiAgICBsZXQgbztcbiAgICBpZiAoZS5uYW1lID09PSB0Lm5hbWUgJiYgZS5tZXJnZWFibGUpIHtcbiAgICAgIGNvbnN0IGkgPSBhd2FpdCB0LmRhdGE7XG4gICAgICBpZiAoVihpKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IG1lcmdlIEJsb2NrLiBGYWlsZWQgdG8gZXh0cmFjdCBvcmlnaW5hbCBCbG9jayBkYXRhLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW3NdID0gaXQoW2ldLCBlLnRvb2wuc2FuaXRpemVDb25maWcpO1xuICAgICAgbyA9IHM7XG4gICAgfSBlbHNlIGlmIChlLm1lcmdlYWJsZSAmJiBfZSh0LCBcImV4cG9ydFwiKSAmJiBfZShlLCBcImltcG9ydFwiKSkge1xuICAgICAgY29uc3QgaSA9IGF3YWl0IHQuZXhwb3J0RGF0YUFzU3RyaW5nKCksIHMgPSBxKGksIGUudG9vbC5zYW5pdGl6ZUNvbmZpZyk7XG4gICAgICBvID0geHQocywgZS50b29sLmNvbnZlcnNpb25Db25maWcpO1xuICAgIH1cbiAgICBvICE9PSB2b2lkIDAgJiYgKGF3YWl0IGUubWVyZ2VXaXRoKG8pLCB0aGlzLnJlbW92ZUJsb2NrKHQpLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdGhpcy5fYmxvY2tzLmluZGV4T2YoZSkpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgcGFzc2VkIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSBibG9jayAtIEJsb2NrIHRvIHJlbW92ZVxuICAgKiBAcGFyYW0gYWRkTGFzdEJsb2NrIC0gaWYgdHJ1ZSwgYWRkcyBuZXcgZGVmYXVsdCBibG9jayBhdCB0aGUgZW5kLiBAdG9kbyByZW1vdmUgdGhpcyBsb2dpYyBhbmQgdXNlIGV2ZW50LWJ1cyBpbnN0ZWFkXG4gICAqL1xuICByZW1vdmVCbG9jayhlLCB0ID0gITApIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKG8pID0+IHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLl9ibG9ja3MuaW5kZXhPZihlKTtcbiAgICAgIGlmICghdGhpcy52YWxpZGF0ZUluZGV4KGkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGEgQmxvY2sgdG8gcmVtb3ZlXCIpO1xuICAgICAgZS5kZXN0cm95KCksIHRoaXMuX2Jsb2Nrcy5yZW1vdmUoaSksIHRoaXMuYmxvY2tEaWRNdXRhdGVkKFR0LCBlLCB7XG4gICAgICAgIGluZGV4OiBpXG4gICAgICB9KSwgdGhpcy5jdXJyZW50QmxvY2tJbmRleCA+PSBpICYmIHRoaXMuY3VycmVudEJsb2NrSW5kZXgtLSwgdGhpcy5ibG9ja3MubGVuZ3RoID8gaSA9PT0gMCAmJiAodGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IDApIDogKHRoaXMudW5zZXRDdXJyZW50QmxvY2soKSwgdCAmJiB0aGlzLmluc2VydCgpKSwgbygpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgb25seSBzZWxlY3RlZCBCbG9ja3NcbiAgICogYW5kIHJldHVybnMgZmlyc3QgQmxvY2sgaW5kZXggd2hlcmUgc3RhcnRlZCByZW1vdmluZy4uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICovXG4gIHJlbW92ZVNlbGVjdGVkQmxvY2tzKCkge1xuICAgIGxldCBlO1xuICAgIGZvciAobGV0IHQgPSB0aGlzLmJsb2Nrcy5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSlcbiAgICAgIHRoaXMuYmxvY2tzW3RdLnNlbGVjdGVkICYmICh0aGlzLnJlbW92ZUJsb2NrKHRoaXMuYmxvY2tzW3RdKSwgZSA9IHQpO1xuICAgIHJldHVybiBlO1xuICB9XG4gIC8qKlxuICAgKiBBdHRlbnRpb24hXG4gICAqIEFmdGVyIHJlbW92aW5nIGluc2VydCB0aGUgbmV3IGRlZmF1bHQgdHlwZWQgQmxvY2sgYW5kIGZvY3VzIG9uIGl0XG4gICAqIFJlbW92ZXMgYWxsIGJsb2Nrc1xuICAgKi9cbiAgcmVtb3ZlQWxsQmxvY2tzKCkge1xuICAgIGZvciAobGV0IGUgPSB0aGlzLmJsb2Nrcy5sZW5ndGggLSAxOyBlID49IDA7IGUtLSlcbiAgICAgIHRoaXMuX2Jsb2Nrcy5yZW1vdmUoZSk7XG4gICAgdGhpcy51bnNldEN1cnJlbnRCbG9jaygpLCB0aGlzLmluc2VydCgpLCB0aGlzLmN1cnJlbnRCbG9jay5maXJzdElucHV0LmZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNwbGl0IGN1cnJlbnQgQmxvY2tcbiAgICogMS4gRXh0cmFjdCBjb250ZW50IGZyb20gQ2FyZXQgcG9zaXRpb24gdG8gdGhlIEJsb2NrYHMgZW5kXG4gICAqIDIuIEluc2VydCBhIG5ldyBCbG9jayBiZWxvdyBjdXJyZW50IG9uZSB3aXRoIGV4dHJhY3RlZCBjb250ZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIHNwbGl0KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLkVkaXRvci5DYXJldC5leHRyYWN0RnJhZ21lbnRGcm9tQ2FyZXRQb3NpdGlvbigpLCB0ID0gZC5tYWtlKFwiZGl2XCIpO1xuICAgIHQuYXBwZW5kQ2hpbGQoZSk7XG4gICAgY29uc3QgbyA9IHtcbiAgICAgIHRleHQ6IGQuaXNFbXB0eSh0KSA/IFwiXCIgOiB0LmlubmVySFRNTFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KHsgZGF0YTogbyB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBCbG9jayBieSBwYXNzZWQgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggdG8gZ2V0LiAtMSB0byBnZXQgbGFzdFxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXRCbG9ja0J5SW5kZXgoZSkge1xuICAgIHJldHVybiBlID09PSAtMSAmJiAoZSA9IHRoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxKSwgdGhpcy5fYmxvY2tzW2VdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGluZGV4IGZvciBwYXNzZWQgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gZmluZCBpbmRleFxuICAgKi9cbiAgZ2V0QmxvY2tJbmRleChlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5pbmRleE9mKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBCbG9jayBieSBwYXNzZWQgaWRcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gaWQgb2YgYmxvY2sgdG8gZ2V0XG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldEJsb2NrQnlJZChlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5hcnJheS5maW5kKCh0KSA9PiB0LmlkID09PSBlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IEJsb2NrIGluc3RhbmNlIGJ5IGh0bWwgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBodG1sIGVsZW1lbnQgdG8gZ2V0IEJsb2NrIGJ5XG4gICAqL1xuICBnZXRCbG9jayhlKSB7XG4gICAgZC5pc0VsZW1lbnQoZSkgfHwgKGUgPSBlLnBhcmVudE5vZGUpO1xuICAgIGNvbnN0IHQgPSB0aGlzLl9ibG9ja3Mubm9kZXMsIG8gPSBlLmNsb3Nlc3QoYC4ke0QuQ1NTLndyYXBwZXJ9YCksIGkgPSB0LmluZGV4T2Yobyk7XG4gICAgaWYgKGkgPj0gMClcbiAgICAgIHJldHVybiB0aGlzLl9ibG9ja3NbaV07XG4gIH1cbiAgLyoqXG4gICAqIDEpIEZpbmQgZmlyc3QtbGV2ZWwgQmxvY2sgZnJvbSBwYXNzZWQgY2hpbGQgTm9kZVxuICAgKiAyKSBNYXJrIGl0IGFzIGN1cnJlbnRcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjaGlsZE5vZGUgLSBsb29rIGFoZWFkIGZyb20gdGhpcyBub2RlLlxuICAgKiBAcmV0dXJucyB7QmxvY2sgfCB1bmRlZmluZWR9IGNhbiByZXR1cm4gdW5kZWZpbmVkIGluIGNhc2Ugd2hlbiB0aGUgcGFzc2VkIGNoaWxkIG5vdGUgaXMgbm90IGEgcGFydCBvZiB0aGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcbiAgICovXG4gIHNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKGUpIHtcbiAgICBkLmlzRWxlbWVudChlKSB8fCAoZSA9IGUucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgdCA9IGUuY2xvc2VzdChgLiR7RC5DU1Mud3JhcHBlcn1gKTtcbiAgICBpZiAoIXQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbyA9IHQuY2xvc2VzdChgLiR7dGhpcy5FZGl0b3IuVUkuQ1NTLmVkaXRvcldyYXBwZXJ9YCk7XG4gICAgaWYgKG8gIT0gbnVsbCAmJiBvLmlzRXF1YWxOb2RlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIpKVxuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLl9ibG9ja3Mubm9kZXMuaW5kZXhPZih0KSwgdGhpcy5jdXJyZW50QmxvY2sudXBkYXRlQ3VycmVudElucHV0KCksIHRoaXMuY3VycmVudEJsb2NrO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYmxvY2sgd2hpY2ggY29udGVudHMgcGFzc2VkIG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjaGlsZE5vZGUgLSBub2RlIHRvIGdldCBCbG9jayBieVxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXRCbG9ja0J5Q2hpbGROb2RlKGUpIHtcbiAgICBpZiAoIWUgfHwgIShlIGluc3RhbmNlb2YgTm9kZSkpXG4gICAgICByZXR1cm47XG4gICAgZC5pc0VsZW1lbnQoZSkgfHwgKGUgPSBlLnBhcmVudE5vZGUpO1xuICAgIGNvbnN0IHQgPSBlLmNsb3Nlc3QoYC4ke0QuQ1NTLndyYXBwZXJ9YCk7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLmZpbmQoKG8pID0+IG8uaG9sZGVyID09PSB0KTtcbiAgfVxuICAvKipcbiAgICogU3dhcCBCbG9ja3MgUG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCAtIGluZGV4IG9mIGZpcnN0IGJsb2NrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gaW5kZXggb2Ygc2Vjb25kIGJsb2NrXG4gICAqIEBkZXByZWNhdGVkIOKAlCB1c2UgJ21vdmUnIGluc3RlYWRcbiAgICovXG4gIHN3YXAoZSwgdCkge1xuICAgIHRoaXMuX2Jsb2Nrcy5zd2FwKGUsIHQpLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdDtcbiAgfVxuICAvKipcbiAgICogTW92ZSBhIGJsb2NrIHRvIGEgbmV3IGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gaW5kZXggd2hlcmUgdG8gbW92ZSBCbG9ja1xuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gbW92ZVxuICAgKi9cbiAgbW92ZShlLCB0ID0gdGhpcy5jdXJyZW50QmxvY2tJbmRleCkge1xuICAgIGlmIChpc05hTihlKSB8fCBpc05hTih0KSkge1xuICAgICAgSShcIldhcm5pbmcgZHVyaW5nICdtb3ZlJyBjYWxsOiBpbmNvcnJlY3QgaW5kaWNlcyBwcm92aWRlZC5cIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMudmFsaWRhdGVJbmRleChlKSB8fCAhdGhpcy52YWxpZGF0ZUluZGV4KHQpKSB7XG4gICAgICBJKFwiV2FybmluZyBkdXJpbmcgJ21vdmUnIGNhbGw6IGluZGljZXMgY2Fubm90IGJlIGxvd2VyIHRoYW4gMCBvciBncmVhdGVyIHRoYW4gdGhlIGFtb3VudCBvZiBibG9ja3MuXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYmxvY2tzLm1vdmUoZSwgdCksIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSBlLCB0aGlzLmJsb2NrRGlkTXV0YXRlZChKaSwgdGhpcy5jdXJyZW50QmxvY2ssIHtcbiAgICAgIGZyb21JbmRleDogdCxcbiAgICAgIHRvSW5kZXg6IGVcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgcGFzc2VkIEJsb2NrIHRvIHRoZSBuZXcgVG9vbFxuICAgKiBVc2VzIENvbnZlcnNpb24gQ29uZmlnXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja1RvQ29udmVydCAtIEJsb2NrIHRoYXQgc2hvdWxkIGJlIGNvbnZlcnRlZFxuICAgKiBAcGFyYW0gdGFyZ2V0VG9vbE5hbWUgLSBuYW1lIG9mIHRoZSBUb29sIHRvIGNvbnZlcnQgdG9cbiAgICogQHBhcmFtIGJsb2NrRGF0YU92ZXJyaWRlcyAtIG9wdGlvbmFsIG5ldyBCbG9jayBkYXRhIG92ZXJyaWRlc1xuICAgKi9cbiAgYXN5bmMgY29udmVydChlLCB0LCBvKSB7XG4gICAgaWYgKCFhd2FpdCBlLnNhdmUoKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBjb252ZXJ0IEJsb2NrLiBGYWlsZWQgdG8gZXh0cmFjdCBvcmlnaW5hbCBCbG9jayBkYXRhLlwiKTtcbiAgICBjb25zdCBzID0gdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scy5nZXQodCk7XG4gICAgaWYgKCFzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29udmVydCBCbG9jay4gVG9vbCDCqyR7dH3CuyBub3QgZm91bmQuYCk7XG4gICAgY29uc3QgciA9IGF3YWl0IGUuZXhwb3J0RGF0YUFzU3RyaW5nKCksIGwgPSBxKFxuICAgICAgcixcbiAgICAgIHMuc2FuaXRpemVDb25maWdcbiAgICApO1xuICAgIGxldCBhID0geHQobCwgcy5jb252ZXJzaW9uQ29uZmlnKTtcbiAgICByZXR1cm4gbyAmJiAoYSA9IE9iamVjdC5hc3NpZ24oYSwgbykpLCB0aGlzLnJlcGxhY2UoZSwgcy5uYW1lLCBhKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBjdXJyZW50IEJsb2NrIEluZGV4IC0xIHdoaWNoIG1lYW5zIHVua25vd25cbiAgICogYW5kIGNsZWFyIGhpZ2hsaWdodHNcbiAgICovXG4gIHVuc2V0Q3VycmVudEJsb2NrKCkge1xuICAgIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSAtMTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIEVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5lZWRUb0FkZERlZmF1bHRCbG9jayAtIDEpIGluIGludGVybmFsIGNhbGxzIChmb3IgZXhhbXBsZSwgaW4gYXBpLmJsb2Nrcy5yZW5kZXIpXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2UgZG9uJ3QgbmVlZCB0byBhZGQgYW4gZW1wdHkgZGVmYXVsdCBibG9ja1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyKSBpbiBhcGkuYmxvY2tzLmNsZWFyIHdlIHNob3VsZCBhZGQgZW1wdHkgYmxvY2tcbiAgICovXG4gIGFzeW5jIGNsZWFyKGUgPSAhMSkge1xuICAgIGNvbnN0IHQgPSBuZXcgUWkoKTtcbiAgICB0aGlzLmJsb2Nrcy5mb3JFYWNoKChvKSA9PiB7XG4gICAgICB0LmFkZChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVtb3ZlQmxvY2sobywgITEpO1xuICAgICAgfSk7XG4gICAgfSksIGF3YWl0IHQuY29tcGxldGVkLCB0aGlzLnVuc2V0Q3VycmVudEJsb2NrKCksIGUgJiYgdGhpcy5pbnNlcnQoKSwgdGhpcy5FZGl0b3IuVUkuY2hlY2tFbXB0aW5lc3MoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYW5zIHVwIGFsbCB0aGUgYmxvY2sgdG9vbHMnIHJlc291cmNlc1xuICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGVkaXRvciBpcyBkZXN0cm95ZWRcbiAgICovXG4gIGFzeW5jIGRlc3Ryb3koKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5ibG9ja3MubWFwKChlKSA9PiBlLmRlc3Ryb3koKSkpO1xuICB9XG4gIC8qKlxuICAgKiBCaW5kIEJsb2NrIGV2ZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayAtIEJsb2NrIHRvIHdoaWNoIGV2ZW50IHNob3VsZCBiZSBib3VuZFxuICAgKi9cbiAgYmluZEJsb2NrRXZlbnRzKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrRXZlbnRzOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLmhvbGRlciwgXCJrZXlkb3duXCIsIChvKSA9PiB7XG4gICAgICB0LmtleWRvd24obyk7XG4gICAgfSksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUuaG9sZGVyLCBcImtleXVwXCIsIChvKSA9PiB7XG4gICAgICB0LmtleXVwKG8pO1xuICAgIH0pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLmhvbGRlciwgXCJkcmFnb3ZlclwiLCAobykgPT4ge1xuICAgICAgdC5kcmFnT3ZlcihvKTtcbiAgICB9KSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ob2xkZXIsIFwiZHJhZ2xlYXZlXCIsIChvKSA9PiB7XG4gICAgICB0LmRyYWdMZWF2ZShvKTtcbiAgICB9KSwgZS5vbihcImRpZE11dGF0ZWRcIiwgKG8pID0+IHRoaXMuYmxvY2tEaWRNdXRhdGVkKFN0LCBvLCB7XG4gICAgICBpbmRleDogdGhpcy5nZXRCbG9ja0luZGV4KG8pXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlIG11dGFibGUgaGFuZGxlcnMgYW5kIGJpbmRpbmdzXG4gICAqL1xuICBkaXNhYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMuY2xlYXJBbGwoKTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBhbGwgbW9kdWxlIGhhbmRsZXJzIGFuZCBiaW5kaW5ncyBmb3IgYWxsIEJsb2Nrc1xuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oXG4gICAgICBkb2N1bWVudCxcbiAgICAgIFwiY3V0XCIsXG4gICAgICAoZSkgPT4gdGhpcy5FZGl0b3IuQmxvY2tFdmVudHMuaGFuZGxlQ29tbWFuZFgoZSlcbiAgICApLCB0aGlzLmJsb2Nrcy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICB0aGlzLmJpbmRCbG9ja0V2ZW50cyhlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIGdpdmVuIGluZGV4IGlzIG5vdCBsb3dlciB0aGFuIDAgb3IgaGlnaGVyIHRoYW4gdGhlIGFtb3VudCBvZiBibG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggb2YgYmxvY2tzIGFycmF5IHRvIHZhbGlkYXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgdmFsaWRhdGVJbmRleChlKSB7XG4gICAgcmV0dXJuICEoZSA8IDAgfHwgZSA+PSB0aGlzLl9ibG9ja3MubGVuZ3RoKTtcbiAgfVxuICAvKipcbiAgICogQmxvY2sgbXV0YXRpb24gY2FsbGJhY2tcbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9uVHlwZSAtIHdoYXQgaGFwcGVuZWQgd2l0aCBibG9ja1xuICAgKiBAcGFyYW0gYmxvY2sgLSBtdXRhdGVkIGJsb2NrXG4gICAqIEBwYXJhbSBkZXRhaWxEYXRhIC0gYWRkaXRpb25hbCBkYXRhIHRvIHBhc3Mgd2l0aCBjaGFuZ2UgZXZlbnRcbiAgICovXG4gIGJsb2NrRGlkTXV0YXRlZChlLCB0LCBvKSB7XG4gICAgY29uc3QgaSA9IG5ldyBDdXN0b21FdmVudChlLCB7XG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgdGFyZ2V0OiBuZXcgRyh0KSxcbiAgICAgICAgLi4ub1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIuZW1pdChEdCwge1xuICAgICAgZXZlbnQ6IGlcbiAgICB9KSwgdDtcbiAgfVxufVxuY2xhc3MgdHMgZXh0ZW5kcyB5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5hbnlCbG9ja1NlbGVjdGVkQ2FjaGUgPSBudWxsLCB0aGlzLm5lZWRUb1NlbGVjdEFsbCA9ICExLCB0aGlzLm5hdGl2ZUlucHV0U2VsZWN0ZWQgPSAhMSwgdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24gPSAhMTtcbiAgfVxuICAvKipcbiAgICogU2FuaXRpemVyIENvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7U2FuaXRpemVyQ29uZmlnfVxuICAgKi9cbiAgZ2V0IHNhbml0aXplckNvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcDoge30sXG4gICAgICBoMToge30sXG4gICAgICBoMjoge30sXG4gICAgICBoMzoge30sXG4gICAgICBoNDoge30sXG4gICAgICBoNToge30sXG4gICAgICBoNjoge30sXG4gICAgICBvbDoge30sXG4gICAgICB1bDoge30sXG4gICAgICBsaToge30sXG4gICAgICBicjogITAsXG4gICAgICBpbWc6IHtcbiAgICAgICAgc3JjOiAhMCxcbiAgICAgICAgd2lkdGg6ICEwLFxuICAgICAgICBoZWlnaHQ6ICEwXG4gICAgICB9LFxuICAgICAgYToge1xuICAgICAgICBocmVmOiAhMFxuICAgICAgfSxcbiAgICAgIGI6IHt9LFxuICAgICAgaToge30sXG4gICAgICB1OiB7fVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEZsYWcgdGhhdCBpZGVudGlmaWVzIGFsbCBCbG9ja3Mgc2VsZWN0aW9uXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGFsbEJsb2Nrc1NlbGVjdGVkKCkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlIH0gPSB0aGlzLkVkaXRvcjtcbiAgICByZXR1cm4gZS5ibG9ja3MuZXZlcnkoKHQpID0+IHQuc2VsZWN0ZWQgPT09ICEwKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHNlbGVjdGVkIGFsbCBibG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtIHN0YXRlIHRvIHNldFxuICAgKi9cbiAgc2V0IGFsbEJsb2Nrc1NlbGVjdGVkKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdC5ibG9ja3MuZm9yRWFjaCgobykgPT4ge1xuICAgICAgby5zZWxlY3RlZCA9IGU7XG4gICAgfSksIHRoaXMuY2xlYXJDYWNoZSgpO1xuICB9XG4gIC8qKlxuICAgKiBGbGFnIHRoYXQgaWRlbnRpZmllcyBhbnkgQmxvY2sgc2VsZWN0aW9uXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGFueUJsb2NrU2VsZWN0ZWQoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHJldHVybiB0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZSA9PT0gbnVsbCAmJiAodGhpcy5hbnlCbG9ja1NlbGVjdGVkQ2FjaGUgPSBlLmJsb2Nrcy5zb21lKCh0KSA9PiB0LnNlbGVjdGVkID09PSAhMCkpLCB0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHNlbGVjdGVkIEJsb2NrcyBhcnJheVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2tbXX1cbiAgICovXG4gIGdldCBzZWxlY3RlZEJsb2NrcygpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrcy5maWx0ZXIoKGUpID0+IGUuc2VsZWN0ZWQpO1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgUHJlcGFyYXRpb25cbiAgICogUmVnaXN0ZXJzIFNob3J0Y3V0cyBDTUQrQSBhbmQgQ01EK0NcbiAgICogdG8gc2VsZWN0IGFsbCBhbmQgY29weSB0aGVtXG4gICAqL1xuICBwcmVwYXJlKCkge1xuICAgIHRoaXMuc2VsZWN0aW9uID0gbmV3IGIoKSwgaGUuYWRkKHtcbiAgICAgIG5hbWU6IFwiQ01EK0FcIixcbiAgICAgIGhhbmRsZXI6IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBSZWFkT25seTogbyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgICAgIGlmIChvLmlzRW5hYmxlZCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5zZWxlY3RBbGxCbG9ja3MoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdC5jdXJyZW50QmxvY2sgJiYgdGhpcy5oYW5kbGVDb21tYW5kQShlKTtcbiAgICAgIH0sXG4gICAgICBvbjogdGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3JcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlIHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiAgLSBSZW1vdmUgYWxsIHJhbmdlc1xuICAgKiAgLSBVbnNlbGVjdCBhbGwgQmxvY2tzXG4gICAqL1xuICB0b2dnbGVSZWFkT25seSgpIHtcbiAgICBiLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpLCB0aGlzLmFsbEJsb2Nrc1NlbGVjdGVkID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBzZWxlY3Rpb24gb2YgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXI/fSBpbmRleCAtIEJsb2NrIGluZGV4IGFjY29yZGluZyB0byB0aGUgQmxvY2tNYW5hZ2VyJ3MgaW5kZXhlc1xuICAgKi9cbiAgdW5TZWxlY3RCbG9ja0J5SW5kZXgoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICBsZXQgbztcbiAgICBpc05hTihlKSA/IG8gPSB0LmN1cnJlbnRCbG9jayA6IG8gPSB0LmdldEJsb2NrQnlJbmRleChlKSwgby5zZWxlY3RlZCA9ICExLCB0aGlzLmNsZWFyQ2FjaGUoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgc2VsZWN0aW9uIGZyb20gQmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IHJlYXNvbiAtIGV2ZW50IGNhdXNlZCBjbGVhciBvZiBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtib29sZWFufSByZXN0b3JlU2VsZWN0aW9uIC0gaWYgdHJ1ZSwgcmVzdG9yZSBzYXZlZCBzZWxlY3Rpb25cbiAgICovXG4gIGNsZWFyU2VsZWN0aW9uKGUsIHQgPSAhMSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBvLCBDYXJldDogaSwgUmVjdGFuZ2xlU2VsZWN0aW9uOiBzIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLm5lZWRUb1NlbGVjdEFsbCA9ICExLCB0aGlzLm5hdGl2ZUlucHV0U2VsZWN0ZWQgPSAhMSwgdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24gPSAhMTtcbiAgICBjb25zdCByID0gZSAmJiBlIGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudCwgbCA9IHIgJiYgTXQoZS5rZXlDb2RlKTtcbiAgICBpZiAodGhpcy5hbnlCbG9ja1NlbGVjdGVkICYmIHIgJiYgbCAmJiAhYi5pc1NlbGVjdGlvbkV4aXN0cykge1xuICAgICAgY29uc3QgYSA9IG8ucmVtb3ZlU2VsZWN0ZWRCbG9ja3MoKTtcbiAgICAgIG8uaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleChhLCAhMCksIGkuc2V0VG9CbG9jayhvLmN1cnJlbnRCbG9jayksIE9lKCgpID0+IHtcbiAgICAgICAgY29uc3QgYyA9IGUua2V5O1xuICAgICAgICBpLmluc2VydENvbnRlbnRBdENhcmV0UG9zaXRpb24oYy5sZW5ndGggPiAxID8gXCJcIiA6IGMpO1xuICAgICAgfSwgMjApKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLkVkaXRvci5Dcm9zc0Jsb2NrU2VsZWN0aW9uLmNsZWFyKGUpLCAhdGhpcy5hbnlCbG9ja1NlbGVjdGVkIHx8IHMuaXNSZWN0QWN0aXZhdGVkKCkpIHtcbiAgICAgIHRoaXMuRWRpdG9yLlJlY3RhbmdsZVNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0ICYmIHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5hbGxCbG9ja3NTZWxlY3RlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBSZWR1Y2UgZWFjaCBCbG9jayBhbmQgY29weSBpdHMgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge0NsaXBib2FyZEV2ZW50fSBlIC0gY29weS9jdXQgZXZlbnRcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBjb3B5U2VsZWN0ZWRCbG9ja3MoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0ID0gZC5tYWtlKFwiZGl2XCIpO1xuICAgIHRoaXMuc2VsZWN0ZWRCbG9ja3MuZm9yRWFjaCgocykgPT4ge1xuICAgICAgY29uc3QgciA9IHEocy5ob2xkZXIuaW5uZXJIVE1MLCB0aGlzLnNhbml0aXplckNvbmZpZyksIGwgPSBkLm1ha2UoXCJwXCIpO1xuICAgICAgbC5pbm5lckhUTUwgPSByLCB0LmFwcGVuZENoaWxkKGwpO1xuICAgIH0pO1xuICAgIGNvbnN0IG8gPSBBcnJheS5mcm9tKHQuY2hpbGROb2RlcykubWFwKChzKSA9PiBzLnRleHRDb250ZW50KS5qb2luKGBcblxuYCksIGkgPSB0LmlubmVySFRNTDtcbiAgICByZXR1cm4gZS5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIG8pLCBlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvaHRtbFwiLCBpKSwgUHJvbWlzZS5hbGwodGhpcy5zZWxlY3RlZEJsb2Nrcy5tYXAoKHMpID0+IHMuc2F2ZSgpKSkudGhlbigocykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZS5jbGlwYm9hcmREYXRhLnNldERhdGEodGhpcy5FZGl0b3IuUGFzdGUuTUlNRV9UWVBFLCBKU09OLnN0cmluZ2lmeShzKSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IEJsb2NrIGJ5IGl0cyBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcj99IGluZGV4IC0gQmxvY2sgaW5kZXggYWNjb3JkaW5nIHRvIHRoZSBCbG9ja01hbmFnZXIncyBpbmRleGVzXG4gICAqL1xuICBzZWxlY3RCbG9ja0J5SW5kZXgoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IHQuZ2V0QmxvY2tCeUluZGV4KGUpO1xuICAgIG8gIT09IHZvaWQgMCAmJiB0aGlzLnNlbGVjdEJsb2NrKG8pO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3QgcGFzc2VkIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gc2VsZWN0XG4gICAqL1xuICBzZWxlY3RCbG9jayhlKSB7XG4gICAgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpLCBiLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpLCBlLnNlbGVjdGVkID0gITAsIHRoaXMuY2xlYXJDYWNoZSgpLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBzZWxlY3Rpb24gZnJvbSBwYXNzZWQgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayB0byB1bnNlbGVjdFxuICAgKi9cbiAgdW5zZWxlY3RCbG9jayhlKSB7XG4gICAgZS5zZWxlY3RlZCA9ICExLCB0aGlzLmNsZWFyQ2FjaGUoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgYW55QmxvY2tTZWxlY3RlZCBjYWNoZVxuICAgKi9cbiAgY2xlYXJDYWNoZSgpIHtcbiAgICB0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZSA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBkZXN0cnVjdGlvblxuICAgKiBEZS1yZWdpc3RlcnMgU2hvcnRjdXQgQ01EK0FcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgaGUucmVtb3ZlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yLCBcIkNNRCtBXCIpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJzdCBDTUQrQSBzZWxlY3RzIGFsbCBpbnB1dCBjb250ZW50IGJ5IG5hdGl2ZSBiZWhhdmlvdXIsXG4gICAqIG5leHQgQ01EK0Ega2V5cHJlc3Mgc2VsZWN0cyBhbGwgYmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgaGFuZGxlQ29tbWFuZEEoZSkge1xuICAgIGlmICh0aGlzLkVkaXRvci5SZWN0YW5nbGVTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKSwgZC5pc05hdGl2ZUlucHV0KGUudGFyZ2V0KSAmJiAhdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uID0gITA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2soZS50YXJnZXQpLCBvID0gdC5pbnB1dHM7XG4gICAgaWYgKG8ubGVuZ3RoID4gMSAmJiAhdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24pIHtcbiAgICAgIHRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uID0gITA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvLmxlbmd0aCA9PT0gMSAmJiAhdGhpcy5uZWVkVG9TZWxlY3RBbGwpIHtcbiAgICAgIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubmVlZFRvU2VsZWN0QWxsID8gKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5zZWxlY3RBbGxCbG9ja3MoKSwgdGhpcy5uZWVkVG9TZWxlY3RBbGwgPSAhMSwgdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24gPSAhMSkgOiB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnNlbGVjdEJsb2NrKHQpLCB0aGlzLm5lZWRUb1NlbGVjdEFsbCA9ICEwKTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IEFsbCBCbG9ja3NcbiAgICogRWFjaCBCbG9jayBoYXMgc2VsZWN0ZWQgc2V0dGVyIHRoYXQgbWFrZXMgQmxvY2sgY29weWFibGVcbiAgICovXG4gIHNlbGVjdEFsbEJsb2NrcygpIHtcbiAgICB0aGlzLnNlbGVjdGlvbi5zYXZlKCksIGIuZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIHRoaXMuYWxsQmxvY2tzU2VsZWN0ZWQgPSAhMCwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICB9XG59XG5jbGFzcyBSZSBleHRlbmRzIHkge1xuICAvKipcbiAgICogQWxsb3dlZCBjYXJldCBwb3NpdGlvbnMgaW4gaW5wdXRcbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcmV0dXJucyB7e1NUQVJUOiBzdHJpbmcsIEVORDogc3RyaW5nLCBERUZBVUxUOiBzdHJpbmd9fVxuICAgKi9cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgU1RBUlQ6IFwic3RhcnRcIixcbiAgICAgIEVORDogXCJlbmRcIixcbiAgICAgIERFRkFVTFQ6IFwiZGVmYXVsdFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRWxlbWVudHMgc3R5bGVzIHRoYXQgY2FuIGJlIHVzZWZ1bCBmb3IgQ2FyZXQgTW9kdWxlXG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hhZG93Q2FyZXQ6IFwiY2R4LXNoYWRvdy1jYXJldFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIGdldHMgQmxvY2sgaW5zdGFuY2UgYW5kIHB1dHMgY2FyZXQgdG8gdGhlIHRleHQgbm9kZSB3aXRoIG9mZnNldFxuICAgKiBUaGVyZSB0d28gd2F5cyB0aGF0IG1ldGhvZCBhcHBsaWVzIGNhcmV0IHBvc2l0aW9uOlxuICAgKiAgIC0gZmlyc3QgZm91bmQgdGV4dCBub2RlOiBzZXRzIGF0IHRoZSBiZWdpbm5pbmcsIGJ1dCB5b3UgY2FuIHBhc3MgYW4gb2Zmc2V0XG4gICAqICAgLSBsYXN0IGZvdW5kIHRleHQgbm9kZTogc2V0cyBhdCB0aGUgZW5kIG9mIHRoZSBub2RlLiBBbHNvLCB5b3UgY2FuIGN1c3RvbWl6ZSB0aGUgYmVoYXZpb3VyXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgY2xhc3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBvc2l0aW9uIC0gcG9zaXRpb24gd2hlcmUgdG8gc2V0IGNhcmV0LlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiBkZWZhdWx0IC0gbGVhdmUgZGVmYXVsdCBiZWhhdmlvdXIgYW5kIGFwcGx5IG9mZnNldCBpZiBpdCdzIHBhc3NlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gY2FyZXQgb2Zmc2V0IHJlZ2FyZGluZyB0byB0aGUgdGV4dCBub2RlXG4gICAqL1xuICBzZXRUb0Jsb2NrKGUsIHQgPSB0aGlzLnBvc2l0aW9ucy5ERUZBVUxULCBvID0gMCkge1xuICAgIHZhciBjO1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBpLCBCbG9ja1NlbGVjdGlvbjogcyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgaWYgKHMuY2xlYXJTZWxlY3Rpb24oKSwgIWUuZm9jdXNhYmxlKSB7XG4gICAgICAoYyA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSkgPT0gbnVsbCB8fCBjLnJlbW92ZUFsbFJhbmdlcygpLCBzLnNlbGVjdEJsb2NrKGUpLCBpLmN1cnJlbnRCbG9jayA9IGU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCByO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgY2FzZSB0aGlzLnBvc2l0aW9ucy5TVEFSVDpcbiAgICAgICAgciA9IGUuZmlyc3RJbnB1dDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLkVORDpcbiAgICAgICAgciA9IGUubGFzdElucHV0O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHIgPSBlLmN1cnJlbnRJbnB1dDtcbiAgICB9XG4gICAgaWYgKCFyKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGwgPSBkLmdldERlZXBlc3ROb2RlKHIsIHQgPT09IHRoaXMucG9zaXRpb25zLkVORCksIGEgPSBkLmdldENvbnRlbnRMZW5ndGgobCk7XG4gICAgc3dpdGNoICghMCkge1xuICAgICAgY2FzZSB0ID09PSB0aGlzLnBvc2l0aW9ucy5TVEFSVDpcbiAgICAgICAgbyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0ID09PSB0aGlzLnBvc2l0aW9ucy5FTkQ6XG4gICAgICBjYXNlIG8gPiBhOlxuICAgICAgICBvID0gYTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuc2V0KGwsIG8pLCBpLnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKGUuaG9sZGVyKSwgaS5jdXJyZW50QmxvY2suY3VycmVudElucHV0ID0gcjtcbiAgfVxuICAvKipcbiAgICogU2V0IGNhcmV0IHRvIHRoZSBjdXJyZW50IGlucHV0IG9mIGN1cnJlbnQgQmxvY2suXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGlucHV0IC0gaW5wdXQgd2hlcmUgY2FyZXQgc2hvdWxkIGJlIHNldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9zaXRpb24gLSBwb3NpdGlvbiBvZiB0aGUgY2FyZXQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGRlZmF1bHQgLSBsZWF2ZSBkZWZhdWx0IGJlaGF2aW91ciBhbmQgYXBwbHkgb2Zmc2V0IGlmIGl0J3MgcGFzc2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBjYXJldCBvZmZzZXQgcmVnYXJkaW5nIHRvIHRoZSB0ZXh0IG5vZGVcbiAgICovXG4gIHNldFRvSW5wdXQoZSwgdCA9IHRoaXMucG9zaXRpb25zLkRFRkFVTFQsIG8gPSAwKSB7XG4gICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IGkgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlciwgcyA9IGQuZ2V0RGVlcGVzdE5vZGUoZSk7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLlNUQVJUOlxuICAgICAgICB0aGlzLnNldChzLCAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLkVORDpcbiAgICAgICAgdGhpcy5zZXQocywgZC5nZXRDb250ZW50TGVuZ3RoKHMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvICYmIHRoaXMuc2V0KHMsIG8pO1xuICAgIH1cbiAgICBpLmN1cnJlbnRJbnB1dCA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgRG9jdW1lbnQgUmFuZ2UgYW5kIHNldHMgY2FyZXQgdG8gdGhlIGVsZW1lbnQgd2l0aCBvZmZzZXRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIHRhcmdldCBub2RlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gb2Zmc2V0XG4gICAqL1xuICBzZXQoZSwgdCA9IDApIHtcbiAgICBjb25zdCB7IHRvcDogaSwgYm90dG9tOiBzIH0gPSBiLnNldEN1cnNvcihlLCB0KSwgeyBpbm5lckhlaWdodDogciB9ID0gd2luZG93O1xuICAgIGkgPCAwID8gd2luZG93LnNjcm9sbEJ5KDAsIGkgLSAzMCkgOiBzID4gciAmJiB3aW5kb3cuc2Nyb2xsQnkoMCwgcyAtIHIgKyAzMCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBDYXJldCB0byB0aGUgbGFzdCBCbG9ja1xuICAgKiBJZiBsYXN0IGJsb2NrIGlzIG5vdCBlbXB0eSwgYXBwZW5kIGFub3RoZXIgZW1wdHkgYmxvY2tcbiAgICovXG4gIHNldFRvVGhlTGFzdEJsb2NrKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubGFzdEJsb2NrO1xuICAgIGlmIChlKVxuICAgICAgaWYgKGUudG9vbC5pc0RlZmF1bHQgJiYgZS5pc0VtcHR5KVxuICAgICAgICB0aGlzLnNldFRvQmxvY2soZSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnRBdEVuZCgpO1xuICAgICAgICB0aGlzLnNldFRvQmxvY2sodCk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3QgY29udGVudCBmcmFnbWVudCBvZiBjdXJyZW50IEJsb2NrIGZyb20gQ2FyZXQgcG9zaXRpb24gdG8gdGhlIGVuZCBvZiB0aGUgQmxvY2tcbiAgICovXG4gIGV4dHJhY3RGcmFnbWVudEZyb21DYXJldFBvc2l0aW9uKCkge1xuICAgIGNvbnN0IGUgPSBiLmdldCgpO1xuICAgIGlmIChlLnJhbmdlQ291bnQpIHtcbiAgICAgIGNvbnN0IHQgPSBlLmdldFJhbmdlQXQoMCksIG8gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLmN1cnJlbnRJbnB1dDtcbiAgICAgIGlmICh0LmRlbGV0ZUNvbnRlbnRzKCksIG8pXG4gICAgICAgIGlmIChkLmlzTmF0aXZlSW5wdXQobykpIHtcbiAgICAgICAgICBjb25zdCBpID0gbywgcyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgciA9IGkudmFsdWUuc3Vic3RyaW5nKDAsIGkuc2VsZWN0aW9uU3RhcnQpLCBsID0gaS52YWx1ZS5zdWJzdHJpbmcoaS5zZWxlY3Rpb25TdGFydCk7XG4gICAgICAgICAgcmV0dXJuIHMudGV4dENvbnRlbnQgPSBsLCBpLnZhbHVlID0gciwgcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpID0gdC5jbG9uZVJhbmdlKCk7XG4gICAgICAgICAgcmV0dXJuIGkuc2VsZWN0Tm9kZUNvbnRlbnRzKG8pLCBpLnNldFN0YXJ0KHQuZW5kQ29udGFpbmVyLCB0LmVuZE9mZnNldCksIGkuZXh0cmFjdENvbnRlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNldCdzIGNhcmV0IHRvIHRoZSBuZXh0IEJsb2NrIG9yIFRvb2xgcyBpbnB1dFxuICAgKiBCZWZvcmUgbW92aW5nIGNhcmV0LCB3ZSBzaG91bGQgY2hlY2sgaWYgY2FyZXQgcG9zaXRpb24gaXMgYXQgdGhlIGVuZCBvZiBQbHVnaW5zIG5vZGVcbiAgICogVXNpbmcge0BsaW5rIERvbSNnZXREZWVwZXN0Tm9kZX0gdG8gZ2V0IGEgbGFzdCBub2RlIGFuZCBtYXRjaCB3aXRoIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2UgLSBwYXNzIHRydWUgdG8gc2tpcCBjaGVjayBmb3IgY2FyZXQgcG9zaXRpb25cbiAgICovXG4gIG5hdmlnYXRlTmV4dChlID0gITEpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCB9ID0gdGhpcy5FZGl0b3IsIHsgY3VycmVudEJsb2NrOiBvLCBuZXh0QmxvY2s6IGkgfSA9IHQ7XG4gICAgaWYgKG8gPT09IHZvaWQgMClcbiAgICAgIHJldHVybiAhMTtcbiAgICBjb25zdCB7IG5leHRJbnB1dDogcywgY3VycmVudElucHV0OiByIH0gPSBvLCBsID0gciAhPT0gdm9pZCAwID8gQWUocikgOiB2b2lkIDA7XG4gICAgbGV0IGEgPSBpO1xuICAgIGNvbnN0IGMgPSBlIHx8IGwgfHwgIW8uZm9jdXNhYmxlO1xuICAgIGlmIChzICYmIGMpXG4gICAgICByZXR1cm4gdGhpcy5zZXRUb0lucHV0KHMsIHRoaXMucG9zaXRpb25zLlNUQVJUKSwgITA7XG4gICAgaWYgKGEgPT09IG51bGwpIHtcbiAgICAgIGlmIChvLnRvb2wuaXNEZWZhdWx0IHx8ICFjKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBhID0gdC5pbnNlcnRBdEVuZCgpO1xuICAgIH1cbiAgICByZXR1cm4gYyA/ICh0aGlzLnNldFRvQmxvY2soYSwgdGhpcy5wb3NpdGlvbnMuU1RBUlQpLCAhMCkgOiAhMTtcbiAgfVxuICAvKipcbiAgICogU2V0J3MgY2FyZXQgdG8gdGhlIHByZXZpb3VzIFRvb2xgcyBpbnB1dCBvciBCbG9ja1xuICAgKiBCZWZvcmUgbW92aW5nIGNhcmV0LCB3ZSBzaG91bGQgY2hlY2sgaWYgY2FyZXQgcG9zaXRpb24gaXMgc3RhcnQgb2YgdGhlIFBsdWdpbnMgbm9kZVxuICAgKiBVc2luZyB7QGxpbmsgRG9tI2dldERlZXBlc3ROb2RlfSB0byBnZXQgYSBsYXN0IG5vZGUgYW5kIG1hdGNoIHdpdGggY3VycmVudCBzZWxlY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZSAtIHBhc3MgdHJ1ZSB0byBza2lwIGNoZWNrIGZvciBjYXJldCBwb3NpdGlvblxuICAgKi9cbiAgbmF2aWdhdGVQcmV2aW91cyhlID0gITEpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogdCwgcHJldmlvdXNCbG9jazogbyB9ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyO1xuICAgIGlmICghdClcbiAgICAgIHJldHVybiAhMTtcbiAgICBjb25zdCB7IHByZXZpb3VzSW5wdXQ6IGksIGN1cnJlbnRJbnB1dDogcyB9ID0gdCwgciA9IHMgIT09IHZvaWQgMCA/IE1lKHMpIDogdm9pZCAwLCBsID0gZSB8fCByIHx8ICF0LmZvY3VzYWJsZTtcbiAgICByZXR1cm4gaSAmJiBsID8gKHRoaXMuc2V0VG9JbnB1dChpLCB0aGlzLnBvc2l0aW9ucy5FTkQpLCAhMCkgOiBvICE9PSBudWxsICYmIGwgPyAodGhpcy5zZXRUb0Jsb2NrKG8sIHRoaXMucG9zaXRpb25zLkVORCksICEwKSA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIHNoYWRvdyBlbGVtZW50IGFmdGVyIHBhc3NlZCBlbGVtZW50IHdoZXJlIGNhcmV0IGNhbiBiZSBwbGFjZWRcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCBhZnRlciB3aGljaCBzaGFkb3cgY2FyZXQgc2hvdWxkIGJlIGluc2VydGVkXG4gICAqL1xuICBjcmVhdGVTaGFkb3coZSkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICB0LmNsYXNzTGlzdC5hZGQoUmUuQ1NTLnNoYWRvd0NhcmV0KSwgZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc3RvcmVzIGNhcmV0IHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IHdoZXJlIGNhcmV0IHNob3VsZCBiZSByZXN0b3JlZFxuICAgKi9cbiAgcmVzdG9yZUNhcmV0KGUpIHtcbiAgICBjb25zdCB0ID0gZS5xdWVyeVNlbGVjdG9yKGAuJHtSZS5DU1Muc2hhZG93Q2FyZXR9YCk7XG4gICAgaWYgKCF0KVxuICAgICAgcmV0dXJuO1xuICAgIG5ldyBiKCkuZXhwYW5kVG9UYWcodCk7XG4gICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgaS5zZWxlY3ROb2RlKHQpLCBpLmV4dHJhY3RDb250ZW50cygpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIHBhc3NlZCBjb250ZW50IGF0IGNhcmV0IHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gY29udGVudCB0byBpbnNlcnRcbiAgICovXG4gIGluc2VydENvbnRlbnRBdENhcmV0UG9zaXRpb24oZSkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBpID0gYi5nZXQoKSwgcyA9IGIucmFuZ2U7XG4gICAgby5pbm5lckhUTUwgPSBlLCBBcnJheS5mcm9tKG8uY2hpbGROb2RlcykuZm9yRWFjaCgoYykgPT4gdC5hcHBlbmRDaGlsZChjKSksIHQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDAgJiYgdC5hcHBlbmRDaGlsZChuZXcgVGV4dCgpKTtcbiAgICBjb25zdCByID0gdC5sYXN0Q2hpbGQ7XG4gICAgcy5kZWxldGVDb250ZW50cygpLCBzLmluc2VydE5vZGUodCk7XG4gICAgY29uc3QgbCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCksIGEgPSByLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSA/IHIgOiByLmZpcnN0Q2hpbGQ7XG4gICAgYSAhPT0gbnVsbCAmJiBhLnRleHRDb250ZW50ICE9PSBudWxsICYmIGwuc2V0U3RhcnQoYSwgYS50ZXh0Q29udGVudC5sZW5ndGgpLCBpLnJlbW92ZUFsbFJhbmdlcygpLCBpLmFkZFJhbmdlKGwpO1xuICB9XG59XG5jbGFzcyBvcyBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm9uTW91c2VVcCA9ICgpID0+IHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLm9mZihkb2N1bWVudCwgXCJtb3VzZW92ZXJcIiwgdGhpcy5vbk1vdXNlT3ZlciksIHRoaXMubGlzdGVuZXJzLm9mZihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcbiAgICB9LCB0aGlzLm9uTW91c2VPdmVyID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBCbG9ja1NlbGVjdGlvbjogbyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgICBpZiAoZS5yZWxhdGVkVGFyZ2V0ID09PSBudWxsICYmIGUudGFyZ2V0ID09PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBpID0gdC5nZXRCbG9ja0J5Q2hpbGROb2RlKGUucmVsYXRlZFRhcmdldCkgfHwgdGhpcy5sYXN0U2VsZWN0ZWRCbG9jaywgcyA9IHQuZ2V0QmxvY2tCeUNoaWxkTm9kZShlLnRhcmdldCk7XG4gICAgICBpZiAoISghaSB8fCAhcykgJiYgcyAhPT0gaSkge1xuICAgICAgICBpZiAoaSA9PT0gdGhpcy5maXJzdFNlbGVjdGVkQmxvY2spIHtcbiAgICAgICAgICBiLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpLCBpLnNlbGVjdGVkID0gITAsIHMuc2VsZWN0ZWQgPSAhMCwgby5jbGVhckNhY2hlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzID09PSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jaykge1xuICAgICAgICAgIGkuc2VsZWN0ZWQgPSAhMSwgcy5zZWxlY3RlZCA9ICExLCBvLmNsZWFyQ2FjaGUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpLCB0aGlzLnRvZ2dsZUJsb2Nrc1NlbGVjdGVkU3RhdGUoaSwgcyksIHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSBzO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBwcmVwYXJhdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIHByZXBhcmUoKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQsIFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLmVuYWJsZUNyb3NzQmxvY2tTZWxlY3Rpb24oZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdXAgbGlzdGVuZXJzXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSBtb3VzZSBkb3duIGV2ZW50XG4gICAqL1xuICB3YXRjaFNlbGVjdGlvbihlKSB7XG4gICAgaWYgKGUuYnV0dG9uICE9PSB3by5MRUZUKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayA9IHQuZ2V0QmxvY2soZS50YXJnZXQpLCB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrID0gdGhpcy5maXJzdFNlbGVjdGVkQmxvY2ssIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LCBcIm1vdXNlb3ZlclwiLCB0aGlzLm9uTW91c2VPdmVyKSwgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQsIFwibW91c2V1cFwiLCB0aGlzLm9uTW91c2VVcCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBib29sZWFuIGlzIGNyb3NzIGJsb2NrIHNlbGVjdGlvbiBzdGFydGVkOlxuICAgKiB0aGVyZSBzaG91bGQgYmUgYXQgbGVhc3QgMiBzZWxlY3RlZCBibG9ja3NcbiAgICovXG4gIGdldCBpc0Nyb3NzQmxvY2tTZWxlY3Rpb25TdGFydGVkKCkge1xuICAgIHJldHVybiAhIXRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrICYmICEhdGhpcy5sYXN0U2VsZWN0ZWRCbG9jayAmJiB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayAhPT0gdGhpcy5sYXN0U2VsZWN0ZWRCbG9jaztcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIHNlbGVjdGlvbiBzdGF0ZSBvZiB0aGUgbmV4dCBCbG9ja1xuICAgKiBVc2VkIGZvciBDQlMgdmlhIFNoaWZ0ICsgYXJyb3cga2V5c1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5leHQgLSBpZiB0cnVlLCB0b2dnbGUgbmV4dCBibG9jay4gUHJldmlvdXMgb3RoZXJ3aXNlXG4gICAqL1xuICB0b2dnbGVCbG9ja1NlbGVjdGVkU3RhdGUoZSA9ICEwKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIEJsb2NrU2VsZWN0aW9uOiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrIHx8ICh0aGlzLmxhc3RTZWxlY3RlZEJsb2NrID0gdGhpcy5maXJzdFNlbGVjdGVkQmxvY2sgPSB0LmN1cnJlbnRCbG9jayksIHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrID09PSB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrICYmICh0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jay5zZWxlY3RlZCA9ICEwLCBvLmNsZWFyQ2FjaGUoKSwgYi5nZXQoKS5yZW1vdmVBbGxSYW5nZXMoKSk7XG4gICAgY29uc3QgaSA9IHQuYmxvY2tzLmluZGV4T2YodGhpcy5sYXN0U2VsZWN0ZWRCbG9jaykgKyAoZSA/IDEgOiAtMSksIHMgPSB0LmJsb2Nrc1tpXTtcbiAgICBzICYmICh0aGlzLmxhc3RTZWxlY3RlZEJsb2NrLnNlbGVjdGVkICE9PSBzLnNlbGVjdGVkID8gKHMuc2VsZWN0ZWQgPSAhMCwgby5jbGVhckNhY2hlKCkpIDogKHRoaXMubGFzdFNlbGVjdGVkQmxvY2suc2VsZWN0ZWQgPSAhMSwgby5jbGVhckNhY2hlKCkpLCB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrID0gcywgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpLCBzLmhvbGRlci5zY3JvbGxJbnRvVmlldyh7XG4gICAgICBibG9jazogXCJuZWFyZXN0XCJcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFyIHNhdmVkIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IHJlYXNvbiAtIGV2ZW50IGNhdXNlZCBjbGVhciBvZiBzZWxlY3Rpb25cbiAgICovXG4gIGNsZWFyKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8sIENhcmV0OiBpIH0gPSB0aGlzLkVkaXRvciwgcyA9IHQuYmxvY2tzLmluZGV4T2YodGhpcy5maXJzdFNlbGVjdGVkQmxvY2spLCByID0gdC5ibG9ja3MuaW5kZXhPZih0aGlzLmxhc3RTZWxlY3RlZEJsb2NrKTtcbiAgICBpZiAoby5hbnlCbG9ja1NlbGVjdGVkICYmIHMgPiAtMSAmJiByID4gLTEgJiYgZSAmJiBlIGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudClcbiAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2Ugdy5ET1dOOlxuICAgICAgICBjYXNlIHcuUklHSFQ6XG4gICAgICAgICAgaS5zZXRUb0Jsb2NrKHQuYmxvY2tzW01hdGgubWF4KHMsIHIpXSwgaS5wb3NpdGlvbnMuRU5EKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB3LlVQOlxuICAgICAgICBjYXNlIHcuTEVGVDpcbiAgICAgICAgICBpLnNldFRvQmxvY2sodC5ibG9ja3NbTWF0aC5taW4ocywgcildLCBpLnBvc2l0aW9ucy5TVEFSVCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaS5zZXRUb0Jsb2NrKHQuYmxvY2tzW01hdGgubWF4KHMsIHIpXSwgaS5wb3NpdGlvbnMuRU5EKTtcbiAgICAgIH1cbiAgICB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayA9IHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIENyb3NzIEJsb2NrIFNlbGVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gbW91c2UgZG93biBldmVudFxuICAgKi9cbiAgZW5hYmxlQ3Jvc3NCbG9ja1NlbGVjdGlvbihlKSB7XG4gICAgY29uc3QgeyBVSTogdCB9ID0gdGhpcy5FZGl0b3I7XG4gICAgYi5pc0NvbGxhcHNlZCB8fCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKSwgdC5ub2Rlcy5yZWRhY3Rvci5jb250YWlucyhlLnRhcmdldCkgPyB0aGlzLndhdGNoU2VsZWN0aW9uKGUpIDogdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZSBibG9ja3Mgc2VsZWN0aW9uIHN0YXRlIGJldHdlZW4gcGFzc2VkIHR3byBibG9ja3MuXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGZpcnN0QmxvY2sgLSBmaXJzdCBibG9jayBpbiByYW5nZVxuICAgKiBAcGFyYW0ge0Jsb2NrfSBsYXN0QmxvY2sgLSBsYXN0IGJsb2NrIGluIHJhbmdlXG4gICAqL1xuICB0b2dnbGVCbG9ja3NTZWxlY3RlZFN0YXRlKGUsIHQpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogbywgQmxvY2tTZWxlY3Rpb246IGkgfSA9IHRoaXMuRWRpdG9yLCBzID0gby5ibG9ja3MuaW5kZXhPZihlKSwgciA9IG8uYmxvY2tzLmluZGV4T2YodCksIGwgPSBlLnNlbGVjdGVkICE9PSB0LnNlbGVjdGVkO1xuICAgIGZvciAobGV0IGEgPSBNYXRoLm1pbihzLCByKTsgYSA8PSBNYXRoLm1heChzLCByKTsgYSsrKSB7XG4gICAgICBjb25zdCBjID0gby5ibG9ja3NbYV07XG4gICAgICBjICE9PSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayAmJiBjICE9PSAobCA/IGUgOiB0KSAmJiAoby5ibG9ja3NbYV0uc2VsZWN0ZWQgPSAhby5ibG9ja3NbYV0uc2VsZWN0ZWQsIGkuY2xlYXJDYWNoZSgpKTtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIGlzIGV4dGVuZHMgeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuaXNTdGFydGVkQXRFZGl0b3IgPSAhMTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlIHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiBpZiBzdGF0ZSBpcyB0cnVlOlxuICAgKiAgLSBkaXNhYmxlIGFsbCBkcmFnLW4tZHJvcCBldmVudCBoYW5kbGVyc1xuICAgKlxuICAgKiBpZiBzdGF0ZSBpcyBmYWxzZTpcbiAgICogIC0gcmVzdG9yZSBkcmFnLW4tZHJvcCBldmVudCBoYW5kbGVyc1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5RW5hYmxlZCAtIFwicmVhZCBvbmx5XCIgc3RhdGVcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KGUpIHtcbiAgICBlID8gdGhpcy5kaXNhYmxlTW9kdWxlQmluZGluZ3MoKSA6IHRoaXMuZW5hYmxlTW9kdWxlQmluZGluZ3MoKTtcbiAgfVxuICAvKipcbiAgICogQWRkIGRyYWcgZXZlbnRzIGxpc3RlbmVycyB0byBlZGl0b3Igem9uZVxuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgY29uc3QgeyBVSTogZSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ub2Rlcy5ob2xkZXIsIFwiZHJvcFwiLCBhc3luYyAodCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzRHJvcCh0KTtcbiAgICB9LCAhMCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUubm9kZXMuaG9sZGVyLCBcImRyYWdzdGFydFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NEcmFnU3RhcnQoKTtcbiAgICB9KSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ub2Rlcy5ob2xkZXIsIFwiZHJhZ292ZXJcIiwgKHQpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc0RyYWdPdmVyKHQpO1xuICAgIH0sICEwKTtcbiAgfVxuICAvKipcbiAgICogVW5iaW5kIGRyYWctbi1kcm9wIGV2ZW50IGhhbmRsZXJzXG4gICAqL1xuICBkaXNhYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMuY2xlYXJBbGwoKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGRyb3AgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtEcmFnRXZlbnR9IGRyb3BFdmVudCAtIGRyb3AgZXZlbnRcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NEcm9wKGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBCbG9ja01hbmFnZXI6IHQsXG4gICAgICBQYXN0ZTogbyxcbiAgICAgIENhcmV0OiBpXG4gICAgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGUucHJldmVudERlZmF1bHQoKSwgdC5ibG9ja3MuZm9yRWFjaCgocikgPT4ge1xuICAgICAgci5kcm9wVGFyZ2V0ID0gITE7XG4gICAgfSksIGIuaXNBdEVkaXRvciAmJiAhYi5pc0NvbGxhcHNlZCAmJiB0aGlzLmlzU3RhcnRlZEF0RWRpdG9yICYmIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiZGVsZXRlXCIpLCB0aGlzLmlzU3RhcnRlZEF0RWRpdG9yID0gITE7XG4gICAgY29uc3QgcyA9IHQuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUoZS50YXJnZXQpO1xuICAgIGlmIChzKVxuICAgICAgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayhzLCBpLnBvc2l0aW9ucy5FTkQpO1xuICAgIGVsc2Uge1xuICAgICAgY29uc3QgciA9IHQuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUodC5sYXN0QmxvY2suaG9sZGVyKTtcbiAgICAgIHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sociwgaS5wb3NpdGlvbnMuRU5EKTtcbiAgICB9XG4gICAgYXdhaXQgby5wcm9jZXNzRGF0YVRyYW5zZmVyKGUuZGF0YVRyYW5zZmVyLCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBkcmFnIHN0YXJ0IGV2ZW50XG4gICAqL1xuICBwcm9jZXNzRHJhZ1N0YXJ0KCkge1xuICAgIGIuaXNBdEVkaXRvciAmJiAhYi5pc0NvbGxhcHNlZCAmJiAodGhpcy5pc1N0YXJ0ZWRBdEVkaXRvciA9ICEwKSwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0RyYWdFdmVudH0gZHJhZ0V2ZW50IC0gZHJhZyBldmVudFxuICAgKi9cbiAgcHJvY2Vzc0RyYWdPdmVyKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn1cbmNvbnN0IHNzID0gMTgwLCBucyA9IDQwMDtcbmNsYXNzIHJzIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBQcmVwYXJlIHRoZSBtb2R1bGVcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBvcHRpb25zIHVzZWQgYnkgdGhlIG1vZGlmaWNhdGlvbiBvYnNlcnZlciBtb2R1bGVcbiAgICogQHBhcmFtIG9wdGlvbnMuY29uZmlnIC0gRWRpdG9yIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqIEBwYXJhbSBvcHRpb25zLmV2ZW50c0Rpc3BhdGNoZXIgLSBjb21tb24gRWRpdG9yIGV2ZW50IGJ1c1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZzogZSxcbiAgICAgIGV2ZW50c0Rpc3BhdGNoZXI6IHRcbiAgICB9KSwgdGhpcy5kaXNhYmxlZCA9ICExLCB0aGlzLmJhdGNoaW5nVGltZW91dCA9IG51bGwsIHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5iYXRjaFRpbWUgPSBucywgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG8pID0+IHtcbiAgICAgIHRoaXMucmVkYWN0b3JDaGFuZ2VkKG8pO1xuICAgIH0pLCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub24oRHQsIChvKSA9PiB7XG4gICAgICB0aGlzLnBhcnRpY3VsYXJCbG9ja0NoYW5nZWQoby5ldmVudCk7XG4gICAgfSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vbihSdCwgKCkgPT4ge1xuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgfSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vbihGdCwgKCkgPT4ge1xuICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBvbkNoYW5nZSBldmVudFxuICAgKi9cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKFxuICAgICAgdGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3IsXG4gICAgICB7XG4gICAgICAgIGNoaWxkTGlzdDogITAsXG4gICAgICAgIHN1YnRyZWU6ICEwLFxuICAgICAgICBjaGFyYWN0ZXJEYXRhOiAhMCxcbiAgICAgICAgYXR0cmlidXRlczogITBcbiAgICAgIH1cbiAgICApLCB0aGlzLmRpc2FibGVkID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGVzIG9uQ2hhbmdlIGV2ZW50XG4gICAqL1xuICBkaXNhYmxlKCkge1xuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCksIHRoaXMuZGlzYWJsZWQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogQ2FsbCBvbkNoYW5nZSBldmVudCBwYXNzZWQgdG8gRWRpdG9yLmpzIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IC0gc29tZSBvZiBvdXIgY3VzdG9tIGNoYW5nZSBldmVudHNcbiAgICovXG4gIHBhcnRpY3VsYXJCbG9ja0NoYW5nZWQoZSkge1xuICAgIHRoaXMuZGlzYWJsZWQgfHwgIU8odGhpcy5jb25maWcub25DaGFuZ2UpIHx8ICh0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS5zZXQoYGJsb2NrOiR7ZS5kZXRhaWwudGFyZ2V0LmlkfTpldmVudDoke2UudHlwZX1gLCBlKSwgdGhpcy5iYXRjaGluZ1RpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRoaXMuYmF0Y2hpbmdUaW1lb3V0KSwgdGhpcy5iYXRjaGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGxldCB0O1xuICAgICAgdGhpcy5iYXRjaGluZ09uQ2hhbmdlUXVldWUuc2l6ZSA9PT0gMSA/IHQgPSB0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS52YWx1ZXMoKS5uZXh0KCkudmFsdWUgOiB0ID0gQXJyYXkuZnJvbSh0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS52YWx1ZXMoKSksIHRoaXMuY29uZmlnLm9uQ2hhbmdlICYmIHRoaXMuY29uZmlnLm9uQ2hhbmdlKHRoaXMuRWRpdG9yLkFQSS5tZXRob2RzLCB0KSwgdGhpcy5iYXRjaGluZ09uQ2hhbmdlUXVldWUuY2xlYXIoKTtcbiAgICB9LCB0aGlzLmJhdGNoVGltZSkpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJlZCBvbiBldmVyeSBibG9ja3Mgd3JhcHBlciBkb20gY2hhbmdlXG4gICAqXG4gICAqIEBwYXJhbSBtdXRhdGlvbnMgLSBtdXRhdGlvbnMgaGFwcGVuZWRcbiAgICovXG4gIHJlZGFjdG9yQ2hhbmdlZChlKSB7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQoSmUsIHtcbiAgICAgIG11dGF0aW9uczogZVxuICAgIH0pO1xuICB9XG59XG5jb25zdCBybyA9IGNsYXNzIGxvIGV4dGVuZHMgeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuTUlNRV9UWVBFID0gXCJhcHBsaWNhdGlvbi94LWVkaXRvci1qc1wiLCB0aGlzLnRvb2xzVGFncyA9IHt9LCB0aGlzLnRhZ3NCeVRvb2wgPSB7fSwgdGhpcy50b29sc1BhdHRlcm5zID0gW10sIHRoaXMudG9vbHNGaWxlcyA9IHt9LCB0aGlzLmV4Y2VwdGlvbkxpc3QgPSBbXSwgdGhpcy5wcm9jZXNzVG9vbCA9IChlKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0ID0gZS5jcmVhdGUoe30sIHt9LCAhMSk7XG4gICAgICAgIGlmIChlLnBhc3RlQ29uZmlnID09PSAhMSkge1xuICAgICAgICAgIHRoaXMuZXhjZXB0aW9uTGlzdC5wdXNoKGUubmFtZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghTyh0Lm9uUGFzdGUpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5nZXRUYWdzQ29uZmlnKGUpLCB0aGlzLmdldEZpbGVzQ29uZmlnKGUpLCB0aGlzLmdldFBhdHRlcm5zQ29uZmlnKGUpO1xuICAgICAgfSBjYXRjaCAodCkge1xuICAgICAgICBJKFxuICAgICAgICAgIGBQYXN0ZSBoYW5kbGluZyBmb3Igwqske2UubmFtZX3CuyBUb29sIGhhc24ndCBiZWVuIHNldCB1cCBiZWNhdXNlIG9mIHRoZSBlcnJvcmAsXG4gICAgICAgICAgXCJ3YXJuXCIsXG4gICAgICAgICAgdFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sIHRoaXMuaGFuZGxlUGFzdGVFdmVudCA9IGFzeW5jIChlKSA9PiB7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgVG9vbGJhcjogbyB9ID0gdGhpcy5FZGl0b3IsIGkgPSB0LnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICAgICFpIHx8IHRoaXMuaXNOYXRpdmVCZWhhdmlvdXIoZS50YXJnZXQpICYmICFlLmNsaXBib2FyZERhdGEudHlwZXMuaW5jbHVkZXMoXCJGaWxlc1wiKSB8fCBpICYmIHRoaXMuZXhjZXB0aW9uTGlzdC5pbmNsdWRlcyhpLm5hbWUpIHx8IChlLnByZXZlbnREZWZhdWx0KCksIHRoaXMucHJvY2Vzc0RhdGFUcmFuc2ZlcihlLmNsaXBib2FyZERhdGEpLCBvLmNsb3NlKCkpO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNldCBvblBhc3RlIGNhbGxiYWNrIGFuZCBjb2xsZWN0IHRvb2xzYCBwYXN0ZSBjb25maWd1cmF0aW9uc1xuICAgKi9cbiAgYXN5bmMgcHJlcGFyZSgpIHtcbiAgICB0aGlzLnByb2Nlc3NUb29scygpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVhZE9ubHlFbmFibGVkIC0gcmVhZCBvbmx5IGZsYWcgdmFsdWVcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KGUpIHtcbiAgICBlID8gdGhpcy51bnNldENhbGxiYWNrKCkgOiB0aGlzLnNldENhbGxiYWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBwYXN0ZWQgb3IgZHJvcHBlZCBkYXRhIHRyYW5zZmVyIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge0RhdGFUcmFuc2Zlcn0gZGF0YVRyYW5zZmVyIC0gcGFzdGVkIG9yIGRyb3BwZWQgZGF0YSB0cmFuc2ZlciBvYmplY3RcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0RyYWdORHJvcCAtIHRydWUgaWYgZGF0YSB0cmFuc2ZlciBjb21lcyBmcm9tIGRyYWcnbidkcm9wIGV2ZW50c1xuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc0RhdGFUcmFuc2ZlcihlLCB0ID0gITEpIHtcbiAgICBjb25zdCB7IFRvb2xzOiBvIH0gPSB0aGlzLkVkaXRvciwgaSA9IGUudHlwZXM7XG4gICAgaWYgKChpLmluY2x1ZGVzID8gaS5pbmNsdWRlcyhcIkZpbGVzXCIpIDogaS5jb250YWlucyhcIkZpbGVzXCIpKSAmJiAhVih0aGlzLnRvb2xzRmlsZXMpKSB7XG4gICAgICBhd2FpdCB0aGlzLnByb2Nlc3NGaWxlcyhlLmZpbGVzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgciA9IGUuZ2V0RGF0YSh0aGlzLk1JTUVfVFlQRSksIGwgPSBlLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO1xuICAgIGxldCBhID0gZS5nZXREYXRhKFwidGV4dC9odG1sXCIpO1xuICAgIGlmIChyKVxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5pbnNlcnRFZGl0b3JKU0RhdGEoSlNPTi5wYXJzZShyKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgfVxuICAgIHQgJiYgbC50cmltKCkgJiYgYS50cmltKCkgJiYgKGEgPSBcIjxwPlwiICsgKGEudHJpbSgpID8gYSA6IGwpICsgXCI8L3A+XCIpO1xuICAgIGNvbnN0IGMgPSBPYmplY3Qua2V5cyh0aGlzLnRvb2xzVGFncykucmVkdWNlKChwLCBnKSA9PiAocFtnLnRvTG93ZXJDYXNlKCldID0gdGhpcy50b29sc1RhZ3NbZ10uc2FuaXRpemF0aW9uQ29uZmlnID8/IHt9LCBwKSwge30pLCB1ID0gT2JqZWN0LmFzc2lnbih7fSwgYywgby5nZXRBbGxJbmxpbmVUb29sc1Nhbml0aXplQ29uZmlnKCksIHsgYnI6IHt9IH0pLCBoID0gcShhLCB1KTtcbiAgICAhaC50cmltKCkgfHwgaC50cmltKCkgPT09IGwgfHwgIWQuaXNIVE1MU3RyaW5nKGgpID8gYXdhaXQgdGhpcy5wcm9jZXNzVGV4dChsKSA6IGF3YWl0IHRoaXMucHJvY2Vzc1RleHQoaCwgITApO1xuICB9XG4gIC8qKlxuICAgKiBQcm9jZXNzIHBhc3RlZCB0ZXh0IGFuZCBkaXZpZGUgdGhlbSBpbnRvIEJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSAtIHRleHQgdG8gcHJvY2Vzcy4gQ2FuIGJlIEhUTUwgb3IgcGxhaW4uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIVE1MIC0gaWYgcGFzc2VkIHN0cmluZyBpcyBIVE1MLCB0aGlzIHBhcmFtZXRlciBzaG91bGQgYmUgdHJ1ZVxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc1RleHQoZSwgdCA9ICExKSB7XG4gICAgY29uc3QgeyBDYXJldDogbywgQmxvY2tNYW5hZ2VyOiBpIH0gPSB0aGlzLkVkaXRvciwgcyA9IHQgPyB0aGlzLnByb2Nlc3NIVE1MKGUpIDogdGhpcy5wcm9jZXNzUGxhaW4oZSk7XG4gICAgaWYgKCFzLmxlbmd0aClcbiAgICAgIHJldHVybjtcbiAgICBpZiAocy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHNbMF0uaXNCbG9jayA/IHRoaXMucHJvY2Vzc1NpbmdsZUJsb2NrKHMucG9wKCkpIDogdGhpcy5wcm9jZXNzSW5saW5lUGFzdGUocy5wb3AoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGwgPSBpLmN1cnJlbnRCbG9jayAmJiBpLmN1cnJlbnRCbG9jay50b29sLmlzRGVmYXVsdCAmJiBpLmN1cnJlbnRCbG9jay5pc0VtcHR5O1xuICAgIHMubWFwKFxuICAgICAgYXN5bmMgKGEsIGMpID0+IHRoaXMuaW5zZXJ0QmxvY2soYSwgYyA9PT0gMCAmJiBsKVxuICAgICksIGkuY3VycmVudEJsb2NrICYmIG8uc2V0VG9CbG9jayhpLmN1cnJlbnRCbG9jaywgby5wb3NpdGlvbnMuRU5EKTtcbiAgfVxuICAvKipcbiAgICogU2V0IG9uUGFzdGUgY2FsbGJhY2sgaGFuZGxlclxuICAgKi9cbiAgc2V0Q2FsbGJhY2soKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub24odGhpcy5FZGl0b3IuVUkubm9kZXMuaG9sZGVyLCBcInBhc3RlXCIsIHRoaXMuaGFuZGxlUGFzdGVFdmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuc2V0IG9uUGFzdGUgY2FsbGJhY2sgaGFuZGxlclxuICAgKi9cbiAgdW5zZXRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5vZmYodGhpcy5FZGl0b3IuVUkubm9kZXMuaG9sZGVyLCBcInBhc3RlXCIsIHRoaXMuaGFuZGxlUGFzdGVFdmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbmQgcHJvY2VzcyB0b29sYHMgcGFzdGUgY29uZmlnc1xuICAgKi9cbiAgcHJvY2Vzc1Rvb2xzKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLkVkaXRvci5Ub29scy5ibG9ja1Rvb2xzO1xuICAgIEFycmF5LmZyb20oZS52YWx1ZXMoKSkuZm9yRWFjaCh0aGlzLnByb2Nlc3NUb29sKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRhZ3MgbmFtZSBsaXN0IGZyb20gZWl0aGVyIHRhZyBuYW1lIG9yIHNhbml0aXphdGlvbiBjb25maWcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgb2JqZWN0fSB0YWdPclNhbml0aXplQ29uZmlnIC0gdGFnIG5hbWUgb3Igc2FuaXRpemUgY29uZmlnIG9iamVjdC5cbiAgICogQHJldHVybnMge3N0cmluZ1tdfSBhcnJheSBvZiB0YWdzLlxuICAgKi9cbiAgY29sbGVjdFRhZ05hbWVzKGUpIHtcbiAgICByZXR1cm4gUShlKSA/IFtlXSA6IFIoZSkgPyBPYmplY3Qua2V5cyhlKSA6IFtdO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGFncyB0byBzdWJzdGl0dXRlIGJ5IFRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSBCbG9ja1Rvb2wgb2JqZWN0XG4gICAqL1xuICBnZXRUYWdzQ29uZmlnKGUpIHtcbiAgICBpZiAoZS5wYXN0ZUNvbmZpZyA9PT0gITEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGUucGFzdGVDb25maWcudGFncyB8fCBbXSwgbyA9IFtdO1xuICAgIHQuZm9yRWFjaCgoaSkgPT4ge1xuICAgICAgY29uc3QgcyA9IHRoaXMuY29sbGVjdFRhZ05hbWVzKGkpO1xuICAgICAgby5wdXNoKC4uLnMpLCBzLmZvckVhY2goKHIpID0+IHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnRvb2xzVGFncywgcikpIHtcbiAgICAgICAgICBJKFxuICAgICAgICAgICAgYFBhc3RlIGhhbmRsZXIgZm9yIMKrJHtlLm5hbWV9wrsgVG9vbCBvbiDCqyR7cn3CuyB0YWcgaXMgc2tpcHBlZCBiZWNhdXNlIGl0IGlzIGFscmVhZHkgdXNlZCBieSDCqyR7dGhpcy50b29sc1RhZ3Nbcl0udG9vbC5uYW1lfcK7IFRvb2wuYCxcbiAgICAgICAgICAgIFwid2FyblwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbCA9IFIoaSkgPyBpW3JdIDogbnVsbDtcbiAgICAgICAgdGhpcy50b29sc1RhZ3Nbci50b1VwcGVyQ2FzZSgpXSA9IHtcbiAgICAgICAgICB0b29sOiBlLFxuICAgICAgICAgIHNhbml0aXphdGlvbkNvbmZpZzogbFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSksIHRoaXMudGFnc0J5VG9vbFtlLm5hbWVdID0gby5tYXAoKGkpID0+IGkudG9VcHBlckNhc2UoKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBmaWxlc2AgdHlwZXMgYW5kIGV4dGVuc2lvbnMgdG8gc3Vic3RpdHV0ZSBieSBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gQmxvY2tUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0RmlsZXNDb25maWcoZSkge1xuICAgIGlmIChlLnBhc3RlQ29uZmlnID09PSAhMSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IGZpbGVzOiB0ID0ge30gfSA9IGUucGFzdGVDb25maWc7XG4gICAgbGV0IHsgZXh0ZW5zaW9uczogbywgbWltZVR5cGVzOiBpIH0gPSB0O1xuICAgICFvICYmICFpIHx8IChvICYmICFBcnJheS5pc0FycmF5KG8pICYmIChJKGDCq2V4dGVuc2lvbnPCuyBwcm9wZXJ0eSBvZiB0aGUgb25Ecm9wIGNvbmZpZyBmb3Igwqske2UubmFtZX3CuyBUb29sIHNob3VsZCBiZSBhbiBhcnJheWApLCBvID0gW10pLCBpICYmICFBcnJheS5pc0FycmF5KGkpICYmIChJKGDCq21pbWVUeXBlc8K7IHByb3BlcnR5IG9mIHRoZSBvbkRyb3AgY29uZmlnIGZvciDCqyR7ZS5uYW1lfcK7IFRvb2wgc2hvdWxkIGJlIGFuIGFycmF5YCksIGkgPSBbXSksIGkgJiYgKGkgPSBpLmZpbHRlcigocykgPT4gVG8ocykgPyAhMCA6IChJKGBNSU1FIHR5cGUgdmFsdWUgwqske3N9wrsgZm9yIHRoZSDCqyR7ZS5uYW1lfcK7IFRvb2wgaXMgbm90IGEgdmFsaWQgTUlNRSB0eXBlYCwgXCJ3YXJuXCIpLCAhMSkpKSwgdGhpcy50b29sc0ZpbGVzW2UubmFtZV0gPSB7XG4gICAgICBleHRlbnNpb25zOiBvIHx8IFtdLFxuICAgICAgbWltZVR5cGVzOiBpIHx8IFtdXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBSZWdFeHAgcGF0dGVybnMgdG8gc3Vic3RpdHV0ZSBieSBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gQmxvY2tUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0UGF0dGVybnNDb25maWcoZSkge1xuICAgIGUucGFzdGVDb25maWcgPT09ICExIHx8ICFlLnBhc3RlQ29uZmlnLnBhdHRlcm5zIHx8IFYoZS5wYXN0ZUNvbmZpZy5wYXR0ZXJucykgfHwgT2JqZWN0LmVudHJpZXMoZS5wYXN0ZUNvbmZpZy5wYXR0ZXJucykuZm9yRWFjaCgoW3QsIG9dKSA9PiB7XG4gICAgICBvIGluc3RhbmNlb2YgUmVnRXhwIHx8IEkoXG4gICAgICAgIGBQYXR0ZXJuICR7b30gZm9yIMKrJHtlLm5hbWV9wrsgVG9vbCBpcyBza2lwcGVkIGJlY2F1c2UgaXQgc2hvdWxkIGJlIGEgUmVnZXhwIGluc3RhbmNlLmAsXG4gICAgICAgIFwid2FyblwiXG4gICAgICApLCB0aGlzLnRvb2xzUGF0dGVybnMucHVzaCh7XG4gICAgICAgIGtleTogdCxcbiAgICAgICAgcGF0dGVybjogbyxcbiAgICAgICAgdG9vbDogZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGJyb3dzZXIgYmVoYXZpb3Igc3VpdHMgYmV0dGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBlbGVtZW50IHdoZXJlIGNvbnRlbnQgaGFzIGJlZW4gcGFzdGVkXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNOYXRpdmVCZWhhdmlvdXIoZSkge1xuICAgIHJldHVybiBkLmlzTmF0aXZlSW5wdXQoZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBmaWxlcyBmcm9tIGRhdGEgdHJhbnNmZXIgb2JqZWN0IGFuZCBpbnNlcnQgcmVsYXRlZCBUb29sc1xuICAgKlxuICAgKiBAcGFyYW0ge0ZpbGVMaXN0fSBpdGVtcyAtIHBhc3RlZCBvciBkcm9wcGVkIGl0ZW1zXG4gICAqL1xuICBhc3luYyBwcm9jZXNzRmlsZXMoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICBsZXQgbztcbiAgICBvID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBBcnJheS5mcm9tKGUpLm1hcCgocikgPT4gdGhpcy5wcm9jZXNzRmlsZShyKSlcbiAgICApLCBvID0gby5maWx0ZXIoKHIpID0+ICEhcik7XG4gICAgY29uc3QgcyA9IHQuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIHQuY3VycmVudEJsb2NrLmlzRW1wdHk7XG4gICAgby5mb3JFYWNoKFxuICAgICAgKHIsIGwpID0+IHtcbiAgICAgICAgdC5wYXN0ZShyLnR5cGUsIHIuZXZlbnQsIGwgPT09IDAgJiYgcyk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZm9ybWF0aW9uIGFib3V0IGZpbGUgYW5kIGZpbmQgVG9vbCB0byBoYW5kbGUgaXRcbiAgICpcbiAgICogQHBhcmFtIHtGaWxlfSBmaWxlIC0gZmlsZSB0byBwcm9jZXNzXG4gICAqL1xuICBhc3luYyBwcm9jZXNzRmlsZShlKSB7XG4gICAgY29uc3QgdCA9IEJvKGUpLCBvID0gT2JqZWN0LmVudHJpZXModGhpcy50b29sc0ZpbGVzKS5maW5kKChbciwgeyBtaW1lVHlwZXM6IGwsIGV4dGVuc2lvbnM6IGEgfV0pID0+IHtcbiAgICAgIGNvbnN0IFtjLCB1XSA9IGUudHlwZS5zcGxpdChcIi9cIiksIGggPSBhLmZpbmQoKGcpID0+IGcudG9Mb3dlckNhc2UoKSA9PT0gdC50b0xvd2VyQ2FzZSgpKSwgcCA9IGwuZmluZCgoZykgPT4ge1xuICAgICAgICBjb25zdCBbZiwga10gPSBnLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgcmV0dXJuIGYgPT09IGMgJiYgKGsgPT09IHUgfHwgayA9PT0gXCIqXCIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gISFoIHx8ICEhcDtcbiAgICB9KTtcbiAgICBpZiAoIW8pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgW2ldID0gbztcbiAgICByZXR1cm4ge1xuICAgICAgZXZlbnQ6IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJmaWxlXCIsIHtcbiAgICAgICAgZmlsZTogZVxuICAgICAgfSksXG4gICAgICB0eXBlOiBpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU3BsaXQgSFRNTCBzdHJpbmcgdG8gYmxvY2tzIGFuZCByZXR1cm4gaXQgYXMgYXJyYXkgb2YgQmxvY2sgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5uZXJIVE1MIC0gaHRtbCBzdHJpbmcgdG8gcHJvY2Vzc1xuICAgKiBAcmV0dXJucyB7UGFzdGVEYXRhW119XG4gICAqL1xuICBwcm9jZXNzSFRNTChlKSB7XG4gICAgY29uc3QgeyBUb29sczogdCB9ID0gdGhpcy5FZGl0b3IsIG8gPSBkLm1ha2UoXCJESVZcIik7XG4gICAgcmV0dXJuIG8uaW5uZXJIVE1MID0gZSwgdGhpcy5nZXROb2RlcyhvKS5tYXAoKHMpID0+IHtcbiAgICAgIGxldCByLCBsID0gdC5kZWZhdWx0VG9vbCwgYSA9ICExO1xuICAgICAgc3dpdGNoIChzLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFOlxuICAgICAgICAgIHIgPSBkLm1ha2UoXCJkaXZcIiksIHIuYXBwZW5kQ2hpbGQocyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgciA9IHMsIGEgPSAhMCwgdGhpcy50b29sc1RhZ3Nbci50YWdOYW1lXSAmJiAobCA9IHRoaXMudG9vbHNUYWdzW3IudGFnTmFtZV0udG9vbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb25zdCB7IHRhZ3M6IGMgfSA9IGwucGFzdGVDb25maWcgfHwgeyB0YWdzOiBbXSB9LCB1ID0gYy5yZWR1Y2UoKGcsIGYpID0+ICh0aGlzLmNvbGxlY3RUYWdOYW1lcyhmKS5mb3JFYWNoKChDKSA9PiB7XG4gICAgICAgIGNvbnN0IFMgPSBSKGYpID8gZltDXSA6IG51bGw7XG4gICAgICAgIGdbQy50b0xvd2VyQ2FzZSgpXSA9IFMgfHwge307XG4gICAgICB9KSwgZyksIHt9KSwgaCA9IE9iamVjdC5hc3NpZ24oe30sIHUsIGwuYmFzZVNhbml0aXplQ29uZmlnKTtcbiAgICAgIGlmIChyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgICAgIGNvbnN0IGcgPSBxKHIub3V0ZXJIVE1MLCBoKTtcbiAgICAgICAgciA9IGQubWFrZShcImRpdlwiLCB2b2lkIDAsIHtcbiAgICAgICAgICBpbm5lckhUTUw6IGdcbiAgICAgICAgfSkuZmlyc3RDaGlsZDtcbiAgICAgIH0gZWxzZVxuICAgICAgICByLmlubmVySFRNTCA9IHEoci5pbm5lckhUTUwsIGgpO1xuICAgICAgY29uc3QgcCA9IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJ0YWdcIiwge1xuICAgICAgICBkYXRhOiByXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRlbnQ6IHIsXG4gICAgICAgIGlzQmxvY2s6IGEsXG4gICAgICAgIHRvb2w6IGwubmFtZSxcbiAgICAgICAgZXZlbnQ6IHBcbiAgICAgIH07XG4gICAgfSkuZmlsdGVyKChzKSA9PiB7XG4gICAgICBjb25zdCByID0gZC5pc0VtcHR5KHMuY29udGVudCksIGwgPSBkLmlzU2luZ2xlVGFnKHMuY29udGVudCk7XG4gICAgICByZXR1cm4gIXIgfHwgbDtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU3BsaXQgcGxhaW4gdGV4dCBieSBuZXcgbGluZSBzeW1ib2xzIGFuZCByZXR1cm4gaXQgYXMgYXJyYXkgb2YgQmxvY2sgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGxhaW4gLSBzdHJpbmcgdG8gcHJvY2Vzc1xuICAgKiBAcmV0dXJucyB7UGFzdGVEYXRhW119XG4gICAqL1xuICBwcm9jZXNzUGxhaW4oZSkge1xuICAgIGNvbnN0IHsgZGVmYXVsdEJsb2NrOiB0IH0gPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm4gW107XG4gICAgY29uc3QgbyA9IHQ7XG4gICAgcmV0dXJuIGUuc3BsaXQoL1xccj9cXG4vKS5maWx0ZXIoKGkpID0+IGkudHJpbSgpKS5tYXAoKGkpID0+IHtcbiAgICAgIGNvbnN0IHMgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgICBzLnRleHRDb250ZW50ID0gaTtcbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNvbXBvc2VQYXN0ZUV2ZW50KFwidGFnXCIsIHtcbiAgICAgICAgZGF0YTogc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250ZW50OiBzLFxuICAgICAgICB0b29sOiBvLFxuICAgICAgICBpc0Jsb2NrOiAhMSxcbiAgICAgICAgZXZlbnQ6IHJcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFByb2Nlc3MgcGFzdGUgb2Ygc2luZ2xlIEJsb2NrIHRvb2wgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge1Bhc3RlRGF0YX0gZGF0YVRvSW5zZXJ0IC0gZGF0YSBvZiBCbG9jayB0byBpbnNlcnRcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NTaW5nbGVCbG9jayhlKSB7XG4gICAgY29uc3QgeyBDYXJldDogdCwgQmxvY2tNYW5hZ2VyOiBvIH0gPSB0aGlzLkVkaXRvciwgeyBjdXJyZW50QmxvY2s6IGkgfSA9IG87XG4gICAgaWYgKCFpIHx8IGUudG9vbCAhPT0gaS5uYW1lIHx8ICFkLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKGUuY29udGVudC5pbm5lckhUTUwpKSB7XG4gICAgICB0aGlzLmluc2VydEJsb2NrKGUsIChpID09IG51bGwgPyB2b2lkIDAgOiBpLnRvb2wuaXNEZWZhdWx0KSAmJiBpLmlzRW1wdHkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0Lmluc2VydENvbnRlbnRBdENhcmV0UG9zaXRpb24oZS5jb250ZW50LmlubmVySFRNTCk7XG4gIH1cbiAgLyoqXG4gICAqIFByb2Nlc3MgcGFzdGUgdG8gc2luZ2xlIEJsb2NrOlxuICAgKiAxLiBGaW5kIHBhdHRlcm5zYCBtYXRjaGVzXG4gICAqIDIuIEluc2VydCBuZXcgYmxvY2sgaWYgaXQgaXMgbm90IHRoZSBzYW1lIHR5cGUgYXMgY3VycmVudCBvbmVcbiAgICogMy4gSnVzdCBpbnNlcnQgdGV4dCBpZiB0aGVyZSBpcyBubyBzdWJzdGl0dXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVEYXRhfSBkYXRhVG9JbnNlcnQgLSBkYXRhIG9mIEJsb2NrIHRvIGluc2VydFxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc0lubGluZVBhc3RlKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQ2FyZXQ6IG8gfSA9IHRoaXMuRWRpdG9yLCB7IGNvbnRlbnQ6IGkgfSA9IGU7XG4gICAgaWYgKHQuY3VycmVudEJsb2NrICYmIHQuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIGkudGV4dENvbnRlbnQubGVuZ3RoIDwgbG8uUEFUVEVSTl9QUk9DRVNTSU5HX01BWF9MRU5HVEgpIHtcbiAgICAgIGNvbnN0IHIgPSBhd2FpdCB0aGlzLnByb2Nlc3NQYXR0ZXJuKGkudGV4dENvbnRlbnQpO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgY29uc3QgbCA9IHQuY3VycmVudEJsb2NrICYmIHQuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIHQuY3VycmVudEJsb2NrLmlzRW1wdHksIGEgPSB0LnBhc3RlKHIudG9vbCwgci5ldmVudCwgbCk7XG4gICAgICAgIG8uc2V0VG9CbG9jayhhLCBvLnBvc2l0aW9ucy5FTkQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0LmN1cnJlbnRCbG9jayAmJiB0LmN1cnJlbnRCbG9jay5jdXJyZW50SW5wdXQpIHtcbiAgICAgIGNvbnN0IHIgPSB0LmN1cnJlbnRCbG9jay50b29sLmJhc2VTYW5pdGl6ZUNvbmZpZztcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFxuICAgICAgICBcImluc2VydEhUTUxcIixcbiAgICAgICAgITEsXG4gICAgICAgIHEoaS5pbm5lckhUTUwsIHIpXG4gICAgICApO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5pbnNlcnRCbG9jayhlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHBhdHRlcm5zYCBtYXRjaGVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGV4dCB0byBwcm9jZXNzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtldmVudDogUGFzdGVFdmVudCwgdG9vbDogc3RyaW5nfT59XG4gICAqL1xuICBhc3luYyBwcm9jZXNzUGF0dGVybihlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMudG9vbHNQYXR0ZXJucy5maW5kKChpKSA9PiB7XG4gICAgICBjb25zdCBzID0gaS5wYXR0ZXJuLmV4ZWMoZSk7XG4gICAgICByZXR1cm4gcyA/IGUgPT09IHMuc2hpZnQoKSA6ICExO1xuICAgIH0pO1xuICAgIHJldHVybiB0ID8ge1xuICAgICAgZXZlbnQ6IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJwYXR0ZXJuXCIsIHtcbiAgICAgICAga2V5OiB0LmtleSxcbiAgICAgICAgZGF0YTogZVxuICAgICAgfSksXG4gICAgICB0b29sOiB0LnRvb2wubmFtZVxuICAgIH0gOiB2b2lkIDA7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBwYXN0ZWQgQmxvY2sgY29udGVudCB0byBFZGl0b3JcbiAgICpcbiAgICogQHBhcmFtIHtQYXN0ZURhdGF9IGRhdGEgLSBkYXRhIHRvIGluc2VydFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhblJlcGxhY2VDdXJyZW50QmxvY2sgLSBpZiB0cnVlIGFuZCBpcyBjdXJyZW50IEJsb2NrIGlzIGVtcHR5LCB3aWxsIHJlcGxhY2UgY3VycmVudCBCbG9ja1xuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGluc2VydEJsb2NrKGUsIHQgPSAhMSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBvLCBDYXJldDogaSB9ID0gdGhpcy5FZGl0b3IsIHsgY3VycmVudEJsb2NrOiBzIH0gPSBvO1xuICAgIGxldCByO1xuICAgIGlmICh0ICYmIHMgJiYgcy5pc0VtcHR5KSB7XG4gICAgICByID0gby5wYXN0ZShlLnRvb2wsIGUuZXZlbnQsICEwKSwgaS5zZXRUb0Jsb2NrKHIsIGkucG9zaXRpb25zLkVORCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHIgPSBvLnBhc3RlKGUudG9vbCwgZS5ldmVudCksIGkuc2V0VG9CbG9jayhyLCBpLnBvc2l0aW9ucy5FTkQpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgZGF0YSBwYXNzZWQgYXMgYXBwbGljYXRpb24veC1lZGl0b3ItanMgSlNPTlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBibG9ja3Mg4oCUIEJsb2NrcycgZGF0YSB0byBpbnNlcnRcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBpbnNlcnRFZGl0b3JKU0RhdGEoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBDYXJldDogbywgVG9vbHM6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGl0KFxuICAgICAgZSxcbiAgICAgIChyKSA9PiBpLmJsb2NrVG9vbHMuZ2V0KHIpLnNhbml0aXplQ29uZmlnXG4gICAgKS5mb3JFYWNoKCh7IHRvb2w6IHIsIGRhdGE6IGwgfSwgYSkgPT4ge1xuICAgICAgbGV0IGMgPSAhMTtcbiAgICAgIGEgPT09IDAgJiYgKGMgPSB0LmN1cnJlbnRCbG9jayAmJiB0LmN1cnJlbnRCbG9jay50b29sLmlzRGVmYXVsdCAmJiB0LmN1cnJlbnRCbG9jay5pc0VtcHR5KTtcbiAgICAgIGNvbnN0IHUgPSB0Lmluc2VydCh7XG4gICAgICAgIHRvb2w6IHIsXG4gICAgICAgIGRhdGE6IGwsXG4gICAgICAgIHJlcGxhY2U6IGNcbiAgICAgIH0pO1xuICAgICAgby5zZXRUb0Jsb2NrKHUsIG8ucG9zaXRpb25zLkVORCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIG5vZGVzIGZyb20gRWxlbWVudCBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIGN1cnJlbnQgbm9kZVxuICAgKiBAcGFyYW0ge05vZGVbXX0gbm9kZXMgLSBwcm9jZXNzZWQgbm9kZXNcbiAgICogQHBhcmFtIHtOb2RlfSBkZXN0Tm9kZSAtIGRlc3RpbmF0aW9uIG5vZGVcbiAgICovXG4gIHByb2Nlc3NFbGVtZW50Tm9kZShlLCB0LCBvKSB7XG4gICAgY29uc3QgaSA9IE9iamVjdC5rZXlzKHRoaXMudG9vbHNUYWdzKSwgcyA9IGUsIHsgdG9vbDogciB9ID0gdGhpcy50b29sc1RhZ3Nbcy50YWdOYW1lXSB8fCB7fSwgbCA9IHRoaXMudGFnc0J5VG9vbFtyID09IG51bGwgPyB2b2lkIDAgOiByLm5hbWVdIHx8IFtdLCBhID0gaS5pbmNsdWRlcyhzLnRhZ05hbWUpLCBjID0gZC5ibG9ja0VsZW1lbnRzLmluY2x1ZGVzKHMudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSwgdSA9IEFycmF5LmZyb20ocy5jaGlsZHJlbikuc29tZShcbiAgICAgICh7IHRhZ05hbWU6IHAgfSkgPT4gaS5pbmNsdWRlcyhwKSAmJiAhbC5pbmNsdWRlcyhwKVxuICAgICksIGggPSBBcnJheS5mcm9tKHMuY2hpbGRyZW4pLnNvbWUoXG4gICAgICAoeyB0YWdOYW1lOiBwIH0pID0+IGQuYmxvY2tFbGVtZW50cy5pbmNsdWRlcyhwLnRvTG93ZXJDYXNlKCkpXG4gICAgKTtcbiAgICBpZiAoIWMgJiYgIWEgJiYgIXUpXG4gICAgICByZXR1cm4gby5hcHBlbmRDaGlsZChzKSwgWy4uLnQsIG9dO1xuICAgIGlmIChhICYmICF1IHx8IGMgJiYgIWggJiYgIXUpXG4gICAgICByZXR1cm4gWy4uLnQsIG8sIHNdO1xuICB9XG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSBkaXZpZGUgSFRNTCBzdHJpbmcgdG8gdHdvIHR5cGVzIG9mIG5vZGVzOlxuICAgKiAxLiBCbG9jayBlbGVtZW50XG4gICAqIDIuIERvY3VtZW50IEZyYWdtZW50cyBjb250YWluZWQgdGV4dCBhbmQgbWFya3VwIHRhZ3MgbGlrZSBhLCBiLCBpIGV0Yy5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSB3cmFwcGVyIC0gd3JhcHBlciBvZiBwYXN0ZXIgSFRNTCBjb250ZW50XG4gICAqIEByZXR1cm5zIHtOb2RlW119XG4gICAqL1xuICBnZXROb2RlcyhlKSB7XG4gICAgY29uc3QgdCA9IEFycmF5LmZyb20oZS5jaGlsZE5vZGVzKTtcbiAgICBsZXQgbztcbiAgICBjb25zdCBpID0gKHMsIHIpID0+IHtcbiAgICAgIGlmIChkLmlzRW1wdHkocikgJiYgIWQuaXNTaW5nbGVUYWcocikpXG4gICAgICAgIHJldHVybiBzO1xuICAgICAgY29uc3QgbCA9IHNbcy5sZW5ndGggLSAxXTtcbiAgICAgIGxldCBhID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgIHN3aXRjaCAobCAmJiBkLmlzRnJhZ21lbnQobCkgJiYgKGEgPSBzLnBvcCgpKSwgci5ub2RlVHlwZSkge1xuICAgICAgICBjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOlxuICAgICAgICAgIGlmIChvID0gdGhpcy5wcm9jZXNzRWxlbWVudE5vZGUociwgcywgYSksIG8pXG4gICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOb2RlLlRFWFRfTk9ERTpcbiAgICAgICAgICByZXR1cm4gYS5hcHBlbmRDaGlsZChyKSwgWy4uLnMsIGFdO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBbLi4ucywgYV07XG4gICAgICB9XG4gICAgICByZXR1cm4gWy4uLnMsIC4uLkFycmF5LmZyb20oci5jaGlsZE5vZGVzKS5yZWR1Y2UoaSwgW10pXTtcbiAgICB9O1xuICAgIHJldHVybiB0LnJlZHVjZShpLCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbXBvc2UgcGFzdGUgZXZlbnQgd2l0aCBwYXNzZWQgdHlwZSBhbmQgZGV0YWlsXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge1Bhc3RlRXZlbnREZXRhaWx9IGRldGFpbCAtIGV2ZW50IGRldGFpbFxuICAgKi9cbiAgY29tcG9zZVBhc3RlRXZlbnQoZSwgdCkge1xuICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQoZSwge1xuICAgICAgZGV0YWlsOiB0XG4gICAgfSk7XG4gIH1cbn07XG5yby5QQVRURVJOX1BST0NFU1NJTkdfTUFYX0xFTkdUSCA9IDQ1MDtcbmxldCBscyA9IHJvO1xuY2xhc3MgYXMgZXh0ZW5kcyB5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkgPSBbXSwgdGhpcy5yZWFkT25seUVuYWJsZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzdGF0ZSBvZiByZWFkIG9ubHkgbW9kZVxuICAgKi9cbiAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBpbml0aWFsIHN0YXRlXG4gICAqL1xuICBhc3luYyBwcmVwYXJlKCkge1xuICAgIGNvbnN0IHsgVG9vbHM6IGUgfSA9IHRoaXMuRWRpdG9yLCB7IGJsb2NrVG9vbHM6IHQgfSA9IGUsIG8gPSBbXTtcbiAgICBBcnJheS5mcm9tKHQuZW50cmllcygpKS5mb3JFYWNoKChbaSwgc10pID0+IHtcbiAgICAgIHMuaXNSZWFkT25seVN1cHBvcnRlZCB8fCBvLnB1c2goaSk7XG4gICAgfSksIHRoaXMudG9vbHNEb250U3VwcG9ydFJlYWRPbmx5ID0gbywgdGhpcy5jb25maWcucmVhZE9ubHkgJiYgby5sZW5ndGggPiAwICYmIHRoaXMudGhyb3dDcml0aWNhbEVycm9yKCksIHRoaXMudG9nZ2xlKHRoaXMuY29uZmlnLnJlYWRPbmx5LCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCByZWFkLW9ubHkgbW9kZSBvciB0b2dnbGUgY3VycmVudCBzdGF0ZVxuICAgKiBDYWxsIGFsbCBNb2R1bGVzIGB0b2dnbGVSZWFkT25seWAgbWV0aG9kIGFuZCByZS1yZW5kZXIgRWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSBzdGF0ZSAtIChvcHRpb25hbCkgcmVhZC1vbmx5IHN0YXRlIG9yIHRvZ2dsZVxuICAgKiBAcGFyYW0gaXNJbml0aWFsIC0gKG9wdGlvbmFsKSB0cnVlIHdoZW4gZWRpdG9yIGlzIGluaXRpYWxpemluZ1xuICAgKi9cbiAgYXN5bmMgdG9nZ2xlKGUgPSAhdGhpcy5yZWFkT25seUVuYWJsZWQsIHQgPSAhMSkge1xuICAgIGUgJiYgdGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkubGVuZ3RoID4gMCAmJiB0aGlzLnRocm93Q3JpdGljYWxFcnJvcigpO1xuICAgIGNvbnN0IG8gPSB0aGlzLnJlYWRPbmx5RW5hYmxlZDtcbiAgICB0aGlzLnJlYWRPbmx5RW5hYmxlZCA9IGU7XG4gICAgZm9yIChjb25zdCBzIGluIHRoaXMuRWRpdG9yKVxuICAgICAgdGhpcy5FZGl0b3Jbc10udG9nZ2xlUmVhZE9ubHkgJiYgdGhpcy5FZGl0b3Jbc10udG9nZ2xlUmVhZE9ubHkoZSk7XG4gICAgaWYgKG8gPT09IGUpXG4gICAgICByZXR1cm4gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gICAgaWYgKHQpXG4gICAgICByZXR1cm4gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gICAgdGhpcy5FZGl0b3IuTW9kaWZpY2F0aW9uc09ic2VydmVyLmRpc2FibGUoKTtcbiAgICBjb25zdCBpID0gYXdhaXQgdGhpcy5FZGl0b3IuU2F2ZXIuc2F2ZSgpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXIoKSwgYXdhaXQgdGhpcy5FZGl0b3IuUmVuZGVyZXIucmVuZGVyKGkuYmxvY2tzKSwgdGhpcy5FZGl0b3IuTW9kaWZpY2F0aW9uc09ic2VydmVyLmVuYWJsZSgpLCB0aGlzLnJlYWRPbmx5RW5hYmxlZDtcbiAgfVxuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yIGFib3V0IHRvb2xzIHdoaWNoIGRvbid0IHN1cHBvcnQgcmVhZC1vbmx5IG1vZGVcbiAgICovXG4gIHRocm93Q3JpdGljYWxFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgUHQoXG4gICAgICBgVG8gZW5hYmxlIHJlYWQtb25seSBtb2RlIGFsbCBjb25uZWN0ZWQgdG9vbHMgc2hvdWxkIHN1cHBvcnQgaXQuIFRvb2xzICR7dGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkuam9pbihcIiwgXCIpfSBkb24ndCBzdXBwb3J0IHJlYWQtb25seSBtb2RlLmBcbiAgICApO1xuICB9XG59XG5jbGFzcyB4ZSBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmlzUmVjdFNlbGVjdGlvbkFjdGl2YXRlZCA9ICExLCB0aGlzLlNDUk9MTF9TUEVFRCA9IDMsIHRoaXMuSEVJR0hUX09GX1NDUk9MTF9aT05FID0gNDAsIHRoaXMuQk9UVE9NX1NDUk9MTF9aT05FID0gMSwgdGhpcy5UT1BfU0NST0xMX1pPTkUgPSAyLCB0aGlzLk1BSU5fTU9VU0VfQlVUVE9OID0gMCwgdGhpcy5tb3VzZWRvd24gPSAhMSwgdGhpcy5pc1Njcm9sbGluZyA9ICExLCB0aGlzLmluU2Nyb2xsWm9uZSA9IG51bGwsIHRoaXMuc3RhcnRYID0gMCwgdGhpcy5zdGFydFkgPSAwLCB0aGlzLm1vdXNlWCA9IDAsIHRoaXMubW91c2VZID0gMCwgdGhpcy5zdGFja09mU2VsZWN0ZWQgPSBbXSwgdGhpcy5saXN0ZW5lcklkcyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBDU1MgY2xhc3NlcyBmb3IgdGhlIEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHt7d3JhcHBlcjogc3RyaW5nLCBjb250ZW50OiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG92ZXJsYXk6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlcIixcbiAgICAgIG92ZXJsYXlDb250YWluZXI6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlfX2NvbnRhaW5lclwiLFxuICAgICAgcmVjdDogXCJjb2RleC1lZGl0b3Itb3ZlcmxheV9fcmVjdGFuZ2xlXCIsXG4gICAgICB0b3BTY3JvbGxab25lOiBcImNvZGV4LWVkaXRvci1vdmVybGF5X19zY3JvbGwtem9uZS0tdG9wXCIsXG4gICAgICBib3R0b21TY3JvbGxab25lOiBcImNvZGV4LWVkaXRvci1vdmVybGF5X19zY3JvbGwtem9uZS0tYm90dG9tXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgUHJlcGFyYXRpb25cbiAgICogQ3JlYXRpbmcgcmVjdCBhbmQgaGFuZyBoYW5kbGVyc1xuICAgKi9cbiAgcHJlcGFyZSgpIHtcbiAgICB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEluaXQgcmVjdCBwYXJhbXNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VYIC0gWCBjb29yZCBvZiBtb3VzZVxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZVkgLSBZIGNvb3JkIG9mIG1vdXNlXG4gICAqL1xuICBzdGFydFNlbGVjdGlvbihlLCB0KSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZSAtIHdpbmRvdy5wYWdlWE9mZnNldCwgdCAtIHdpbmRvdy5wYWdlWU9mZnNldCk7XG4gICAgby5jbG9zZXN0KGAuJHt0aGlzLkVkaXRvci5Ub29sYmFyLkNTUy50b29sYmFyfWApIHx8ICh0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5hbGxCbG9ja3NTZWxlY3RlZCA9ICExLCB0aGlzLmNsZWFyU2VsZWN0aW9uKCksIHRoaXMuc3RhY2tPZlNlbGVjdGVkID0gW10pO1xuICAgIGNvbnN0IHMgPSBbXG4gICAgICBgLiR7RC5DU1MuY29udGVudH1gLFxuICAgICAgYC4ke3RoaXMuRWRpdG9yLlRvb2xiYXIuQ1NTLnRvb2xiYXJ9YCxcbiAgICAgIGAuJHt0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLkNTUy5pbmxpbmVUb29sYmFyfWBcbiAgICBdLCByID0gby5jbG9zZXN0KFwiLlwiICsgdGhpcy5FZGl0b3IuVUkuQ1NTLmVkaXRvcldyYXBwZXIpLCBsID0gcy5zb21lKChhKSA9PiAhIW8uY2xvc2VzdChhKSk7XG4gICAgIXIgfHwgbCB8fCAodGhpcy5tb3VzZWRvd24gPSAhMCwgdGhpcy5zdGFydFggPSBlLCB0aGlzLnN0YXJ0WSA9IHQpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBhbGwgcGFyYW1zIHRvIGVuZCBzZWxlY3Rpb25cbiAgICovXG4gIGVuZFNlbGVjdGlvbigpIHtcbiAgICB0aGlzLm1vdXNlZG93biA9ICExLCB0aGlzLnN0YXJ0WCA9IDAsIHRoaXMuc3RhcnRZID0gMCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfVxuICAvKipcbiAgICogaXMgUmVjdFNlbGVjdGlvbiBBY3RpdmF0ZWRcbiAgICovXG4gIGlzUmVjdEFjdGl2YXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1JlY3RTZWxlY3Rpb25BY3RpdmF0ZWQ7XG4gIH1cbiAgLyoqXG4gICAqIE1hcmsgdGhhdCBzZWxlY3Rpb24gaXMgZW5kXG4gICAqL1xuICBjbGVhclNlbGVjdGlvbigpIHtcbiAgICB0aGlzLmlzUmVjdFNlbGVjdGlvbkFjdGl2YXRlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIE1vZHVsZSBuZWNlc3NhcnkgZXZlbnQgaGFuZGxlcnNcbiAgICovXG4gIGVuYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIGNvbnN0IHsgY29udGFpbmVyOiBlIH0gPSB0aGlzLmdlbkhUTUwoKTtcbiAgICB0aGlzLmxpc3RlbmVycy5vbihlLCBcIm1vdXNlZG93blwiLCAodCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzTW91c2VEb3duKHQpO1xuICAgIH0sICExKSwgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQuYm9keSwgXCJtb3VzZW1vdmVcIiwgVmUoKHQpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc01vdXNlTW92ZSh0KTtcbiAgICB9LCAxMCksIHtcbiAgICAgIHBhc3NpdmU6ICEwXG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LmJvZHksIFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NNb3VzZUxlYXZlKCk7XG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKHdpbmRvdywgXCJzY3JvbGxcIiwgVmUoKHQpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc1Njcm9sbCh0KTtcbiAgICB9LCAxMCksIHtcbiAgICAgIHBhc3NpdmU6ICEwXG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LmJvZHksIFwibW91c2V1cFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NNb3VzZVVwKCk7XG4gICAgfSwgITEpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgZG93biBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2UgZXZlbnQgcGF5bG9hZFxuICAgKi9cbiAgcHJvY2Vzc01vdXNlRG93bihlKSB7XG4gICAgaWYgKGUuYnV0dG9uICE9PSB0aGlzLk1BSU5fTU9VU0VfQlVUVE9OKVxuICAgICAgcmV0dXJuO1xuICAgIGUudGFyZ2V0LmNsb3Nlc3QoZC5hbGxJbnB1dHNTZWxlY3RvcikgIT09IG51bGwgfHwgdGhpcy5zdGFydFNlbGVjdGlvbihlLnBhZ2VYLCBlLnBhZ2VZKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIG1vdXNlIG1vdmUgZXZlbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gbW91c2VFdmVudCAtIG1vdXNlIGV2ZW50IHBheWxvYWRcbiAgICovXG4gIHByb2Nlc3NNb3VzZU1vdmUoZSkge1xuICAgIHRoaXMuY2hhbmdpbmdSZWN0YW5nbGUoZSksIHRoaXMuc2Nyb2xsQnlab25lcyhlLmNsaWVudFkpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgbGVhdmVcbiAgICovXG4gIHByb2Nlc3NNb3VzZUxlYXZlKCkge1xuICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKSwgdGhpcy5lbmRTZWxlY3Rpb24oKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2UgZXZlbnQgcGF5bG9hZFxuICAgKi9cbiAgcHJvY2Vzc1Njcm9sbChlKSB7XG4gICAgdGhpcy5jaGFuZ2luZ1JlY3RhbmdsZShlKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIG1vdXNlIHVwXG4gICAqL1xuICBwcm9jZXNzTW91c2VVcCgpIHtcbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCksIHRoaXMuZW5kU2VsZWN0aW9uKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNjcm9sbCBJZiBtb3VzZSBpbiBzY3JvbGwgem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xpZW50WSAtIFkgY29vcmQgb2YgbW91c2VcbiAgICovXG4gIHNjcm9sbEJ5Wm9uZXMoZSkge1xuICAgIGlmICh0aGlzLmluU2Nyb2xsWm9uZSA9IG51bGwsIGUgPD0gdGhpcy5IRUlHSFRfT0ZfU0NST0xMX1pPTkUgJiYgKHRoaXMuaW5TY3JvbGxab25lID0gdGhpcy5UT1BfU0NST0xMX1pPTkUpLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gZSA8PSB0aGlzLkhFSUdIVF9PRl9TQ1JPTExfWk9ORSAmJiAodGhpcy5pblNjcm9sbFpvbmUgPSB0aGlzLkJPVFRPTV9TQ1JPTExfWk9ORSksICF0aGlzLmluU2Nyb2xsWm9uZSkge1xuICAgICAgdGhpcy5pc1Njcm9sbGluZyA9ICExO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmlzU2Nyb2xsaW5nIHx8ICh0aGlzLnNjcm9sbFZlcnRpY2FsKHRoaXMuaW5TY3JvbGxab25lID09PSB0aGlzLlRPUF9TQ1JPTExfWk9ORSA/IC10aGlzLlNDUk9MTF9TUEVFRCA6IHRoaXMuU0NST0xMX1NQRUVEKSwgdGhpcy5pc1Njcm9sbGluZyA9ICEwKTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIHJlcXVpcmVkIEhUTUwgZWxlbWVudHNcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIEVsZW1lbnQ+fVxuICAgKi9cbiAgZ2VuSFRNTCgpIHtcbiAgICBjb25zdCB7IFVJOiBlIH0gPSB0aGlzLkVkaXRvciwgdCA9IGUubm9kZXMuaG9sZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBlLkNTUy5lZGl0b3JXcmFwcGVyKSwgbyA9IGQubWFrZShcImRpdlwiLCB4ZS5DU1Mub3ZlcmxheSwge30pLCBpID0gZC5tYWtlKFwiZGl2XCIsIHhlLkNTUy5vdmVybGF5Q29udGFpbmVyLCB7fSksIHMgPSBkLm1ha2UoXCJkaXZcIiwgeGUuQ1NTLnJlY3QsIHt9KTtcbiAgICByZXR1cm4gaS5hcHBlbmRDaGlsZChzKSwgby5hcHBlbmRDaGlsZChpKSwgdC5hcHBlbmRDaGlsZChvKSwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlID0gcywge1xuICAgICAgY29udGFpbmVyOiB0LFxuICAgICAgb3ZlcmxheTogb1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBzY3JvbGxpbmcgaWYgYmxvY2tTZWxlY3Rpb24gaXMgYWN0aXZlIGFuZCBtb3VzZSBpcyBpbiBzY3JvbGwgem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWQgLSBzcGVlZCBvZiBzY3JvbGxpbmdcbiAgICovXG4gIHNjcm9sbFZlcnRpY2FsKGUpIHtcbiAgICBpZiAoISh0aGlzLmluU2Nyb2xsWm9uZSAmJiB0aGlzLm1vdXNlZG93bikpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgZSksIHRoaXMubW91c2VZICs9IHdpbmRvdy5wYWdlWU9mZnNldCAtIHQsIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zY3JvbGxWZXJ0aWNhbChlKTtcbiAgICB9LCAwKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgY2hhbmdlIGluIHRoZSByZWN0YW5nbGUgYW5kIGl0cyBlZmZlY3RcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIG1vdXNlIGV2ZW50XG4gICAqL1xuICBjaGFuZ2luZ1JlY3RhbmdsZShlKSB7XG4gICAgaWYgKCF0aGlzLm1vdXNlZG93bilcbiAgICAgIHJldHVybjtcbiAgICBlLnBhZ2VZICE9PSB2b2lkIDAgJiYgKHRoaXMubW91c2VYID0gZS5wYWdlWCwgdGhpcy5tb3VzZVkgPSBlLnBhZ2VZKTtcbiAgICBjb25zdCB7IHJpZ2h0UG9zOiB0LCBsZWZ0UG9zOiBvLCBpbmRleDogaSB9ID0gdGhpcy5nZW5JbmZvRm9yTW91c2VTZWxlY3Rpb24oKSwgcyA9IHRoaXMuc3RhcnRYID4gdCAmJiB0aGlzLm1vdXNlWCA+IHQsIHIgPSB0aGlzLnN0YXJ0WCA8IG8gJiYgdGhpcy5tb3VzZVggPCBvO1xuICAgIHRoaXMucmVjdENyb3NzZXNCbG9ja3MgPSAhKHMgfHwgciksIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkIHx8ICh0aGlzLnJlY3RDcm9zc2VzQmxvY2tzID0gITEsIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkID0gITAsIHRoaXMuc2hyaW5rUmVjdGFuZ2xlVG9Qb2ludCgpLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIiksIHRoaXMudXBkYXRlUmVjdGFuZ2xlU2l6ZSgpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCksIGkgIT09IHZvaWQgMCAmJiAodGhpcy50cnlTZWxlY3ROZXh0QmxvY2soaSksIHRoaXMuaW52ZXJzZVNlbGVjdGlvbigpLCBiLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpKTtcbiAgfVxuICAvKipcbiAgICogU2hyaW5rIHJlY3QgdG8gc2luZ3VsYXIgcG9pbnRcbiAgICovXG4gIHNocmlua1JlY3RhbmdsZVRvUG9pbnQoKSB7XG4gICAgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnN0YXJ0WCAtIHdpbmRvdy5wYWdlWE9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS50b3AgPSBgJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5ib3R0b20gPSBgY2FsYygxMDAlIC0gJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5yaWdodCA9IGBjYWxjKDEwMCUgLSAke3RoaXMuc3RhcnRYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YDtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IG9yIHVuc2VsZWN0IGFsbCBvZiBibG9ja3MgaW4gYXJyYXkgaWYgcmVjdCBpcyBvdXQgb3IgaW4gc2VsZWN0YWJsZSBhcmVhXG4gICAqL1xuICBpbnZlcnNlU2VsZWN0aW9uKCkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUluZGV4KHRoaXMuc3RhY2tPZlNlbGVjdGVkWzBdKS5zZWxlY3RlZDtcbiAgICBpZiAodGhpcy5yZWN0Q3Jvc3Nlc0Jsb2NrcyAmJiAhdClcbiAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLnN0YWNrT2ZTZWxlY3RlZClcbiAgICAgICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uc2VsZWN0QmxvY2tCeUluZGV4KG8pO1xuICAgIGlmICghdGhpcy5yZWN0Q3Jvc3Nlc0Jsb2NrcyAmJiB0KVxuICAgICAgZm9yIChjb25zdCBvIG9mIHRoaXMuc3RhY2tPZlNlbGVjdGVkKVxuICAgICAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi51blNlbGVjdEJsb2NrQnlJbmRleChvKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBzaXplIG9mIHJlY3RhbmdsZVxuICAgKi9cbiAgdXBkYXRlUmVjdGFuZ2xlU2l6ZSgpIHtcbiAgICB0aGlzLm1vdXNlWSA+PSB0aGlzLnN0YXJ0WSA/ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUudG9wID0gYCR7dGhpcy5zdGFydFkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuYm90dG9tID0gYGNhbGMoMTAwJSAtICR7dGhpcy5tb3VzZVkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgKSA6ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuYm90dG9tID0gYGNhbGMoMTAwJSAtICR7dGhpcy5zdGFydFkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUudG9wID0gYCR7dGhpcy5tb3VzZVkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgKSwgdGhpcy5tb3VzZVggPj0gdGhpcy5zdGFydFggPyAodGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnN0YXJ0WCAtIHdpbmRvdy5wYWdlWE9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5yaWdodCA9IGBjYWxjKDEwMCUgLSAke3RoaXMubW91c2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCkgOiAodGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLnJpZ2h0ID0gYGNhbGMoMTAwJSAtICR7dGhpcy5zdGFydFggLSB3aW5kb3cucGFnZVhPZmZzZXR9cHhgLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUubGVmdCA9IGAke3RoaXMubW91c2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCk7XG4gIH1cbiAgLyoqXG4gICAqIENvbGxlY3RzIGluZm9ybWF0aW9uIG5lZWRlZCB0byBkZXRlcm1pbmUgdGhlIGJlaGF2aW9yIG9mIHRoZSByZWN0YW5nbGVcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gaW5kZXggLSBpbmRleCBuZXh0IEJsb2NrLCBsZWZ0UG9zIC0gc3RhcnQgb2YgbGVmdCBib3JkZXIgb2YgQmxvY2ssIHJpZ2h0UG9zIC0gcmlnaHQgYm9yZGVyXG4gICAqL1xuICBnZW5JbmZvRm9yTW91c2VTZWxlY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLyAyLCBvID0gdGhpcy5tb3VzZVkgLSB3aW5kb3cucGFnZVlPZmZzZXQsIGkgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHQsIG8pLCBzID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlDaGlsZE5vZGUoaSk7XG4gICAgbGV0IHI7XG4gICAgcyAhPT0gdm9pZCAwICYmIChyID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrcy5maW5kSW5kZXgoKGgpID0+IGguaG9sZGVyID09PSBzLmhvbGRlcikpO1xuICAgIGNvbnN0IGwgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubGFzdEJsb2NrLmhvbGRlci5xdWVyeVNlbGVjdG9yKFwiLlwiICsgRC5DU1MuY29udGVudCksIGEgPSBOdW1iZXIucGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUobCkud2lkdGgsIDEwKSAvIDIsIGMgPSB0IC0gYSwgdSA9IHQgKyBhO1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleDogcixcbiAgICAgIGxlZnRQb3M6IGMsXG4gICAgICByaWdodFBvczogdVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdCBibG9jayB3aXRoIGluZGV4IGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IG9mIGJsb2NrIGluIHJlZGFjdG9yXG4gICAqL1xuICBhZGRCbG9ja0luU2VsZWN0aW9uKGUpIHtcbiAgICB0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnNlbGVjdEJsb2NrQnlJbmRleChlKSwgdGhpcy5zdGFja09mU2VsZWN0ZWQucHVzaChlKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIGJsb2NrIHRvIHRoZSBzZWxlY3Rpb24gYW5kIGRldGVybWluZXMgd2hpY2ggYmxvY2tzIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW5kZXggLSBpbmRleCBvZiBuZXcgYmxvY2sgaW4gdGhlIHJlYWN0b3JcbiAgICovXG4gIHRyeVNlbGVjdE5leHRCbG9jayhlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuc3RhY2tPZlNlbGVjdGVkW3RoaXMuc3RhY2tPZlNlbGVjdGVkLmxlbmd0aCAtIDFdID09PSBlLCBvID0gdGhpcy5zdGFja09mU2VsZWN0ZWQubGVuZ3RoLCBpID0gMSwgcyA9IC0xLCByID0gMDtcbiAgICBpZiAodClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBsID0gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdIC0gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDJdID4gMDtcbiAgICBsZXQgYSA9IHI7XG4gICAgbyA+IDEgJiYgKGEgPSBsID8gaSA6IHMpO1xuICAgIGNvbnN0IGMgPSBlID4gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdICYmIGEgPT09IGksIHUgPSBlIDwgdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdICYmIGEgPT09IHMsIHAgPSAhKGMgfHwgdSB8fCBhID09PSByKTtcbiAgICBpZiAoIXAgJiYgKGUgPiB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gfHwgdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdID09PSB2b2lkIDApKSB7XG4gICAgICBsZXQgayA9IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSArIDEgfHwgZTtcbiAgICAgIGZvciAoazsgayA8PSBlOyBrKyspXG4gICAgICAgIHRoaXMuYWRkQmxvY2tJblNlbGVjdGlvbihrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFwICYmIGUgPCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0pIHtcbiAgICAgIGZvciAobGV0IGsgPSB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gLSAxOyBrID49IGU7IGstLSlcbiAgICAgICAgdGhpcy5hZGRCbG9ja0luU2VsZWN0aW9uKGspO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXApXG4gICAgICByZXR1cm47XG4gICAgbGV0IGcgPSBvIC0gMSwgZjtcbiAgICBmb3IgKGUgPiB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gPyBmID0gKCkgPT4gZSA+IHRoaXMuc3RhY2tPZlNlbGVjdGVkW2ddIDogZiA9ICgpID0+IGUgPCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtnXTsgZigpOyApXG4gICAgICB0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnVuU2VsZWN0QmxvY2tCeUluZGV4KHRoaXMuc3RhY2tPZlNlbGVjdGVkW2ddKSwgdGhpcy5zdGFja09mU2VsZWN0ZWQucG9wKCksIGctLTtcbiAgfVxufVxuY2xhc3MgY3MgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIFJlbmRlcnMgcGFzc2VkIGJsb2NrcyBhcyBvbmUgYmF0Y2hcbiAgICpcbiAgICogQHBhcmFtIGJsb2Nrc0RhdGEgLSBibG9ja3MgdG8gcmVuZGVyXG4gICAqL1xuICBhc3luYyByZW5kZXIoZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgodCkgPT4ge1xuICAgICAgY29uc3QgeyBUb29sczogbywgQmxvY2tNYW5hZ2VyOiBpIH0gPSB0aGlzLkVkaXRvcjtcbiAgICAgIGlmIChlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgaS5pbnNlcnQoKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBzID0gZS5tYXAoKHsgdHlwZTogciwgZGF0YTogbCwgdHVuZXM6IGEsIGlkOiBjIH0pID0+IHtcbiAgICAgICAgICBvLmF2YWlsYWJsZS5oYXMocikgPT09ICExICYmIChYKGBUb29sIMKrJHtyfcK7IGlzIG5vdCBmb3VuZC4gQ2hlY2sgJ3Rvb2xzJyBwcm9wZXJ0eSBhdCB0aGUgRWRpdG9yLmpzIGNvbmZpZy5gLCBcIndhcm5cIiksIGwgPSB0aGlzLmNvbXBvc2VTdHViRGF0YUZvclRvb2wociwgbCwgYyksIHIgPSBvLnN0dWJUb29sKTtcbiAgICAgICAgICBsZXQgdTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdSA9IGkuY29tcG9zZUJsb2NrKHtcbiAgICAgICAgICAgICAgaWQ6IGMsXG4gICAgICAgICAgICAgIHRvb2w6IHIsXG4gICAgICAgICAgICAgIGRhdGE6IGwsXG4gICAgICAgICAgICAgIHR1bmVzOiBhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChoKSB7XG4gICAgICAgICAgICBJKGBCbG9jayDCqyR7cn3CuyBza2lwcGVkIGJlY2F1c2Ugb2YgcGx1Z2lucyBlcnJvcmAsIFwiZXJyb3JcIiwge1xuICAgICAgICAgICAgICBkYXRhOiBsLFxuICAgICAgICAgICAgICBlcnJvcjogaFxuICAgICAgICAgICAgfSksIGwgPSB0aGlzLmNvbXBvc2VTdHViRGF0YUZvclRvb2wociwgbCwgYyksIHIgPSBvLnN0dWJUb29sLCB1ID0gaS5jb21wb3NlQmxvY2soe1xuICAgICAgICAgICAgICBpZDogYyxcbiAgICAgICAgICAgICAgdG9vbDogcixcbiAgICAgICAgICAgICAgZGF0YTogbCxcbiAgICAgICAgICAgICAgdHVuZXM6IGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdTtcbiAgICAgICAgfSk7XG4gICAgICAgIGkuaW5zZXJ0TWFueShzKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgdCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAyZTMgfSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBkYXRhIGZvciB0aGUgU3R1YiBUb29sIHRoYXQgd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgdW5hdmFpbGFibGUgdG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIHVuYXZhaWxhYmxlIHRvb2wgbmFtZSB0byBzdHViXG4gICAqIEBwYXJhbSBkYXRhIC0gZGF0YSBvZiB1bmF2YWlsYWJsZSBibG9ja1xuICAgKiBAcGFyYW0gW2lkXSAtIGlkIG9mIHVuYXZhaWxhYmxlIGJsb2NrXG4gICAqL1xuICBjb21wb3NlU3R1YkRhdGFGb3JUb29sKGUsIHQsIG8pIHtcbiAgICBjb25zdCB7IFRvb2xzOiBpIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBsZXQgcyA9IGU7XG4gICAgaWYgKGkudW5hdmFpbGFibGUuaGFzKGUpKSB7XG4gICAgICBjb25zdCByID0gaS51bmF2YWlsYWJsZS5nZXQoZSkudG9vbGJveDtcbiAgICAgIHIgIT09IHZvaWQgMCAmJiByWzBdLnRpdGxlICE9PSB2b2lkIDAgJiYgKHMgPSByWzBdLnRpdGxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHNhdmVkRGF0YToge1xuICAgICAgICBpZDogbyxcbiAgICAgICAgdHlwZTogZSxcbiAgICAgICAgZGF0YTogdFxuICAgICAgfSxcbiAgICAgIHRpdGxlOiBzXG4gICAgfTtcbiAgfVxufVxuY2xhc3MgZHMgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIENvbXBvc2VzIG5ldyBjaGFpbiBvZiBQcm9taXNlcyB0byBmaXJlIHRoZW0gYWx0ZXJuYXRlbGx5XG4gICAqXG4gICAqIEByZXR1cm5zIHtPdXRwdXREYXRhfVxuICAgKi9cbiAgYXN5bmMgc2F2ZSgpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSwgVG9vbHM6IHQgfSA9IHRoaXMuRWRpdG9yLCBvID0gZS5ibG9ja3MsIGkgPSBbXTtcbiAgICB0cnkge1xuICAgICAgby5mb3JFYWNoKChsKSA9PiB7XG4gICAgICAgIGkucHVzaCh0aGlzLmdldFNhdmVkRGF0YShsKSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHMgPSBhd2FpdCBQcm9taXNlLmFsbChpKSwgciA9IGF3YWl0IGl0KHMsIChsKSA9PiB0LmJsb2NrVG9vbHMuZ2V0KGwpLnNhbml0aXplQ29uZmlnKTtcbiAgICAgIHJldHVybiB0aGlzLm1ha2VPdXRwdXQocik7XG4gICAgfSBjYXRjaCAocykge1xuICAgICAgWChcIlNhdmluZyBmYWlsZWQgZHVlIHRvIHRoZSBFcnJvciAlb1wiLCBcImVycm9yXCIsIHMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2F2ZXMgYW5kIHZhbGlkYXRlc1xuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayAtIEVkaXRvcidzIFRvb2xcbiAgICogQHJldHVybnMge1ZhbGlkYXRlZERhdGF9IC0gVG9vbCdzIHZhbGlkYXRlZCBkYXRhXG4gICAqL1xuICBhc3luYyBnZXRTYXZlZERhdGEoZSkge1xuICAgIGNvbnN0IHQgPSBhd2FpdCBlLnNhdmUoKSwgbyA9IHQgJiYgYXdhaXQgZS52YWxpZGF0ZSh0LmRhdGEpO1xuICAgIHJldHVybiB7XG4gICAgICAuLi50LFxuICAgICAgaXNWYWxpZDogb1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgb3V0cHV0IG9iamVjdCB3aXRoIHNhdmVkIGRhdGEsIHRpbWUgYW5kIHZlcnNpb24gb2YgZWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7VmFsaWRhdGVkRGF0YX0gYWxsRXh0cmFjdGVkRGF0YSAtIGRhdGEgZXh0cmFjdGVkIGZyb20gQmxvY2tzXG4gICAqIEByZXR1cm5zIHtPdXRwdXREYXRhfVxuICAgKi9cbiAgbWFrZU91dHB1dChlKSB7XG4gICAgY29uc3QgdCA9IFtdO1xuICAgIHJldHVybiBlLmZvckVhY2goKHsgaWQ6IG8sIHRvb2w6IGksIGRhdGE6IHMsIHR1bmVzOiByLCBpc1ZhbGlkOiBsIH0pID0+IHtcbiAgICAgIGlmICghbCkge1xuICAgICAgICBJKGBCbG9jayDCqyR7aX3CuyBza2lwcGVkIGJlY2F1c2Ugc2F2ZWQgZGF0YSBpcyBpbnZhbGlkYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpID09PSB0aGlzLkVkaXRvci5Ub29scy5zdHViVG9vbCkge1xuICAgICAgICB0LnB1c2gocyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGEgPSB7XG4gICAgICAgIGlkOiBvLFxuICAgICAgICB0eXBlOiBpLFxuICAgICAgICBkYXRhOiBzLFxuICAgICAgICAuLi4hVihyKSAmJiB7XG4gICAgICAgICAgdHVuZXM6IHJcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHQucHVzaChhKTtcbiAgICB9KSwge1xuICAgICAgdGltZTogKy8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgYmxvY2tzOiB0LFxuICAgICAgdmVyc2lvbjogXCIyLjMwLjZcIlxuICAgIH07XG4gIH1cbn1cbihmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50IDwgXCJ1XCIpIHtcbiAgICAgIHZhciBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5jZS1wYXJhZ3JhcGh7bGluZS1oZWlnaHQ6MS42ZW07b3V0bGluZTpub25lfS5jZS1ibG9jazpvbmx5LW9mLXR5cGUgLmNlLXBhcmFncmFwaFtkYXRhLXBsYWNlaG9sZGVyLWFjdGl2ZV06ZW1wdHk6YmVmb3JlLC5jZS1ibG9jazpvbmx5LW9mLXR5cGUgLmNlLXBhcmFncmFwaFtkYXRhLXBsYWNlaG9sZGVyLWFjdGl2ZV1bZGF0YS1lbXB0eT10cnVlXTpiZWZvcmV7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXItYWN0aXZlKX0uY2UtcGFyYWdyYXBoIHA6Zmlyc3Qtb2YtdHlwZXttYXJnaW4tdG9wOjB9LmNlLXBhcmFncmFwaCBwOmxhc3Qtb2YtdHlwZXttYXJnaW4tYm90dG9tOjB9XCIpKSwgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwidml0ZS1wbHVnaW4tY3NzLWluamVjdGVkLWJ5LWpzXCIsIGUpO1xuICB9XG59KSgpO1xuY29uc3QgaHMgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTggOVY3LjJDOCA3LjA4OTU0IDguMDg5NTQgNyA4LjIgN0wxMiA3TTE2IDlWNy4yQzE2IDcuMDg5NTQgMTUuOTEwNSA3IDE1LjggN0wxMiA3TTEyIDdMMTIgMTdNMTIgMTdIMTBNMTIgMTdIMTRcIi8+PC9zdmc+JztcbmZ1bmN0aW9uIHVzKG4pIHtcbiAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGUuaW5uZXJIVE1MID0gbi50cmltKCk7XG4gIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIHJldHVybiB0LmFwcGVuZCguLi5BcnJheS5mcm9tKGUuY2hpbGROb2RlcykpLCB0O1xufVxuLyoqXG4gKiBCYXNlIFBhcmFncmFwaCBCbG9jayBmb3IgdGhlIEVkaXRvci5qcy5cbiAqIFJlcHJlc2VudHMgYSByZWd1bGFyIHRleHQgYmxvY2tcbiAqXG4gKiBAYXV0aG9yIENvZGVYICh0ZWFtQGNvZGV4LnNvKVxuICogQGNvcHlyaWdodCBDb2RlWCAyMDE4XG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqL1xuY2xhc3MgaHQge1xuICAvKipcbiAgICogRGVmYXVsdCBwbGFjZWhvbGRlciBmb3IgUGFyYWdyYXBoIFRvb2xcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogQGNsYXNzXG4gICAqL1xuICBzdGF0aWMgZ2V0IERFRkFVTFRfUExBQ0VIT0xERVIoKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBwbHVnaW5gcyBtYWluIEVsZW1lbnQgYW5kIGZpbGwgaXQgd2l0aCBzYXZlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSBjb25zdHJ1Y3RvciBwYXJhbXNcbiAgICogQHBhcmFtIHtQYXJhZ3JhcGhEYXRhfSBwYXJhbXMuZGF0YSAtIHByZXZpb3VzbHkgc2F2ZWQgZGF0YVxuICAgKiBAcGFyYW0ge1BhcmFncmFwaENvbmZpZ30gcGFyYW1zLmNvbmZpZyAtIHVzZXIgY29uZmlnIGZvciBUb29sXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMuYXBpIC0gZWRpdG9yLmpzIGFwaVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5IC0gcmVhZCBvbmx5IG1vZGUgZmxhZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiBlLCBjb25maWc6IHQsIGFwaTogbywgcmVhZE9ubHk6IGkgfSkge1xuICAgIHRoaXMuYXBpID0gbywgdGhpcy5yZWFkT25seSA9IGksIHRoaXMuX0NTUyA9IHtcbiAgICAgIGJsb2NrOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICB3cmFwcGVyOiBcImNlLXBhcmFncmFwaFwiXG4gICAgfSwgdGhpcy5yZWFkT25seSB8fCAodGhpcy5vbktleVVwID0gdGhpcy5vbktleVVwLmJpbmQodGhpcykpLCB0aGlzLl9wbGFjZWhvbGRlciA9IHQucGxhY2Vob2xkZXIgPyB0LnBsYWNlaG9sZGVyIDogaHQuREVGQVVMVF9QTEFDRUhPTERFUiwgdGhpcy5fZGF0YSA9IGUgPz8ge30sIHRoaXMuX2VsZW1lbnQgPSBudWxsLCB0aGlzLl9wcmVzZXJ2ZUJsYW5rID0gdC5wcmVzZXJ2ZUJsYW5rID8/ICExO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0ZXh0IGNvbnRlbnQgaXMgZW1wdHkgYW5kIHNldCBlbXB0eSBzdHJpbmcgdG8gaW5uZXIgaHRtbC5cbiAgICogV2UgbmVlZCB0aGlzIGJlY2F1c2Ugc29tZSBicm93c2VycyAoZS5nLiBTYWZhcmkpIGluc2VydCA8YnI+IGludG8gZW1wdHkgY29udGVudGVkaXRhbmxlIGVsZW1lbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIGtleSB1cCBldmVudFxuICAgKi9cbiAgb25LZXlVcChlKSB7XG4gICAgaWYgKGUuY29kZSAhPT0gXCJCYWNrc3BhY2VcIiAmJiBlLmNvZGUgIT09IFwiRGVsZXRlXCIgfHwgIXRoaXMuX2VsZW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyB0ZXh0Q29udGVudDogdCB9ID0gdGhpcy5fZWxlbWVudDtcbiAgICB0ID09PSBcIlwiICYmICh0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IFwiXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgVG9vbCdzIHZpZXdcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxEaXZFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZHJhd1ZpZXcoKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XG4gICAgcmV0dXJuIGUuY2xhc3NMaXN0LmFkZCh0aGlzLl9DU1Mud3JhcHBlciwgdGhpcy5fQ1NTLmJsb2NrKSwgZS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCIsIGUuZGF0YXNldC5wbGFjZWhvbGRlckFjdGl2ZSA9IHRoaXMuYXBpLmkxOG4udCh0aGlzLl9wbGFjZWhvbGRlciksIHRoaXMuX2RhdGEudGV4dCAmJiAoZS5pbm5lckhUTUwgPSB0aGlzLl9kYXRhLnRleHQpLCB0aGlzLnJlYWRPbmx5IHx8IChlLmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiLCBlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXApKSwgZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFRvb2wncyB2aWV3XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRGl2RWxlbWVudH1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudCA9IHRoaXMuZHJhd1ZpZXcoKSwgdGhpcy5fZWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIHRoYXQgc3BlY2lmaWVkIGhvdyB0byBtZXJnZSB0d28gVGV4dCBibG9ja3MuXG4gICAqIENhbGxlZCBieSBFZGl0b3IuanMgYnkgYmFja3NwYWNlIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7UGFyYWdyYXBoRGF0YX0gZGF0YVxuICAgKiBAcHVibGljXG4gICAqL1xuICBtZXJnZShlKSB7XG4gICAgaWYgKCF0aGlzLl9lbGVtZW50KVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX2RhdGEudGV4dCArPSBlLnRleHQ7XG4gICAgY29uc3QgdCA9IHVzKGUudGV4dCk7XG4gICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZCh0KSwgdGhpcy5fZWxlbWVudC5ub3JtYWxpemUoKTtcbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgUGFyYWdyYXBoIGJsb2NrIGRhdGE6XG4gICAqIC0gY2hlY2sgZm9yIGVtcHRpbmVzc1xuICAgKlxuICAgKiBAcGFyYW0ge1BhcmFncmFwaERhdGF9IHNhdmVkRGF0YSDigJQgZGF0YSByZWNlaXZlZCBhZnRlciBzYXZpbmdcbiAgICogQHJldHVybnMge2Jvb2xlYW59IGZhbHNlIGlmIHNhdmVkIGRhdGEgaXMgbm90IGNvcnJlY3QsIG90aGVyd2lzZSB0cnVlXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHZhbGlkYXRlKGUpIHtcbiAgICByZXR1cm4gIShlLnRleHQudHJpbSgpID09PSBcIlwiICYmICF0aGlzLl9wcmVzZXJ2ZUJsYW5rKTtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBUb29sJ3MgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IHRvb2xzQ29udGVudCAtIFBhcmFncmFwaCB0b29scyByZW5kZXJlZCB2aWV3XG4gICAqIEByZXR1cm5zIHtQYXJhZ3JhcGhEYXRhfSAtIHNhdmVkIGRhdGFcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2F2ZShlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IGUuaW5uZXJIVE1MXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogT24gcGFzdGUgY2FsbGJhY2sgZmlyZWQgZnJvbSBFZGl0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTFBhc3RlRXZlbnR9IGV2ZW50IC0gZXZlbnQgd2l0aCBwYXN0ZWQgZGF0YVxuICAgKi9cbiAgb25QYXN0ZShlKSB7XG4gICAgY29uc3QgdCA9IHtcbiAgICAgIHRleHQ6IGUuZGV0YWlsLmRhdGEuaW5uZXJIVE1MXG4gICAgfTtcbiAgICB0aGlzLl9kYXRhID0gdCwgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLl9lbGVtZW50ICYmICh0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX2RhdGEudGV4dCB8fCBcIlwiKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlIENvbnZlcnNpb24gVG9vbGJhci4gUGFyYWdyYXBoIGNhbiBiZSBjb252ZXJ0ZWQgdG8vZnJvbSBvdGhlciB0b29sc1xuICAgKiBAcmV0dXJucyB7Q29udmVyc2lvbkNvbmZpZ31cbiAgICovXG4gIHN0YXRpYyBnZXQgY29udmVyc2lvbkNvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwb3J0OiBcInRleHRcIixcbiAgICAgIC8vIHRvIGNvbnZlcnQgUGFyYWdyYXBoIHRvIG90aGVyIGJsb2NrLCB1c2UgJ3RleHQnIHByb3BlcnR5IG9mIHNhdmVkIGRhdGFcbiAgICAgIGltcG9ydDogXCJ0ZXh0XCJcbiAgICAgIC8vIHRvIGNvdmVydCBvdGhlciBibG9jaydzIGV4cG9ydGVkIHN0cmluZyB0byBQYXJhZ3JhcGgsIGZpbGwgJ3RleHQnIHByb3BlcnR5IG9mIHRvb2wgZGF0YVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBydWxlc1xuICAgKiBAcmV0dXJucyB7U2FuaXRpemVyQ29uZmlnfSAtIEVkdGlvci5qcyBzYW5pdGl6ZXIgY29uZmlnXG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiB7XG4gICAgICAgIGJyOiAhMFxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSB0byBub3RpZnkgdGhlIGNvcmUgdGhhdCByZWFkLW9ubHkgbW9kZSBpcyBzdXBwb3J0ZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBVc2VkIGJ5IEVkaXRvciBwYXN0ZSBoYW5kbGluZyBBUEkuXG4gICAqIFByb3ZpZGVzIGNvbmZpZ3VyYXRpb24gdG8gaGFuZGxlIFAgdGFncy5cbiAgICpcbiAgICogQHJldHVybnMge1Bhc3RlQ29uZmlnfSAtIFBhcmFncmFwaCBQYXN0ZSBTZXR0aW5nXG4gICAqL1xuICBzdGF0aWMgZ2V0IHBhc3RlQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0YWdzOiBbXCJQXCJdXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogSWNvbiBhbmQgdGl0bGUgZm9yIGRpc3BsYXlpbmcgYXQgdGhlIFRvb2xib3hcbiAgICpcbiAgICogQHJldHVybnMge1Rvb2xib3hDb25maWd9IC0gUGFyYWdyYXBoIFRvb2xib3ggU2V0dGluZ1xuICAgKi9cbiAgc3RhdGljIGdldCB0b29sYm94KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBocyxcbiAgICAgIHRpdGxlOiBcIlRleHRcIlxuICAgIH07XG4gIH1cbn1cbmNsYXNzIHV0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21tYW5kTmFtZSA9IFwiYm9sZFwiO1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgUnVsZVxuICAgKiBMZWF2ZSA8Yj4gdGFnc1xuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBzYW5pdGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYjoge31cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYnV0dG9uIGZvciBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBiaSxcbiAgICAgIG5hbWU6IFwiYm9sZFwiLFxuICAgICAgb25BY3RpdmF0ZTogKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmROYW1lKTtcbiAgICAgIH0sXG4gICAgICBpc0FjdGl2ZTogKCkgPT4gZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUodGhpcy5jb21tYW5kTmFtZSlcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTZXQgYSBzaG9ydGN1dFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBzaG9ydGN1dCgpIHtcbiAgICByZXR1cm4gXCJDTUQrQlwiO1xuICB9XG59XG51dC5pc0lubGluZSA9ICEwO1xudXQudGl0bGUgPSBcIkJvbGRcIjtcbmNsYXNzIHB0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21tYW5kTmFtZSA9IFwiaXRhbGljXCIsIHRoaXMuQ1NTID0ge1xuICAgICAgYnV0dG9uOiBcImNlLWlubGluZS10b29sXCIsXG4gICAgICBidXR0b25BY3RpdmU6IFwiY2UtaW5saW5lLXRvb2wtLWFjdGl2ZVwiLFxuICAgICAgYnV0dG9uTW9kaWZpZXI6IFwiY2UtaW5saW5lLXRvb2wtLWl0YWxpY1wiXG4gICAgfSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIGJ1dHRvbjogbnVsbFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlXG4gICAqIExlYXZlIDxpPiB0YWdzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpOiB7fVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBidXR0b24gZm9yIElubGluZSBUb29sYmFyXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMuYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgdGhpcy5ub2Rlcy5idXR0b24udHlwZSA9IFwiYnV0dG9uXCIsIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYnV0dG9uLCB0aGlzLkNTUy5idXR0b25Nb2RpZmllciksIHRoaXMubm9kZXMuYnV0dG9uLmlubmVySFRNTCA9IEJpLCB0aGlzLm5vZGVzLmJ1dHRvbjtcbiAgfVxuICAvKipcbiAgICogV3JhcCByYW5nZSB3aXRoIDxpPiB0YWdcbiAgICovXG4gIHN1cnJvdW5kKCkge1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZE5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBzZWxlY3Rpb24gYW5kIHNldCBhY3RpdmF0ZWQgc3RhdGUgdG8gYnV0dG9uIGlmIHRoZXJlIGFyZSA8aT4gdGFnXG4gICAqL1xuICBjaGVja1N0YXRlKCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZSh0aGlzLmNvbW1hbmROYW1lKTtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy5idXR0b25BY3RpdmUsIGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgYSBzaG9ydGN1dFxuICAgKi9cbiAgZ2V0IHNob3J0Y3V0KCkge1xuICAgIHJldHVybiBcIkNNRCtJXCI7XG4gIH1cbn1cbnB0LmlzSW5saW5lID0gITA7XG5wdC50aXRsZSA9IFwiSXRhbGljXCI7XG5jbGFzcyBmdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuY29tbWFuZExpbmsgPSBcImNyZWF0ZUxpbmtcIiwgdGhpcy5jb21tYW5kVW5saW5rID0gXCJ1bmxpbmtcIiwgdGhpcy5FTlRFUl9LRVkgPSAxMywgdGhpcy5DU1MgPSB7XG4gICAgICBidXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGJ1dHRvbkFjdGl2ZTogXCJjZS1pbmxpbmUtdG9vbC0tYWN0aXZlXCIsXG4gICAgICBidXR0b25Nb2RpZmllcjogXCJjZS1pbmxpbmUtdG9vbC0tbGlua1wiLFxuICAgICAgYnV0dG9uVW5saW5rOiBcImNlLWlubGluZS10b29sLS11bmxpbmtcIixcbiAgICAgIGlucHV0OiBcImNlLWlubGluZS10b29sLWlucHV0XCIsXG4gICAgICBpbnB1dFNob3dlZDogXCJjZS1pbmxpbmUtdG9vbC1pbnB1dC0tc2hvd2VkXCJcbiAgICB9LCB0aGlzLm5vZGVzID0ge1xuICAgICAgYnV0dG9uOiBudWxsLFxuICAgICAgaW5wdXQ6IG51bGxcbiAgICB9LCB0aGlzLmlucHV0T3BlbmVkID0gITEsIHRoaXMudG9vbGJhciA9IGUudG9vbGJhciwgdGhpcy5pbmxpbmVUb29sYmFyID0gZS5pbmxpbmVUb29sYmFyLCB0aGlzLm5vdGlmaWVyID0gZS5ub3RpZmllciwgdGhpcy5pMThuID0gZS5pMThuLCB0aGlzLnNlbGVjdGlvbiA9IG5ldyBiKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlXG4gICAqIExlYXZlIDxhPiB0YWdzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhOiB7XG4gICAgICAgIGhyZWY6ICEwLFxuICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgIHJlbDogXCJub2ZvbGxvd1wiXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJ1dHRvbiBmb3IgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCB0aGlzLm5vZGVzLmJ1dHRvbi50eXBlID0gXCJidXR0b25cIiwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b24sIHRoaXMuQ1NTLmJ1dHRvbk1vZGlmaWVyKSwgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0geXQsIHRoaXMubm9kZXMuYnV0dG9uO1xuICB9XG4gIC8qKlxuICAgKiBJbnB1dCBmb3IgdGhlIGxpbmtcbiAgICovXG4gIHJlbmRlckFjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMuaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksIHRoaXMubm9kZXMuaW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLmkxOG4udChcIkFkZCBhIGxpbmtcIiksIHRoaXMubm9kZXMuaW5wdXQuZW50ZXJLZXlIaW50ID0gXCJkb25lXCIsIHRoaXMubm9kZXMuaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5pbnB1dCksIHRoaXMubm9kZXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGUua2V5Q29kZSA9PT0gdGhpcy5FTlRFUl9LRVkgJiYgdGhpcy5lbnRlclByZXNzZWQoZSk7XG4gICAgfSksIHRoaXMubm9kZXMuaW5wdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBjbGlja3Mgb24gdGhlIElubGluZSBUb29sYmFyIGljb25cbiAgICpcbiAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgLSByYW5nZSB0byB3cmFwIHdpdGggbGlua1xuICAgKi9cbiAgc3Vycm91bmQoZSkge1xuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLmlucHV0T3BlbmVkID8gKHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5zZWxlY3Rpb24ucmVtb3ZlRmFrZUJhY2tncm91bmQoKSkgOiAodGhpcy5zZWxlY3Rpb24uc2V0RmFrZUJhY2tncm91bmQoKSwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpKTtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLnNlbGVjdGlvbi5maW5kUGFyZW50VGFnKFwiQVwiKTtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmV4cGFuZFRvVGFnKHQpLCB0aGlzLnVubGluaygpLCB0aGlzLmNsb3NlQWN0aW9ucygpLCB0aGlzLmNoZWNrU3RhdGUoKSwgdGhpcy50b29sYmFyLmNsb3NlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50b2dnbGVBY3Rpb25zKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIHNlbGVjdGlvbiBhbmQgc2V0IGFjdGl2YXRlZCBzdGF0ZSB0byBidXR0b24gaWYgdGhlcmUgYXJlIDxhPiB0YWdcbiAgICovXG4gIGNoZWNrU3RhdGUoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJBXCIpO1xuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLm5vZGVzLmJ1dHRvbi5pbm5lckhUTUwgPSBJaSwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b25VbmxpbmspLCB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSksIHRoaXMub3BlbkFjdGlvbnMoKTtcbiAgICAgIGNvbnN0IHQgPSBlLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICB0aGlzLm5vZGVzLmlucHV0LnZhbHVlID0gdCAhPT0gXCJudWxsXCIgPyB0IDogXCJcIiwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0geXQsIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuYnV0dG9uVW5saW5rKSwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5idXR0b25BY3RpdmUpO1xuICAgIHJldHVybiAhIWU7XG4gIH1cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIElubGluZSBUb29sYmFyIGNsb3NpbmdcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2xvc2VBY3Rpb25zKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhIHNob3J0Y3V0XG4gICAqL1xuICBnZXQgc2hvcnRjdXQoKSB7XG4gICAgcmV0dXJuIFwiQ01EK0tcIjtcbiAgfVxuICAvKipcbiAgICogU2hvdy9jbG9zZSBsaW5rIGlucHV0XG4gICAqL1xuICB0b2dnbGVBY3Rpb25zKCkge1xuICAgIHRoaXMuaW5wdXRPcGVuZWQgPyB0aGlzLmNsb3NlQWN0aW9ucyghMSkgOiB0aGlzLm9wZW5BY3Rpb25zKCEwKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBuZWVkRm9jdXMgLSBvbiBsaW5rIGNyZWF0aW9uIHdlIG5lZWQgdG8gZm9jdXMgaW5wdXQuIE9uIGVkaXRpbmcgLSBub3BlLlxuICAgKi9cbiAgb3BlbkFjdGlvbnMoZSA9ICExKSB7XG4gICAgdGhpcy5ub2Rlcy5pbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmlucHV0U2hvd2VkKSwgZSAmJiB0aGlzLm5vZGVzLmlucHV0LmZvY3VzKCksIHRoaXMuaW5wdXRPcGVuZWQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgaW5wdXRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBjbGVhclNhdmVkU2VsZWN0aW9uIOKAlCB3ZSBkb24ndCBuZWVkIHRvIGNsZWFyIHNhdmVkIHNlbGVjdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbiB0b2dnbGUtY2xpY2tzIG9uIHRoZSBpY29uIG9mIG9wZW5lZCBUb29sYmFyXG4gICAqL1xuICBjbG9zZUFjdGlvbnMoZSA9ICEwKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRmFrZUJhY2tncm91bmRFbmFibGVkKSB7XG4gICAgICBjb25zdCB0ID0gbmV3IGIoKTtcbiAgICAgIHQuc2F2ZSgpLCB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMuc2VsZWN0aW9uLnJlbW92ZUZha2VCYWNrZ3JvdW5kKCksIHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICB0aGlzLm5vZGVzLmlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuaW5wdXRTaG93ZWQpLCB0aGlzLm5vZGVzLmlucHV0LnZhbHVlID0gXCJcIiwgZSAmJiB0aGlzLnNlbGVjdGlvbi5jbGVhclNhdmVkKCksIHRoaXMuaW5wdXRPcGVuZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogRW50ZXIgcHJlc3NlZCBvbiBpbnB1dFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0gZW50ZXIga2V5ZG93biBldmVudFxuICAgKi9cbiAgZW50ZXJQcmVzc2VkKGUpIHtcbiAgICBsZXQgdCA9IHRoaXMubm9kZXMuaW5wdXQudmFsdWUgfHwgXCJcIjtcbiAgICBpZiAoIXQudHJpbSgpKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMudW5saW5rKCksIGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5jbG9zZUFjdGlvbnMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnZhbGlkYXRlVVJMKHQpKSB7XG4gICAgICB0aGlzLm5vdGlmaWVyLnNob3coe1xuICAgICAgICBtZXNzYWdlOiBcIlBhc3RlZCBsaW5rIGlzIG5vdCB2YWxpZC5cIixcbiAgICAgICAgc3R5bGU6IFwiZXJyb3JcIlxuICAgICAgfSksIEkoXCJJbmNvcnJlY3QgTGluayBwYXN0ZWRcIiwgXCJ3YXJuXCIsIHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0ID0gdGhpcy5wcmVwYXJlTGluayh0KSwgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpLCB0aGlzLnNlbGVjdGlvbi5yZW1vdmVGYWtlQmFja2dyb3VuZCgpLCB0aGlzLmluc2VydExpbmsodCksIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgdGhpcy5zZWxlY3Rpb24uY29sbGFwc2VUb0VuZCgpLCB0aGlzLmlubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZWN0cyBpZiBwYXNzZWQgc3RyaW5nIGlzIFVSTFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gc3RyaW5nIHRvIHZhbGlkYXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgdmFsaWRhdGVVUkwoZSkge1xuICAgIHJldHVybiAhL1xccy8udGVzdChlKTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBsaW5rIGJlZm9yZSBpbmplY3Rpb25cbiAgICogLSBzYW5pdGl6ZVxuICAgKiAtIGFkZCBwcm90b2NvbCBmb3IgbGlua3MgbGlrZSAnZ29vZ2xlLmNvbSdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmsgLSByYXcgdXNlciBpbnB1dFxuICAgKi9cbiAgcHJlcGFyZUxpbmsoZSkge1xuICAgIHJldHVybiBlID0gZS50cmltKCksIGUgPSB0aGlzLmFkZFByb3RvY29sKGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgJ2h0dHAnIHByb3RvY29sIHRvIHRoZSBsaW5rcyBsaWtlICd2Yy5ydScsICdnb29nbGUuY29tJ1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluayAtIHN0cmluZyB0byBwcm9jZXNzXG4gICAqL1xuICBhZGRQcm90b2NvbChlKSB7XG4gICAgaWYgKC9eKFxcdyspOihcXC9cXC8pPy8udGVzdChlKSlcbiAgICAgIHJldHVybiBlO1xuICAgIGNvbnN0IHQgPSAvXlxcL1teL1xcc10vLnRlc3QoZSksIG8gPSBlLnN1YnN0cmluZygwLCAxKSA9PT0gXCIjXCIsIGkgPSAvXlxcL1xcL1teL1xcc10vLnRlc3QoZSk7XG4gICAgcmV0dXJuICF0ICYmICFvICYmICFpICYmIChlID0gXCJodHRwOi8vXCIgKyBlKSwgZTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyA8YT4gdGFnIHdpdGggXCJocmVmXCJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmsgLSBcImhyZWZcIiB2YWx1ZVxuICAgKi9cbiAgaW5zZXJ0TGluayhlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJBXCIpO1xuICAgIHQgJiYgdGhpcy5zZWxlY3Rpb24uZXhwYW5kVG9UYWcodCksIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZExpbmssICExLCBlKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyA8YT4gdGFnXG4gICAqL1xuICB1bmxpbmsoKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kVW5saW5rKTtcbiAgfVxufVxuZnQuaXNJbmxpbmUgPSAhMDtcbmZ0LnRpdGxlID0gXCJMaW5rXCI7XG5jbGFzcyBhbyB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuaTE4bkFQSSA9IGUuaTE4biwgdGhpcy5ibG9ja3NBUEkgPSBlLmJsb2NrcywgdGhpcy5zZWxlY3Rpb25BUEkgPSBlLnNlbGVjdGlvbiwgdGhpcy50b29sc0FQSSA9IGUudG9vbHMsIHRoaXMuY2FyZXRBUEkgPSBlLmNhcmV0O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRvb2wncyBVSSBjb25maWdcbiAgICovXG4gIGFzeW5jIHJlbmRlcigpIHtcbiAgICBjb25zdCBlID0gYi5nZXQoKSwgdCA9IHRoaXMuYmxvY2tzQVBJLmdldEJsb2NrQnlFbGVtZW50KGUuYW5jaG9yTm9kZSk7XG4gICAgaWYgKHQgPT09IHZvaWQgMClcbiAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCBvID0gdGhpcy50b29sc0FQSS5nZXRCbG9ja1Rvb2xzKCksIGkgPSBhd2FpdCB6dCh0LCBvKTtcbiAgICBpZiAoaS5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gW107XG4gICAgY29uc3QgcyA9IGkucmVkdWNlKChjLCB1KSA9PiB7XG4gICAgICB2YXIgaDtcbiAgICAgIHJldHVybiAoaCA9IHUudG9vbGJveCkgPT0gbnVsbCB8fCBoLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgYy5wdXNoKHtcbiAgICAgICAgICBpY29uOiBwLmljb24sXG4gICAgICAgICAgdGl0bGU6IHoudChLLnRvb2xOYW1lcywgcC50aXRsZSksXG4gICAgICAgICAgbmFtZTogdS5uYW1lLFxuICAgICAgICAgIGNsb3NlT25BY3RpdmF0ZTogITAsXG4gICAgICAgICAgb25BY3RpdmF0ZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZyA9IGF3YWl0IHRoaXMuYmxvY2tzQVBJLmNvbnZlcnQodC5pZCwgdS5uYW1lLCBwLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5jYXJldEFQSS5zZXRUb0Jsb2NrKGcsIFwiZW5kXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KSwgYztcbiAgICB9LCBbXSksIHIgPSBhd2FpdCB0LmdldEFjdGl2ZVRvb2xib3hFbnRyeSgpLCBsID0gciAhPT0gdm9pZCAwID8gci5pY29uIDogS3QsIGEgPSAhcGUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogbCxcbiAgICAgIG5hbWU6IFwiY29udmVydC10b1wiLFxuICAgICAgaGludDoge1xuICAgICAgICB0aXRsZTogdGhpcy5pMThuQVBJLnQoXCJDb252ZXJ0IHRvXCIpXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IHtcbiAgICAgICAgc2VhcmNoYWJsZTogYSxcbiAgICAgICAgaXRlbXM6IHMsXG4gICAgICAgIG9uT3BlbjogKCkgPT4ge1xuICAgICAgICAgIGEgJiYgKHRoaXMuc2VsZWN0aW9uQVBJLnNldEZha2VCYWNrZ3JvdW5kKCksIHRoaXMuc2VsZWN0aW9uQVBJLnNhdmUoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICBhICYmICh0aGlzLnNlbGVjdGlvbkFQSS5yZXN0b3JlKCksIHRoaXMuc2VsZWN0aW9uQVBJLnJlbW92ZUZha2VCYWNrZ3JvdW5kKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuYW8uaXNJbmxpbmUgPSAhMDtcbmNsYXNzIGNvIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gY29uc3RydWN0b3Igb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5kYXRhIC0gc3R1YiB0b29sIGRhdGFcbiAgICogQHBhcmFtIG9wdGlvbnMuYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiBlLCBhcGk6IHQgfSkge1xuICAgIHRoaXMuQ1NTID0ge1xuICAgICAgd3JhcHBlcjogXCJjZS1zdHViXCIsXG4gICAgICBpbmZvOiBcImNlLXN0dWJfX2luZm9cIixcbiAgICAgIHRpdGxlOiBcImNlLXN0dWJfX3RpdGxlXCIsXG4gICAgICBzdWJ0aXRsZTogXCJjZS1zdHViX19zdWJ0aXRsZVwiXG4gICAgfSwgdGhpcy5hcGkgPSB0LCB0aGlzLnRpdGxlID0gZS50aXRsZSB8fCB0aGlzLmFwaS5pMThuLnQoXCJFcnJvclwiKSwgdGhpcy5zdWJ0aXRsZSA9IHRoaXMuYXBpLmkxOG4udChcIlRoZSBibG9jayBjYW4gbm90IGJlIGRpc3BsYXllZCBjb3JyZWN0bHkuXCIpLCB0aGlzLnNhdmVkRGF0YSA9IGUuc2F2ZWREYXRhLCB0aGlzLndyYXBwZXIgPSB0aGlzLm1ha2UoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzdHViIGhvbGRlclxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIG9yaWdpbmFsIFRvb2wgZGF0YVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2tUb29sRGF0YX1cbiAgICovXG4gIHNhdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2F2ZWREYXRhO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgVG9vbCBodG1sIG1hcmt1cFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBtYWtlKCkge1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1Mud3JhcHBlciksIHQgPSBNaSwgbyA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5pbmZvKSwgaSA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy50aXRsZSwge1xuICAgICAgdGV4dENvbnRlbnQ6IHRoaXMudGl0bGVcbiAgICB9KSwgcyA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5zdWJ0aXRsZSwge1xuICAgICAgdGV4dENvbnRlbnQ6IHRoaXMuc3VidGl0bGVcbiAgICB9KTtcbiAgICByZXR1cm4gZS5pbm5lckhUTUwgPSB0LCBvLmFwcGVuZENoaWxkKGkpLCBvLmFwcGVuZENoaWxkKHMpLCBlLmFwcGVuZENoaWxkKG8pLCBlO1xuICB9XG59XG5jby5pc1JlYWRPbmx5U3VwcG9ydGVkID0gITA7XG5jbGFzcyBwcyBleHRlbmRzIGR0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50eXBlID0gbmUuSW5saW5lO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRpdGxlIGZvciBJbmxpbmUgVG9vbCBpZiBzcGVjaWZpZWQgYnkgdXNlclxuICAgKi9cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGVbY3QuVGl0bGVdO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIG5ldyBJbmxpbmVUb29sIGluc3RhbmNlIGZyb20gY29uc3RydWN0YWJsZVxuICAgKi9cbiAgY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RhYmxlKHtcbiAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICBjb25maWc6IHRoaXMuc2V0dGluZ3NcbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgZnMgZXh0ZW5kcyBkdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudHlwZSA9IG5lLlR1bmU7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgbmV3IEJsb2NrVHVuZSBpbnN0YW5jZSBmcm9tIGNvbnN0cnVjdGFibGVcbiAgICpcbiAgICogQHBhcmFtIGRhdGEgLSBUdW5lIGRhdGFcbiAgICogQHBhcmFtIGJsb2NrIC0gQmxvY2sgQVBJIG9iamVjdFxuICAgKi9cbiAgY3JlYXRlKGUsIHQpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0YWJsZSh7XG4gICAgICBhcGk6IHRoaXMuYXBpLFxuICAgICAgY29uZmlnOiB0aGlzLnNldHRpbmdzLFxuICAgICAgYmxvY2s6IHQsXG4gICAgICBkYXRhOiBlXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIEYgZXh0ZW5kcyBNYXAge1xuICAvKipcbiAgICogUmV0dXJucyBCbG9jayBUb29scyBjb2xsZWN0aW9uXG4gICAqL1xuICBnZXQgYmxvY2tUb29scygpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbSh0aGlzLmVudHJpZXMoKSkuZmlsdGVyKChbLCB0XSkgPT4gdC5pc0Jsb2NrKCkpO1xuICAgIHJldHVybiBuZXcgRihlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBJbmxpbmUgVG9vbHMgY29sbGVjdGlvblxuICAgKi9cbiAgZ2V0IGlubGluZVRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiB0LmlzSW5saW5lKCkpO1xuICAgIHJldHVybiBuZXcgRihlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBCbG9jayBUdW5lcyBjb2xsZWN0aW9uXG4gICAqL1xuICBnZXQgYmxvY2tUdW5lcygpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbSh0aGlzLmVudHJpZXMoKSkuZmlsdGVyKChbLCB0XSkgPT4gdC5pc1R1bmUoKSk7XG4gICAgcmV0dXJuIG5ldyBGKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGludGVybmFsIFRvb2xzIGNvbGxlY3Rpb25cbiAgICovXG4gIGdldCBpbnRlcm5hbFRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiB0LmlzSW50ZXJuYWwpO1xuICAgIHJldHVybiBuZXcgRihlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29scyBjb2xsZWN0aW9uIHByb3ZpZGVkIGJ5IHVzZXJcbiAgICovXG4gIGdldCBleHRlcm5hbFRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiAhdC5pc0ludGVybmFsKTtcbiAgICByZXR1cm4gbmV3IEYoZSk7XG4gIH1cbn1cbnZhciBncyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgbXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBobyA9IChuLCBlLCB0LCBvKSA9PiB7XG4gIGZvciAodmFyIGkgPSBvID4gMSA/IHZvaWQgMCA6IG8gPyBtcyhlLCB0KSA6IGUsIHMgPSBuLmxlbmd0aCAtIDEsIHI7IHMgPj0gMDsgcy0tKVxuICAgIChyID0gbltzXSkgJiYgKGkgPSAobyA/IHIoZSwgdCwgaSkgOiByKGkpKSB8fCBpKTtcbiAgcmV0dXJuIG8gJiYgaSAmJiBncyhlLCB0LCBpKSwgaTtcbn07XG5jbGFzcyBndCBleHRlbmRzIGR0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50eXBlID0gbmUuQmxvY2ssIHRoaXMuaW5saW5lVG9vbHMgPSBuZXcgRigpLCB0aGlzLnR1bmVzID0gbmV3IEYoKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBuZXcgVG9vbCBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSAtIFRvb2wgZGF0YVxuICAgKiBAcGFyYW0gYmxvY2sgLSBCbG9ja0FQSSBmb3IgY3VycmVudCBCbG9ja1xuICAgKiBAcGFyYW0gcmVhZE9ubHkgLSBUcnVlIGlmIEVkaXRvciBpcyBpbiByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgY3JlYXRlKGUsIHQsIG8pIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0YWJsZSh7XG4gICAgICBkYXRhOiBlLFxuICAgICAgYmxvY2s6IHQsXG4gICAgICByZWFkT25seTogbyxcbiAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICBjb25maWc6IHRoaXMuc2V0dGluZ3NcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHJlYWQtb25seSBtb2RlIGlzIHN1cHBvcnRlZCBieSBUb29sXG4gICAqL1xuICBnZXQgaXNSZWFkT25seVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RhYmxlW2NlLklzUmVhZE9ubHlTdXBwb3J0ZWRdID09PSAhMDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIFRvb2wgc3VwcG9ydHMgbGluZWJyZWFrc1xuICAgKi9cbiAgZ2V0IGlzTGluZUJyZWFrc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZVtjZS5Jc0VuYWJsZWRMaW5lQnJlYWtzXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sIHRvb2xib3ggY29uZmlndXJhdGlvbiAoaW50ZXJuYWwgb3IgdXNlci1zcGVjaWZpZWQpLlxuICAgKlxuICAgKiBNZXJnZXMgaW50ZXJuYWwgYW5kIHVzZXItZGVmaW5lZCB0b29sYm94IGNvbmZpZ3MgYmFzZWQgb24gdGhlIGZvbGxvd2luZyBydWxlczpcbiAgICpcbiAgICogLSBJZiBib3RoIGludGVybmFsIGFuZCB1c2VyLWRlZmluZWQgdG9vbGJveCBjb25maWdzIGFyZSBhcnJheXMgdGhlaXIgaXRlbXMgYXJlIG1lcmdlZC5cbiAgICogTGVuZ3RoIG9mIHRoZSBzZWNvbmQgb25lIGlzIGtlcHQuXG4gICAqXG4gICAqIC0gSWYgYm90aCBhcmUgb2JqZWN0cyB0aGVpciBwcm9wZXJ0aWVzIGFyZSBtZXJnZWQuXG4gICAqXG4gICAqIC0gSWYgb25lIGlzIGFuIG9iamVjdCBhbmQgYW5vdGhlciBpcyBhbiBhcnJheSB0aGFuIGludGVybmFsIGNvbmZpZyBpcyByZXBsYWNlZCB3aXRoIHVzZXItZGVmaW5lZFxuICAgKiBjb25maWcuIFRoaXMgaXMgbWFkZSB0byBhbGxvdyB1c2VyIHRvIG92ZXJyaWRlIGRlZmF1bHQgdG9vbCdzIHRvb2xib3ggcmVwcmVzZW50YXRpb24gKHNpbmdsZS9tdWx0aXBsZSBlbnRyaWVzKVxuICAgKi9cbiAgZ2V0IHRvb2xib3goKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuY29uc3RydWN0YWJsZVtjZS5Ub29sYm94XSwgdCA9IHRoaXMuY29uZmlnW0llLlRvb2xib3hdO1xuICAgIGlmICghVihlKSAmJiB0ICE9PSAhMSlcbiAgICAgIHJldHVybiB0ID8gQXJyYXkuaXNBcnJheShlKSA/IEFycmF5LmlzQXJyYXkodCkgPyB0Lm1hcCgobywgaSkgPT4ge1xuICAgICAgICBjb25zdCBzID0gZVtpXTtcbiAgICAgICAgcmV0dXJuIHMgPyB7XG4gICAgICAgICAgLi4ucyxcbiAgICAgICAgICAuLi5vXG4gICAgICAgIH0gOiBvO1xuICAgICAgfSkgOiBbdF0gOiBBcnJheS5pc0FycmF5KHQpID8gdCA6IFtcbiAgICAgICAge1xuICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgLi4udFxuICAgICAgICB9XG4gICAgICBdIDogQXJyYXkuaXNBcnJheShlKSA/IGUgOiBbZV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCBjb252ZXJzaW9uIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGdldCBjb252ZXJzaW9uQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGVbY2UuQ29udmVyc2lvbkNvbmZpZ107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZW5hYmxlZCBpbmxpbmUgdG9vbHMgZm9yIFRvb2xcbiAgICovXG4gIGdldCBlbmFibGVkSW5saW5lVG9vbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnW0llLkVuYWJsZWRJbmxpbmVUb29sc10gfHwgITE7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZW5hYmxlZCB0dW5lcyBmb3IgVG9vbFxuICAgKi9cbiAgZ2V0IGVuYWJsZWRCbG9ja1R1bmVzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ1tJZS5FbmFibGVkQmxvY2tUdW5lc107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCBwYXN0ZSBjb25maWd1cmF0aW9uXG4gICAqL1xuICBnZXQgcGFzdGVDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZVtjZS5QYXN0ZUNvbmZpZ10gPz8ge307XG4gIH1cbiAgZ2V0IHNhbml0aXplQ29uZmlnKCkge1xuICAgIGNvbnN0IGUgPSBzdXBlci5zYW5pdGl6ZUNvbmZpZywgdCA9IHRoaXMuYmFzZVNhbml0aXplQ29uZmlnO1xuICAgIGlmIChWKGUpKVxuICAgICAgcmV0dXJuIHQ7XG4gICAgY29uc3QgbyA9IHt9O1xuICAgIGZvciAoY29uc3QgaSBpbiBlKVxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBpKSkge1xuICAgICAgICBjb25zdCBzID0gZVtpXTtcbiAgICAgICAgUihzKSA/IG9baV0gPSBPYmplY3QuYXNzaWduKHt9LCB0LCBzKSA6IG9baV0gPSBzO1xuICAgICAgfVxuICAgIHJldHVybiBvO1xuICB9XG4gIGdldCBiYXNlU2FuaXRpemVDb25maWcoKSB7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuaW5saW5lVG9vbHMudmFsdWVzKCkpLmZvckVhY2goKHQpID0+IE9iamVjdC5hc3NpZ24oZSwgdC5zYW5pdGl6ZUNvbmZpZykpLCBBcnJheS5mcm9tKHRoaXMudHVuZXMudmFsdWVzKCkpLmZvckVhY2goKHQpID0+IE9iamVjdC5hc3NpZ24oZSwgdC5zYW5pdGl6ZUNvbmZpZykpLCBlO1xuICB9XG59XG5obyhbXG4gIHVlXG5dLCBndC5wcm90b3R5cGUsIFwic2FuaXRpemVDb25maWdcIiwgMSk7XG5obyhbXG4gIHVlXG5dLCBndC5wcm90b3R5cGUsIFwiYmFzZVNhbml0aXplQ29uZmlnXCIsIDEpO1xuY2xhc3MgYnMge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBjb25maWcgLSB0b29scyBjb25maWdcbiAgICogQHBhcmFtIGVkaXRvckNvbmZpZyAtIEVkaXRvckpTIGNvbmZpZ1xuICAgKiBAcGFyYW0gYXBpIC0gRWRpdG9ySlMgQVBJIG1vZHVsZVxuICAgKi9cbiAgY29uc3RydWN0b3IoZSwgdCwgbykge1xuICAgIHRoaXMuYXBpID0gbywgdGhpcy5jb25maWcgPSBlLCB0aGlzLmVkaXRvckNvbmZpZyA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCBvYmplY3QgYmFzZWQgb24gaXQncyB0eXBlXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gdG9vbCBuYW1lXG4gICAqL1xuICBnZXQoZSkge1xuICAgIGNvbnN0IHsgY2xhc3M6IHQsIGlzSW50ZXJuYWw6IG8gPSAhMSwgLi4uaSB9ID0gdGhpcy5jb25maWdbZV0sIHMgPSB0aGlzLmdldENvbnN0cnVjdG9yKHQpLCByID0gdFtldC5Jc1R1bmVdO1xuICAgIHJldHVybiBuZXcgcyh7XG4gICAgICBuYW1lOiBlLFxuICAgICAgY29uc3RydWN0YWJsZTogdCxcbiAgICAgIGNvbmZpZzogaSxcbiAgICAgIGFwaTogdGhpcy5hcGkuZ2V0TWV0aG9kc0ZvclRvb2woZSwgciksXG4gICAgICBpc0RlZmF1bHQ6IGUgPT09IHRoaXMuZWRpdG9yQ29uZmlnLmRlZmF1bHRCbG9jayxcbiAgICAgIGRlZmF1bHRQbGFjZWhvbGRlcjogdGhpcy5lZGl0b3JDb25maWcucGxhY2Vob2xkZXIsXG4gICAgICBpc0ludGVybmFsOiBvXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgYXBwcm9wcmlhdGUgVG9vbCBvYmplY3QgY29uc3RydWN0b3IgZm9yIFRvb2wgY29uc3RydWN0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0gY29uc3RydWN0YWJsZSAtIFRvb2xzIGNvbnN0cnVjdGFibGVcbiAgICovXG4gIGdldENvbnN0cnVjdG9yKGUpIHtcbiAgICBzd2l0Y2ggKCEwKSB7XG4gICAgICBjYXNlIGVbY3QuSXNJbmxpbmVdOlxuICAgICAgICByZXR1cm4gcHM7XG4gICAgICBjYXNlIGVbZXQuSXNUdW5lXTpcbiAgICAgICAgcmV0dXJuIGZzO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGd0O1xuICAgIH1cbiAgfVxufVxuY2xhc3MgdW8ge1xuICAvKipcbiAgICogTW92ZURvd25UdW5lIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7QVBJfSBhcGkg4oCUIEVkaXRvcidzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuQ1NTID0ge1xuICAgICAgYW5pbWF0aW9uOiBcIndvYmJsZVwiXG4gICAgfSwgdGhpcy5hcGkgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBUdW5lJ3MgYXBwZWFyYW5jZSBpbiBibG9jayBzZXR0aW5ncyBtZW51XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IGtpLFxuICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIk1vdmUgZG93blwiKSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuaGFuZGxlQ2xpY2soKSxcbiAgICAgIG5hbWU6IFwibW92ZS1kb3duXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgY2xpY2tzIG9uICdtb3ZlIGRvd24nIGJ1dHRvblxuICAgKi9cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLCB0ID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleChlICsgMSk7XG4gICAgaWYgKCF0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIG1vdmUgQmxvY2sgZG93biBzaW5jZSBpdCBpcyBhbHJlYWR5IHRoZSBsYXN0XCIpO1xuICAgIGNvbnN0IG8gPSB0LmhvbGRlciwgaSA9IG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHMgPSBNYXRoLmFicyh3aW5kb3cuaW5uZXJIZWlnaHQgLSBvLm9mZnNldEhlaWdodCk7XG4gICAgaS50b3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgKHMgPSB3aW5kb3cuc2Nyb2xsWSArIG8ub2Zmc2V0SGVpZ2h0KSwgd2luZG93LnNjcm9sbFRvKDAsIHMpLCB0aGlzLmFwaS5ibG9ja3MubW92ZShlICsgMSksIHRoaXMuYXBpLnRvb2xiYXIudG9nZ2xlQmxvY2tTZXR0aW5ncyghMCk7XG4gIH1cbn1cbnVvLmlzVHVuZSA9ICEwO1xuY2xhc3MgcG8ge1xuICAvKipcbiAgICogRGVsZXRlVHVuZSBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge0FQSX0gYXBpIC0gRWRpdG9yJ3MgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGFwaTogZSB9KSB7XG4gICAgdGhpcy5hcGkgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBUdW5lJ3MgYXBwZWFyYW5jZSBpbiBibG9jayBzZXR0aW5ncyBtZW51XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IHlpLFxuICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIkRlbGV0ZVwiKSxcbiAgICAgIG5hbWU6IFwiZGVsZXRlXCIsXG4gICAgICBjb25maXJtYXRpb246IHtcbiAgICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIkNsaWNrIHRvIGRlbGV0ZVwiKSxcbiAgICAgICAgb25BY3RpdmF0ZTogKCkgPT4gdGhpcy5oYW5kbGVDbGljaygpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGJsb2NrIGNvbmRpdGlvbnMgcGFzc2VkXG4gICAqL1xuICBoYW5kbGVDbGljaygpIHtcbiAgICB0aGlzLmFwaS5ibG9ja3MuZGVsZXRlKCk7XG4gIH1cbn1cbnBvLmlzVHVuZSA9ICEwO1xuY2xhc3MgZm8ge1xuICAvKipcbiAgICogTW92ZVVwVHVuZSBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge0FQSX0gYXBpIC0gRWRpdG9yJ3MgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGFwaTogZSB9KSB7XG4gICAgdGhpcy5DU1MgPSB7XG4gICAgICBhbmltYXRpb246IFwid29iYmxlXCJcbiAgICB9LCB0aGlzLmFwaSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFR1bmUncyBhcHBlYXJhbmNlIGluIGJsb2NrIHNldHRpbmdzIG1lbnVcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogeGksXG4gICAgICB0aXRsZTogdGhpcy5hcGkuaTE4bi50KFwiTW92ZSB1cFwiKSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuaGFuZGxlQ2xpY2soKSxcbiAgICAgIG5hbWU6IFwibW92ZS11cFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBjdXJyZW50IGJsb2NrIHVwXG4gICAqL1xuICBoYW5kbGVDbGljaygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5hcGkuYmxvY2tzLmdldEN1cnJlbnRCbG9ja0luZGV4KCksIHQgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0QmxvY2tCeUluZGV4KGUpLCBvID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleChlIC0gMSk7XG4gICAgaWYgKGUgPT09IDAgfHwgIXQgfHwgIW8pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbW92ZSBCbG9jayB1cCBzaW5jZSBpdCBpcyBhbHJlYWR5IHRoZSBmaXJzdFwiKTtcbiAgICBjb25zdCBpID0gdC5ob2xkZXIsIHMgPSBvLmhvbGRlciwgciA9IGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGwgPSBzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBhO1xuICAgIGwudG9wID4gMCA/IGEgPSBNYXRoLmFicyhyLnRvcCkgLSBNYXRoLmFicyhsLnRvcCkgOiBhID0gTWF0aC5hYnMoci50b3ApICsgbC5oZWlnaHQsIHdpbmRvdy5zY3JvbGxCeSgwLCAtMSAqIGEpLCB0aGlzLmFwaS5ibG9ja3MubW92ZShlIC0gMSksIHRoaXMuYXBpLnRvb2xiYXIudG9nZ2xlQmxvY2tTZXR0aW5ncyghMCk7XG4gIH1cbn1cbmZvLmlzVHVuZSA9ICEwO1xudmFyIGtzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCB2cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIHdzID0gKG4sIGUsIHQsIG8pID0+IHtcbiAgZm9yICh2YXIgaSA9IG8gPiAxID8gdm9pZCAwIDogbyA/IHZzKGUsIHQpIDogZSwgcyA9IG4ubGVuZ3RoIC0gMSwgcjsgcyA+PSAwOyBzLS0pXG4gICAgKHIgPSBuW3NdKSAmJiAoaSA9IChvID8gcihlLCB0LCBpKSA6IHIoaSkpIHx8IGkpO1xuICByZXR1cm4gbyAmJiBpICYmIGtzKGUsIHQsIGkpLCBpO1xufTtcbmNsYXNzIGdvIGV4dGVuZHMgeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuc3R1YlRvb2wgPSBcInN0dWJcIiwgdGhpcy50b29sc0F2YWlsYWJsZSA9IG5ldyBGKCksIHRoaXMudG9vbHNVbmF2YWlsYWJsZSA9IG5ldyBGKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYXZhaWxhYmxlIFRvb2xzXG4gICAqL1xuICBnZXQgYXZhaWxhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xzQXZhaWxhYmxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHVuYXZhaWxhYmxlIFRvb2xzXG4gICAqL1xuICBnZXQgdW5hdmFpbGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbHNVbmF2YWlsYWJsZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFRvb2xzIGZvciB0aGUgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIGdldCBpbmxpbmVUb29scygpIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGUuaW5saW5lVG9vbHM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBlZGl0b3IgYmxvY2sgdG9vbHNcbiAgICovXG4gIGdldCBibG9ja1Rvb2xzKCkge1xuICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZS5ibG9ja1Rvb2xzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYXZhaWxhYmxlIEJsb2NrIFR1bmVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IC0gb2JqZWN0IG9mIElubGluZSBUb29sJ3MgY2xhc3Nlc1xuICAgKi9cbiAgZ2V0IGJsb2NrVHVuZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlLmJsb2NrVHVuZXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZGVmYXVsdCBUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0IGRlZmF1bHRUb29sKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2NrVG9vbHMuZ2V0KHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgaW50ZXJuYWwgdG9vbHNcbiAgICovXG4gIGdldCBpbnRlcm5hbCgpIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGUuaW50ZXJuYWxUb29scztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBpbnN0YW5jZXMgdmlhIHBhc3NlZCBvciBkZWZhdWx0IGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyBwcmVwYXJlKCkge1xuICAgIGlmICh0aGlzLnZhbGlkYXRlVG9vbHMoKSwgdGhpcy5jb25maWcudG9vbHMgPSBxZSh7fSwgdGhpcy5pbnRlcm5hbFRvb2xzLCB0aGlzLmNvbmZpZy50b29scyksICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jb25maWcsIFwidG9vbHNcIikgfHwgT2JqZWN0LmtleXModGhpcy5jb25maWcudG9vbHMpLmxlbmd0aCA9PT0gMClcbiAgICAgIHRocm93IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgd2l0aG91dCB0b29sc1wiKTtcbiAgICBjb25zdCBlID0gdGhpcy5wcmVwYXJlQ29uZmlnKCk7XG4gICAgdGhpcy5mYWN0b3J5ID0gbmV3IGJzKGUsIHRoaXMuY29uZmlnLCB0aGlzLkVkaXRvci5BUEkpO1xuICAgIGNvbnN0IHQgPSB0aGlzLmdldExpc3RPZlByZXBhcmVGdW5jdGlvbnMoZSk7XG4gICAgaWYgKHQubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIGF3YWl0IEVvKHQsIChvKSA9PiB7XG4gICAgICB0aGlzLnRvb2xQcmVwYXJlTWV0aG9kU3VjY2VzcyhvKTtcbiAgICB9LCAobykgPT4ge1xuICAgICAgdGhpcy50b29sUHJlcGFyZU1ldGhvZEZhbGxiYWNrKG8pO1xuICAgIH0pLCB0aGlzLnByZXBhcmVCbG9ja1Rvb2xzKCk7XG4gIH1cbiAgZ2V0QWxsSW5saW5lVG9vbHNTYW5pdGl6ZUNvbmZpZygpIHtcbiAgICBjb25zdCBlID0ge307XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5pbmxpbmVUb29scy52YWx1ZXMoKSkuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihlLCB0LnNhbml0aXplQ29uZmlnKTtcbiAgICB9KSwgZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgZWFjaCBUb29sIHJlc2V0IG1ldGhvZCB0byBjbGVhbiB1cCBhbnl0aGluZyBzZXQgYnkgVG9vbFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBPYmplY3QudmFsdWVzKHRoaXMuYXZhaWxhYmxlKS5mb3JFYWNoKGFzeW5jIChlKSA9PiB7XG4gICAgICBPKGUucmVzZXQpICYmIGF3YWl0IGUucmVzZXQoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpbnRlcm5hbCB0b29sc1xuICAgKiBJbmNsdWRlcyBCb2xkLCBJdGFsaWMsIExpbmsgYW5kIFBhcmFncmFwaFxuICAgKi9cbiAgZ2V0IGludGVybmFsVG9vbHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnZlcnRUbzoge1xuICAgICAgICBjbGFzczogYW8sXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgbGluazoge1xuICAgICAgICBjbGFzczogZnQsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgYm9sZDoge1xuICAgICAgICBjbGFzczogdXQsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgaXRhbGljOiB7XG4gICAgICAgIGNsYXNzOiBwdCxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGg6IHtcbiAgICAgICAgY2xhc3M6IGh0LFxuICAgICAgICBpbmxpbmVUb29sYmFyOiAhMCxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBzdHViOiB7XG4gICAgICAgIGNsYXNzOiBjbyxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBtb3ZlVXA6IHtcbiAgICAgICAgY2xhc3M6IGZvLFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfSxcbiAgICAgIGRlbGV0ZToge1xuICAgICAgICBjbGFzczogcG8sXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgbW92ZURvd246IHtcbiAgICAgICAgY2xhc3M6IHVvLFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFRvb2wgcHJlcGFyZSBtZXRob2Qgc3VjY2VzcyBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIGFwcGVuZCB0b29sIHRvIGF2YWlsYWJsZSBsaXN0XG4gICAqL1xuICB0b29sUHJlcGFyZU1ldGhvZFN1Y2Nlc3MoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmZhY3RvcnkuZ2V0KGUudG9vbE5hbWUpO1xuICAgIGlmICh0LmlzSW5saW5lKCkpIHtcbiAgICAgIGNvbnN0IGkgPSBbXCJyZW5kZXJcIl0uZmlsdGVyKChzKSA9PiAhdC5jcmVhdGUoKVtzXSk7XG4gICAgICBpZiAoaS5sZW5ndGgpIHtcbiAgICAgICAgSShcbiAgICAgICAgICBgSW5jb3JyZWN0IElubGluZSBUb29sOiAke3QubmFtZX0uIFNvbWUgb2YgcmVxdWlyZWQgbWV0aG9kcyBpcyBub3QgaW1wbGVtZW50ZWQgJW9gLFxuICAgICAgICAgIFwid2FyblwiLFxuICAgICAgICAgIGlcbiAgICAgICAgKSwgdGhpcy50b29sc1VuYXZhaWxhYmxlLnNldCh0Lm5hbWUsIHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudG9vbHNBdmFpbGFibGUuc2V0KHQubmFtZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvb2wgcHJlcGFyZSBtZXRob2QgZmFpbCBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIGFwcGVuZCB0b29sIHRvIHVuYXZhaWxhYmxlIGxpc3RcbiAgICovXG4gIHRvb2xQcmVwYXJlTWV0aG9kRmFsbGJhY2soZSkge1xuICAgIHRoaXMudG9vbHNVbmF2YWlsYWJsZS5zZXQoZS50b29sTmFtZSwgdGhpcy5mYWN0b3J5LmdldChlLnRvb2xOYW1lKSk7XG4gIH1cbiAgLyoqXG4gICAqIEJpbmRzIHByZXBhcmUgZnVuY3Rpb24gb2YgcGx1Z2lucyB3aXRoIHVzZXIgb3IgZGVmYXVsdCBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge0FycmF5fSBsaXN0IG9mIGZ1bmN0aW9ucyB0aGF0IG5lZWRzIHRvIGJlIGZpcmVkIHNlcXVlbnRpYWxseVxuICAgKiBAcGFyYW0gY29uZmlnIC0gdG9vbHMgY29uZmlnXG4gICAqL1xuICBnZXRMaXN0T2ZQcmVwYXJlRnVuY3Rpb25zKGUpIHtcbiAgICBjb25zdCB0ID0gW107XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFtvLCBpXSkgPT4ge1xuICAgICAgdC5wdXNoKHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgICAgICBmdW5jdGlvbjogTyhpLmNsYXNzLnByZXBhcmUpID8gaS5jbGFzcy5wcmVwYXJlIDogKCkgPT4ge1xuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG9vbE5hbWU6IG8sXG4gICAgICAgICAgY29uZmlnOiBpLmNvbmZpZ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSwgdDtcbiAgfVxuICAvKipcbiAgICogQXNzaWduIGVuYWJsZWQgSW5saW5lIFRvb2xzIGFuZCBCbG9jayBUdW5lcyBmb3IgQmxvY2sgVG9vbFxuICAgKi9cbiAgcHJlcGFyZUJsb2NrVG9vbHMoKSB7XG4gICAgQXJyYXkuZnJvbSh0aGlzLmJsb2NrVG9vbHMudmFsdWVzKCkpLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHRoaXMuYXNzaWduSW5saW5lVG9vbHNUb0Jsb2NrVG9vbChlKSwgdGhpcy5hc3NpZ25CbG9ja1R1bmVzVG9CbG9ja1Rvb2woZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFzc2lnbiBlbmFibGVkIElubGluZSBUb29scyBmb3IgQmxvY2sgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIEJsb2NrIFRvb2xcbiAgICovXG4gIGFzc2lnbklubGluZVRvb2xzVG9CbG9ja1Rvb2woZSkge1xuICAgIGlmICh0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyICE9PSAhMSkge1xuICAgICAgaWYgKGUuZW5hYmxlZElubGluZVRvb2xzID09PSAhMCkge1xuICAgICAgICBlLmlubGluZVRvb2xzID0gbmV3IEYoXG4gICAgICAgICAgQXJyYXkuaXNBcnJheSh0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyKSA/IHRoaXMuY29uZmlnLmlubGluZVRvb2xiYXIubWFwKCh0KSA9PiBbdCwgdGhpcy5pbmxpbmVUb29scy5nZXQodCldKSA6IEFycmF5LmZyb20odGhpcy5pbmxpbmVUb29scy5lbnRyaWVzKCkpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIEFycmF5LmlzQXJyYXkoZS5lbmFibGVkSW5saW5lVG9vbHMpICYmIChlLmlubGluZVRvb2xzID0gbmV3IEYoXG4gICAgICAgIC8qKiBQcmVwZW5kIENvbnZlcnRUbyBJbmxpbmUgVG9vbCAqL1xuICAgICAgICBbXCJjb252ZXJ0VG9cIiwgLi4uZS5lbmFibGVkSW5saW5lVG9vbHNdLm1hcCgodCkgPT4gW3QsIHRoaXMuaW5saW5lVG9vbHMuZ2V0KHQpXSlcbiAgICAgICkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQXNzaWduIGVuYWJsZWQgQmxvY2sgVHVuZXMgZm9yIEJsb2NrIFRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wg4oCUIEJsb2NrIFRvb2xcbiAgICovXG4gIGFzc2lnbkJsb2NrVHVuZXNUb0Jsb2NrVG9vbChlKSB7XG4gICAgaWYgKGUuZW5hYmxlZEJsb2NrVHVuZXMgIT09ICExKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlLmVuYWJsZWRCbG9ja1R1bmVzKSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IEYoXG4gICAgICAgICAgZS5lbmFibGVkQmxvY2tUdW5lcy5tYXAoKG8pID0+IFtvLCB0aGlzLmJsb2NrVHVuZXMuZ2V0KG8pXSlcbiAgICAgICAgKTtcbiAgICAgICAgZS50dW5lcyA9IG5ldyBGKFsuLi50LCAuLi50aGlzLmJsb2NrVHVuZXMuaW50ZXJuYWxUb29sc10pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmNvbmZpZy50dW5lcykpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBGKFxuICAgICAgICAgIHRoaXMuY29uZmlnLnR1bmVzLm1hcCgobykgPT4gW28sIHRoaXMuYmxvY2tUdW5lcy5nZXQobyldKVxuICAgICAgICApO1xuICAgICAgICBlLnR1bmVzID0gbmV3IEYoWy4uLnQsIC4uLnRoaXMuYmxvY2tUdW5lcy5pbnRlcm5hbFRvb2xzXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGUudHVuZXMgPSB0aGlzLmJsb2NrVHVuZXMuaW50ZXJuYWxUb29scztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIFRvb2xzIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyBhbmQgdGhyb3cgRXJyb3IgZm9yIHVzZXIgaWYgaXQgaXMgaW52YWxpZFxuICAgKi9cbiAgdmFsaWRhdGVUb29scygpIHtcbiAgICBmb3IgKGNvbnN0IGUgaW4gdGhpcy5jb25maWcudG9vbHMpXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY29uZmlnLnRvb2xzLCBlKSkge1xuICAgICAgICBpZiAoZSBpbiB0aGlzLmludGVybmFsVG9vbHMpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5jb25maWcudG9vbHNbZV07XG4gICAgICAgIGlmICghTyh0KSAmJiAhTyh0LmNsYXNzKSlcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIGBUb29sIMKrJHtlfcK7IG11c3QgYmUgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBmdW5jdGlvbiBpbiB0aGUgwqtjbGFzc8K7IHByb3BlcnR5YFxuICAgICAgICAgICk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVuaWZ5IHRvb2xzIGNvbmZpZ1xuICAgKi9cbiAgcHJlcGFyZUNvbmZpZygpIHtcbiAgICBjb25zdCBlID0ge307XG4gICAgZm9yIChjb25zdCB0IGluIHRoaXMuY29uZmlnLnRvb2xzKVxuICAgICAgUih0aGlzLmNvbmZpZy50b29sc1t0XSkgPyBlW3RdID0gdGhpcy5jb25maWcudG9vbHNbdF0gOiBlW3RdID0geyBjbGFzczogdGhpcy5jb25maWcudG9vbHNbdF0gfTtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxud3MoW1xuICB1ZVxuXSwgZ28ucHJvdG90eXBlLCBcImdldEFsbElubGluZVRvb2xzU2FuaXRpemVDb25maWdcIiwgMSk7XG5jb25zdCB4cyA9IGA6cm9vdHstLXNlbGVjdGlvbkNvbG9yOiAjZTFmMmZmOy0taW5saW5lU2VsZWN0aW9uQ29sb3I6ICNkNGVjZmY7LS1iZy1saWdodDogI2VmZjJmNTstLWdyYXlUZXh0OiAjNzA3Njg0Oy0tY29sb3ItZGFyazogIzFEMjAyQjstLWNvbG9yLWFjdGl2ZS1pY29uOiAjMzg4QUU1Oy0tY29sb3ItZ3JheS1ib3JkZXI6IHJnYmEoMjAxLCAyMDEsIDIwNCwgLjQ4KTstLWNvbnRlbnQtd2lkdGg6IDY1MHB4Oy0tbmFycm93LW1vZGUtcmlnaHQtcGFkZGluZzogNTBweDstLXRvb2xib3gtYnV0dG9ucy1zaXplOiAyNnB4Oy0tdG9vbGJveC1idXR0b25zLXNpemUtLW1vYmlsZTogMzZweDstLWljb24tc2l6ZTogMjBweDstLWljb24tc2l6ZS0tbW9iaWxlOiAyOHB4Oy0tYmxvY2stcGFkZGluZy12ZXJ0aWNhbDogLjRlbTstLWNvbG9yLWxpbmUtZ3JheTogI0VGRjBGMSB9LmNvZGV4LWVkaXRvcntwb3NpdGlvbjpyZWxhdGl2ZTstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ei1pbmRleDoxfS5jb2RleC1lZGl0b3IgLmhpZGV7ZGlzcGxheTpub25lfS5jb2RleC1lZGl0b3JfX3JlZGFjdG9yIFtjb250ZW50ZWRpdGFibGVdOmVtcHR5OmFmdGVye2NvbnRlbnQ6XCJcXFxcZmVmZlwifUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93IC5jb2RleC1lZGl0b3JfX3JlZGFjdG9ye21hcmdpbi1yaWdodDo1MHB4fX1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdy5jb2RleC1lZGl0b3ItLXJ0bCAuY29kZXgtZWRpdG9yX19yZWRhY3RvcnttYXJnaW4tbGVmdDo1MHB4O21hcmdpbi1yaWdodDowfX1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY2UtdG9vbGJhcl9fYWN0aW9uc3tyaWdodDotNXB4fX0uY29kZXgtZWRpdG9yLWNvcHlhYmxle3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDoxcHg7d2lkdGg6MXB4O3RvcDotNDAwJTtvcGFjaXR5Oi4wMDF9LmNvZGV4LWVkaXRvci1vdmVybGF5e3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO3otaW5kZXg6OTk5O3BvaW50ZXItZXZlbnRzOm5vbmU7b3ZlcmZsb3c6aGlkZGVufS5jb2RleC1lZGl0b3Itb3ZlcmxheV9fY29udGFpbmVye3Bvc2l0aW9uOnJlbGF0aXZlO3BvaW50ZXItZXZlbnRzOmF1dG87ei1pbmRleDowfS5jb2RleC1lZGl0b3Itb3ZlcmxheV9fcmVjdGFuZ2xle3Bvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojMmVhYWRjMzM7Ym9yZGVyOjFweCBzb2xpZCB0cmFuc3BhcmVudH0uY29kZXgtZWRpdG9yIHN2Z3ttYXgtaGVpZ2h0OjEwMCV9LmNvZGV4LWVkaXRvciBwYXRoe3N0cm9rZTpjdXJyZW50Q29sb3J9LmNvZGV4LWVkaXRvciA6Oi1tb3otc2VsZWN0aW9ue2JhY2tncm91bmQtY29sb3I6I2Q0ZWNmZn0uY29kZXgtZWRpdG9yIDo6c2VsZWN0aW9ue2JhY2tncm91bmQtY29sb3I6I2Q0ZWNmZn0uY29kZXgtZWRpdG9yLS10b29sYm94LW9wZW5lZCBbY29udGVudEVkaXRhYmxlPXRydWVdW2RhdGEtcGxhY2Vob2xkZXJdOmZvY3VzOmJlZm9yZXtvcGFjaXR5OjAhaW1wb3J0YW50fS5jZS1zY3JvbGwtbG9ja2Vke292ZXJmbG93OmhpZGRlbn0uY2Utc2Nyb2xsLWxvY2tlZC0taGFyZHtvdmVyZmxvdzpoaWRkZW47dG9wOmNhbGMoLTEgKiB2YXIoLS13aW5kb3ctc2Nyb2xsLW9mZnNldCkpO3Bvc2l0aW9uOmZpeGVkO3dpZHRoOjEwMCV9LmNlLXRvb2xiYXJ7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3JpZ2h0OjA7dG9wOjA7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlO3dpbGwtY2hhbmdlOm9wYWNpdHksdG9wO2Rpc3BsYXk6bm9uZX0uY2UtdG9vbGJhci0tb3BlbmVke2Rpc3BsYXk6YmxvY2t9LmNlLXRvb2xiYXJfX2NvbnRlbnR7bWF4LXdpZHRoOjY1MHB4O21hcmdpbjowIGF1dG87cG9zaXRpb246cmVsYXRpdmV9LmNlLXRvb2xiYXJfX3BsdXN7Y29sb3I6IzFkMjAyYjtjdXJzb3I6cG9pbnRlcjt3aWR0aDoyNnB4O2hlaWdodDoyNnB4O2JvcmRlci1yYWRpdXM6N3B4O2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7LW1zLWZsZXgtbmVnYXRpdmU6MDtmbGV4LXNocmluazowfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXRvb2xiYXJfX3BsdXN7d2lkdGg6MzZweDtoZWlnaHQ6MzZweH19QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS10b29sYmFyX19wbHVzOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2VmZjJmNX19LmNlLXRvb2xiYXJfX3BsdXMtLWFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjU7LXdlYmtpdC1hbmltYXRpb246Ym91bmNlSW4gLjc1cyAxO2FuaW1hdGlvbjpib3VuY2VJbiAuNzVzIDE7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzO2FuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHN9LmNlLXRvb2xiYXJfX3BsdXMtc2hvcnRjdXR7b3BhY2l0eTouNjt3b3JkLXNwYWNpbmc6LTJweDttYXJnaW4tdG9wOjVweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS10b29sYmFyX19wbHVze3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNFOEU4RUI7LXdlYmtpdC1ib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCByZ2JhKDEzLDIwLDMzLC4xMyk7Ym94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggIzBkMTQyMTIxO2JvcmRlci1yYWRpdXM6NnB4O3otaW5kZXg6Mjtwb3NpdGlvbjpzdGF0aWN9LmNlLXRvb2xiYXJfX3BsdXMtLWxlZnQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS10b29sYmFyX19wbHVzLS1yaWdodC1vcmllbnRlZDpiZWZvcmV7bGVmdDphdXRvO3JpZ2h0OjE1cHg7bWFyZ2luLWxlZnQ6MH19LmNlLXRvb2xiYXJfX2FjdGlvbnN7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTAwJTtvcGFjaXR5OjA7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwYWRkaW5nLXJpZ2h0OjVweH0uY2UtdG9vbGJhcl9fYWN0aW9ucy0tb3BlbmVke29wYWNpdHk6MX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS10b29sYmFyX19hY3Rpb25ze3JpZ2h0OmF1dG99fS5jZS10b29sYmFyX19zZXR0aW5ncy1idG57Y29sb3I6IzFkMjAyYjt3aWR0aDoyNnB4O2hlaWdodDoyNnB4O2JvcmRlci1yYWRpdXM6N3B4O2Rpc3BsYXk6LXdlYmtpdC1pbmxpbmUtYm94O2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO21hcmdpbi1sZWZ0OjNweDtjdXJzb3I6cG9pbnRlcjt1c2VyLXNlbGVjdDpub25lfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bnt3aWR0aDozNnB4O2hlaWdodDozNnB4fX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjV9fS5jZS10b29sYmFyX19zZXR0aW5ncy1idG4tLWFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjU7LXdlYmtpdC1hbmltYXRpb246Ym91bmNlSW4gLjc1cyAxO2FuaW1hdGlvbjpib3VuY2VJbiAuNzVzIDE7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzO2FuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHN9QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRue3dpZHRoOjI0cHh9fS5jZS10b29sYmFyX19zZXR0aW5ncy1idG4tLWhpZGRlbntkaXNwbGF5Om5vbmV9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRue3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICNFOEU4RUI7LXdlYmtpdC1ib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCByZ2JhKDEzLDIwLDMzLC4xMyk7Ym94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggIzBkMTQyMTIxO2JvcmRlci1yYWRpdXM6NnB4O3otaW5kZXg6Mjtwb3NpdGlvbjpzdGF0aWN9LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bi0tbGVmdC1vcmllbnRlZDpiZWZvcmV7bGVmdDoxNXB4O21hcmdpbi1sZWZ0OjB9LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bi0tcmlnaHQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6YXV0bztyaWdodDoxNXB4O21hcmdpbi1sZWZ0OjB9fS5jZS10b29sYmFyX19wbHVzIHN2ZywuY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuIHN2Z3t3aWR0aDoyNHB4O2hlaWdodDoyNHB4fUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93IC5jZS10b29sYmFyX19wbHVze2xlZnQ6NXB4fX1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY2UtdG9vbGJveCAuY2UtcG9wb3ZlcntyaWdodDowO2xlZnQ6YXV0bztsZWZ0OmluaXRpYWx9fS5jZS1pbmxpbmUtdG9vbGJhcnstLXktb2Zmc2V0OiA4cHg7LS1jb2xvci1iYWNrZ3JvdW5kLWljb24tYWN0aXZlOiByZ2JhKDU2LCAxMzgsIDIyOSwgLjEpOy0tY29sb3ItdGV4dC1pY29uLWFjdGl2ZTogIzM4OEFFNTstLWNvbG9yLXRleHQtcHJpbWFyeTogYmxhY2s7cG9zaXRpb246YWJzb2x1dGU7dmlzaWJpbGl0eTpoaWRkZW47LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjI1cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuMjVzIGVhc2U7d2lsbC1jaGFuZ2U6b3BhY2l0eSxsZWZ0LHRvcDt0b3A6MDtsZWZ0OjA7ei1pbmRleDozO29wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGV9LmNlLWlubGluZS10b29sYmFyIFtoaWRkZW5de2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmNlLWlubGluZS10b29sYmFyX190b2dnbGVyLWFuZC1idXR0b24td3JhcHBlcntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7cGFkZGluZzowIDZweH0uY2UtaW5saW5lLXRvb2xiYXJfX2J1dHRvbnN7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0uY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3due2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZzo2cHg7bWFyZ2luOjAgNnB4IDAgLTZweDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KTstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd246aG92ZXJ7YmFja2dyb3VuZDojZWZmMmY1fX0uY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLS1oaWRkZW57ZGlzcGxheTpub25lfS5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24tY29udGVudCwuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWFycm93e2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9LmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1jb250ZW50IHN2ZywuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWFycm93IHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fS5jZS1pbmxpbmUtdG9vbGJhcl9fc2hvcnRjdXR7b3BhY2l0eTouNjt3b3JkLXNwYWNpbmc6LTNweDttYXJnaW4tdG9wOjNweH0uY2UtaW5saW5lLXRvb2x7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KTtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czo0cHg7bGluZS1oZWlnaHQ6bm9ybWFsO2hlaWdodDoxMDAlO3BhZGRpbmc6MDt3aWR0aDoyOHB4O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y3Vyc29yOnBvaW50ZXJ9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtaW5saW5lLXRvb2x7d2lkdGg6MzZweDtoZWlnaHQ6MzZweH19QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1pbmxpbmUtdG9vbDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNmOGY4Zjh9fS5jZS1pbmxpbmUtdG9vbCBzdmd7ZGlzcGxheTpibG9jazt3aWR0aDoyMHB4O2hlaWdodDoyMHB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLWlubGluZS10b29sIHN2Z3t3aWR0aDoyOHB4O2hlaWdodDoyOHB4fX0uY2UtaW5saW5lLXRvb2wtLWxpbmsgLmljb24tLXVubGluaywuY2UtaW5saW5lLXRvb2wtLXVubGluayAuaWNvbi0tbGlua3tkaXNwbGF5Om5vbmV9LmNlLWlubGluZS10b29sLS11bmxpbmsgLmljb24tLXVubGlua3tkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tYm90dG9tOi0xcHh9LmNlLWlubGluZS10b29sLWlucHV0e2JhY2tncm91bmQ6I0Y4RjhGODtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjI2LDIyNiwyMjksLjIpO2JvcmRlci1yYWRpdXM6NnB4O3BhZGRpbmc6NHB4IDhweDtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoyMnB4O291dGxpbmU6bm9uZTttYXJnaW46MDt3aWR0aDoxMDAlOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5Om5vbmU7Zm9udC13ZWlnaHQ6NTAwOy13ZWJraXQtYXBwZWFyYW5jZTpub25lO2ZvbnQtZmFtaWx5OmluaGVyaXR9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtaW5saW5lLXRvb2wtaW5wdXR7Zm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6NTAwfX0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODR9LmNlLWlubGluZS10b29sLWlucHV0OjotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NH0uY2UtaW5saW5lLXRvb2wtaW5wdXQ6OnBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODR9LmNlLWlubGluZS10b29sLWlucHV0LS1zaG93ZWR7ZGlzcGxheTpibG9ja30uY2UtaW5saW5lLXRvb2wtLWFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaWNvbi1hY3RpdmUpO2NvbG9yOnZhcigtLWNvbG9yLXRleHQtaWNvbi1hY3RpdmUpfUAtd2Via2l0LWtleWZyYW1lcyBmYWRlLWluezAle29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fUBrZXlmcmFtZXMgZmFkZS1pbnswJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX0uY2UtYmxvY2t7LXdlYmtpdC1hbmltYXRpb246ZmFkZS1pbiAuM3MgZWFzZTthbmltYXRpb246ZmFkZS1pbiAuM3MgZWFzZTstd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6bm9uZTthbmltYXRpb24tZmlsbC1tb2RlOm5vbmU7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmluaXRpYWw7YW5pbWF0aW9uLWZpbGwtbW9kZTppbml0aWFsfS5jZS1ibG9jazpmaXJzdC1vZi10eXBle21hcmdpbi10b3A6MH0uY2UtYmxvY2stLXNlbGVjdGVkIC5jZS1ibG9ja19fY29udGVudHtiYWNrZ3JvdW5kOiNlMWYyZmZ9LmNlLWJsb2NrLS1zZWxlY3RlZCAuY2UtYmxvY2tfX2NvbnRlbnQgW2NvbnRlbnRlZGl0YWJsZV17LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5jZS1ibG9jay0tc2VsZWN0ZWQgLmNlLWJsb2NrX19jb250ZW50IGltZywuY2UtYmxvY2stLXNlbGVjdGVkIC5jZS1ibG9ja19fY29udGVudCAuY2Utc3R1YntvcGFjaXR5Oi41NX0uY2UtYmxvY2stLXN0cmV0Y2hlZCAuY2UtYmxvY2tfX2NvbnRlbnR7bWF4LXdpZHRoOm5vbmV9LmNlLWJsb2NrX19jb250ZW50e3Bvc2l0aW9uOnJlbGF0aXZlO21heC13aWR0aDo2NTBweDttYXJnaW46MCBhdXRvOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4xNXMgZWFzZTt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjE1cyBlYXNlfS5jZS1ibG9jay0tZHJvcC10YXJnZXQgLmNlLWJsb2NrX19jb250ZW50OmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjEwMCU7bGVmdDotMjBweDttYXJnaW4tdG9wOi0xcHg7aGVpZ2h0OjhweDt3aWR0aDo4cHg7Ym9yZGVyOnNvbGlkICMzODhBRTU7Ym9yZGVyLXdpZHRoOjFweCAxcHggMCAwOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpyaWdodDt0cmFuc2Zvcm0tb3JpZ2luOnJpZ2h0Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyl9LmNlLWJsb2NrLS1kcm9wLXRhcmdldCAuY2UtYmxvY2tfX2NvbnRlbnQ6YWZ0ZXJ7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMDAlO2hlaWdodDoxcHg7d2lkdGg6MTAwJTtjb2xvcjojMzg4YWU1O2JhY2tncm91bmQ6cmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCg5MGRlZywjMzg4QUU1LCMzODhBRTUgMXB4LCNmZmYgMXB4LCNmZmYgNnB4KX0uY2UtYmxvY2sgYXtjdXJzb3I6cG9pbnRlcjstd2Via2l0LXRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0uY2UtYmxvY2sgYntmb250LXdlaWdodDo3MDB9LmNlLWJsb2NrIGl7Zm9udC1zdHlsZTppdGFsaWN9QC13ZWJraXQta2V5ZnJhbWVzIGJvdW5jZUluezAlLDIwJSw0MCUsNjAlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX0wJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KTt0cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSl9MjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wMywxLjAzLDEuMDMpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKX02MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlWigxKX19QGtleWZyYW1lcyBib3VuY2VJbnswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSk7dHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpfTIwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyl9NjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fUAtd2Via2l0LWtleWZyYW1lcyBzZWxlY3Rpb25Cb3VuY2V7MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTUwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDEsMS4wMSwxLjAxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAxLDEuMDEsMS4wMSl9NzAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fUBrZXlmcmFtZXMgc2VsZWN0aW9uQm91bmNlezAlLDIwJSw0MCUsNjAlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAxLDEuMDEsMS4wMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMSwxLjAxLDEuMDEpfTcwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgYnV0dG9uQ2xpY2tlZHswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOTUsLjk1LC45NSk7dHJhbnNmb3JtOnNjYWxlM2QoLjk1LC45NSwuOTUpfTYwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDIsMS4wMiwxLjAyKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAyLDEuMDIsMS4wMil9ODAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fUBrZXlmcmFtZXMgYnV0dG9uQ2xpY2tlZHswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOTUsLjk1LC45NSk7dHJhbnNmb3JtOnNjYWxlM2QoLjk1LC45NSwuOTUpfTYwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDIsMS4wMiwxLjAyKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAyLDEuMDIsMS4wMil9ODAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fS5jZHgtYmxvY2t7cGFkZGluZzouNGVtIDB9LmNkeC1ibG9jazo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcntsaW5lLWhlaWdodDpub3JtYWwhaW1wb3J0YW50fS5jZHgtaW5wdXR7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMXB4IDJweCAwIHJnYmEoMzUsNDQsNzIsLjA2KTtib3gtc2hhZG93Omluc2V0IDAgMXB4IDJweCAjMjMyYzQ4MGY7Ym9yZGVyLXJhZGl1czozcHg7cGFkZGluZzoxMHB4IDEycHg7b3V0bGluZTpub25lO3dpZHRoOjEwMCU7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fS5jZHgtaW5wdXRbZGF0YS1wbGFjZWhvbGRlcl06YmVmb3Jle3Bvc2l0aW9uOnN0YXRpYyFpbXBvcnRhbnR9LmNkeC1pbnB1dFtkYXRhLXBsYWNlaG9sZGVyXTpiZWZvcmV7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MDt3aGl0ZS1zcGFjZTpub3dyYXA7cG9pbnRlci1ldmVudHM6bm9uZX0uY2R4LXNldHRpbmdzLWJ1dHRvbntkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7Ym9yZGVyLXJhZGl1czozcHg7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyOjA7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7dmVydGljYWwtYWxpZ246Ym90dG9tO2NvbG9yOmluaGVyaXQ7bWFyZ2luOjA7bWluLXdpZHRoOjI2cHg7bWluLWhlaWdodDoyNnB4fS5jZHgtc2V0dGluZ3MtYnV0dG9uLS1mb2N1c2Vke2JhY2tncm91bmQ6cmdiYSgzNCwxODYsMjU1LC4wOCkhaW1wb3J0YW50fS5jZHgtc2V0dGluZ3MtYnV0dG9uLS1mb2N1c2Vkey13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDAgMHB4IDFweCByZ2JhKDcsMTYxLDIyNywuMDgpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMwN2ExZTMxNH0uY2R4LXNldHRpbmdzLWJ1dHRvbi0tZm9jdXNlZC1hbmltYXRlZHstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmJ1dHRvbkNsaWNrZWQ7YW5pbWF0aW9uLW5hbWU6YnV0dG9uQ2xpY2tlZDstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouMjVzO2FuaW1hdGlvbi1kdXJhdGlvbjouMjVzfS5jZHgtc2V0dGluZ3MtYnV0dG9uLS1hY3RpdmV7Y29sb3I6IzM4OGFlNX0uY2R4LXNldHRpbmdzLWJ1dHRvbiBzdmd7d2lkdGg6YXV0bztoZWlnaHQ6YXV0b31AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZHgtc2V0dGluZ3MtYnV0dG9uIHN2Z3t3aWR0aDoyOHB4O2hlaWdodDoyOHB4fX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZHgtc2V0dGluZ3MtYnV0dG9ue3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHg7Ym9yZGVyLXJhZGl1czo4cHh9fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2R4LXNldHRpbmdzLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjV9fS5jZHgtbG9hZGVye3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlcjoxcHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpfS5jZHgtbG9hZGVyOmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDoxOHB4O2hlaWdodDoxOHB4O21hcmdpbjotMTFweCAwIDAgLTExcHg7Ym9yZGVyOjJweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7Ym9yZGVyLWxlZnQtY29sb3I6IzM4OGFlNTtib3JkZXItcmFkaXVzOjUwJTstd2Via2l0LWFuaW1hdGlvbjpjZHhSb3RhdGlvbiAxLjJzIGluZmluaXRlIGxpbmVhcjthbmltYXRpb246Y2R4Um90YXRpb24gMS4ycyBpbmZpbml0ZSBsaW5lYXJ9QC13ZWJraXQta2V5ZnJhbWVzIGNkeFJvdGF0aW9uezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDApfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19QGtleWZyYW1lcyBjZHhSb3RhdGlvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fS5jZHgtYnV0dG9ue3BhZGRpbmc6MTNweDtib3JkZXItcmFkaXVzOjNweDtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KTtmb250LXNpemU6MTQuOXB4O2JhY2tncm91bmQ6I2ZmZjstd2Via2l0LWJveC1zaGFkb3c6MCAycHggMnB4IDAgcmdiYSgxOCwzMCw1NywuMDQpO2JveC1zaGFkb3c6MCAycHggMnB4ICMxMjFlMzkwYTtjb2xvcjojNzA3Njg0O3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2R4LWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kOiNGQkZDRkU7LXdlYmtpdC1ib3gtc2hhZG93OjAgMXB4IDNweCAwIHJnYmEoMTgsMzAsNTcsLjA4KTtib3gtc2hhZG93OjAgMXB4IDNweCAjMTIxZTM5MTR9fS5jZHgtYnV0dG9uIHN2Z3toZWlnaHQ6MjBweDttYXJnaW4tcmlnaHQ6LjJlbTttYXJnaW4tdG9wOi0ycHh9LmNlLXN0dWJ7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjEycHggMThweDttYXJnaW46MTBweCAwO2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kOiNlZmYyZjU7Ym9yZGVyOjFweCBzb2xpZCAjRUZGMEYxO2NvbG9yOiM3MDc2ODQ7Zm9udC1zaXplOjE0cHh9LmNlLXN0dWIgc3Zne3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9LmNlLXN0dWJfX2luZm97bWFyZ2luLWxlZnQ6MTRweH0uY2Utc3R1Yl9fdGl0bGV7Zm9udC13ZWlnaHQ6NTAwO3RleHQtdHJhbnNmb3JtOmNhcGl0YWxpemV9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bHtkaXJlY3Rpb246cnRsfS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNkeC1saXN0e3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6NDBweH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS10b29sYmFyX19wbHVze3JpZ2h0Oi0yNnB4O2xlZnQ6YXV0b30uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS10b29sYmFyX19hY3Rpb25ze3JpZ2h0OmF1dG87bGVmdDotMjZweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXRvb2xiYXJfX2FjdGlvbnN7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6YXV0bztwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy1sZWZ0OjEwcHh9fS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXNldHRpbmdze2xlZnQ6NXB4O3JpZ2h0OmF1dG99LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2Utc2V0dGluZ3M6YmVmb3Jle3JpZ2h0OmF1dG87bGVmdDoyNXB4fS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXNldHRpbmdzX19idXR0b246bm90KDpudGgtY2hpbGQoM24rMykpe21hcmdpbi1sZWZ0OjNweDttYXJnaW4tcmlnaHQ6MH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1jb252ZXJzaW9uLXRvb2xfX2ljb257bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLWxlZnQ6MTBweH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd257Ym9yZGVyLXJpZ2h0OjBweCBzb2xpZCB0cmFuc3BhcmVudDtib3JkZXItbGVmdDoxcHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpO21hcmdpbjowIC02cHggMCA2cHh9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duIC5pY29uLS10b2dnbGVyLWRvd257bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6NHB4fUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93LmNvZGV4LWVkaXRvci0tcnRsIC5jZS10b29sYmFyX19wbHVze2xlZnQ6MDtyaWdodDo1cHh9fUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNvZGV4LWVkaXRvci0tbmFycm93LmNvZGV4LWVkaXRvci0tcnRsIC5jZS10b29sYmFyX19hY3Rpb25ze2xlZnQ6LTVweH19LmNkeC1zZWFyY2gtZmllbGR7LS1pY29uLW1hcmdpbi1yaWdodDogMTBweDtiYWNrZ3JvdW5kOiNGOEY4Rjg7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDIyNiwyMjYsMjI5LC4yKTtib3JkZXItcmFkaXVzOjZweDtwYWRkaW5nOjJweDtkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOmF1dG8gYXV0byAxZnI7Z3JpZC10ZW1wbGF0ZS1yb3dzOmF1dG99LmNkeC1zZWFyY2gtZmllbGRfX2ljb257d2lkdGg6MjZweDtoZWlnaHQ6MjZweDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luLXJpZ2h0OnZhcigtLWljb24tbWFyZ2luLXJpZ2h0KX0uY2R4LXNlYXJjaC1maWVsZF9faWNvbiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDtjb2xvcjojNzA3Njg0fS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dHtmb250LXNpemU6MTRweDtvdXRsaW5lOm5vbmU7Zm9udC13ZWlnaHQ6NTAwO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Ym9yZGVyOjA7YmFja2dyb3VuZDp0cmFuc3BhcmVudDttYXJnaW46MDtwYWRkaW5nOjA7bGluZS1oZWlnaHQ6MjJweDttaW4td2lkdGg6Y2FsYygxMDAlIC0gMjZweCAtIHZhcigtLWljb24tbWFyZ2luLXJpZ2h0KSl9LmNkeC1zZWFyY2gtZmllbGRfX2lucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0O2ZvbnQtd2VpZ2h0OjUwMH0uY2R4LXNlYXJjaC1maWVsZF9faW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6cGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NDtmb250LXdlaWdodDo1MDB9LmNlLXBvcG92ZXJ7LS1ib3JkZXItcmFkaXVzOiA2cHg7LS13aWR0aDogMjAwcHg7LS1tYXgtaGVpZ2h0OiAyNzBweDstLXBhZGRpbmc6IDZweDstLW9mZnNldC1mcm9tLXRhcmdldDogOHB4Oy0tY29sb3ItYm9yZGVyOiAjRUZGMEYxOy0tY29sb3Itc2hhZG93OiByZ2JhKDEzLCAyMCwgMzMsIC4xKTstLWNvbG9yLWJhY2tncm91bmQ6IHdoaXRlOy0tY29sb3ItdGV4dC1wcmltYXJ5OiBibGFjazstLWNvbG9yLXRleHQtc2Vjb25kYXJ5OiAjNzA3Njg0Oy0tY29sb3ItYm9yZGVyLWljb246IHJnYmEoMjAxLCAyMDEsIDIwNCwgLjQ4KTstLWNvbG9yLWJvcmRlci1pY29uLWRpc2FibGVkOiAjRUZGMEYxOy0tY29sb3ItdGV4dC1pY29uLWFjdGl2ZTogIzM4OEFFNTstLWNvbG9yLWJhY2tncm91bmQtaWNvbi1hY3RpdmU6IHJnYmEoNTYsIDEzOCwgMjI5LCAuMSk7LS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tZm9jdXM6IHJnYmEoMzQsIDE4NiwgMjU1LCAuMDgpOy0tY29sb3Itc2hhZG93LWl0ZW0tZm9jdXM6IHJnYmEoNywgMTYxLCAyMjcsIC4wOCk7LS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0taG92ZXI6ICNGOEY4Rjg7LS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybTogI0UyNEE0QTstLWNvbG9yLWJhY2tncm91bmQtaXRlbS1jb25maXJtLWhvdmVyOiAjQ0U0MzQzOy0tcG9wb3Zlci10b3A6IGNhbGMoMTAwJSArIHZhcigtLW9mZnNldC1mcm9tLXRhcmdldCkpOy0tcG9wb3Zlci1sZWZ0OiAwOy0tbmVzdGVkLXBvcG92ZXItb3ZlcmxhcDogNHB4Oy0taWNvbi1zaXplOiAyMHB4Oy0taXRlbS1wYWRkaW5nOiAzcHg7LS1pdGVtLWhlaWdodDogY2FsYyh2YXIoLS1pY29uLXNpemUpICsgMiAqIHZhcigtLWl0ZW0tcGFkZGluZykpfS5jZS1wb3BvdmVyX19jb250YWluZXJ7bWluLXdpZHRoOnZhcigtLXdpZHRoKTt3aWR0aDp2YXIoLS13aWR0aCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO292ZXJmbG93OmhpZGRlbjstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2hhZG93OjBweCAzcHggMTVweCAtM3B4IHZhcigtLWNvbG9yLXNoYWRvdyk7Ym94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggdmFyKC0tY29sb3Itc2hhZG93KTtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OnZhcigtLXBvcG92ZXItbGVmdCk7dG9wOnZhcigtLXBvcG92ZXItdG9wKTtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQpO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsOy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWw7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47ei1pbmRleDo0O29wYWNpdHk6MDttYXgtaGVpZ2h0OjA7cG9pbnRlci1ldmVudHM6bm9uZTtwYWRkaW5nOjA7Ym9yZGVyOm5vbmV9LmNlLXBvcG92ZXItLW9wZW5lZD4uY2UtcG9wb3Zlcl9fY29udGFpbmVye29wYWNpdHk6MTtwYWRkaW5nOnZhcigtLXBhZGRpbmcpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7cG9pbnRlci1ldmVudHM6YXV0bzstd2Via2l0LWFuaW1hdGlvbjpwYW5lbFNob3dpbmcgLjFzIGVhc2U7YW5pbWF0aW9uOnBhbmVsU2hvd2luZyAuMXMgZWFzZTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcil9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci0tb3BlbmVkPi5jZS1wb3BvdmVyX19jb250YWluZXJ7LXdlYmtpdC1hbmltYXRpb246cGFuZWxTaG93aW5nTW9iaWxlIC4yNXMgZWFzZTthbmltYXRpb246cGFuZWxTaG93aW5nTW9iaWxlIC4yNXMgZWFzZX19LmNlLXBvcG92ZXItLW9wZW4tdG9wIC5jZS1wb3BvdmVyX19jb250YWluZXJ7LS1wb3BvdmVyLXRvcDogY2FsYygtMSAqICh2YXIoLS1vZmZzZXQtZnJvbS10YXJnZXQpICsgdmFyKC0tcG9wb3Zlci1oZWlnaHQpKSl9LmNlLXBvcG92ZXItLW9wZW4tbGVmdCAuY2UtcG9wb3Zlcl9fY29udGFpbmVyey0tcG9wb3Zlci1sZWZ0OiBjYWxjKC0xICogdmFyKC0td2lkdGgpICsgMTAwJSl9LmNlLXBvcG92ZXJfX2l0ZW1ze292ZXJmbG93LXk6YXV0bzstbXMtc2Nyb2xsLWNoYWluaW5nOm5vbmU7b3ZlcnNjcm9sbC1iZWhhdmlvcjpjb250YWlufUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXJfX292ZXJsYXl7cG9zaXRpb246Zml4ZWQ7dG9wOjA7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7YmFja2dyb3VuZDojMUQyMDJCO3otaW5kZXg6MztvcGFjaXR5Oi41Oy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4xMnMgZWFzZS1pbjt0cmFuc2l0aW9uOm9wYWNpdHkgLjEycyBlYXNlLWluO3dpbGwtY2hhbmdlOm9wYWNpdHk7dmlzaWJpbGl0eTp2aXNpYmxlfX0uY2UtcG9wb3Zlcl9fb3ZlcmxheS0taGlkZGVue2Rpc3BsYXk6bm9uZX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyIC5jZS1wb3BvdmVyX19jb250YWluZXJ7LS1vZmZzZXQ6IDVweDtwb3NpdGlvbjpmaXhlZDttYXgtd2lkdGg6bm9uZTttaW4td2lkdGg6Y2FsYygxMDAlIC0gdmFyKC0tb2Zmc2V0KSAqIDIpO2xlZnQ6dmFyKC0tb2Zmc2V0KTtyaWdodDp2YXIoLS1vZmZzZXQpO2JvdHRvbTpjYWxjKHZhcigtLW9mZnNldCkgKyBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSkpO3RvcDphdXRvO2JvcmRlci1yYWRpdXM6MTBweH19LmNlLXBvcG92ZXJfX3NlYXJjaHttYXJnaW4tYm90dG9tOjVweH0uY2UtcG9wb3Zlcl9fbm90aGluZy1mb3VuZC1tZXNzYWdle2NvbG9yOiM3MDc2ODQ7ZGlzcGxheTpub25lO2N1cnNvcjpkZWZhdWx0O3BhZGRpbmc6M3B4O2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjIwcHg7Zm9udC13ZWlnaHQ6NTAwO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uY2UtcG9wb3Zlcl9fbm90aGluZy1mb3VuZC1tZXNzYWdlLS1kaXNwbGF5ZWR7ZGlzcGxheTpibG9ja30uY2UtcG9wb3Zlci0tbmVzdGVkIC5jZS1wb3BvdmVyX19jb250YWluZXJ7LS1wb3BvdmVyLWxlZnQ6IGNhbGModmFyKC0tbmVzdGluZy1sZXZlbCkgKiAodmFyKC0td2lkdGgpIC0gdmFyKC0tbmVzdGVkLXBvcG92ZXItb3ZlcmxhcCkpKTt0b3A6Y2FsYyh2YXIoLS10cmlnZ2VyLWl0ZW0tdG9wKSAtIHZhcigtLW5lc3RlZC1wb3BvdmVyLW92ZXJsYXApKTtwb3NpdGlvbjphYnNvbHV0ZX0uY2UtcG9wb3Zlci0tb3Blbi10b3AuY2UtcG9wb3Zlci0tbmVzdGVkIC5jZS1wb3BvdmVyX19jb250YWluZXJ7dG9wOmNhbGModmFyKC0tdHJpZ2dlci1pdGVtLXRvcCkgLSB2YXIoLS1wb3BvdmVyLWhlaWdodCkgKyB2YXIoLS1pdGVtLWhlaWdodCkgKyB2YXIoLS1vZmZzZXQtZnJvbS10YXJnZXQpICsgdmFyKC0tbmVzdGVkLXBvcG92ZXItb3ZlcmxhcCkpfS5jZS1wb3BvdmVyLS1vcGVuLWxlZnQgLmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlcl9fY29udGFpbmVyey0tcG9wb3Zlci1sZWZ0OiBjYWxjKC0xICogKHZhcigtLW5lc3RpbmctbGV2ZWwpICsgMSkgKiB2YXIoLS13aWR0aCkgKyAxMDAlKX0uY2UtcG9wb3Zlci1pdGVtLXNlcGFyYXRvcntwYWRkaW5nOjRweCAzcHh9LmNlLXBvcG92ZXItaXRlbS1zZXBhcmF0b3ItLWhpZGRlbntkaXNwbGF5Om5vbmV9LmNlLXBvcG92ZXItaXRlbS1zZXBhcmF0b3JfX2xpbmV7aGVpZ2h0OjFweDtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJvcmRlcik7d2lkdGg6MTAwJX0uY2UtcG9wb3Zlci1pdGVtLWh0bWwtLWhpZGRlbntkaXNwbGF5Om5vbmV9LmNlLXBvcG92ZXItaXRlbXstLWJvcmRlci1yYWRpdXM6IDZweDtib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzp2YXIoLS1pdGVtLXBhZGRpbmcpO2NvbG9yOnZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSk7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2JvcmRlcjpub25lO2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci1pdGVte3BhZGRpbmc6NHB4fX0uY2UtcG9wb3Zlci1pdGVtOm5vdCg6bGFzdC1vZi10eXBlKXttYXJnaW4tYm90dG9tOjFweH0uY2UtcG9wb3Zlci1pdGVtX19pY29ue3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5jZS1wb3BvdmVyLWl0ZW1fX2ljb24gc3Zne3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci1pdGVtX19pY29ue3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHg7Ym9yZGVyLXJhZGl1czo4cHh9LmNlLXBvcG92ZXItaXRlbV9faWNvbiBzdmd7d2lkdGg6MjhweDtoZWlnaHQ6MjhweH19LmNlLXBvcG92ZXItaXRlbV9faWNvbi0tdG9vbHttYXJnaW4tcmlnaHQ6NHB4fS5jZS1wb3BvdmVyLWl0ZW1fX3RpdGxle2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjIwcHg7Zm9udC13ZWlnaHQ6NTAwO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1vdmVyZmxvdzplbGxpcHNpczttYXJnaW4tcmlnaHQ6YXV0b31AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLWl0ZW1fX3RpdGxle2ZvbnQtc2l6ZToxNnB4fX0uY2UtcG9wb3Zlci1pdGVtX19zZWNvbmRhcnktdGl0bGV7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpO2ZvbnQtc2l6ZToxMnB4O3doaXRlLXNwYWNlOm5vd3JhcDtsZXR0ZXItc3BhY2luZzotLjFlbTtwYWRkaW5nLXJpZ2h0OjVweDtvcGFjaXR5Oi42fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItaXRlbV9fc2Vjb25kYXJ5LXRpdGxle2Rpc3BsYXk6bm9uZX19LmNlLXBvcG92ZXItaXRlbS0tYWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pY29uLWFjdGl2ZSk7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1pY29uLWFjdGl2ZSl9LmNlLXBvcG92ZXItaXRlbS0tZGlzYWJsZWR7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpO2N1cnNvcjpkZWZhdWx0O3BvaW50ZXItZXZlbnRzOm5vbmV9LmNlLXBvcG92ZXItaXRlbS0tZm9jdXNlZDpub3QoLmNlLXBvcG92ZXItaXRlbS0tbm8tZm9jdXMpe2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWZvY3VzKSFpbXBvcnRhbnR9LmNlLXBvcG92ZXItaXRlbS0taGlkZGVue2Rpc3BsYXk6bm9uZX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNlLXBvcG92ZXItaXRlbTpob3ZlcntjdXJzb3I6cG9pbnRlcn0uY2UtcG9wb3Zlci1pdGVtOmhvdmVyOm5vdCguY2UtcG9wb3Zlci1pdGVtLS1uby1ob3Zlcil7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0taG92ZXIpfX0uY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb257YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybSl9LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9uIC5jZS1wb3BvdmVyLWl0ZW1fX3RpdGxlLC5jZS1wb3BvdmVyLWl0ZW0tLWNvbmZpcm1hdGlvbiAuY2UtcG9wb3Zlci1pdGVtX19pY29ue2NvbG9yOiNmZmZ9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1wb3BvdmVyLWl0ZW0tLWNvbmZpcm1hdGlvbjpub3QoLmNlLXBvcG92ZXItaXRlbS0tbm8taG92ZXIpOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm0taG92ZXIpfX0uY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb246bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWZvY3VzKS5jZS1wb3BvdmVyLWl0ZW0tLWZvY3VzZWR7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybS1ob3ZlcikhaW1wb3J0YW50fUAtd2Via2l0LWtleWZyYW1lcyBwYW5lbFNob3dpbmd7MCV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCkgc2NhbGUoLjkpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpIHNjYWxlKC45KX03MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMnB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgycHgpfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9fUBrZXlmcmFtZXMgcGFuZWxTaG93aW5nezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpIHNjYWxlKC45KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtOHB4KSBzY2FsZSguOSl9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDJweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMnB4KX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1ALXdlYmtpdC1rZXlmcmFtZXMgcGFuZWxTaG93aW5nTW9iaWxlezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDE0cHgpIHNjYWxlKC45OCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTRweCkgc2NhbGUoLjk4KX03MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QGtleWZyYW1lcyBwYW5lbFNob3dpbmdNb2JpbGV7MCV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTRweCkgc2NhbGUoLjk4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxNHB4KSBzY2FsZSguOTgpfTcwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtNHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNHB4KX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX0ud29iYmxley13ZWJraXQtYW5pbWF0aW9uLW5hbWU6d29iYmxlO2FuaW1hdGlvbi1uYW1lOndvYmJsZTstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouNHM7YW5pbWF0aW9uLWR1cmF0aW9uOi40c31ALXdlYmtpdC1rZXlmcmFtZXMgd29iYmxlezAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKX0xNSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTklLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApfTMwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg5JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg5JSwwLDApfTQ1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtNCUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCl9NjAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDQlLDAsMCl9NzUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9fUBrZXlmcmFtZXMgd29iYmxlezAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKX0xNSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTklLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApfTMwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg5JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg5JSwwLDApfTQ1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtNCUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCl9NjAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDQlLDAsMCl9NzUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC0xJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9fS5jZS1wb3BvdmVyLWhlYWRlcnttYXJnaW4tYm90dG9tOjhweDttYXJnaW4tdG9wOjRweDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5jZS1wb3BvdmVyLWhlYWRlcl9fdGV4dHtmb250LXNpemU6MThweDtmb250LXdlaWdodDo2MDB9LmNlLXBvcG92ZXItaGVhZGVyX19iYWNrLWJ1dHRvbntib3JkZXI6MDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHg7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1wcmltYXJ5KX0uY2UtcG9wb3Zlci1oZWFkZXJfX2JhY2stYnV0dG9uIHN2Z3tkaXNwbGF5OmJsb2NrO3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHh9LmNlLXBvcG92ZXItLWlubGluZXstLWhlaWdodDogMzhweDstLWhlaWdodC1tb2JpbGU6IDQ2cHg7LS1jb250YWluZXItcGFkZGluZzogNHB4O3Bvc2l0aW9uOnJlbGF0aXZlfS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXJfX2N1c3RvbS1jb250ZW50e21hcmdpbi1ib3R0b206MH0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyX19pdGVtc3tkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXJfX2NvbnRhaW5lcnstd2Via2l0LWJveC1vcmllbnQ6aG9yaXpvbnRhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93O3BhZGRpbmc6dmFyKC0tY29udGFpbmVyLXBhZGRpbmcpO2hlaWdodDp2YXIoLS1oZWlnaHQpO3RvcDowO21pbi13aWR0aDotd2Via2l0LW1heC1jb250ZW50O21pbi13aWR0aDotbW96LW1heC1jb250ZW50O21pbi13aWR0aDptYXgtY29udGVudDt3aWR0aDotd2Via2l0LW1heC1jb250ZW50O3dpZHRoOi1tb3otbWF4LWNvbnRlbnQ7d2lkdGg6bWF4LWNvbnRlbnQ7LXdlYmtpdC1hbmltYXRpb246bm9uZTthbmltYXRpb246bm9uZX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXJfX2NvbnRhaW5lcntoZWlnaHQ6dmFyKC0taGVpZ2h0LW1vYmlsZSk7cG9zaXRpb246YWJzb2x1dGV9fS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItaXRlbS1zZXBhcmF0b3J7cGFkZGluZzowIDRweH0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLWl0ZW0tc2VwYXJhdG9yX19saW5le2hlaWdodDoxMDAlO3dpZHRoOjFweH0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLWl0ZW17Ym9yZGVyLXJhZGl1czo0cHg7cGFkZGluZzo0cHh9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci1pdGVtX19pY29uLS10b29sey13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O21hcmdpbi1yaWdodDowfS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItaXRlbV9faWNvbnt3aWR0aDphdXRvO3dpZHRoOmluaXRpYWw7aGVpZ2h0OmF1dG87aGVpZ2h0OmluaXRpYWx9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci1pdGVtX19pY29uIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci1pdGVtX19pY29uIHN2Z3t3aWR0aDoyOHB4O2hlaWdodDoyOHB4fX0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLWl0ZW06bm90KDpsYXN0LW9mLXR5cGUpe21hcmdpbi1ib3R0b206MDttYXJnaW4tYm90dG9tOmluaXRpYWx9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci1pdGVtLWh0bWx7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb24tLWNoZXZyb24tcmlnaHR7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLS1uZXN0ZWQtbGV2ZWwtMSAuY2UtcG9wb3Zlcl9fY29udGFpbmVyey0tb2Zmc2V0OiAzcHg7bGVmdDowO3RvcDpjYWxjKHZhcigtLWhlaWdodCkgKyB2YXIoLS1vZmZzZXQpKX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItLW5lc3RlZC1sZXZlbC0xIC5jZS1wb3BvdmVyX19jb250YWluZXJ7dG9wOmNhbGModmFyKC0taGVpZ2h0LW1vYmlsZSkgKyB2YXIoLS1vZmZzZXQpKX19LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci0tbmVzdGVkIC5jZS1wb3BvdmVyX19jb250YWluZXJ7bWluLXdpZHRoOnZhcigtLXdpZHRoKTt3aWR0aDp2YXIoLS13aWR0aCk7aGVpZ2h0Oi13ZWJraXQtZml0LWNvbnRlbnQ7aGVpZ2h0Oi1tb3otZml0LWNvbnRlbnQ7aGVpZ2h0OmZpdC1jb250ZW50O3BhZGRpbmc6NnB4Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlcl9faXRlbXN7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlfS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlci1pdGVte2JvcmRlci1yYWRpdXM6NnB4O3BhZGRpbmc6M3B4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci0tbmVzdGVkIC5jZS1wb3BvdmVyLWl0ZW17cGFkZGluZzo0cHh9fS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlci1pdGVtX19pY29uLS10b29se21hcmdpbi1yaWdodDo0cHh9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci0tbmVzdGVkIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb257d2lkdGg6MjZweDtoZWlnaHQ6MjZweH0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLS1uZXN0ZWQgLmNlLXBvcG92ZXItaXRlbS1zZXBhcmF0b3J7cGFkZGluZzo0cHggM3B4fS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlci1pdGVtLXNlcGFyYXRvcl9fbGluZXt3aWR0aDoxMDAlO2hlaWdodDoxcHh9LmNvZGV4LWVkaXRvciBbZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6YmVmb3JlLC5jb2RleC1lZGl0b3IgW2RhdGEtcGxhY2Vob2xkZXJdW2RhdGEtZW1wdHk9dHJ1ZV06YmVmb3Jle3BvaW50ZXItZXZlbnRzOm5vbmU7Y29sb3I6IzcwNzY4NDtjdXJzb3I6dGV4dDtjb250ZW50OmF0dHIoZGF0YS1wbGFjZWhvbGRlcil9LmNvZGV4LWVkaXRvciBbZGF0YS1wbGFjZWhvbGRlci1hY3RpdmVdOmVtcHR5OmJlZm9yZSwuY29kZXgtZWRpdG9yIFtkYXRhLXBsYWNlaG9sZGVyLWFjdGl2ZV1bZGF0YS1lbXB0eT10cnVlXTpiZWZvcmV7cG9pbnRlci1ldmVudHM6bm9uZTtjb2xvcjojNzA3Njg0O2N1cnNvcjp0ZXh0fS5jb2RleC1lZGl0b3IgW2RhdGEtcGxhY2Vob2xkZXItYWN0aXZlXTplbXB0eTpmb2N1czpiZWZvcmUsLmNvZGV4LWVkaXRvciBbZGF0YS1wbGFjZWhvbGRlci1hY3RpdmVdW2RhdGEtZW1wdHk9dHJ1ZV06Zm9jdXM6YmVmb3Jle2NvbnRlbnQ6YXR0cihkYXRhLXBsYWNlaG9sZGVyLWFjdGl2ZSl9XG5gO1xuY2xhc3MgeXMgZXh0ZW5kcyB5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5pc01vYmlsZSA9ICExLCB0aGlzLmNvbnRlbnRSZWN0Q2FjaGUgPSB2b2lkIDAsIHRoaXMucmVzaXplRGVib3VuY2VyID0gdnQoKCkgPT4ge1xuICAgICAgdGhpcy53aW5kb3dSZXNpemUoKTtcbiAgICB9LCAyMDApO1xuICB9XG4gIC8qKlxuICAgKiBFZGl0b3IuanMgVUkgQ1NTIGNsYXNzIG5hbWVzXG4gICAqXG4gICAqIEByZXR1cm5zIHt7ZWRpdG9yV3JhcHBlcjogc3RyaW5nLCBlZGl0b3Jab25lOiBzdHJpbmd9fVxuICAgKi9cbiAgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZWRpdG9yV3JhcHBlcjogXCJjb2RleC1lZGl0b3JcIixcbiAgICAgIGVkaXRvcldyYXBwZXJOYXJyb3c6IFwiY29kZXgtZWRpdG9yLS1uYXJyb3dcIixcbiAgICAgIGVkaXRvclpvbmU6IFwiY29kZXgtZWRpdG9yX19yZWRhY3RvclwiLFxuICAgICAgZWRpdG9yWm9uZUhpZGRlbjogXCJjb2RleC1lZGl0b3JfX3JlZGFjdG9yLS1oaWRkZW5cIixcbiAgICAgIGVkaXRvckVtcHR5OiBcImNvZGV4LWVkaXRvci0tZW1wdHlcIixcbiAgICAgIGVkaXRvclJ0bEZpeDogXCJjb2RleC1lZGl0b3ItLXJ0bFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFdpZHRoIG9mIGNlbnRlciBjb2x1bW4gb2YgRWRpdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHtET01SZWN0fVxuICAgKi9cbiAgZ2V0IGNvbnRlbnRSZWN0KCkge1xuICAgIGlmICh0aGlzLmNvbnRlbnRSZWN0Q2FjaGUpXG4gICAgICByZXR1cm4gdGhpcy5jb250ZW50UmVjdENhY2hlO1xuICAgIGNvbnN0IGUgPSB0aGlzLm5vZGVzLndyYXBwZXIucXVlcnlTZWxlY3RvcihgLiR7RC5DU1MuY29udGVudH1gKTtcbiAgICByZXR1cm4gZSA/ICh0aGlzLmNvbnRlbnRSZWN0Q2FjaGUgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0aGlzLmNvbnRlbnRSZWN0Q2FjaGUpIDoge1xuICAgICAgd2lkdGg6IDY1MCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1ha2luZyBtYWluIGludGVyZmFjZVxuICAgKi9cbiAgYXN5bmMgcHJlcGFyZSgpIHtcbiAgICB0aGlzLnNldElzTW9iaWxlKCksIHRoaXMubWFrZSgpLCB0aGlzLmxvYWRTdHlsZXMoKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlIHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiBJZiByZWFkT25seSBpcyB0cnVlOlxuICAgKiAgLSByZW1vdmVzIGFsbCBsaXN0ZW5lcnMgZnJvbSBtYWluIFVJIG1vZHVsZSBlbGVtZW50c1xuICAgKlxuICAgKiBpZiByZWFkT25seSBpcyBmYWxzZTpcbiAgICogIC0gZW5hYmxlcyBhbGwgbGlzdGVuZXJzIHRvIFVJIG1vZHVsZSBlbGVtZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5RW5hYmxlZCAtIFwicmVhZCBvbmx5XCIgc3RhdGVcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KGUpIHtcbiAgICBlID8gdGhpcy5kaXNhYmxlTW9kdWxlQmluZGluZ3MoKSA6IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMuZW5hYmxlTW9kdWxlQmluZGluZ3MoKTtcbiAgICB9LCB7XG4gICAgICB0aW1lb3V0OiAyZTNcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgRWRpdG9yIGlzIGVtcHR5IGFuZCBzZXQgQ1NTIGNsYXNzIHRvIHdyYXBwZXJcbiAgICovXG4gIGNoZWNrRW1wdGluZXNzKCkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBlIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy5lZGl0b3JFbXB0eSwgZS5pc0VkaXRvckVtcHR5KTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgb25lIG9mIFRvb2xiYXIgaXMgb3BlbmVkXG4gICAqIFVzZWQgdG8gcHJldmVudCBnbG9iYWwga2V5ZG93bnMgKGZvciBleGFtcGxlLCBFbnRlcikgY29uZmxpY3RzIHdpdGggRW50ZXItb24tdG9vbGJhclxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBzb21lVG9vbGJhck9wZW5lZCgpIHtcbiAgICBjb25zdCB7IFRvb2xiYXI6IGUsIEJsb2NrU2V0dGluZ3M6IHQsIElubGluZVRvb2xiYXI6IG8gfSA9IHRoaXMuRWRpdG9yO1xuICAgIHJldHVybiAhISh0Lm9wZW5lZCB8fCBvLm9wZW5lZCB8fCBlLnRvb2xib3gub3BlbmVkKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgZm9yIHNvbWUgRmxpcHBlci1idXR0b25zIGlzIHVuZGVyIGZvY3VzXG4gICAqL1xuICBnZXQgc29tZUZsaXBwZXJCdXR0b25Gb2N1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3guaGFzRm9jdXMoKSA/ICEwIDogT2JqZWN0LmVudHJpZXModGhpcy5FZGl0b3IpLmZpbHRlcigoW2UsIHRdKSA9PiB0LmZsaXBwZXIgaW5zdGFuY2VvZiBsZSkuc29tZSgoW2UsIHRdKSA9PiB0LmZsaXBwZXIuaGFzRm9jdXMoKSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFuIGVkaXRvcmBzIFVJXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMubm9kZXMuaG9sZGVyLmlubmVySFRNTCA9IFwiXCI7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIGFsbCBFZGl0b3IncyB0b29sYmFyc1xuICAgKi9cbiAgY2xvc2VBbGxUb29sYmFycygpIHtcbiAgICBjb25zdCB7IFRvb2xiYXI6IGUsIEJsb2NrU2V0dGluZ3M6IHQsIElubGluZVRvb2xiYXI6IG8gfSA9IHRoaXMuRWRpdG9yO1xuICAgIHQuY2xvc2UoKSwgby5jbG9zZSgpLCBlLnRvb2xib3guY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgZm9yIG1vYmlsZSBtb2RlIGFuZCBzYXZlIHRoZSByZXN1bHRcbiAgICovXG4gIHNldElzTW9iaWxlKCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuaW5uZXJXaWR0aCA8IE90O1xuICAgIGUgIT09IHRoaXMuaXNNb2JpbGUgJiYgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQoeWUsIHtcbiAgICAgIGlzRW5hYmxlZDogdGhpcy5pc01vYmlsZVxuICAgIH0pLCB0aGlzLmlzTW9iaWxlID0gZTtcbiAgfVxuICAvKipcbiAgICogTWFrZXMgRWRpdG9yLmpzIGludGVyZmFjZVxuICAgKi9cbiAgbWFrZSgpIHtcbiAgICB0aGlzLm5vZGVzLmhvbGRlciA9IGQuZ2V0SG9sZGVyKHRoaXMuY29uZmlnLmhvbGRlciksIHRoaXMubm9kZXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCBbXG4gICAgICB0aGlzLkNTUy5lZGl0b3JXcmFwcGVyLFxuICAgICAgLi4udGhpcy5pc1J0bCA/IFt0aGlzLkNTUy5lZGl0b3JSdGxGaXhdIDogW11cbiAgICBdKSwgdGhpcy5ub2Rlcy5yZWRhY3RvciA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5lZGl0b3Jab25lKSwgdGhpcy5ub2Rlcy5ob2xkZXIub2Zmc2V0V2lkdGggPCB0aGlzLmNvbnRlbnRSZWN0LndpZHRoICYmIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmVkaXRvcldyYXBwZXJOYXJyb3cpLCB0aGlzLm5vZGVzLnJlZGFjdG9yLnN0eWxlLnBhZGRpbmdCb3R0b20gPSB0aGlzLmNvbmZpZy5taW5IZWlnaHQgKyBcInB4XCIsIHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLnJlZGFjdG9yKSwgdGhpcy5ub2Rlcy5ob2xkZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy53cmFwcGVyKTtcbiAgfVxuICAvKipcbiAgICogQXBwZW5kcyBDU1NcbiAgICovXG4gIGxvYWRTdHlsZXMoKSB7XG4gICAgY29uc3QgZSA9IFwiZWRpdG9yLWpzLXN0eWxlc1wiO1xuICAgIGlmIChkLmdldChlKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gZC5tYWtlKFwic3R5bGVcIiwgbnVsbCwge1xuICAgICAgaWQ6IGUsXG4gICAgICB0ZXh0Q29udGVudDogeHMudG9TdHJpbmcoKVxuICAgIH0pO1xuICAgIHRoaXMuY29uZmlnLnN0eWxlICYmICFWKHRoaXMuY29uZmlnLnN0eWxlKSAmJiB0aGlzLmNvbmZpZy5zdHlsZS5ub25jZSAmJiB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIHRoaXMuY29uZmlnLnN0eWxlLm5vbmNlKSwgZC5wcmVwZW5kKGRvY3VtZW50LmhlYWQsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBCaW5kIGV2ZW50cyBvbiB0aGUgRWRpdG9yLmpzIGludGVyZmFjZVxuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5yZWRhY3RvciwgXCJjbGlja1wiLCAodCkgPT4ge1xuICAgICAgdGhpcy5yZWRhY3RvckNsaWNrZWQodCk7XG4gICAgfSwgITEpLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnJlZGFjdG9yLCBcIm1vdXNlZG93blwiLCAodCkgPT4ge1xuICAgICAgdGhpcy5kb2N1bWVudFRvdWNoZWQodCk7XG4gICAgfSwge1xuICAgICAgY2FwdHVyZTogITAsXG4gICAgICBwYXNzaXZlOiAhMFxuICAgIH0pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnJlZGFjdG9yLCBcInRvdWNoc3RhcnRcIiwgKHQpID0+IHtcbiAgICAgIHRoaXMuZG9jdW1lbnRUb3VjaGVkKHQpO1xuICAgIH0sIHtcbiAgICAgIGNhcHR1cmU6ICEwLFxuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZG9jdW1lbnQsIFwia2V5ZG93blwiLCAodCkgPT4ge1xuICAgICAgdGhpcy5kb2N1bWVudEtleWRvd24odCk7XG4gICAgfSwgITApLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJtb3VzZWRvd25cIiwgKHQpID0+IHtcbiAgICAgIHRoaXMuZG9jdW1lbnRDbGlja2VkKHQpO1xuICAgIH0sICEwKTtcbiAgICBjb25zdCBlID0gdnQoKCkgPT4ge1xuICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgfSwgc3MpO1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGRvY3VtZW50LCBcInNlbGVjdGlvbmNoYW5nZVwiLCBlLCAhMCksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHdpbmRvdywgXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5yZXNpemVEZWJvdW5jZXIoKTtcbiAgICB9LCB7XG4gICAgICBwYXNzaXZlOiAhMFxuICAgIH0pLCB0aGlzLndhdGNoQmxvY2tIb3ZlcmVkRXZlbnRzKCksIHRoaXMuZW5hYmxlSW5wdXRzRW1wdHlNYXJrKCk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RlbiByZWRhY3RvciBtb3VzZW1vdmUgdG8gZW1pdCAnYmxvY2staG92ZXJlZCcgZXZlbnRcbiAgICovXG4gIHdhdGNoQmxvY2tIb3ZlcmVkRXZlbnRzKCkge1xuICAgIGxldCBlO1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHRoaXMubm9kZXMucmVkYWN0b3IsIFwibW91c2Vtb3ZlXCIsIFZlKCh0KSA9PiB7XG4gICAgICBjb25zdCBvID0gdC50YXJnZXQuY2xvc2VzdChcIi5jZS1ibG9ja1wiKTtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmFueUJsb2NrU2VsZWN0ZWQgfHwgbyAmJiBlICE9PSBvICYmIChlID0gbywgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQob28sIHtcbiAgICAgICAgYmxvY2s6IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKG8pXG4gICAgICB9KSk7XG4gICAgfSwgMjApLCB7XG4gICAgICBwYXNzaXZlOiAhMFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBVbmJpbmQgZXZlbnRzIG9uIHRoZSBFZGl0b3IuanMgaW50ZXJmYWNlXG4gICAqL1xuICBkaXNhYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMuY2xlYXJBbGwoKTtcbiAgfVxuICAvKipcbiAgICogUmVzaXplIHdpbmRvdyBoYW5kbGVyXG4gICAqL1xuICB3aW5kb3dSZXNpemUoKSB7XG4gICAgdGhpcy5jb250ZW50UmVjdENhY2hlID0gbnVsbCwgdGhpcy5zZXRJc01vYmlsZSgpO1xuICB9XG4gIC8qKlxuICAgKiBBbGwga2V5ZG93bnMgb24gZG9jdW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBkb2N1bWVudEtleWRvd24oZSkge1xuICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICBjYXNlIHcuRU5URVI6XG4gICAgICAgIHRoaXMuZW50ZXJQcmVzc2VkKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2Ugdy5CQUNLU1BBQ0U6XG4gICAgICBjYXNlIHcuREVMRVRFOlxuICAgICAgICB0aGlzLmJhY2tzcGFjZVByZXNzZWQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB3LkVTQzpcbiAgICAgICAgdGhpcy5lc2NhcGVQcmVzc2VkKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuZGVmYXVsdEJlaGF2aW91cihlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBJZ25vcmUgYWxsIG90aGVyIGRvY3VtZW50J3Mga2V5ZG93biBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBkZWZhdWx0QmVoYXZpb3VyKGUpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogdCB9ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLCBvID0gZS50YXJnZXQuY2xvc2VzdChgLiR7dGhpcy5DU1MuZWRpdG9yV3JhcHBlcn1gKSwgaSA9IGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleTtcbiAgICBpZiAodCAhPT0gdm9pZCAwICYmIG8gPT09IG51bGwpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrRXZlbnRzLmtleWRvd24oZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG8gfHwgdCAmJiBpIHx8ICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIudW5zZXRDdXJyZW50QmxvY2soKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBiYWNrc3BhY2VQcmVzc2VkKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8sIENhcmV0OiBpIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpZiAoby5hbnlCbG9ja1NlbGVjdGVkICYmICFiLmlzU2VsZWN0aW9uRXhpc3RzKSB7XG4gICAgICBjb25zdCBzID0gdC5yZW1vdmVTZWxlY3RlZEJsb2NrcygpLCByID0gdC5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KHMsICEwKTtcbiAgICAgIGkuc2V0VG9CbG9jayhyLCBpLnBvc2l0aW9ucy5TVEFSVCksIG8uY2xlYXJTZWxlY3Rpb24oZSksIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEVzY2FwZSBwcmVzc2VkXG4gICAqIElmIHNvbWUgb2YgVG9vbGJhciBjb21wb25lbnRzIGFyZSBvcGVuZWQsIHRoZW4gY2xvc2UgaXQgb3RoZXJ3aXNlIGNsb3NlIFRvb2xiYXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBlc2NhcGUga2V5ZG93biBldmVudFxuICAgKi9cbiAgZXNjYXBlUHJlc3NlZChlKSB7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSksIHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5vcGVuZWQgPyAodGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94LmNsb3NlKCksIHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2sodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jaywgdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkVORCkpIDogdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQgPyB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLmNsb3NlKCkgOiB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLm9wZW5lZCA/IHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKSA6IHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogRW50ZXIgcHJlc3NlZCBvbiBkb2N1bWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGVudGVyUHJlc3NlZChlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIEJsb2NrU2VsZWN0aW9uOiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpZiAodGhpcy5zb21lVG9vbGJhck9wZW5lZClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBpID0gdC5jdXJyZW50QmxvY2tJbmRleCA+PSAwO1xuICAgIGlmIChvLmFueUJsb2NrU2VsZWN0ZWQgJiYgIWIuaXNTZWxlY3Rpb25FeGlzdHMpIHtcbiAgICAgIG8uY2xlYXJTZWxlY3Rpb24oZSksIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnNvbWVUb29sYmFyT3BlbmVkICYmIGkgJiYgZS50YXJnZXQudGFnTmFtZSA9PT0gXCJCT0RZXCIpIHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0KCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2socyksIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4ocyk7XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpO1xuICB9XG4gIC8qKlxuICAgKiBBbGwgY2xpY2tzIG9uIGRvY3VtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSBDbGljayBldmVudFxuICAgKi9cbiAgZG9jdW1lbnRDbGlja2VkKGUpIHtcbiAgICB2YXIgbCwgYTtcbiAgICBpZiAoIWUuaXNUcnVzdGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSBlLnRhcmdldDtcbiAgICB0aGlzLm5vZGVzLmhvbGRlci5jb250YWlucyh0KSB8fCBiLmlzQXRFZGl0b3IgfHwgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci51bnNldEN1cnJlbnRCbG9jaygpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCkpO1xuICAgIGNvbnN0IGkgPSAobCA9IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mubm9kZXMud3JhcHBlcikgPT0gbnVsbCA/IHZvaWQgMCA6IGwuY29udGFpbnModCksIHMgPSAoYSA9IHRoaXMuRWRpdG9yLlRvb2xiYXIubm9kZXMuc2V0dGluZ3NUb2dnbGVyKSA9PSBudWxsID8gdm9pZCAwIDogYS5jb250YWlucyh0KSwgciA9IGkgfHwgcztcbiAgICBpZiAodGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQgJiYgIXIpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKTtcbiAgICAgIGNvbnN0IGMgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUNoaWxkTm9kZSh0KTtcbiAgICAgIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oYyk7XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJzdCB0b3VjaCBvbiBlZGl0b3JcbiAgICogRmlyZWQgYmVmb3JlIGNsaWNrXG4gICAqXG4gICAqIFVzZWQgdG8gY2hhbmdlIGN1cnJlbnQgYmxvY2sg4oCUIHdlIG5lZWQgdG8gZG8gaXQgYmVmb3JlICdzZWxlY3Rpb25DaGFuZ2UnIGV2ZW50LlxuICAgKiBBbHNvOlxuICAgKiAtIE1vdmUgYW5kIHNob3cgdGhlIFRvb2xiYXJcbiAgICogLSBTZXQgYSBDYXJldFxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnQgfCBUb3VjaEV2ZW50fSBldmVudCAtIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAqL1xuICBkb2N1bWVudFRvdWNoZWQoZSkge1xuICAgIGxldCB0ID0gZS50YXJnZXQ7XG4gICAgaWYgKHQgPT09IHRoaXMubm9kZXMucmVkYWN0b3IpIHtcbiAgICAgIGNvbnN0IG8gPSBlIGluc3RhbmNlb2YgTW91c2VFdmVudCA/IGUuY2xpZW50WCA6IGUudG91Y2hlc1swXS5jbGllbnRYLCBpID0gZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgPyBlLmNsaWVudFkgOiBlLnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgIHQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KG8sIGkpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKHQpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhpcy5FZGl0b3IuUmVjdGFuZ2xlU2VsZWN0aW9uLmlzUmVjdEFjdGl2YXRlZCgpIHx8IHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvVGhlTGFzdEJsb2NrKCk7XG4gICAgfVxuICAgIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKTtcbiAgfVxuICAvKipcbiAgICogQWxsIGNsaWNrcyBvbiB0aGUgcmVkYWN0b3Igem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gY2xpY2sgZXZlbnRcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIC0gQnkgY2xpY2tzIG9uIHRoZSBFZGl0b3IncyBib3R0b20gem9uZTpcbiAgICogICAgICAtIGlmIGxhc3QgQmxvY2sgaXMgZW1wdHksIHNldCBhIENhcmV0IHRvIHRoaXNcbiAgICogICAgICAtIG90aGVyd2lzZSwgYWRkIGEgbmV3IGVtcHR5IEJsb2NrIGFuZCBzZXQgYSBDYXJldCB0byB0aGF0XG4gICAqL1xuICByZWRhY3RvckNsaWNrZWQoZSkge1xuICAgIGlmICghYi5pc0NvbGxhcHNlZClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gZS50YXJnZXQsIG8gPSBlLm1ldGFLZXkgfHwgZS5jdHJsS2V5O1xuICAgIGlmIChkLmlzQW5jaG9yKHQpICYmIG8pIHtcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBpID0gdC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCBzID0gU28oaSk7XG4gICAgICBNbyhzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5wcm9jZXNzQm90dG9tWm9uZUNsaWNrKGUpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB1c2VyIGNsaWNrcyBvbiB0aGUgRWRpdG9yJ3MgYm90dG9tIHpvbmU6XG4gICAqICAtIHNldCBjYXJldCB0byB0aGUgbGFzdCBibG9ja1xuICAgKiAgLSBvciBhZGQgbmV3IGVtcHR5IGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCAtIGNsaWNrIGV2ZW50XG4gICAqL1xuICBwcm9jZXNzQm90dG9tWm9uZUNsaWNrKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlJbmRleCgtMSksIG8gPSBkLm9mZnNldCh0LmhvbGRlcikuYm90dG9tLCBpID0gZS5wYWdlWSwgeyBCbG9ja1NlbGVjdGlvbjogcyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgaWYgKGUudGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCAmJiBlLnRhcmdldC5pc0VxdWFsTm9kZSh0aGlzLm5vZGVzLnJlZGFjdG9yKSAmJiAvKipcbiAgICAqIElmIHRoZXJlIGlzIGNyb3NzIGJsb2NrIHNlbGVjdGlvbiBzdGFydGVkLCB0YXJnZXQgd2lsbCBiZSBlcXVhbCB0byByZWRhY3RvciBzbyB3ZSBuZWVkIGFkZGl0aW9uYWwgY2hlY2tcbiAgICAqL1xuICAgICFzLmFueUJsb2NrU2VsZWN0ZWQgJiYgLyoqXG4gICAgKiBQcmV2ZW50IGNhcmV0IGp1bXBpbmcgKHRvIGxhc3QgYmxvY2spIHdoZW4gY2xpY2tpbmcgYmV0d2VlbiBibG9ja3NcbiAgICAqL1xuICAgIG8gPCBpKSB7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGwsIENhcmV0OiBhLCBUb29sYmFyOiBjIH0gPSB0aGlzLkVkaXRvcjtcbiAgICAgICghbC5sYXN0QmxvY2sudG9vbC5pc0RlZmF1bHQgfHwgIWwubGFzdEJsb2NrLmlzRW1wdHkpICYmIGwuaW5zZXJ0QXRFbmQoKSwgYS5zZXRUb1RoZUxhc3RCbG9jaygpLCBjLm1vdmVBbmRPcGVuKGwubGFzdEJsb2NrKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBzZWxlY3Rpb24gY2hhbmdlcyBvbiBtb2JpbGUgZGV2aWNlc1xuICAgKiBVc2VzIGZvciBzaG93aW5nIHRoZSBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgc2VsZWN0aW9uQ2hhbmdlZCgpIHtcbiAgICBjb25zdCB7IENyb3NzQmxvY2tTZWxlY3Rpb246IGUsIEJsb2NrU2VsZWN0aW9uOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IGIuYW5jaG9yRWxlbWVudDtcbiAgICBpZiAoZS5pc0Nyb3NzQmxvY2tTZWxlY3Rpb25TdGFydGVkICYmIHQuYW55QmxvY2tTZWxlY3RlZCAmJiBiLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpLCAhbykge1xuICAgICAgYi5yYW5nZSB8fCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGkgPSBvLmNsb3Nlc3QoYC4ke0QuQ1NTLmNvbnRlbnR9YCk7XG4gICAgKGkgPT09IG51bGwgfHwgaS5jbG9zZXN0KGAuJHtiLkNTUy5lZGl0b3JXcmFwcGVyfWApICE9PSB0aGlzLm5vZGVzLndyYXBwZXIpICYmICh0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNvbnRhaW5zTm9kZShvKSB8fCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCksICEoby5kYXRhc2V0LmlubGluZVRvb2xiYXIgPT09IFwidHJ1ZVwiKSkgfHwgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgfHwgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKG8pLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLnRyeVRvU2hvdyghMCkpO1xuICB9XG4gIC8qKlxuICAgKiBFZGl0b3IuanMgcHJvdmlkZXMgYW5kIGFiaWxpdHkgdG8gc2hvdyBwbGFjZWhvbGRlcnMgZm9yIGVtcHR5IGNvbnRlbnRlZGl0YWJsZSBlbGVtZW50c1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3YXRjaGVzIGZvciBpbnB1dCBhbmQgZm9jdXMgZXZlbnRzIGFuZCB0b2dnbGVzICdkYXRhLWVtcHR5JyBhdHRyaWJ1dGVcbiAgICogdG8gd29ya2Fyb3VkIHRoZSBjYXNlLCB3aGVuIGlucHV0cyBjb250YWlucyBvbmx5IDxicj5zIGFuZCBoYXMgbm8gdmlzaWJsZSBjb250ZW50XG4gICAqIFRoZW4sIENTUyBjb3VsZCByZWx5IG9uIHRoaXMgYXR0cmlidXRlIHRvIHNob3cgcGxhY2Vob2xkZXJzXG4gICAqL1xuICBlbmFibGVJbnB1dHNFbXB0eU1hcmsoKSB7XG4gICAgZnVuY3Rpb24gZSh0KSB7XG4gICAgICBjb25zdCBvID0gdC50YXJnZXQ7XG4gICAgICBMdChvKTtcbiAgICB9XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy53cmFwcGVyLCBcImlucHV0XCIsIGUpLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLndyYXBwZXIsIFwiZm9jdXNpblwiLCBlKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy53cmFwcGVyLCBcImZvY3Vzb3V0XCIsIGUpO1xuICB9XG59XG5jb25zdCBFcyA9IHtcbiAgLy8gQVBJIE1vZHVsZXNcbiAgQmxvY2tzQVBJOiB6byxcbiAgQ2FyZXRBUEk6IGpvLFxuICBFdmVudHNBUEk6ICRvLFxuICBJMThuQVBJOiBvdCxcbiAgQVBJOiBZbyxcbiAgSW5saW5lVG9vbGJhckFQSTogV28sXG4gIExpc3RlbmVyc0FQSTogS28sXG4gIE5vdGlmaWVyQVBJOiBabyxcbiAgUmVhZE9ubHlBUEk6IEdvLFxuICBTYW5pdGl6ZXJBUEk6IHNpLFxuICBTYXZlckFQSTogbmksXG4gIFNlbGVjdGlvbkFQSTogcmksXG4gIFRvb2xzQVBJOiBsaSxcbiAgU3R5bGVzQVBJOiBhaSxcbiAgVG9vbGJhckFQSTogY2ksXG4gIFRvb2x0aXBBUEk6IGZpLFxuICBVaUFQSTogZ2ksXG4gIC8vIFRvb2xiYXIgTW9kdWxlc1xuICBCbG9ja1NldHRpbmdzOiBVaSxcbiAgVG9vbGJhcjogcWksXG4gIElubGluZVRvb2xiYXI6IFppLFxuICAvLyBNb2R1bGVzXG4gIEJsb2NrRXZlbnRzOiBHaSxcbiAgQmxvY2tNYW5hZ2VyOiBlcyxcbiAgQmxvY2tTZWxlY3Rpb246IHRzLFxuICBDYXJldDogUmUsXG4gIENyb3NzQmxvY2tTZWxlY3Rpb246IG9zLFxuICBEcmFnTkRyb3A6IGlzLFxuICBNb2RpZmljYXRpb25zT2JzZXJ2ZXI6IHJzLFxuICBQYXN0ZTogbHMsXG4gIFJlYWRPbmx5OiBhcyxcbiAgUmVjdGFuZ2xlU2VsZWN0aW9uOiB4ZSxcbiAgUmVuZGVyZXI6IGNzLFxuICBTYXZlcjogZHMsXG4gIFRvb2xzOiBnbyxcbiAgVUk6IHlzXG59O1xuY2xhc3MgQnMge1xuICAvKipcbiAgICogQHBhcmFtIHtFZGl0b3JDb25maWd9IGNvbmZpZyAtIHVzZXIgY29uZmlndXJhdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMubW9kdWxlSW5zdGFuY2VzID0ge30sIHRoaXMuZXZlbnRzRGlzcGF0Y2hlciA9IG5ldyBUZSgpO1xuICAgIGxldCB0LCBvO1xuICAgIHRoaXMuaXNSZWFkeSA9IG5ldyBQcm9taXNlKChpLCBzKSA9PiB7XG4gICAgICB0ID0gaSwgbyA9IHM7XG4gICAgfSksIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gZSwgdGhpcy52YWxpZGF0ZSgpLCB0aGlzLmluaXQoKSwgYXdhaXQgdGhpcy5zdGFydCgpLCBhd2FpdCB0aGlzLnJlbmRlcigpO1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGksIENhcmV0OiBzLCBVSTogciwgTW9kaWZpY2F0aW9uc09ic2VydmVyOiBsIH0gPSB0aGlzLm1vZHVsZUluc3RhbmNlcztcbiAgICAgIHIuY2hlY2tFbXB0aW5lc3MoKSwgbC5lbmFibGUoKSwgdGhpcy5jb25maWd1cmF0aW9uLmF1dG9mb2N1cyAmJiBzLnNldFRvQmxvY2soaS5ibG9ja3NbMF0sIHMucG9zaXRpb25zLlNUQVJUKSwgdCgpO1xuICAgIH0pLmNhdGNoKChpKSA9PiB7XG4gICAgICBJKGBFZGl0b3IuanMgaXMgbm90IHJlYWR5IGJlY2F1c2Ugb2YgJHtpfWAsIFwiZXJyb3JcIiksIG8oaSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHRpbmcgZm9yIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtFZGl0b3JDb25maWd8c3RyaW5nfSBjb25maWcgLSBFZGl0b3IncyBjb25maWcgdG8gc2V0XG4gICAqL1xuICBzZXQgY29uZmlndXJhdGlvbihlKSB7XG4gICAgdmFyIG8sIGk7XG4gICAgUihlKSA/IHRoaXMuY29uZmlnID0ge1xuICAgICAgLi4uZVxuICAgIH0gOiB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGhvbGRlcjogZVxuICAgIH0sIFplKCEhdGhpcy5jb25maWcuaG9sZGVySWQsIFwiY29uZmlnLmhvbGRlcklkXCIsIFwiY29uZmlnLmhvbGRlclwiKSwgdGhpcy5jb25maWcuaG9sZGVySWQgJiYgIXRoaXMuY29uZmlnLmhvbGRlciAmJiAodGhpcy5jb25maWcuaG9sZGVyID0gdGhpcy5jb25maWcuaG9sZGVySWQsIHRoaXMuY29uZmlnLmhvbGRlcklkID0gbnVsbCksIHRoaXMuY29uZmlnLmhvbGRlciA9PSBudWxsICYmICh0aGlzLmNvbmZpZy5ob2xkZXIgPSBcImVkaXRvcmpzXCIpLCB0aGlzLmNvbmZpZy5sb2dMZXZlbCB8fCAodGhpcy5jb25maWcubG9nTGV2ZWwgPSBJdC5WRVJCT1NFKSwgeG8odGhpcy5jb25maWcubG9nTGV2ZWwpLCBaZSghIXRoaXMuY29uZmlnLmluaXRpYWxCbG9jaywgXCJjb25maWcuaW5pdGlhbEJsb2NrXCIsIFwiY29uZmlnLmRlZmF1bHRCbG9ja1wiKSwgdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrID0gdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrIHx8IHRoaXMuY29uZmlnLmluaXRpYWxCbG9jayB8fCBcInBhcmFncmFwaFwiLCB0aGlzLmNvbmZpZy5taW5IZWlnaHQgPSB0aGlzLmNvbmZpZy5taW5IZWlnaHQgIT09IHZvaWQgMCA/IHRoaXMuY29uZmlnLm1pbkhlaWdodCA6IDMwMDtcbiAgICBjb25zdCB0ID0ge1xuICAgICAgdHlwZTogdGhpcy5jb25maWcuZGVmYXVsdEJsb2NrLFxuICAgICAgZGF0YToge31cbiAgICB9O1xuICAgIHRoaXMuY29uZmlnLnBsYWNlaG9sZGVyID0gdGhpcy5jb25maWcucGxhY2Vob2xkZXIgfHwgITEsIHRoaXMuY29uZmlnLnNhbml0aXplciA9IHRoaXMuY29uZmlnLnNhbml0aXplciB8fCB7XG4gICAgICBwOiAhMCxcbiAgICAgIGI6ICEwLFxuICAgICAgYTogITBcbiAgICB9LCB0aGlzLmNvbmZpZy5oaWRlVG9vbGJhciA9IHRoaXMuY29uZmlnLmhpZGVUb29sYmFyID8gdGhpcy5jb25maWcuaGlkZVRvb2xiYXIgOiAhMSwgdGhpcy5jb25maWcudG9vbHMgPSB0aGlzLmNvbmZpZy50b29scyB8fCB7fSwgdGhpcy5jb25maWcuaTE4biA9IHRoaXMuY29uZmlnLmkxOG4gfHwge30sIHRoaXMuY29uZmlnLmRhdGEgPSB0aGlzLmNvbmZpZy5kYXRhIHx8IHsgYmxvY2tzOiBbXSB9LCB0aGlzLmNvbmZpZy5vblJlYWR5ID0gdGhpcy5jb25maWcub25SZWFkeSB8fCAoKCkgPT4ge1xuICAgIH0pLCB0aGlzLmNvbmZpZy5vbkNoYW5nZSA9IHRoaXMuY29uZmlnLm9uQ2hhbmdlIHx8ICgoKSA9PiB7XG4gICAgfSksIHRoaXMuY29uZmlnLmlubGluZVRvb2xiYXIgPSB0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyICE9PSB2b2lkIDAgPyB0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyIDogITAsIChWKHRoaXMuY29uZmlnLmRhdGEpIHx8ICF0aGlzLmNvbmZpZy5kYXRhLmJsb2NrcyB8fCB0aGlzLmNvbmZpZy5kYXRhLmJsb2Nrcy5sZW5ndGggPT09IDApICYmICh0aGlzLmNvbmZpZy5kYXRhID0geyBibG9ja3M6IFt0XSB9KSwgdGhpcy5jb25maWcucmVhZE9ubHkgPSB0aGlzLmNvbmZpZy5yZWFkT25seSB8fCAhMSwgKG8gPSB0aGlzLmNvbmZpZy5pMThuKSAhPSBudWxsICYmIG8ubWVzc2FnZXMgJiYgei5zZXREaWN0aW9uYXJ5KHRoaXMuY29uZmlnLmkxOG4ubWVzc2FnZXMpLCB0aGlzLmNvbmZpZy5pMThuLmRpcmVjdGlvbiA9ICgoaSA9IHRoaXMuY29uZmlnLmkxOG4pID09IG51bGwgPyB2b2lkIDAgOiBpLmRpcmVjdGlvbikgfHwgXCJsdHJcIjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBwcml2YXRlIHByb3BlcnR5XG4gICAqXG4gICAqIEByZXR1cm5zIHtFZGl0b3JDb25maWd9XG4gICAqL1xuICBnZXQgY29uZmlndXJhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWc7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBmb3IgcmVxdWlyZWQgZmllbGRzIGluIEVkaXRvcidzIGNvbmZpZ1xuICAgKi9cbiAgdmFsaWRhdGUoKSB7XG4gICAgY29uc3QgeyBob2xkZXJJZDogZSwgaG9sZGVyOiB0IH0gPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoZSAmJiB0KVxuICAgICAgdGhyb3cgRXJyb3IoXCLCq2hvbGRlcklkwrsgYW5kIMKraG9sZGVywrsgcGFyYW0gY2FuJ3QgYXNzaWduIGF0IHRoZSBzYW1lIHRpbWUuXCIpO1xuICAgIGlmIChRKHQpICYmICFkLmdldCh0KSlcbiAgICAgIHRocm93IEVycm9yKGBlbGVtZW50IHdpdGggSUQgwqske3R9wrsgaXMgbWlzc2luZy4gUGFzcyBjb3JyZWN0IGhvbGRlcidzIElELmApO1xuICAgIGlmICh0ICYmIFIodCkgJiYgIWQuaXNFbGVtZW50KHQpKVxuICAgICAgdGhyb3cgRXJyb3IoXCLCq2hvbGRlcsK7IHZhbHVlIG11c3QgYmUgYW4gRWxlbWVudCBub2RlXCIpO1xuICB9XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBtb2R1bGVzOlxuICAgKiAgLSBtYWtlIGFuZCBzYXZlIGluc3RhbmNlc1xuICAgKiAgLSBjb25maWd1cmVcbiAgICovXG4gIGluaXQoKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RNb2R1bGVzKCksIHRoaXMuY29uZmlndXJlTW9kdWxlcygpO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydCBFZGl0b3IhXG4gICAqXG4gICAqIEdldCBsaXN0IG9mIG1vZHVsZXMgdGhhdCBuZWVkcyB0byBiZSBwcmVwYXJlZCBhbmQgcmV0dXJuIGEgc2VxdWVuY2UgKFByb21pc2UpXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgYXN5bmMgc3RhcnQoKSB7XG4gICAgYXdhaXQgW1xuICAgICAgXCJUb29sc1wiLFxuICAgICAgXCJVSVwiLFxuICAgICAgXCJCbG9ja01hbmFnZXJcIixcbiAgICAgIFwiUGFzdGVcIixcbiAgICAgIFwiQmxvY2tTZWxlY3Rpb25cIixcbiAgICAgIFwiUmVjdGFuZ2xlU2VsZWN0aW9uXCIsXG4gICAgICBcIkNyb3NzQmxvY2tTZWxlY3Rpb25cIixcbiAgICAgIFwiUmVhZE9ubHlcIlxuICAgIF0ucmVkdWNlKFxuICAgICAgKHQsIG8pID0+IHQudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5tb2R1bGVJbnN0YW5jZXNbb10ucHJlcGFyZSgpO1xuICAgICAgICB9IGNhdGNoIChpKSB7XG4gICAgICAgICAgaWYgKGkgaW5zdGFuY2VvZiBQdClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihpLm1lc3NhZ2UpO1xuICAgICAgICAgIEkoYE1vZHVsZSAke299IHdhcyBza2lwcGVkIGJlY2F1c2Ugb2YgJW9gLCBcIndhcm5cIiwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgaW5pdGlhbCBkYXRhXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kdWxlSW5zdGFuY2VzLlJlbmRlcmVyLnJlbmRlcih0aGlzLmNvbmZpZy5kYXRhLmJsb2Nrcyk7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2UgbW9kdWxlcyBpbnN0YW5jZXMgYW5kIHNhdmUgaXQgdG8gdGhlIEBwcm9wZXJ0eSB0aGlzLm1vZHVsZUluc3RhbmNlc1xuICAgKi9cbiAgY29uc3RydWN0TW9kdWxlcygpIHtcbiAgICBPYmplY3QuZW50cmllcyhFcykuZm9yRWFjaCgoW2UsIHRdKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLm1vZHVsZUluc3RhbmNlc1tlXSA9IG5ldyB0KHtcbiAgICAgICAgICBjb25maWc6IHRoaXMuY29uZmlndXJhdGlvbixcbiAgICAgICAgICBldmVudHNEaXNwYXRjaGVyOiB0aGlzLmV2ZW50c0Rpc3BhdGNoZXJcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChvKSB7XG4gICAgICAgIEkoXCJbY29uc3RydWN0TW9kdWxlc11cIiwgYE1vZHVsZSAke2V9IHNraXBwZWQgYmVjYXVzZWAsIFwiZXJyb3JcIiwgbyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZXMgaW5zdGFuY2VzIGNvbmZpZ3VyYXRpb246XG4gICAqICAtIHBhc3Mgb3RoZXIgbW9kdWxlcyB0byB0aGUgJ3N0YXRlJyBwcm9wZXJ0eVxuICAgKiAgLSAuLi5cbiAgICovXG4gIGNvbmZpZ3VyZU1vZHVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBlIGluIHRoaXMubW9kdWxlSW5zdGFuY2VzKVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMubW9kdWxlSW5zdGFuY2VzLCBlKSAmJiAodGhpcy5tb2R1bGVJbnN0YW5jZXNbZV0uc3RhdGUgPSB0aGlzLmdldE1vZHVsZXNEaWZmKGUpKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIG1vZHVsZXMgd2l0aG91dCBwYXNzZWQgbmFtZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIG1vZHVsZSBmb3Igd2l0Y2ggbW9kdWxlcyBkaWZmZXJlbmNlIHNob3VsZCBiZSBjYWxjdWxhdGVkXG4gICAqL1xuICBnZXRNb2R1bGVzRGlmZihlKSB7XG4gICAgY29uc3QgdCA9IHt9O1xuICAgIGZvciAoY29uc3QgbyBpbiB0aGlzLm1vZHVsZUluc3RhbmNlcylcbiAgICAgIG8gIT09IGUgJiYgKHRbb10gPSB0aGlzLm1vZHVsZUluc3RhbmNlc1tvXSk7XG4gICAgcmV0dXJuIHQ7XG4gIH1cbn1cbi8qKlxuICogRWRpdG9yLmpzXG4gKlxuICogQGxpY2Vuc2UgQXBhY2hlLTIuMFxuICogQHNlZSBFZGl0b3IuanMgPGh0dHBzOi8vZWRpdG9yanMuaW8+XG4gKiBAYXV0aG9yIENvZGVYIFRlYW0gPGh0dHBzOi8vY29kZXguc28+XG4gKi9cbmNsYXNzIFRzIHtcbiAgLyoqIEVkaXRvciB2ZXJzaW9uICovXG4gIHN0YXRpYyBnZXQgdmVyc2lvbigpIHtcbiAgICByZXR1cm4gXCIyLjMwLjZcIjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtFZGl0b3JDb25maWd8c3RyaW5nfHVuZGVmaW5lZH0gW2NvbmZpZ3VyYXRpb25dIC0gdXNlciBjb25maWd1cmF0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgbGV0IHQgPSAoKSA9PiB7XG4gICAgfTtcbiAgICBSKGUpICYmIE8oZS5vblJlYWR5KSAmJiAodCA9IGUub25SZWFkeSk7XG4gICAgY29uc3QgbyA9IG5ldyBCcyhlKTtcbiAgICB0aGlzLmlzUmVhZHkgPSBvLmlzUmVhZHkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmV4cG9ydEFQSShvKSwgdCgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnQgZXh0ZXJuYWwgQVBJIG1ldGhvZHNcbiAgICpcbiAgICogQHBhcmFtIHtDb3JlfSBlZGl0b3Ig4oCUIEVkaXRvcidzIGluc3RhbmNlXG4gICAqL1xuICBleHBvcnRBUEkoZSkge1xuICAgIGNvbnN0IHQgPSBbXCJjb25maWd1cmF0aW9uXCJdLCBvID0gKCkgPT4ge1xuICAgICAgT2JqZWN0LnZhbHVlcyhlLm1vZHVsZUluc3RhbmNlcykuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICBPKHMuZGVzdHJveSkgJiYgcy5kZXN0cm95KCksIHMubGlzdGVuZXJzLnJlbW92ZUFsbCgpO1xuICAgICAgfSksIHBpKCksIGUgPSBudWxsO1xuICAgICAgZm9yIChjb25zdCBzIGluIHRoaXMpXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCBzKSAmJiBkZWxldGUgdGhpc1tzXTtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBudWxsKTtcbiAgICB9O1xuICAgIHQuZm9yRWFjaCgocykgPT4ge1xuICAgICAgdGhpc1tzXSA9IGVbc107XG4gICAgfSksIHRoaXMuZGVzdHJveSA9IG8sIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBlLm1vZHVsZUluc3RhbmNlcy5BUEkubWV0aG9kcyksIGRlbGV0ZSB0aGlzLmV4cG9ydEFQSSwgT2JqZWN0LmVudHJpZXMoe1xuICAgICAgYmxvY2tzOiB7XG4gICAgICAgIGNsZWFyOiBcImNsZWFyXCIsXG4gICAgICAgIHJlbmRlcjogXCJyZW5kZXJcIlxuICAgICAgfSxcbiAgICAgIGNhcmV0OiB7XG4gICAgICAgIGZvY3VzOiBcImZvY3VzXCJcbiAgICAgIH0sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgb246IFwib25cIixcbiAgICAgICAgb2ZmOiBcIm9mZlwiLFxuICAgICAgICBlbWl0OiBcImVtaXRcIlxuICAgICAgfSxcbiAgICAgIHNhdmVyOiB7XG4gICAgICAgIHNhdmU6IFwic2F2ZVwiXG4gICAgICB9XG4gICAgfSkuZm9yRWFjaCgoW3MsIHJdKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhyKS5mb3JFYWNoKChbbCwgYV0pID0+IHtcbiAgICAgICAgdGhpc1thXSA9IGUubW9kdWxlSW5zdGFuY2VzLkFQSS5tZXRob2RzW3NdW2xdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIFRzIGFzIGRlZmF1bHRcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/editorjs/dist/editorjs.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/embed/dist/embed.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@editorjs/embed/dist/embed.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ m)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:\"\";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(e)}}catch(o){console.error(\"vite-plugin-css-injected-by-js\",o)}})();\nconst g = {\n  vimeo: {\n    regex: /(?:http[s]?:\\/\\/)?(?:www.)?(?:player.)?vimeo\\.co(?:.+\\/([^\\/]\\d+)(?:#t=[\\d]+)?s?$)/,\n    embedUrl: \"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0\",\n    html: '<iframe style=\"width:100%;\" height=\"320\" frameborder=\"0\"></iframe>',\n    height: 320,\n    width: 580\n  },\n  youtube: {\n    regex: /(?:https?:\\/\\/)?(?:www\\.)?(?:(?:youtu\\.be\\/)|(?:youtube\\.com)\\/(?:v\\/|u\\/\\w\\/|embed\\/|watch))(?:(?:\\?v=)?([^#&?=]*))?((?:[?&]\\w*=\\w*)*)/,\n    embedUrl: \"https://www.youtube.com/embed/<%= remote_id %>\",\n    html: '<iframe style=\"width:100%;\" height=\"320\" frameborder=\"0\" allowfullscreen></iframe>',\n    height: 320,\n    width: 580,\n    id: ([s, i]) => {\n      if (!i && s)\n        return s;\n      const r = {\n        start: \"start\",\n        end: \"end\",\n        t: \"start\",\n        // eslint-disable-next-line camelcase\n        time_continue: \"start\",\n        list: \"list\"\n      };\n      let e = i.slice(1).split(\"&\").map((o) => {\n        const [l, t] = o.split(\"=\");\n        return !s && l === \"v\" ? (s = t, null) : !r[l] || t === \"LL\" || t.startsWith(\"RDMM\") || t.startsWith(\"FL\") ? null : `${r[l]}=${t}`;\n      }).filter((o) => !!o);\n      return s + \"?\" + e.join(\"&\");\n    }\n  },\n  coub: {\n    regex: /https?:\\/\\/coub\\.com\\/view\\/([^\\/\\?\\&]+)/,\n    embedUrl: \"https://coub.com/embed/<%= remote_id %>\",\n    html: '<iframe style=\"width:100%;\" height=\"320\" frameborder=\"0\" allowfullscreen></iframe>',\n    height: 320,\n    width: 580\n  },\n  vine: {\n    regex: /https?:\\/\\/vine\\.co\\/v\\/([^\\/\\?\\&]+)/,\n    embedUrl: \"https://vine.co/v/<%= remote_id %>/embed/simple/\",\n    html: '<iframe style=\"width:100%;\" height=\"320\" frameborder=\"0\" allowfullscreen></iframe>',\n    height: 320,\n    width: 580\n  },\n  imgur: {\n    regex: /https?:\\/\\/(?:i\\.)?imgur\\.com.*\\/([a-zA-Z0-9]+)(?:\\.gifv)?/,\n    embedUrl: \"http://imgur.com/<%= remote_id %>/embed\",\n    html: '<iframe allowfullscreen=\"true\" scrolling=\"no\" id=\"imgur-embed-iframe-pub-<%= remote_id %>\" class=\"imgur-embed-iframe-pub\" style=\"height: 500px; width: 100%; border: 1px solid #000\"></iframe>',\n    height: 500,\n    width: 540\n  },\n  gfycat: {\n    regex: /https?:\\/\\/gfycat\\.com(?:\\/detail)?\\/([a-zA-Z]+)/,\n    embedUrl: \"https://gfycat.com/ifr/<%= remote_id %>\",\n    html: `<iframe frameborder='0' scrolling='no' style=\"width:100%;\" height='436' allowfullscreen ></iframe>`,\n    height: 436,\n    width: 580\n  },\n  \"twitch-channel\": {\n    regex: /https?:\\/\\/www\\.twitch\\.tv\\/([^\\/\\?\\&]*)\\/?$/,\n    embedUrl: \"https://player.twitch.tv/?channel=<%= remote_id %>\",\n    html: '<iframe frameborder=\"0\" allowfullscreen=\"true\" scrolling=\"no\" height=\"366\" style=\"width:100%;\"></iframe>',\n    height: 366,\n    width: 600\n  },\n  \"twitch-video\": {\n    regex: /https?:\\/\\/www\\.twitch\\.tv\\/(?:[^\\/\\?\\&]*\\/v|videos)\\/([0-9]*)/,\n    embedUrl: \"https://player.twitch.tv/?video=v<%= remote_id %>\",\n    html: '<iframe frameborder=\"0\" allowfullscreen=\"true\" scrolling=\"no\" height=\"366\" style=\"width:100%;\"></iframe>',\n    height: 366,\n    width: 600\n  },\n  \"yandex-music-album\": {\n    regex: /https?:\\/\\/music\\.yandex\\.ru\\/album\\/([0-9]*)\\/?$/,\n    embedUrl: \"https://music.yandex.ru/iframe/#album/<%= remote_id %>/\",\n    html: '<iframe frameborder=\"0\" style=\"border:none;width:540px;height:400px;\" style=\"width:100%;\" height=\"400\"></iframe>',\n    height: 400,\n    width: 540\n  },\n  \"yandex-music-track\": {\n    regex: /https?:\\/\\/music\\.yandex\\.ru\\/album\\/([0-9]*)\\/track\\/([0-9]*)/,\n    embedUrl: \"https://music.yandex.ru/iframe/#track/<%= remote_id %>/\",\n    html: '<iframe frameborder=\"0\" style=\"border:none;width:540px;height:100px;\" style=\"width:100%;\" height=\"100\"></iframe>',\n    height: 100,\n    width: 540,\n    id: (s) => s.join(\"/\")\n  },\n  \"yandex-music-playlist\": {\n    regex: /https?:\\/\\/music\\.yandex\\.ru\\/users\\/([^\\/\\?\\&]*)\\/playlists\\/([0-9]*)/,\n    embedUrl: \"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/\",\n    html: '<iframe frameborder=\"0\" style=\"border:none;width:540px;height:400px;\" width=\"540\" height=\"400\"></iframe>',\n    height: 400,\n    width: 540,\n    id: (s) => s.join(\"/\")\n  },\n  codepen: {\n    regex: /https?:\\/\\/codepen\\.io\\/([^\\/\\?\\&]*)\\/pen\\/([^\\/\\?\\&]*)/,\n    embedUrl: \"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2\",\n    html: \"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>\",\n    height: 300,\n    width: 600,\n    id: (s) => s.join(\"/embed/\")\n  },\n  instagram: {\n    //it support both reel and post\n    regex: /^https:\\/\\/(?:www\\.)?instagram\\.com\\/(?:reel|p)\\/(.*)/,\n    embedUrl: \"https://www.instagram.com/p/<%= remote_id %>/embed\",\n    html: '<iframe width=\"400\" height=\"505\" style=\"margin: 0 auto;\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>',\n    height: 505,\n    width: 400,\n    id: (s) => {\n      var i;\n      return (i = s == null ? void 0 : s[0]) == null ? void 0 : i.split(\"/\")[0];\n    }\n  },\n  twitter: {\n    regex: /^https?:\\/\\/(www\\.)?(?:twitter\\.com|x\\.com)\\/.+\\/status\\/(\\d+)/,\n    embedUrl: \"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>\",\n    html: '<iframe width=\"600\" height=\"600\" style=\"margin: 0 auto;\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>',\n    height: 300,\n    width: 600,\n    id: (s) => s[1]\n  },\n  pinterest: {\n    regex: /https?:\\/\\/([^\\/\\?\\&]*).pinterest.com\\/pin\\/([^\\/\\?\\&]*)\\/?$/,\n    embedUrl: \"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>\",\n    html: \"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>\",\n    id: (s) => s[1]\n  },\n  facebook: {\n    regex: /https?:\\/\\/www.facebook.com\\/([^\\/\\?\\&]*)\\/(.*)/,\n    embedUrl: \"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500\",\n    html: \"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>\",\n    id: (s) => s.join(\"/\")\n  },\n  aparat: {\n    regex: /(?:http[s]?:\\/\\/)?(?:www.)?aparat\\.com\\/v\\/([^\\/\\?\\&]+)\\/?/,\n    embedUrl: \"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame\",\n    html: '<iframe width=\"600\" height=\"300\" style=\"margin: 0 auto;\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>',\n    height: 300,\n    width: 600\n  },\n  miro: {\n    regex: /https:\\/\\/miro.com\\/\\S+(\\S{12})\\/(\\S+)?/,\n    embedUrl: \"https://miro.com/app/live-embed/<%= remote_id %>\",\n    html: '<iframe width=\"700\" height=\"500\" style=\"margin: 0 auto;\" allowFullScreen frameBorder=\"0\" scrolling=\"no\"></iframe>'\n  },\n  github: {\n    regex: /https?:\\/\\/gist.github.com\\/([^\\/\\?\\&]*)\\/([^\\/\\?\\&]*)/,\n    embedUrl: 'data:text/html;charset=utf-8,<head><base target=\"_blank\" /></head><body><script src=\"https://gist.github.com/<%= remote_id %>\" ><\\/script></body>',\n    html: '<iframe width=\"100%\" height=\"350\" frameborder=\"0\" style=\"margin: 0 auto;\"></iframe>',\n    height: 300,\n    width: 600,\n    id: (s) => `${s.join(\"/\")}.js`\n  }\n};\nfunction p(s, i, r) {\n  var e, o, l, t, a;\n  i == null && (i = 100);\n  function n() {\n    var d = Date.now() - t;\n    d < i && d >= 0 ? e = setTimeout(n, i - d) : (e = null, r || (a = s.apply(l, o), l = o = null));\n  }\n  var h = function() {\n    l = this, o = arguments, t = Date.now();\n    var d = r && !e;\n    return e || (e = setTimeout(n, i)), d && (a = s.apply(l, o), l = o = null), a;\n  };\n  return h.clear = function() {\n    e && (clearTimeout(e), e = null);\n  }, h.flush = function() {\n    e && (a = s.apply(l, o), l = o = null, clearTimeout(e), e = null);\n  }, h;\n}\np.debounce = p;\nvar w = p;\nclass m {\n  /**\n   * @param {{data: EmbedData, config: EmbedConfig, api: object}}\n   *   data — previously saved data\n   *   config - user config for Tool\n   *   api - Editor.js API\n   *   readOnly - read-only mode flag\n   */\n  constructor({ data: i, api: r, readOnly: e }) {\n    this.api = r, this._data = {}, this.element = null, this.readOnly = e, this.data = i;\n  }\n  /**\n   * @param {EmbedData} data - embed data\n   * @param {RegExp} [data.regex] - pattern of source URLs\n   * @param {string} [data.embedUrl] - URL scheme to embedded page. Use '<%= remote_id %>' to define a place to insert resource id\n   * @param {string} [data.html] - iframe which contains embedded content\n   * @param {number} [data.height] - iframe height\n   * @param {number} [data.width] - iframe width\n   * @param {string} [data.caption] - caption\n   */\n  set data(i) {\n    var h;\n    if (!(i instanceof Object))\n      throw Error(\"Embed Tool data should be object\");\n    const { service: r, source: e, embed: o, width: l, height: t, caption: a = \"\" } = i;\n    this._data = {\n      service: r || this.data.service,\n      source: e || this.data.source,\n      embed: o || this.data.embed,\n      width: l || this.data.width,\n      height: t || this.data.height,\n      caption: a || this.data.caption || \"\"\n    };\n    const n = this.element;\n    n && ((h = n.parentNode) == null || h.replaceChild(this.render(), n));\n  }\n  /**\n   * @returns {EmbedData}\n   */\n  get data() {\n    if (this.element) {\n      const i = this.element.querySelector(`.${this.api.styles.input}`);\n      this._data.caption = i ? i.innerHTML : \"\";\n    }\n    return this._data;\n  }\n  /**\n   * Get plugin styles\n   *\n   * @returns {object}\n   */\n  get CSS() {\n    return {\n      baseClass: this.api.styles.block,\n      input: this.api.styles.input,\n      container: \"embed-tool\",\n      containerLoading: \"embed-tool--loading\",\n      preloader: \"embed-tool__preloader\",\n      caption: \"embed-tool__caption\",\n      url: \"embed-tool__url\",\n      content: \"embed-tool__content\"\n    };\n  }\n  /**\n   * Render Embed tool content\n   *\n   * @returns {HTMLElement}\n   */\n  render() {\n    if (!this.data.service) {\n      const a = document.createElement(\"div\");\n      return this.element = a, a;\n    }\n    const { html: i } = m.services[this.data.service], r = document.createElement(\"div\"), e = document.createElement(\"div\"), o = document.createElement(\"template\"), l = this.createPreloader();\n    r.classList.add(this.CSS.baseClass, this.CSS.container, this.CSS.containerLoading), e.classList.add(this.CSS.input, this.CSS.caption), r.appendChild(l), e.contentEditable = (!this.readOnly).toString(), e.dataset.placeholder = this.api.i18n.t(\"Enter a caption\"), e.innerHTML = this.data.caption || \"\", o.innerHTML = i, o.content.firstChild.setAttribute(\"src\", this.data.embed), o.content.firstChild.classList.add(this.CSS.content);\n    const t = this.embedIsReady(r);\n    return o.content.firstChild && r.appendChild(o.content.firstChild), r.appendChild(e), t.then(() => {\n      r.classList.remove(this.CSS.containerLoading);\n    }), this.element = r, r;\n  }\n  /**\n   * Creates preloader to append to container while data is loading\n   *\n   * @returns {HTMLElement}\n   */\n  createPreloader() {\n    const i = document.createElement(\"preloader\"), r = document.createElement(\"div\");\n    return r.textContent = this.data.source, i.classList.add(this.CSS.preloader), r.classList.add(this.CSS.url), i.appendChild(r), i;\n  }\n  /**\n   * Save current content and return EmbedData object\n   *\n   * @returns {EmbedData}\n   */\n  save() {\n    return this.data;\n  }\n  /**\n   * Handle pasted url and return Service object\n   *\n   * @param {PasteEvent} event - event with pasted data\n   */\n  onPaste(i) {\n    var c;\n    const { key: r, data: e } = i.detail, { regex: o, embedUrl: l, width: t, height: a, id: n = (u) => u.shift() || \"\" } = m.services[r], h = (c = o.exec(e)) == null ? void 0 : c.slice(1), d = h ? l.replace(/<%= remote_id %>/g, n(h)) : \"\";\n    this.data = {\n      service: r,\n      source: e,\n      embed: d,\n      width: t,\n      height: a\n    };\n  }\n  /**\n   * Analyze provided config and make object with services to use\n   *\n   * @param {EmbedConfig} config - configuration of embed block element\n   */\n  static prepare({ config: i = {} }) {\n    const { services: r = {} } = i;\n    let e = Object.entries(g);\n    const o = Object.entries(r).filter(([t, a]) => typeof a == \"boolean\" && a === !0).map(([t]) => t), l = Object.entries(r).filter(([t, a]) => typeof a == \"object\").filter(([t, a]) => m.checkServiceConfig(a)).map(([t, a]) => {\n      const { regex: n, embedUrl: h, html: d, height: c, width: u, id: f } = a;\n      return [t, {\n        regex: n,\n        embedUrl: h,\n        html: d,\n        height: c,\n        width: u,\n        id: f\n      }];\n    });\n    o.length && (e = e.filter(([t]) => o.includes(t))), e = e.concat(l), m.services = e.reduce((t, [a, n]) => a in t ? (t[a] = Object.assign({}, t[a], n), t) : (t[a] = n, t), {}), m.patterns = e.reduce((t, [a, n]) => (n && typeof n != \"boolean\" && (t[a] = n.regex), t), {});\n  }\n  /**\n   * Check if Service config is valid\n   *\n   * @param {Service} config - configuration of embed block element\n   * @returns {boolean}\n   */\n  static checkServiceConfig(i) {\n    const { regex: r, embedUrl: e, html: o, height: l, width: t, id: a } = i;\n    let n = !!(r && r instanceof RegExp) && !!(e && typeof e == \"string\") && !!(o && typeof o == \"string\");\n    return n = n && (a !== void 0 ? a instanceof Function : !0), n = n && (l !== void 0 ? Number.isFinite(l) : !0), n = n && (t !== void 0 ? Number.isFinite(t) : !0), n;\n  }\n  /**\n   * Paste configuration to enable pasted URLs processing by Editor\n   *\n   * @returns {object} - object of patterns which contain regx for pasteConfig\n   */\n  static get pasteConfig() {\n    return {\n      patterns: m.patterns\n    };\n  }\n  /**\n   * Notify core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Checks that mutations in DOM have finished after appending iframe content\n   *\n   * @param {HTMLElement} targetNode - HTML-element mutations of which to listen\n   * @returns {Promise<any>} - result that all mutations have finished\n   */\n  embedIsReady(i) {\n    let e;\n    return new Promise((o, l) => {\n      e = new MutationObserver(w.debounce(o, 450)), e.observe(i, {\n        childList: !0,\n        subtree: !0\n      });\n    }).then(() => {\n      e.disconnect();\n    });\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2VtYmVkL2Rpc3QvZW1iZWQubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxZQUFZLGFBQWEsSUFBSSx3QkFBd0Isc0NBQXNDLGlGQUFpRixhQUFhLDRDQUE0QyxjQUFjLDBDQUEwQyxhQUFhLHVCQUF1QixhQUFhLGtCQUFrQixhQUFhLHNCQUFzQixrQkFBa0IseUJBQXlCLDhCQUE4QixXQUFXLGtCQUFrQixVQUFVLFNBQVMsUUFBUSxXQUFXLFlBQVksaUJBQWlCLGtCQUFrQixrQkFBa0IseUJBQXlCLHlCQUF5QixzQkFBc0Isa0RBQWtELGlCQUFpQixrQkFBa0IsWUFBWSxTQUFTLDBCQUEwQixnQkFBZ0IsY0FBYyxlQUFlLG1CQUFtQixnQkFBZ0IsdUJBQXVCLHFCQUFxQixXQUFXLHFCQUFxQixlQUFlLG9FQUFvRSxrQkFBa0IsK0JBQStCLGNBQWMsZ0JBQWdCLFVBQVUsMEVBQTBFLFVBQVUsZ0ZBQWdGLFVBQVUsZ0NBQWdDLEdBQUcsb0JBQW9CLEdBQUcsMEJBQTBCLGtDQUFrQyxTQUFTLG1EQUFtRDtBQUNwOEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0hBQStILEtBQUssR0FBRyxFQUFFO0FBQ3pJLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDJKQUEySixhQUFhO0FBQ3hLO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FO0FBQ3BFO0FBQ0E7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TztBQUNQLEtBQUs7QUFDTCwrSUFBK0ksa0NBQWtDLCtGQUErRjtBQUNoUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixlQUFlO0FBQ2Y7QUFDQTtBQUNBLFlBQVksNkRBQTZEO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFDMUIsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2VtYmVkL2Rpc3QvZW1iZWQubWpzP2UyMmUiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJy5lbWJlZC10b29sLS1sb2FkaW5nIC5lbWJlZC10b29sX19jYXB0aW9ue2Rpc3BsYXk6bm9uZX0uZW1iZWQtdG9vbC0tbG9hZGluZyAuZW1iZWQtdG9vbF9fcHJlbG9hZGVye2Rpc3BsYXk6YmxvY2t9LmVtYmVkLXRvb2wtLWxvYWRpbmcgLmVtYmVkLXRvb2xfX2NvbnRlbnR7ZGlzcGxheTpub25lfS5lbWJlZC10b29sX19wcmVsb2FkZXJ7ZGlzcGxheTpub25lO3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDoyMDBweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym9yZGVyLXJhZGl1czo1cHg7Ym9yZGVyOjFweCBzb2xpZCAjZTZlOWVifS5lbWJlZC10b29sX19wcmVsb2FkZXI6YmVmb3Jle2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjM7bGVmdDo1MCU7dG9wOjUwJTt3aWR0aDozMHB4O2hlaWdodDozMHB4O21hcmdpbi10b3A6LTI1cHg7bWFyZ2luLWxlZnQ6LTE1cHg7Ym9yZGVyLXJhZGl1czo1MCU7Ym9yZGVyOjJweCBzb2xpZCAjY2RkMWUwO2JvcmRlci10b3AtY29sb3I6IzM4OGFlNTtib3gtc2l6aW5nOmJvcmRlci1ib3g7YW5pbWF0aW9uOmVtYmVkLXByZWxvYWRlci1zcGluIDJzIGluZmluaXRlIGxpbmVhcn0uZW1iZWQtdG9vbF9fdXJse3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbToyMHB4O2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSk7bWF4LXdpZHRoOjI1MHB4O2NvbG9yOiM3YjdlODk7Zm9udC1zaXplOjExcHg7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5lbWJlZC10b29sX19jb250ZW50e3dpZHRoOjEwMCV9LmVtYmVkLXRvb2xfX2NhcHRpb257bWFyZ2luLXRvcDo3cHh9LmVtYmVkLXRvb2xfX2NhcHRpb25bY29udGVudEVkaXRhYmxlPXRydWVdW2RhdGEtcGxhY2Vob2xkZXJdOmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OmF0dHIoZGF0YS1wbGFjZWhvbGRlcik7Y29sb3I6IzcwNzY4NDtmb250LXdlaWdodDo0MDA7b3BhY2l0eTowfS5lbWJlZC10b29sX19jYXB0aW9uW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTpiZWZvcmV7b3BhY2l0eToxfS5lbWJlZC10b29sX19jYXB0aW9uW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTplbXB0eTpmb2N1czpiZWZvcmV7b3BhY2l0eTowfUBrZXlmcmFtZXMgZW1iZWQtcHJlbG9hZGVyLXNwaW57MCV7dHJhbnNmb3JtOnJvdGF0ZSgwKX10b3t0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fScpKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGUpfX1jYXRjaChvKXtjb25zb2xlLmVycm9yKFwidml0ZS1wbHVnaW4tY3NzLWluamVjdGVkLWJ5LWpzXCIsbyl9fSkoKTtcbmNvbnN0IGcgPSB7XG4gIHZpbWVvOiB7XG4gICAgcmVnZXg6IC8oPzpodHRwW3NdPzpcXC9cXC8pPyg/Ond3dy4pPyg/OnBsYXllci4pP3ZpbWVvXFwuY28oPzouK1xcLyhbXlxcL11cXGQrKSg/OiN0PVtcXGRdKyk/cz8kKS8sXG4gICAgZW1iZWRVcmw6IFwiaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLzwlPSByZW1vdGVfaWQgJT4/dGl0bGU9MCZieWxpbmU9MFwiLFxuICAgIGh0bWw6ICc8aWZyYW1lIHN0eWxlPVwid2lkdGg6MTAwJTtcIiBoZWlnaHQ9XCIzMjBcIiBmcmFtZWJvcmRlcj1cIjBcIj48L2lmcmFtZT4nLFxuICAgIGhlaWdodDogMzIwLFxuICAgIHdpZHRoOiA1ODBcbiAgfSxcbiAgeW91dHViZToge1xuICAgIHJlZ2V4OiAvKD86aHR0cHM/OlxcL1xcLyk/KD86d3d3XFwuKT8oPzooPzp5b3V0dVxcLmJlXFwvKXwoPzp5b3V0dWJlXFwuY29tKVxcLyg/OnZcXC98dVxcL1xcd1xcL3xlbWJlZFxcL3x3YXRjaCkpKD86KD86XFw/dj0pPyhbXiMmPz1dKikpPygoPzpbPyZdXFx3Kj1cXHcqKSopLyxcbiAgICBlbWJlZFVybDogXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC88JT0gcmVtb3RlX2lkICU+XCIsXG4gICAgaHRtbDogJzxpZnJhbWUgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiIGhlaWdodD1cIjMyMFwiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nLFxuICAgIGhlaWdodDogMzIwLFxuICAgIHdpZHRoOiA1ODAsXG4gICAgaWQ6IChbcywgaV0pID0+IHtcbiAgICAgIGlmICghaSAmJiBzKVxuICAgICAgICByZXR1cm4gcztcbiAgICAgIGNvbnN0IHIgPSB7XG4gICAgICAgIHN0YXJ0OiBcInN0YXJ0XCIsXG4gICAgICAgIGVuZDogXCJlbmRcIixcbiAgICAgICAgdDogXCJzdGFydFwiLFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgICAgIHRpbWVfY29udGludWU6IFwic3RhcnRcIixcbiAgICAgICAgbGlzdDogXCJsaXN0XCJcbiAgICAgIH07XG4gICAgICBsZXQgZSA9IGkuc2xpY2UoMSkuc3BsaXQoXCImXCIpLm1hcCgobykgPT4ge1xuICAgICAgICBjb25zdCBbbCwgdF0gPSBvLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgcmV0dXJuICFzICYmIGwgPT09IFwidlwiID8gKHMgPSB0LCBudWxsKSA6ICFyW2xdIHx8IHQgPT09IFwiTExcIiB8fCB0LnN0YXJ0c1dpdGgoXCJSRE1NXCIpIHx8IHQuc3RhcnRzV2l0aChcIkZMXCIpID8gbnVsbCA6IGAke3JbbF19PSR7dH1gO1xuICAgICAgfSkuZmlsdGVyKChvKSA9PiAhIW8pO1xuICAgICAgcmV0dXJuIHMgKyBcIj9cIiArIGUuam9pbihcIiZcIik7XG4gICAgfVxuICB9LFxuICBjb3ViOiB7XG4gICAgcmVnZXg6IC9odHRwcz86XFwvXFwvY291YlxcLmNvbVxcL3ZpZXdcXC8oW15cXC9cXD9cXCZdKykvLFxuICAgIGVtYmVkVXJsOiBcImh0dHBzOi8vY291Yi5jb20vZW1iZWQvPCU9IHJlbW90ZV9pZCAlPlwiLFxuICAgIGh0bWw6ICc8aWZyYW1lIHN0eWxlPVwid2lkdGg6MTAwJTtcIiBoZWlnaHQ9XCIzMjBcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+JyxcbiAgICBoZWlnaHQ6IDMyMCxcbiAgICB3aWR0aDogNTgwXG4gIH0sXG4gIHZpbmU6IHtcbiAgICByZWdleDogL2h0dHBzPzpcXC9cXC92aW5lXFwuY29cXC92XFwvKFteXFwvXFw/XFwmXSspLyxcbiAgICBlbWJlZFVybDogXCJodHRwczovL3ZpbmUuY28vdi88JT0gcmVtb3RlX2lkICU+L2VtYmVkL3NpbXBsZS9cIixcbiAgICBodG1sOiAnPGlmcmFtZSBzdHlsZT1cIndpZHRoOjEwMCU7XCIgaGVpZ2h0PVwiMzIwXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPicsXG4gICAgaGVpZ2h0OiAzMjAsXG4gICAgd2lkdGg6IDU4MFxuICB9LFxuICBpbWd1cjoge1xuICAgIHJlZ2V4OiAvaHR0cHM/OlxcL1xcLyg/OmlcXC4pP2ltZ3VyXFwuY29tLipcXC8oW2EtekEtWjAtOV0rKSg/OlxcLmdpZnYpPy8sXG4gICAgZW1iZWRVcmw6IFwiaHR0cDovL2ltZ3VyLmNvbS88JT0gcmVtb3RlX2lkICU+L2VtYmVkXCIsXG4gICAgaHRtbDogJzxpZnJhbWUgYWxsb3dmdWxsc2NyZWVuPVwidHJ1ZVwiIHNjcm9sbGluZz1cIm5vXCIgaWQ9XCJpbWd1ci1lbWJlZC1pZnJhbWUtcHViLTwlPSByZW1vdGVfaWQgJT5cIiBjbGFzcz1cImltZ3VyLWVtYmVkLWlmcmFtZS1wdWJcIiBzdHlsZT1cImhlaWdodDogNTAwcHg7IHdpZHRoOiAxMDAlOyBib3JkZXI6IDFweCBzb2xpZCAjMDAwXCI+PC9pZnJhbWU+JyxcbiAgICBoZWlnaHQ6IDUwMCxcbiAgICB3aWR0aDogNTQwXG4gIH0sXG4gIGdmeWNhdDoge1xuICAgIHJlZ2V4OiAvaHR0cHM/OlxcL1xcL2dmeWNhdFxcLmNvbSg/OlxcL2RldGFpbCk/XFwvKFthLXpBLVpdKykvLFxuICAgIGVtYmVkVXJsOiBcImh0dHBzOi8vZ2Z5Y2F0LmNvbS9pZnIvPCU9IHJlbW90ZV9pZCAlPlwiLFxuICAgIGh0bWw6IGA8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyBzY3JvbGxpbmc9J25vJyBzdHlsZT1cIndpZHRoOjEwMCU7XCIgaGVpZ2h0PSc0MzYnIGFsbG93ZnVsbHNjcmVlbiA+PC9pZnJhbWU+YCxcbiAgICBoZWlnaHQ6IDQzNixcbiAgICB3aWR0aDogNTgwXG4gIH0sXG4gIFwidHdpdGNoLWNoYW5uZWxcIjoge1xuICAgIHJlZ2V4OiAvaHR0cHM/OlxcL1xcL3d3d1xcLnR3aXRjaFxcLnR2XFwvKFteXFwvXFw/XFwmXSopXFwvPyQvLFxuICAgIGVtYmVkVXJsOiBcImh0dHBzOi8vcGxheWVyLnR3aXRjaC50di8/Y2hhbm5lbD08JT0gcmVtb3RlX2lkICU+XCIsXG4gICAgaHRtbDogJzxpZnJhbWUgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPVwidHJ1ZVwiIHNjcm9sbGluZz1cIm5vXCIgaGVpZ2h0PVwiMzY2XCIgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiPjwvaWZyYW1lPicsXG4gICAgaGVpZ2h0OiAzNjYsXG4gICAgd2lkdGg6IDYwMFxuICB9LFxuICBcInR3aXRjaC12aWRlb1wiOiB7XG4gICAgcmVnZXg6IC9odHRwcz86XFwvXFwvd3d3XFwudHdpdGNoXFwudHZcXC8oPzpbXlxcL1xcP1xcJl0qXFwvdnx2aWRlb3MpXFwvKFswLTldKikvLFxuICAgIGVtYmVkVXJsOiBcImh0dHBzOi8vcGxheWVyLnR3aXRjaC50di8/dmlkZW89djwlPSByZW1vdGVfaWQgJT5cIixcbiAgICBodG1sOiAnPGlmcmFtZSBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW49XCJ0cnVlXCIgc2Nyb2xsaW5nPVwibm9cIiBoZWlnaHQ9XCIzNjZcIiBzdHlsZT1cIndpZHRoOjEwMCU7XCI+PC9pZnJhbWU+JyxcbiAgICBoZWlnaHQ6IDM2NixcbiAgICB3aWR0aDogNjAwXG4gIH0sXG4gIFwieWFuZGV4LW11c2ljLWFsYnVtXCI6IHtcbiAgICByZWdleDogL2h0dHBzPzpcXC9cXC9tdXNpY1xcLnlhbmRleFxcLnJ1XFwvYWxidW1cXC8oWzAtOV0qKVxcLz8kLyxcbiAgICBlbWJlZFVybDogXCJodHRwczovL211c2ljLnlhbmRleC5ydS9pZnJhbWUvI2FsYnVtLzwlPSByZW1vdGVfaWQgJT4vXCIsXG4gICAgaHRtbDogJzxpZnJhbWUgZnJhbWVib3JkZXI9XCIwXCIgc3R5bGU9XCJib3JkZXI6bm9uZTt3aWR0aDo1NDBweDtoZWlnaHQ6NDAwcHg7XCIgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiIGhlaWdodD1cIjQwMFwiPjwvaWZyYW1lPicsXG4gICAgaGVpZ2h0OiA0MDAsXG4gICAgd2lkdGg6IDU0MFxuICB9LFxuICBcInlhbmRleC1tdXNpYy10cmFja1wiOiB7XG4gICAgcmVnZXg6IC9odHRwcz86XFwvXFwvbXVzaWNcXC55YW5kZXhcXC5ydVxcL2FsYnVtXFwvKFswLTldKilcXC90cmFja1xcLyhbMC05XSopLyxcbiAgICBlbWJlZFVybDogXCJodHRwczovL211c2ljLnlhbmRleC5ydS9pZnJhbWUvI3RyYWNrLzwlPSByZW1vdGVfaWQgJT4vXCIsXG4gICAgaHRtbDogJzxpZnJhbWUgZnJhbWVib3JkZXI9XCIwXCIgc3R5bGU9XCJib3JkZXI6bm9uZTt3aWR0aDo1NDBweDtoZWlnaHQ6MTAwcHg7XCIgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiIGhlaWdodD1cIjEwMFwiPjwvaWZyYW1lPicsXG4gICAgaGVpZ2h0OiAxMDAsXG4gICAgd2lkdGg6IDU0MCxcbiAgICBpZDogKHMpID0+IHMuam9pbihcIi9cIilcbiAgfSxcbiAgXCJ5YW5kZXgtbXVzaWMtcGxheWxpc3RcIjoge1xuICAgIHJlZ2V4OiAvaHR0cHM/OlxcL1xcL211c2ljXFwueWFuZGV4XFwucnVcXC91c2Vyc1xcLyhbXlxcL1xcP1xcJl0qKVxcL3BsYXlsaXN0c1xcLyhbMC05XSopLyxcbiAgICBlbWJlZFVybDogXCJodHRwczovL211c2ljLnlhbmRleC5ydS9pZnJhbWUvI3BsYXlsaXN0LzwlPSByZW1vdGVfaWQgJT4vc2hvdy9jb3Zlci9kZXNjcmlwdGlvbi9cIixcbiAgICBodG1sOiAnPGlmcmFtZSBmcmFtZWJvcmRlcj1cIjBcIiBzdHlsZT1cImJvcmRlcjpub25lO3dpZHRoOjU0MHB4O2hlaWdodDo0MDBweDtcIiB3aWR0aD1cIjU0MFwiIGhlaWdodD1cIjQwMFwiPjwvaWZyYW1lPicsXG4gICAgaGVpZ2h0OiA0MDAsXG4gICAgd2lkdGg6IDU0MCxcbiAgICBpZDogKHMpID0+IHMuam9pbihcIi9cIilcbiAgfSxcbiAgY29kZXBlbjoge1xuICAgIHJlZ2V4OiAvaHR0cHM/OlxcL1xcL2NvZGVwZW5cXC5pb1xcLyhbXlxcL1xcP1xcJl0qKVxcL3BlblxcLyhbXlxcL1xcP1xcJl0qKS8sXG4gICAgZW1iZWRVcmw6IFwiaHR0cHM6Ly9jb2RlcGVuLmlvLzwlPSByZW1vdGVfaWQgJT4/aGVpZ2h0PTMwMCZ0aGVtZS1pZD0wJmRlZmF1bHQtdGFiPWNzcyxyZXN1bHQmZW1iZWQtdmVyc2lvbj0yXCIsXG4gICAgaHRtbDogXCI8aWZyYW1lIGhlaWdodD0nMzAwJyBzY3JvbGxpbmc9J25vJyBmcmFtZWJvcmRlcj0nbm8nIGFsbG93dHJhbnNwYXJlbmN5PSd0cnVlJyBhbGxvd2Z1bGxzY3JlZW49J3RydWUnIHN0eWxlPSd3aWR0aDogMTAwJTsnPjwvaWZyYW1lPlwiLFxuICAgIGhlaWdodDogMzAwLFxuICAgIHdpZHRoOiA2MDAsXG4gICAgaWQ6IChzKSA9PiBzLmpvaW4oXCIvZW1iZWQvXCIpXG4gIH0sXG4gIGluc3RhZ3JhbToge1xuICAgIC8vaXQgc3VwcG9ydCBib3RoIHJlZWwgYW5kIHBvc3RcbiAgICByZWdleDogL15odHRwczpcXC9cXC8oPzp3d3dcXC4pP2luc3RhZ3JhbVxcLmNvbVxcLyg/OnJlZWx8cClcXC8oLiopLyxcbiAgICBlbWJlZFVybDogXCJodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL3AvPCU9IHJlbW90ZV9pZCAlPi9lbWJlZFwiLFxuICAgIGh0bWw6ICc8aWZyYW1lIHdpZHRoPVwiNDAwXCIgaGVpZ2h0PVwiNTA1XCIgc3R5bGU9XCJtYXJnaW46IDAgYXV0bztcIiBmcmFtZWJvcmRlcj1cIjBcIiBzY3JvbGxpbmc9XCJub1wiIGFsbG93dHJhbnNwYXJlbmN5PVwidHJ1ZVwiPjwvaWZyYW1lPicsXG4gICAgaGVpZ2h0OiA1MDUsXG4gICAgd2lkdGg6IDQwMCxcbiAgICBpZDogKHMpID0+IHtcbiAgICAgIHZhciBpO1xuICAgICAgcmV0dXJuIChpID0gcyA9PSBudWxsID8gdm9pZCAwIDogc1swXSkgPT0gbnVsbCA/IHZvaWQgMCA6IGkuc3BsaXQoXCIvXCIpWzBdO1xuICAgIH1cbiAgfSxcbiAgdHdpdHRlcjoge1xuICAgIHJlZ2V4OiAvXmh0dHBzPzpcXC9cXC8od3d3XFwuKT8oPzp0d2l0dGVyXFwuY29tfHhcXC5jb20pXFwvLitcXC9zdGF0dXNcXC8oXFxkKykvLFxuICAgIGVtYmVkVXJsOiBcImh0dHBzOi8vcGxhdGZvcm0udHdpdHRlci5jb20vZW1iZWQvVHdlZXQuaHRtbD9pZD08JT0gcmVtb3RlX2lkICU+XCIsXG4gICAgaHRtbDogJzxpZnJhbWUgd2lkdGg9XCI2MDBcIiBoZWlnaHQ9XCI2MDBcIiBzdHlsZT1cIm1hcmdpbjogMCBhdXRvO1wiIGZyYW1lYm9yZGVyPVwiMFwiIHNjcm9sbGluZz1cIm5vXCIgYWxsb3d0cmFuc3BhcmVuY3k9XCJ0cnVlXCI+PC9pZnJhbWU+JyxcbiAgICBoZWlnaHQ6IDMwMCxcbiAgICB3aWR0aDogNjAwLFxuICAgIGlkOiAocykgPT4gc1sxXVxuICB9LFxuICBwaW50ZXJlc3Q6IHtcbiAgICByZWdleDogL2h0dHBzPzpcXC9cXC8oW15cXC9cXD9cXCZdKikucGludGVyZXN0LmNvbVxcL3BpblxcLyhbXlxcL1xcP1xcJl0qKVxcLz8kLyxcbiAgICBlbWJlZFVybDogXCJodHRwczovL2Fzc2V0cy5waW50ZXJlc3QuY29tL2V4dC9lbWJlZC5odG1sP2lkPTwlPSByZW1vdGVfaWQgJT5cIixcbiAgICBodG1sOiBcIjxpZnJhbWUgc2Nyb2xsaW5nPSdubycgZnJhbWVib3JkZXI9J25vJyBhbGxvd3RyYW5zcGFyZW5jeT0ndHJ1ZScgYWxsb3dmdWxsc2NyZWVuPSd0cnVlJyBzdHlsZT0nd2lkdGg6IDEwMCU7IG1pbi1oZWlnaHQ6IDQwMHB4OyBtYXgtaGVpZ2h0OiAxMDAwcHg7Jz48L2lmcmFtZT5cIixcbiAgICBpZDogKHMpID0+IHNbMV1cbiAgfSxcbiAgZmFjZWJvb2s6IHtcbiAgICByZWdleDogL2h0dHBzPzpcXC9cXC93d3cuZmFjZWJvb2suY29tXFwvKFteXFwvXFw/XFwmXSopXFwvKC4qKS8sXG4gICAgZW1iZWRVcmw6IFwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3BsdWdpbnMvcG9zdC5waHA/aHJlZj1odHRwczovL3d3dy5mYWNlYm9vay5jb20vPCU9IHJlbW90ZV9pZCAlPiZ3aWR0aD01MDBcIixcbiAgICBodG1sOiBcIjxpZnJhbWUgc2Nyb2xsaW5nPSdubycgZnJhbWVib3JkZXI9J25vJyBhbGxvd3RyYW5zcGFyZW5jeT0ndHJ1ZScgYWxsb3dmdWxsc2NyZWVuPSd0cnVlJyBzdHlsZT0nd2lkdGg6IDEwMCU7IG1pbi1oZWlnaHQ6IDUwMHB4OyBtYXgtaGVpZ2h0OiAxMDAwcHg7Jz48L2lmcmFtZT5cIixcbiAgICBpZDogKHMpID0+IHMuam9pbihcIi9cIilcbiAgfSxcbiAgYXBhcmF0OiB7XG4gICAgcmVnZXg6IC8oPzpodHRwW3NdPzpcXC9cXC8pPyg/Ond3dy4pP2FwYXJhdFxcLmNvbVxcL3ZcXC8oW15cXC9cXD9cXCZdKylcXC8/LyxcbiAgICBlbWJlZFVybDogXCJodHRwczovL3d3dy5hcGFyYXQuY29tL3ZpZGVvL3ZpZGVvL2VtYmVkL3ZpZGVvaGFzaC88JT0gcmVtb3RlX2lkICU+L3Z0L2ZyYW1lXCIsXG4gICAgaHRtbDogJzxpZnJhbWUgd2lkdGg9XCI2MDBcIiBoZWlnaHQ9XCIzMDBcIiBzdHlsZT1cIm1hcmdpbjogMCBhdXRvO1wiIGZyYW1lYm9yZGVyPVwiMFwiIHNjcm9sbGluZz1cIm5vXCIgYWxsb3d0cmFuc3BhcmVuY3k9XCJ0cnVlXCI+PC9pZnJhbWU+JyxcbiAgICBoZWlnaHQ6IDMwMCxcbiAgICB3aWR0aDogNjAwXG4gIH0sXG4gIG1pcm86IHtcbiAgICByZWdleDogL2h0dHBzOlxcL1xcL21pcm8uY29tXFwvXFxTKyhcXFN7MTJ9KVxcLyhcXFMrKT8vLFxuICAgIGVtYmVkVXJsOiBcImh0dHBzOi8vbWlyby5jb20vYXBwL2xpdmUtZW1iZWQvPCU9IHJlbW90ZV9pZCAlPlwiLFxuICAgIGh0bWw6ICc8aWZyYW1lIHdpZHRoPVwiNzAwXCIgaGVpZ2h0PVwiNTAwXCIgc3R5bGU9XCJtYXJnaW46IDAgYXV0bztcIiBhbGxvd0Z1bGxTY3JlZW4gZnJhbWVCb3JkZXI9XCIwXCIgc2Nyb2xsaW5nPVwibm9cIj48L2lmcmFtZT4nXG4gIH0sXG4gIGdpdGh1Yjoge1xuICAgIHJlZ2V4OiAvaHR0cHM/OlxcL1xcL2dpc3QuZ2l0aHViLmNvbVxcLyhbXlxcL1xcP1xcJl0qKVxcLyhbXlxcL1xcP1xcJl0qKS8sXG4gICAgZW1iZWRVcmw6ICdkYXRhOnRleHQvaHRtbDtjaGFyc2V0PXV0Zi04LDxoZWFkPjxiYXNlIHRhcmdldD1cIl9ibGFua1wiIC8+PC9oZWFkPjxib2R5PjxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vPCU9IHJlbW90ZV9pZCAlPlwiID48XFwvc2NyaXB0PjwvYm9keT4nLFxuICAgIGh0bWw6ICc8aWZyYW1lIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjM1MFwiIGZyYW1lYm9yZGVyPVwiMFwiIHN0eWxlPVwibWFyZ2luOiAwIGF1dG87XCI+PC9pZnJhbWU+JyxcbiAgICBoZWlnaHQ6IDMwMCxcbiAgICB3aWR0aDogNjAwLFxuICAgIGlkOiAocykgPT4gYCR7cy5qb2luKFwiL1wiKX0uanNgXG4gIH1cbn07XG5mdW5jdGlvbiBwKHMsIGksIHIpIHtcbiAgdmFyIGUsIG8sIGwsIHQsIGE7XG4gIGkgPT0gbnVsbCAmJiAoaSA9IDEwMCk7XG4gIGZ1bmN0aW9uIG4oKSB7XG4gICAgdmFyIGQgPSBEYXRlLm5vdygpIC0gdDtcbiAgICBkIDwgaSAmJiBkID49IDAgPyBlID0gc2V0VGltZW91dChuLCBpIC0gZCkgOiAoZSA9IG51bGwsIHIgfHwgKGEgPSBzLmFwcGx5KGwsIG8pLCBsID0gbyA9IG51bGwpKTtcbiAgfVxuICB2YXIgaCA9IGZ1bmN0aW9uKCkge1xuICAgIGwgPSB0aGlzLCBvID0gYXJndW1lbnRzLCB0ID0gRGF0ZS5ub3coKTtcbiAgICB2YXIgZCA9IHIgJiYgIWU7XG4gICAgcmV0dXJuIGUgfHwgKGUgPSBzZXRUaW1lb3V0KG4sIGkpKSwgZCAmJiAoYSA9IHMuYXBwbHkobCwgbyksIGwgPSBvID0gbnVsbCksIGE7XG4gIH07XG4gIHJldHVybiBoLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgZSAmJiAoY2xlYXJUaW1lb3V0KGUpLCBlID0gbnVsbCk7XG4gIH0sIGguZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICBlICYmIChhID0gcy5hcHBseShsLCBvKSwgbCA9IG8gPSBudWxsLCBjbGVhclRpbWVvdXQoZSksIGUgPSBudWxsKTtcbiAgfSwgaDtcbn1cbnAuZGVib3VuY2UgPSBwO1xudmFyIHcgPSBwO1xuY2xhc3MgbSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3tkYXRhOiBFbWJlZERhdGEsIGNvbmZpZzogRW1iZWRDb25maWcsIGFwaTogb2JqZWN0fX1cbiAgICogICBkYXRhIOKAlCBwcmV2aW91c2x5IHNhdmVkIGRhdGFcbiAgICogICBjb25maWcgLSB1c2VyIGNvbmZpZyBmb3IgVG9vbFxuICAgKiAgIGFwaSAtIEVkaXRvci5qcyBBUElcbiAgICogICByZWFkT25seSAtIHJlYWQtb25seSBtb2RlIGZsYWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogaSwgYXBpOiByLCByZWFkT25seTogZSB9KSB7XG4gICAgdGhpcy5hcGkgPSByLCB0aGlzLl9kYXRhID0ge30sIHRoaXMuZWxlbWVudCA9IG51bGwsIHRoaXMucmVhZE9ubHkgPSBlLCB0aGlzLmRhdGEgPSBpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0VtYmVkRGF0YX0gZGF0YSAtIGVtYmVkIGRhdGFcbiAgICogQHBhcmFtIHtSZWdFeHB9IFtkYXRhLnJlZ2V4XSAtIHBhdHRlcm4gb2Ygc291cmNlIFVSTHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhLmVtYmVkVXJsXSAtIFVSTCBzY2hlbWUgdG8gZW1iZWRkZWQgcGFnZS4gVXNlICc8JT0gcmVtb3RlX2lkICU+JyB0byBkZWZpbmUgYSBwbGFjZSB0byBpbnNlcnQgcmVzb3VyY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhLmh0bWxdIC0gaWZyYW1lIHdoaWNoIGNvbnRhaW5zIGVtYmVkZGVkIGNvbnRlbnRcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkYXRhLmhlaWdodF0gLSBpZnJhbWUgaGVpZ2h0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZGF0YS53aWR0aF0gLSBpZnJhbWUgd2lkdGhcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhLmNhcHRpb25dIC0gY2FwdGlvblxuICAgKi9cbiAgc2V0IGRhdGEoaSkge1xuICAgIHZhciBoO1xuICAgIGlmICghKGkgaW5zdGFuY2VvZiBPYmplY3QpKVxuICAgICAgdGhyb3cgRXJyb3IoXCJFbWJlZCBUb29sIGRhdGEgc2hvdWxkIGJlIG9iamVjdFwiKTtcbiAgICBjb25zdCB7IHNlcnZpY2U6IHIsIHNvdXJjZTogZSwgZW1iZWQ6IG8sIHdpZHRoOiBsLCBoZWlnaHQ6IHQsIGNhcHRpb246IGEgPSBcIlwiIH0gPSBpO1xuICAgIHRoaXMuX2RhdGEgPSB7XG4gICAgICBzZXJ2aWNlOiByIHx8IHRoaXMuZGF0YS5zZXJ2aWNlLFxuICAgICAgc291cmNlOiBlIHx8IHRoaXMuZGF0YS5zb3VyY2UsXG4gICAgICBlbWJlZDogbyB8fCB0aGlzLmRhdGEuZW1iZWQsXG4gICAgICB3aWR0aDogbCB8fCB0aGlzLmRhdGEud2lkdGgsXG4gICAgICBoZWlnaHQ6IHQgfHwgdGhpcy5kYXRhLmhlaWdodCxcbiAgICAgIGNhcHRpb246IGEgfHwgdGhpcy5kYXRhLmNhcHRpb24gfHwgXCJcIlxuICAgIH07XG4gICAgY29uc3QgbiA9IHRoaXMuZWxlbWVudDtcbiAgICBuICYmICgoaCA9IG4ucGFyZW50Tm9kZSkgPT0gbnVsbCB8fCBoLnJlcGxhY2VDaGlsZCh0aGlzLnJlbmRlcigpLCBuKSk7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtFbWJlZERhdGF9XG4gICAqL1xuICBnZXQgZGF0YSgpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICBjb25zdCBpID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuYXBpLnN0eWxlcy5pbnB1dH1gKTtcbiAgICAgIHRoaXMuX2RhdGEuY2FwdGlvbiA9IGkgPyBpLmlubmVySFRNTCA6IFwiXCI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgcGx1Z2luIHN0eWxlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmFzZUNsYXNzOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICBpbnB1dDogdGhpcy5hcGkuc3R5bGVzLmlucHV0LFxuICAgICAgY29udGFpbmVyOiBcImVtYmVkLXRvb2xcIixcbiAgICAgIGNvbnRhaW5lckxvYWRpbmc6IFwiZW1iZWQtdG9vbC0tbG9hZGluZ1wiLFxuICAgICAgcHJlbG9hZGVyOiBcImVtYmVkLXRvb2xfX3ByZWxvYWRlclwiLFxuICAgICAgY2FwdGlvbjogXCJlbWJlZC10b29sX19jYXB0aW9uXCIsXG4gICAgICB1cmw6IFwiZW1iZWQtdG9vbF9fdXJsXCIsXG4gICAgICBjb250ZW50OiBcImVtYmVkLXRvb2xfX2NvbnRlbnRcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBFbWJlZCB0b29sIGNvbnRlbnRcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5kYXRhLnNlcnZpY2UpIHtcbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudCA9IGEsIGE7XG4gICAgfVxuICAgIGNvbnN0IHsgaHRtbDogaSB9ID0gbS5zZXJ2aWNlc1t0aGlzLmRhdGEuc2VydmljZV0sIHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKSwgbCA9IHRoaXMuY3JlYXRlUHJlbG9hZGVyKCk7XG4gICAgci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJhc2VDbGFzcywgdGhpcy5DU1MuY29udGFpbmVyLCB0aGlzLkNTUy5jb250YWluZXJMb2FkaW5nKSwgZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmlucHV0LCB0aGlzLkNTUy5jYXB0aW9uKSwgci5hcHBlbmRDaGlsZChsKSwgZS5jb250ZW50RWRpdGFibGUgPSAoIXRoaXMucmVhZE9ubHkpLnRvU3RyaW5nKCksIGUuZGF0YXNldC5wbGFjZWhvbGRlciA9IHRoaXMuYXBpLmkxOG4udChcIkVudGVyIGEgY2FwdGlvblwiKSwgZS5pbm5lckhUTUwgPSB0aGlzLmRhdGEuY2FwdGlvbiB8fCBcIlwiLCBvLmlubmVySFRNTCA9IGksIG8uY29udGVudC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInNyY1wiLCB0aGlzLmRhdGEuZW1iZWQpLCBvLmNvbnRlbnQuZmlyc3RDaGlsZC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmNvbnRlbnQpO1xuICAgIGNvbnN0IHQgPSB0aGlzLmVtYmVkSXNSZWFkeShyKTtcbiAgICByZXR1cm4gby5jb250ZW50LmZpcnN0Q2hpbGQgJiYgci5hcHBlbmRDaGlsZChvLmNvbnRlbnQuZmlyc3RDaGlsZCksIHIuYXBwZW5kQ2hpbGQoZSksIHQudGhlbigoKSA9PiB7XG4gICAgICByLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuY29udGFpbmVyTG9hZGluZyk7XG4gICAgfSksIHRoaXMuZWxlbWVudCA9IHIsIHI7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgcHJlbG9hZGVyIHRvIGFwcGVuZCB0byBjb250YWluZXIgd2hpbGUgZGF0YSBpcyBsb2FkaW5nXG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGNyZWF0ZVByZWxvYWRlcigpIHtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZWxvYWRlclwiKSwgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcmV0dXJuIHIudGV4dENvbnRlbnQgPSB0aGlzLmRhdGEuc291cmNlLCBpLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MucHJlbG9hZGVyKSwgci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnVybCksIGkuYXBwZW5kQ2hpbGQociksIGk7XG4gIH1cbiAgLyoqXG4gICAqIFNhdmUgY3VycmVudCBjb250ZW50IGFuZCByZXR1cm4gRW1iZWREYXRhIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJucyB7RW1iZWREYXRhfVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgcGFzdGVkIHVybCBhbmQgcmV0dXJuIFNlcnZpY2Ugb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gZXZlbnQgLSBldmVudCB3aXRoIHBhc3RlZCBkYXRhXG4gICAqL1xuICBvblBhc3RlKGkpIHtcbiAgICB2YXIgYztcbiAgICBjb25zdCB7IGtleTogciwgZGF0YTogZSB9ID0gaS5kZXRhaWwsIHsgcmVnZXg6IG8sIGVtYmVkVXJsOiBsLCB3aWR0aDogdCwgaGVpZ2h0OiBhLCBpZDogbiA9ICh1KSA9PiB1LnNoaWZ0KCkgfHwgXCJcIiB9ID0gbS5zZXJ2aWNlc1tyXSwgaCA9IChjID0gby5leGVjKGUpKSA9PSBudWxsID8gdm9pZCAwIDogYy5zbGljZSgxKSwgZCA9IGggPyBsLnJlcGxhY2UoLzwlPSByZW1vdGVfaWQgJT4vZywgbihoKSkgOiBcIlwiO1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIHNlcnZpY2U6IHIsXG4gICAgICBzb3VyY2U6IGUsXG4gICAgICBlbWJlZDogZCxcbiAgICAgIHdpZHRoOiB0LFxuICAgICAgaGVpZ2h0OiBhXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQW5hbHl6ZSBwcm92aWRlZCBjb25maWcgYW5kIG1ha2Ugb2JqZWN0IHdpdGggc2VydmljZXMgdG8gdXNlXG4gICAqXG4gICAqIEBwYXJhbSB7RW1iZWRDb25maWd9IGNvbmZpZyAtIGNvbmZpZ3VyYXRpb24gb2YgZW1iZWQgYmxvY2sgZWxlbWVudFxuICAgKi9cbiAgc3RhdGljIHByZXBhcmUoeyBjb25maWc6IGkgPSB7fSB9KSB7XG4gICAgY29uc3QgeyBzZXJ2aWNlczogciA9IHt9IH0gPSBpO1xuICAgIGxldCBlID0gT2JqZWN0LmVudHJpZXMoZyk7XG4gICAgY29uc3QgbyA9IE9iamVjdC5lbnRyaWVzKHIpLmZpbHRlcigoW3QsIGFdKSA9PiB0eXBlb2YgYSA9PSBcImJvb2xlYW5cIiAmJiBhID09PSAhMCkubWFwKChbdF0pID0+IHQpLCBsID0gT2JqZWN0LmVudHJpZXMocikuZmlsdGVyKChbdCwgYV0pID0+IHR5cGVvZiBhID09IFwib2JqZWN0XCIpLmZpbHRlcigoW3QsIGFdKSA9PiBtLmNoZWNrU2VydmljZUNvbmZpZyhhKSkubWFwKChbdCwgYV0pID0+IHtcbiAgICAgIGNvbnN0IHsgcmVnZXg6IG4sIGVtYmVkVXJsOiBoLCBodG1sOiBkLCBoZWlnaHQ6IGMsIHdpZHRoOiB1LCBpZDogZiB9ID0gYTtcbiAgICAgIHJldHVybiBbdCwge1xuICAgICAgICByZWdleDogbixcbiAgICAgICAgZW1iZWRVcmw6IGgsXG4gICAgICAgIGh0bWw6IGQsXG4gICAgICAgIGhlaWdodDogYyxcbiAgICAgICAgd2lkdGg6IHUsXG4gICAgICAgIGlkOiBmXG4gICAgICB9XTtcbiAgICB9KTtcbiAgICBvLmxlbmd0aCAmJiAoZSA9IGUuZmlsdGVyKChbdF0pID0+IG8uaW5jbHVkZXModCkpKSwgZSA9IGUuY29uY2F0KGwpLCBtLnNlcnZpY2VzID0gZS5yZWR1Y2UoKHQsIFthLCBuXSkgPT4gYSBpbiB0ID8gKHRbYV0gPSBPYmplY3QuYXNzaWduKHt9LCB0W2FdLCBuKSwgdCkgOiAodFthXSA9IG4sIHQpLCB7fSksIG0ucGF0dGVybnMgPSBlLnJlZHVjZSgodCwgW2EsIG5dKSA9PiAobiAmJiB0eXBlb2YgbiAhPSBcImJvb2xlYW5cIiAmJiAodFthXSA9IG4ucmVnZXgpLCB0KSwge30pO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBTZXJ2aWNlIGNvbmZpZyBpcyB2YWxpZFxuICAgKlxuICAgKiBAcGFyYW0ge1NlcnZpY2V9IGNvbmZpZyAtIGNvbmZpZ3VyYXRpb24gb2YgZW1iZWQgYmxvY2sgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBjaGVja1NlcnZpY2VDb25maWcoaSkge1xuICAgIGNvbnN0IHsgcmVnZXg6IHIsIGVtYmVkVXJsOiBlLCBodG1sOiBvLCBoZWlnaHQ6IGwsIHdpZHRoOiB0LCBpZDogYSB9ID0gaTtcbiAgICBsZXQgbiA9ICEhKHIgJiYgciBpbnN0YW5jZW9mIFJlZ0V4cCkgJiYgISEoZSAmJiB0eXBlb2YgZSA9PSBcInN0cmluZ1wiKSAmJiAhIShvICYmIHR5cGVvZiBvID09IFwic3RyaW5nXCIpO1xuICAgIHJldHVybiBuID0gbiAmJiAoYSAhPT0gdm9pZCAwID8gYSBpbnN0YW5jZW9mIEZ1bmN0aW9uIDogITApLCBuID0gbiAmJiAobCAhPT0gdm9pZCAwID8gTnVtYmVyLmlzRmluaXRlKGwpIDogITApLCBuID0gbiAmJiAodCAhPT0gdm9pZCAwID8gTnVtYmVyLmlzRmluaXRlKHQpIDogITApLCBuO1xuICB9XG4gIC8qKlxuICAgKiBQYXN0ZSBjb25maWd1cmF0aW9uIHRvIGVuYWJsZSBwYXN0ZWQgVVJMcyBwcm9jZXNzaW5nIGJ5IEVkaXRvclxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIG9iamVjdCBvZiBwYXR0ZXJucyB3aGljaCBjb250YWluIHJlZ3ggZm9yIHBhc3RlQ29uZmlnXG4gICAqL1xuICBzdGF0aWMgZ2V0IHBhc3RlQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXR0ZXJuczogbS5wYXR0ZXJuc1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE5vdGlmeSBjb3JlIHRoYXQgcmVhZC1vbmx5IG1vZGUgaXMgc3VwcG9ydGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc1JlYWRPbmx5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHRoYXQgbXV0YXRpb25zIGluIERPTSBoYXZlIGZpbmlzaGVkIGFmdGVyIGFwcGVuZGluZyBpZnJhbWUgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXROb2RlIC0gSFRNTC1lbGVtZW50IG11dGF0aW9ucyBvZiB3aGljaCB0byBsaXN0ZW5cbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gLSByZXN1bHQgdGhhdCBhbGwgbXV0YXRpb25zIGhhdmUgZmluaXNoZWRcbiAgICovXG4gIGVtYmVkSXNSZWFkeShpKSB7XG4gICAgbGV0IGU7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChvLCBsKSA9PiB7XG4gICAgICBlID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIody5kZWJvdW5jZShvLCA0NTApKSwgZS5vYnNlcnZlKGksIHtcbiAgICAgICAgY2hpbGRMaXN0OiAhMCxcbiAgICAgICAgc3VidHJlZTogITBcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgZS5kaXNjb25uZWN0KCk7XG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIG0gYXMgZGVmYXVsdFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/embed/dist/embed.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/header/dist/header.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/@editorjs/header/dist/header.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ v)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}\")),document.head.appendChild(e)}}catch(n){console.error(\"vite-plugin-css-injected-by-js\",n)}})();\nconst a = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5\"/></svg>', l = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17\"/></svg>', o = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3\"/></svg>', h = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6\"/></svg>', d = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8\"/></svg>', u = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z\"/></svg>', g = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12\"/></svg>';\n/**\n * Header block for the Editor.js.\n *\n * @author CodeX (team@ifmo.su)\n * @copyright CodeX 2018\n * @license MIT\n * @version 2.0.0\n */\nclass v {\n  constructor({ data: e, config: t, api: s, readOnly: r }) {\n    this.api = s, this.readOnly = r, this._settings = t, this._data = this.normalizeData(e), this._element = this.getTag();\n  }\n  /**\n   * Styles\n   */\n  get _CSS() {\n    return {\n      block: this.api.styles.block,\n      wrapper: \"ce-header\"\n    };\n  }\n  /**\n   * Check if data is valid\n   * \n   * @param {any} data - data to check\n   * @returns {data is HeaderData}\n   * @private\n   */\n  isHeaderData(e) {\n    return e.text !== void 0;\n  }\n  /**\n   * Normalize input data\n   *\n   * @param {HeaderData} data - saved data to process\n   *\n   * @returns {HeaderData}\n   * @private\n   */\n  normalizeData(e) {\n    const t = { text: \"\", level: this.defaultLevel.number };\n    return this.isHeaderData(e) && (t.text = e.text || \"\", e.level !== void 0 && !isNaN(parseInt(e.level.toString())) && (t.level = parseInt(e.level.toString()))), t;\n  }\n  /**\n   * Return Tool's view\n   *\n   * @returns {HTMLHeadingElement}\n   * @public\n   */\n  render() {\n    return this._element;\n  }\n  /**\n   * Returns header block tunes config\n   *\n   * @returns {Array}\n   */\n  renderSettings() {\n    return this.levels.map((e) => ({\n      icon: e.svg,\n      label: this.api.i18n.t(`Heading ${e.number}`),\n      onActivate: () => this.setLevel(e.number),\n      closeOnActivate: !0,\n      isActive: this.currentLevel.number === e.number,\n      render: () => document.createElement(\"div\")\n    }));\n  }\n  /**\n   * Callback for Block's settings buttons\n   *\n   * @param {number} level - level to set\n   */\n  setLevel(e) {\n    this.data = {\n      level: e,\n      text: this.data.text\n    };\n  }\n  /**\n   * Method that specified how to merge two Text blocks.\n   * Called by Editor.js by backspace at the beginning of the Block\n   *\n   * @param {HeaderData} data - saved data to merger with current block\n   * @public\n   */\n  merge(e) {\n    this._element.insertAdjacentHTML(\"beforeend\", e.text);\n  }\n  /**\n   * Validate Text block data:\n   * - check for emptiness\n   *\n   * @param {HeaderData} blockData — data received after saving\n   * @returns {boolean} false if saved data is not correct, otherwise true\n   * @public\n   */\n  validate(e) {\n    return e.text.trim() !== \"\";\n  }\n  /**\n   * Extract Tool's data from the view\n   *\n   * @param {HTMLHeadingElement} toolsContent - Text tools rendered view\n   * @returns {HeaderData} - saved data\n   * @public\n   */\n  save(e) {\n    return {\n      text: e.innerHTML,\n      level: this.currentLevel.number\n    };\n  }\n  /**\n   * Allow Header to be converted to/from other blocks\n   */\n  static get conversionConfig() {\n    return {\n      export: \"text\",\n      // use 'text' property for other blocks\n      import: \"text\"\n      // fill 'text' property from other block's export string\n    };\n  }\n  /**\n   * Sanitizer Rules\n   */\n  static get sanitize() {\n    return {\n      level: !1,\n      text: {}\n    };\n  }\n  /**\n   * Returns true to notify core that read-only is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Get current Tools`s data\n   *\n   * @returns {HeaderData} Current data\n   * @private\n   */\n  get data() {\n    return this._data.text = this._element.innerHTML, this._data.level = this.currentLevel.number, this._data;\n  }\n  /**\n   * Store data in plugin:\n   * - at the this._data property\n   * - at the HTML\n   *\n   * @param {HeaderData} data — data to set\n   * @private\n   */\n  set data(e) {\n    if (this._data = this.normalizeData(e), e.level !== void 0 && this._element.parentNode) {\n      const t = this.getTag();\n      t.innerHTML = this._element.innerHTML, this._element.parentNode.replaceChild(t, this._element), this._element = t;\n    }\n    e.text !== void 0 && (this._element.innerHTML = this._data.text || \"\");\n  }\n  /**\n   * Get tag for target level\n   * By default returns second-leveled header\n   *\n   * @returns {HTMLElement}\n   */\n  getTag() {\n    const e = document.createElement(this.currentLevel.tag);\n    return e.innerHTML = this._data.text || \"\", e.classList.add(this._CSS.wrapper), e.contentEditable = this.readOnly ? \"false\" : \"true\", e.dataset.placeholder = this.api.i18n.t(this._settings.placeholder || \"\"), e;\n  }\n  /**\n   * Get current level\n   *\n   * @returns {level}\n   */\n  get currentLevel() {\n    let e = this.levels.find((t) => t.number === this._data.level);\n    return e || (e = this.defaultLevel), e;\n  }\n  /**\n   * Return default level\n   *\n   * @returns {level}\n   */\n  get defaultLevel() {\n    if (this._settings.defaultLevel) {\n      const e = this.levels.find((t) => t.number === this._settings.defaultLevel);\n      if (e)\n        return e;\n      console.warn(\"(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels\");\n    }\n    return this.levels[1];\n  }\n  /**\n   * @typedef {object} level\n   * @property {number} number - level number\n   * @property {string} tag - tag corresponds with level number\n   * @property {string} svg - icon\n   */\n  /**\n   * Available header levels\n   *\n   * @returns {level[]}\n   */\n  get levels() {\n    const e = [\n      {\n        number: 1,\n        tag: \"H1\",\n        svg: a\n      },\n      {\n        number: 2,\n        tag: \"H2\",\n        svg: l\n      },\n      {\n        number: 3,\n        tag: \"H3\",\n        svg: o\n      },\n      {\n        number: 4,\n        tag: \"H4\",\n        svg: h\n      },\n      {\n        number: 5,\n        tag: \"H5\",\n        svg: d\n      },\n      {\n        number: 6,\n        tag: \"H6\",\n        svg: u\n      }\n    ];\n    return this._settings.levels ? e.filter(\n      (t) => this._settings.levels.includes(t.number)\n    ) : e;\n  }\n  /**\n   * Handle H1-H6 tags on paste to substitute it with header Tool\n   *\n   * @param {PasteEvent} event - event with pasted content\n   */\n  onPaste(e) {\n    const t = e.detail;\n    if (\"data\" in t) {\n      const s = t.data;\n      let r = this.defaultLevel.number;\n      switch (s.tagName) {\n        case \"H1\":\n          r = 1;\n          break;\n        case \"H2\":\n          r = 2;\n          break;\n        case \"H3\":\n          r = 3;\n          break;\n        case \"H4\":\n          r = 4;\n          break;\n        case \"H5\":\n          r = 5;\n          break;\n        case \"H6\":\n          r = 6;\n          break;\n      }\n      this._settings.levels && (r = this._settings.levels.reduce((n, i) => Math.abs(i - r) < Math.abs(n - r) ? i : n)), this.data = {\n        level: r,\n        text: s.innerHTML\n      };\n    }\n  }\n  /**\n   * Used by Editor.js paste handling API.\n   * Provides configuration to handle H1-H6 tags.\n   *\n   * @returns {{handler: (function(HTMLElement): {text: string}), tags: string[]}}\n   */\n  static get pasteConfig() {\n    return {\n      tags: [\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"]\n    };\n  }\n  /**\n   * Get Tool toolbox settings\n   * icon - Tool icon's SVG\n   * title - title to show in toolbox\n   *\n   * @returns {{icon: string, title: string}}\n   */\n  static get toolbox() {\n    return {\n      icon: g,\n      title: \"Heading\"\n    };\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2hlYWRlci9kaXN0L2hlYWRlci5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLFlBQVksYUFBYSxJQUFJLHdCQUF3QixzQ0FBc0Msa0RBQWtELG1CQUFtQixTQUFTLG1CQUFtQixhQUFhLDRCQUE0QixvQkFBb0IsbUJBQW1CLGtDQUFrQyxTQUFTLG1EQUFtRDtBQUMxVztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix5Q0FBeUM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsS0FBSztBQUNsQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFNBQVM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFlBQVk7QUFDekIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG9CQUFvQjtBQUNqQyxlQUFlLFlBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFlBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFlBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFlBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtDQUFrQyxhQUFhO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9oZWFkZXIvZGlzdC9oZWFkZXIubWpzP2Q2Y2YiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIuY2UtaGVhZGVye3BhZGRpbmc6LjZlbSAwIDNweDttYXJnaW46MDtsaW5lLWhlaWdodDoxLjI1ZW07b3V0bGluZTpub25lfS5jZS1oZWFkZXIgcCwuY2UtaGVhZGVyIGRpdntwYWRkaW5nOjAhaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudH1cIikpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZSl9fWNhdGNoKG4pe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIixuKX19KSgpO1xuY29uc3QgYSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTkgMTdWMTAuMjEzNUMxOSAxMC4xMjg3IDE4LjkwMTEgMTAuMDgyNCAxOC44MzYgMTAuMTM2N0wxNiAxMi41XCIvPjwvc3ZnPicsIGwgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDExQzE2IDEwIDE5IDkuNSAxOSAxMkMxOSAxMy45NzcxIDE2LjA2ODQgMTMuOTk5NyAxNi4wMDEyIDE2Ljg5ODFDMTUuOTk5OSAxNi45NTMzIDE2LjA0NDggMTcgMTYuMSAxN0wxOS4zIDE3XCIvPjwvc3ZnPicsIG8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDExQzE2IDEwLjUgMTYuODMyMyAxMCAxNy42IDEwQzE4LjM2NzcgMTAgMTkuNSAxMC4zMTEgMTkuNSAxMS41QzE5LjUgMTIuNTMxNSAxOC43NDc0IDEyLjkwMjIgMTguNTQ4IDEyLjk4MjNDMTguNTM3OCAxMi45ODY0IDE4LjUzOTUgMTMuMDA0NyAxOC41NTAzIDEzLjAwNjNDMTguODExNSAxMy4wNDU2IDIwIDEzLjMwNjUgMjAgMTQuOEMyMCAxNiAxOS41IDE3IDE3LjggMTdDMTcuOCAxNyAxNiAxNyAxNiAxNi4zXCIvPjwvc3ZnPicsIGggPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4IDEwTDE1LjI4MzQgMTQuODUxMUMxNS4yNDYgMTQuOTE3OCAxNS4yOTQgMTUgMTUuMzcwNCAxNUMxNi44NDg5IDE1IDE4Ljc1NjEgMTUgMjAuMiAxNU0xOSAxN0MxOSAxNS43MTg3IDE5IDE0Ljg4MTMgMTkgMTMuNlwiLz48L3N2Zz4nLCBkID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDdMNiAxMk02IDE3TDYgMTJNNiAxMkwxMiAxMk0xMiA3VjEyTTEyIDE3TDEyIDEyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiAxNS45QzE2IDE1LjkgMTYuMzc2OCAxNyAxNy44IDE3QzE5LjUgMTcgMjAgMTUuNjE5OSAyMCAxNC43QzIwIDEyLjczMjMgMTcuNjc0NSAxMi4wNDg2IDE2LjE2MzUgMTIuOTg5NEMxNi4wOTQgMTMuMDMyNyAxNiAxMi45ODQ2IDE2IDEyLjkwMjdWMTAuMUMxNiAxMC4wNDQ4IDE2LjA0NDggMTAgMTYuMSAxMEgxOS44XCIvPjwvc3ZnPicsIHUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE5LjUgMTBDMTYuNSAxMC41IDE2IDEzLjMyODUgMTYgMTVNMTYgMTVWMTVDMTYgMTYuMTA0NiAxNi44OTU0IDE3IDE4IDE3SDE4LjMyNDZDMTkuMzI1MSAxNyAyMC4zMTkxIDE2LjM0OTIgMjAuMjUyMiAxNS4zNTA5QzIwLjA2MTIgMTIuNDk1OCAxNiAxMi42NjExIDE2IDE1WlwiLz48L3N2Zz4nLCBnID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05IDdMOSAxMk05IDE3VjEyTTkgMTJMMTUgMTJNMTUgN1YxMk0xNSAxN0wxNSAxMlwiLz48L3N2Zz4nO1xuLyoqXG4gKiBIZWFkZXIgYmxvY2sgZm9yIHRoZSBFZGl0b3IuanMuXG4gKlxuICogQGF1dGhvciBDb2RlWCAodGVhbUBpZm1vLnN1KVxuICogQGNvcHlyaWdodCBDb2RlWCAyMDE4XG4gKiBAbGljZW5zZSBNSVRcbiAqIEB2ZXJzaW9uIDIuMC4wXG4gKi9cbmNsYXNzIHYge1xuICBjb25zdHJ1Y3Rvcih7IGRhdGE6IGUsIGNvbmZpZzogdCwgYXBpOiBzLCByZWFkT25seTogciB9KSB7XG4gICAgdGhpcy5hcGkgPSBzLCB0aGlzLnJlYWRPbmx5ID0gciwgdGhpcy5fc2V0dGluZ3MgPSB0LCB0aGlzLl9kYXRhID0gdGhpcy5ub3JtYWxpemVEYXRhKGUpLCB0aGlzLl9lbGVtZW50ID0gdGhpcy5nZXRUYWcoKTtcbiAgfVxuICAvKipcbiAgICogU3R5bGVzXG4gICAqL1xuICBnZXQgX0NTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmxvY2s6IHRoaXMuYXBpLnN0eWxlcy5ibG9jayxcbiAgICAgIHdyYXBwZXI6IFwiY2UtaGVhZGVyXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBkYXRhIGlzIHZhbGlkXG4gICAqIFxuICAgKiBAcGFyYW0ge2FueX0gZGF0YSAtIGRhdGEgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2RhdGEgaXMgSGVhZGVyRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzSGVhZGVyRGF0YShlKSB7XG4gICAgcmV0dXJuIGUudGV4dCAhPT0gdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBOb3JtYWxpemUgaW5wdXQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge0hlYWRlckRhdGF9IGRhdGEgLSBzYXZlZCBkYXRhIHRvIHByb2Nlc3NcbiAgICpcbiAgICogQHJldHVybnMge0hlYWRlckRhdGF9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBub3JtYWxpemVEYXRhKGUpIHtcbiAgICBjb25zdCB0ID0geyB0ZXh0OiBcIlwiLCBsZXZlbDogdGhpcy5kZWZhdWx0TGV2ZWwubnVtYmVyIH07XG4gICAgcmV0dXJuIHRoaXMuaXNIZWFkZXJEYXRhKGUpICYmICh0LnRleHQgPSBlLnRleHQgfHwgXCJcIiwgZS5sZXZlbCAhPT0gdm9pZCAwICYmICFpc05hTihwYXJzZUludChlLmxldmVsLnRvU3RyaW5nKCkpKSAmJiAodC5sZXZlbCA9IHBhcnNlSW50KGUubGV2ZWwudG9TdHJpbmcoKSkpKSwgdDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFRvb2wncyB2aWV3XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MSGVhZGluZ0VsZW1lbnR9XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBoZWFkZXIgYmxvY2sgdHVuZXMgY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICovXG4gIHJlbmRlclNldHRpbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmxldmVscy5tYXAoKGUpID0+ICh7XG4gICAgICBpY29uOiBlLnN2ZyxcbiAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoYEhlYWRpbmcgJHtlLm51bWJlcn1gKSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuc2V0TGV2ZWwoZS5udW1iZXIpLFxuICAgICAgY2xvc2VPbkFjdGl2YXRlOiAhMCxcbiAgICAgIGlzQWN0aXZlOiB0aGlzLmN1cnJlbnRMZXZlbC5udW1iZXIgPT09IGUubnVtYmVyLFxuICAgICAgcmVuZGVyOiAoKSA9PiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3IgQmxvY2sncyBzZXR0aW5ncyBidXR0b25zXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIGxldmVsIHRvIHNldFxuICAgKi9cbiAgc2V0TGV2ZWwoZSkge1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIGxldmVsOiBlLFxuICAgICAgdGV4dDogdGhpcy5kYXRhLnRleHRcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgdGhhdCBzcGVjaWZpZWQgaG93IHRvIG1lcmdlIHR3byBUZXh0IGJsb2Nrcy5cbiAgICogQ2FsbGVkIGJ5IEVkaXRvci5qcyBieSBiYWNrc3BhY2UgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtIZWFkZXJEYXRhfSBkYXRhIC0gc2F2ZWQgZGF0YSB0byBtZXJnZXIgd2l0aCBjdXJyZW50IGJsb2NrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIG1lcmdlKGUpIHtcbiAgICB0aGlzLl9lbGVtZW50Lmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBlLnRleHQpO1xuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBUZXh0IGJsb2NrIGRhdGE6XG4gICAqIC0gY2hlY2sgZm9yIGVtcHRpbmVzc1xuICAgKlxuICAgKiBAcGFyYW0ge0hlYWRlckRhdGF9IGJsb2NrRGF0YSDigJQgZGF0YSByZWNlaXZlZCBhZnRlciBzYXZpbmdcbiAgICogQHJldHVybnMge2Jvb2xlYW59IGZhbHNlIGlmIHNhdmVkIGRhdGEgaXMgbm90IGNvcnJlY3QsIG90aGVyd2lzZSB0cnVlXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHZhbGlkYXRlKGUpIHtcbiAgICByZXR1cm4gZS50ZXh0LnRyaW0oKSAhPT0gXCJcIjtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBUb29sJ3MgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEhlYWRpbmdFbGVtZW50fSB0b29sc0NvbnRlbnQgLSBUZXh0IHRvb2xzIHJlbmRlcmVkIHZpZXdcbiAgICogQHJldHVybnMge0hlYWRlckRhdGF9IC0gc2F2ZWQgZGF0YVxuICAgKiBAcHVibGljXG4gICAqL1xuICBzYXZlKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDogZS5pbm5lckhUTUwsXG4gICAgICBsZXZlbDogdGhpcy5jdXJyZW50TGV2ZWwubnVtYmVyXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQWxsb3cgSGVhZGVyIHRvIGJlIGNvbnZlcnRlZCB0by9mcm9tIG90aGVyIGJsb2Nrc1xuICAgKi9cbiAgc3RhdGljIGdldCBjb252ZXJzaW9uQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICBleHBvcnQ6IFwidGV4dFwiLFxuICAgICAgLy8gdXNlICd0ZXh0JyBwcm9wZXJ0eSBmb3Igb3RoZXIgYmxvY2tzXG4gICAgICBpbXBvcnQ6IFwidGV4dFwiXG4gICAgICAvLyBmaWxsICd0ZXh0JyBwcm9wZXJ0eSBmcm9tIG90aGVyIGJsb2NrJ3MgZXhwb3J0IHN0cmluZ1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlc1xuICAgKi9cbiAgc3RhdGljIGdldCBzYW5pdGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6ICExLFxuICAgICAgdGV4dDoge31cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgdG8gbm90aWZ5IGNvcmUgdGhhdCByZWFkLW9ubHkgaXMgc3VwcG9ydGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc1JlYWRPbmx5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgVG9vbHNgcyBkYXRhXG4gICAqXG4gICAqIEByZXR1cm5zIHtIZWFkZXJEYXRhfSBDdXJyZW50IGRhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldCBkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLnRleHQgPSB0aGlzLl9lbGVtZW50LmlubmVySFRNTCwgdGhpcy5fZGF0YS5sZXZlbCA9IHRoaXMuY3VycmVudExldmVsLm51bWJlciwgdGhpcy5fZGF0YTtcbiAgfVxuICAvKipcbiAgICogU3RvcmUgZGF0YSBpbiBwbHVnaW46XG4gICAqIC0gYXQgdGhlIHRoaXMuX2RhdGEgcHJvcGVydHlcbiAgICogLSBhdCB0aGUgSFRNTFxuICAgKlxuICAgKiBAcGFyYW0ge0hlYWRlckRhdGF9IGRhdGEg4oCUIGRhdGEgdG8gc2V0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXQgZGF0YShlKSB7XG4gICAgaWYgKHRoaXMuX2RhdGEgPSB0aGlzLm5vcm1hbGl6ZURhdGEoZSksIGUubGV2ZWwgIT09IHZvaWQgMCAmJiB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmdldFRhZygpO1xuICAgICAgdC5pbm5lckhUTUwgPSB0aGlzLl9lbGVtZW50LmlubmVySFRNTCwgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0LCB0aGlzLl9lbGVtZW50KSwgdGhpcy5fZWxlbWVudCA9IHQ7XG4gICAgfVxuICAgIGUudGV4dCAhPT0gdm9pZCAwICYmICh0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX2RhdGEudGV4dCB8fCBcIlwiKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRhZyBmb3IgdGFyZ2V0IGxldmVsXG4gICAqIEJ5IGRlZmF1bHQgcmV0dXJucyBzZWNvbmQtbGV2ZWxlZCBoZWFkZXJcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0VGFnKCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuY3VycmVudExldmVsLnRhZyk7XG4gICAgcmV0dXJuIGUuaW5uZXJIVE1MID0gdGhpcy5fZGF0YS50ZXh0IHx8IFwiXCIsIGUuY2xhc3NMaXN0LmFkZCh0aGlzLl9DU1Mud3JhcHBlciksIGUuY29udGVudEVkaXRhYmxlID0gdGhpcy5yZWFkT25seSA/IFwiZmFsc2VcIiA6IFwidHJ1ZVwiLCBlLmRhdGFzZXQucGxhY2Vob2xkZXIgPSB0aGlzLmFwaS5pMThuLnQodGhpcy5fc2V0dGluZ3MucGxhY2Vob2xkZXIgfHwgXCJcIiksIGU7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IGxldmVsXG4gICAqXG4gICAqIEByZXR1cm5zIHtsZXZlbH1cbiAgICovXG4gIGdldCBjdXJyZW50TGV2ZWwoKSB7XG4gICAgbGV0IGUgPSB0aGlzLmxldmVscy5maW5kKCh0KSA9PiB0Lm51bWJlciA9PT0gdGhpcy5fZGF0YS5sZXZlbCk7XG4gICAgcmV0dXJuIGUgfHwgKGUgPSB0aGlzLmRlZmF1bHRMZXZlbCksIGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBkZWZhdWx0IGxldmVsXG4gICAqXG4gICAqIEByZXR1cm5zIHtsZXZlbH1cbiAgICovXG4gIGdldCBkZWZhdWx0TGV2ZWwoKSB7XG4gICAgaWYgKHRoaXMuX3NldHRpbmdzLmRlZmF1bHRMZXZlbCkge1xuICAgICAgY29uc3QgZSA9IHRoaXMubGV2ZWxzLmZpbmQoKHQpID0+IHQubnVtYmVyID09PSB0aGlzLl9zZXR0aW5ncy5kZWZhdWx0TGV2ZWwpO1xuICAgICAgaWYgKGUpXG4gICAgICAgIHJldHVybiBlO1xuICAgICAgY29uc29sZS53YXJuKFwiKOC4hyfMgC0nzIEp4LiHIEhlYWRpbmcgVG9vbDogdGhlIGRlZmF1bHQgbGV2ZWwgc3BlY2lmaWVkIHdhcyBub3QgZm91bmQgaW4gYXZhaWxhYmxlIGxldmVsc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGV2ZWxzWzFdO1xuICB9XG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBsZXZlbFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gbnVtYmVyIC0gbGV2ZWwgbnVtYmVyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0YWcgLSB0YWcgY29ycmVzcG9uZHMgd2l0aCBsZXZlbCBudW1iZXJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHN2ZyAtIGljb25cbiAgICovXG4gIC8qKlxuICAgKiBBdmFpbGFibGUgaGVhZGVyIGxldmVsc1xuICAgKlxuICAgKiBAcmV0dXJucyB7bGV2ZWxbXX1cbiAgICovXG4gIGdldCBsZXZlbHMoKSB7XG4gICAgY29uc3QgZSA9IFtcbiAgICAgIHtcbiAgICAgICAgbnVtYmVyOiAxLFxuICAgICAgICB0YWc6IFwiSDFcIixcbiAgICAgICAgc3ZnOiBhXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBudW1iZXI6IDIsXG4gICAgICAgIHRhZzogXCJIMlwiLFxuICAgICAgICBzdmc6IGxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG51bWJlcjogMyxcbiAgICAgICAgdGFnOiBcIkgzXCIsXG4gICAgICAgIHN2Zzogb1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbnVtYmVyOiA0LFxuICAgICAgICB0YWc6IFwiSDRcIixcbiAgICAgICAgc3ZnOiBoXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBudW1iZXI6IDUsXG4gICAgICAgIHRhZzogXCJINVwiLFxuICAgICAgICBzdmc6IGRcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG51bWJlcjogNixcbiAgICAgICAgdGFnOiBcIkg2XCIsXG4gICAgICAgIHN2ZzogdVxuICAgICAgfVxuICAgIF07XG4gICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmxldmVscyA/IGUuZmlsdGVyKFxuICAgICAgKHQpID0+IHRoaXMuX3NldHRpbmdzLmxldmVscy5pbmNsdWRlcyh0Lm51bWJlcilcbiAgICApIDogZTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIEgxLUg2IHRhZ3Mgb24gcGFzdGUgdG8gc3Vic3RpdHV0ZSBpdCB3aXRoIGhlYWRlciBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gZXZlbnQgLSBldmVudCB3aXRoIHBhc3RlZCBjb250ZW50XG4gICAqL1xuICBvblBhc3RlKGUpIHtcbiAgICBjb25zdCB0ID0gZS5kZXRhaWw7XG4gICAgaWYgKFwiZGF0YVwiIGluIHQpIHtcbiAgICAgIGNvbnN0IHMgPSB0LmRhdGE7XG4gICAgICBsZXQgciA9IHRoaXMuZGVmYXVsdExldmVsLm51bWJlcjtcbiAgICAgIHN3aXRjaCAocy50YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJIMVwiOlxuICAgICAgICAgIHIgPSAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiSDJcIjpcbiAgICAgICAgICByID0gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkgzXCI6XG4gICAgICAgICAgciA9IDM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJINFwiOlxuICAgICAgICAgIHIgPSA0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiSDVcIjpcbiAgICAgICAgICByID0gNTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkg2XCI6XG4gICAgICAgICAgciA9IDY7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXR0aW5ncy5sZXZlbHMgJiYgKHIgPSB0aGlzLl9zZXR0aW5ncy5sZXZlbHMucmVkdWNlKChuLCBpKSA9PiBNYXRoLmFicyhpIC0gcikgPCBNYXRoLmFicyhuIC0gcikgPyBpIDogbikpLCB0aGlzLmRhdGEgPSB7XG4gICAgICAgIGxldmVsOiByLFxuICAgICAgICB0ZXh0OiBzLmlubmVySFRNTFxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVzZWQgYnkgRWRpdG9yLmpzIHBhc3RlIGhhbmRsaW5nIEFQSS5cbiAgICogUHJvdmlkZXMgY29uZmlndXJhdGlvbiB0byBoYW5kbGUgSDEtSDYgdGFncy5cbiAgICpcbiAgICogQHJldHVybnMge3toYW5kbGVyOiAoZnVuY3Rpb24oSFRNTEVsZW1lbnQpOiB7dGV4dDogc3RyaW5nfSksIHRhZ3M6IHN0cmluZ1tdfX1cbiAgICovXG4gIHN0YXRpYyBnZXQgcGFzdGVDb25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhZ3M6IFtcIkgxXCIsIFwiSDJcIiwgXCJIM1wiLCBcIkg0XCIsIFwiSDVcIiwgXCJINlwiXVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBUb29sIHRvb2xib3ggc2V0dGluZ3NcbiAgICogaWNvbiAtIFRvb2wgaWNvbidzIFNWR1xuICAgKiB0aXRsZSAtIHRpdGxlIHRvIHNob3cgaW4gdG9vbGJveFxuICAgKlxuICAgKiBAcmV0dXJucyB7e2ljb246IHN0cmluZywgdGl0bGU6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IHRvb2xib3goKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IGcsXG4gICAgICB0aXRsZTogXCJIZWFkaW5nXCJcbiAgICB9O1xuICB9XG59XG5leHBvcnQge1xuICB2IGFzIGRlZmF1bHRcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/header/dist/header.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/list/dist/list.mjs":
/*!***************************************************!*\
  !*** ./node_modules/@editorjs/list/dist/list.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ d)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}\")),document.head.appendChild(e)}}catch(t){console.error(\"vite-plugin-css-injected-by-js\",t)}})();\nconst a = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"9\" x2=\"19\" y1=\"7\" y2=\"7\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"9\" x2=\"19\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"9\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 17H4.99002\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 12H4.99002\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 7H4.99002\"/></svg>', o = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"12\" x2=\"19\" y1=\"7\" y2=\"7\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"12\" x2=\"19\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"12\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5\"/></svg>';\nclass d {\n  /**\n   * Notify core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Allow to use native Enter behaviour\n   *\n   * @returns {boolean}\n   * @public\n   */\n  static get enableLineBreaks() {\n    return !0;\n  }\n  /**\n   * Get Tool toolbox settings\n   * icon - Tool icon's SVG\n   * title - title to show in toolbox\n   *\n   * @returns {{icon: string, title: string}}\n   */\n  static get toolbox() {\n    return {\n      icon: a,\n      title: \"List\"\n    };\n  }\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {object} params - tool constructor options\n   * @param {ListData} params.data - previously saved data\n   * @param {object} params.config - user config for Tool\n   * @param {object} params.api - Editor.js API\n   * @param {boolean} params.readOnly - read-only mode flag\n   */\n  constructor({ data: e, config: t, api: r, readOnly: s }) {\n    this._elements = {\n      wrapper: null\n    }, this.api = r, this.readOnly = s, this.settings = [\n      {\n        name: \"unordered\",\n        label: this.api.i18n.t(\"Unordered\"),\n        icon: a,\n        default: t.defaultStyle === \"unordered\" || !1\n      },\n      {\n        name: \"ordered\",\n        label: this.api.i18n.t(\"Ordered\"),\n        icon: o,\n        default: t.defaultStyle === \"ordered\" || !0\n      }\n    ], this._data = {\n      style: this.settings.find((i) => i.default === !0).name,\n      items: []\n    }, this.data = e;\n  }\n  /**\n   * Returns list tag with items\n   *\n   * @returns {Element}\n   * @public\n   */\n  render() {\n    return this._elements.wrapper = this.makeMainTag(this._data.style), this._data.items.length ? this._data.items.forEach((e) => {\n      this._elements.wrapper.appendChild(this._make(\"li\", this.CSS.item, {\n        innerHTML: e\n      }));\n    }) : this._elements.wrapper.appendChild(this._make(\"li\", this.CSS.item)), this.readOnly || this._elements.wrapper.addEventListener(\"keydown\", (e) => {\n      const [t, r] = [13, 8];\n      switch (e.keyCode) {\n        case t:\n          this.getOutofList(e);\n          break;\n        case r:\n          this.backspace(e);\n          break;\n      }\n    }, !1), this._elements.wrapper;\n  }\n  /**\n   * @returns {ListData}\n   * @public\n   */\n  save() {\n    return this.data;\n  }\n  /**\n   * Allow List Tool to be converted to/from other block\n   *\n   * @returns {{export: Function, import: Function}}\n   */\n  static get conversionConfig() {\n    return {\n      /**\n       * To create exported string from list, concatenate items by dot-symbol.\n       *\n       * @param {ListData} data - list data to create a string from thats\n       * @returns {string}\n       */\n      export: (e) => e.items.join(\". \"),\n      /**\n       * To create a list from other block's string, just put it at the first item\n       *\n       * @param {string} string - string to create list tool data from that\n       * @returns {ListData}\n       */\n      import: (e) => ({\n        items: [e],\n        style: \"unordered\"\n      })\n    };\n  }\n  /**\n   * Sanitizer rules\n   *\n   * @returns {object}\n   */\n  static get sanitize() {\n    return {\n      style: {},\n      items: {\n        br: !0\n      }\n    };\n  }\n  /**\n   * Settings\n   *\n   * @public\n   * @returns {Array}\n   */\n  renderSettings() {\n    return this.settings.map((e) => ({\n      ...e,\n      isActive: this._data.style === e.name,\n      closeOnActivate: !0,\n      onActivate: () => this.toggleTune(e.name)\n    }));\n  }\n  /**\n   * On paste callback that is fired from Editor\n   *\n   * @param {PasteEvent} event - event with pasted data\n   */\n  onPaste(e) {\n    const t = e.detail.data;\n    this.data = this.pasteHandler(t);\n  }\n  /**\n   * List Tool on paste configuration\n   *\n   * @public\n   */\n  static get pasteConfig() {\n    return {\n      tags: [\"OL\", \"UL\", \"LI\"]\n    };\n  }\n  /**\n   * Creates main <ul> or <ol> tag depended on style\n   *\n   * @param {string} style - 'ordered' or 'unordered'\n   * @returns {HTMLOListElement|HTMLUListElement}\n   */\n  makeMainTag(e) {\n    const t = e === \"ordered\" ? this.CSS.wrapperOrdered : this.CSS.wrapperUnordered, r = e === \"ordered\" ? \"ol\" : \"ul\";\n    return this._make(r, [this.CSS.baseBlock, this.CSS.wrapper, t], {\n      contentEditable: !this.readOnly\n    });\n  }\n  /**\n   * Toggles List style\n   *\n   * @param {string} style - 'ordered'|'unordered'\n   */\n  toggleTune(e) {\n    const t = this.makeMainTag(e);\n    for (; this._elements.wrapper.hasChildNodes(); )\n      t.appendChild(this._elements.wrapper.firstChild);\n    this._elements.wrapper.replaceWith(t), this._elements.wrapper = t, this._data.style = e;\n  }\n  /**\n   * Styles\n   *\n   * @private\n   */\n  get CSS() {\n    return {\n      baseBlock: this.api.styles.block,\n      wrapper: \"cdx-list\",\n      wrapperOrdered: \"cdx-list--ordered\",\n      wrapperUnordered: \"cdx-list--unordered\",\n      item: \"cdx-list__item\"\n    };\n  }\n  /**\n   * List data setter\n   *\n   * @param {ListData} listData\n   */\n  set data(e) {\n    e || (e = {}), this._data.style = e.style || this.settings.find((r) => r.default === !0).name, this._data.items = e.items || [];\n    const t = this._elements.wrapper;\n    t && t.parentNode.replaceChild(this.render(), t);\n  }\n  /**\n   * Return List data\n   *\n   * @returns {ListData}\n   */\n  get data() {\n    this._data.items = [];\n    const e = this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);\n    for (let t = 0; t < e.length; t++)\n      e[t].innerHTML.replace(\"<br>\", \" \").trim() && this._data.items.push(e[t].innerHTML);\n    return this._data;\n  }\n  /**\n   * Helper for making Elements with attributes\n   *\n   * @param  {string} tagName           - new Element tag name\n   * @param  {Array|string} classNames  - list or name of CSS classname(s)\n   * @param  {object} attributes        - any attributes\n   * @returns {Element}\n   */\n  _make(e, t = null, r = {}) {\n    const s = document.createElement(e);\n    Array.isArray(t) ? s.classList.add(...t) : t && s.classList.add(t);\n    for (const i in r)\n      s[i] = r[i];\n    return s;\n  }\n  /**\n   * Returns current List item by the caret position\n   *\n   * @returns {Element}\n   */\n  get currentItem() {\n    let e = window.getSelection().anchorNode;\n    return e.nodeType !== Node.ELEMENT_NODE && (e = e.parentNode), e.closest(`.${this.CSS.item}`);\n  }\n  /**\n   * Get out from List Tool\n   * by Enter on the empty last item\n   *\n   * @param {KeyboardEvent} event\n   */\n  getOutofList(e) {\n    const t = this._elements.wrapper.querySelectorAll(\".\" + this.CSS.item);\n    if (t.length < 2)\n      return;\n    const r = t[t.length - 1], s = this.currentItem;\n    s === r && !r.textContent.trim().length && (s.parentElement.removeChild(s), this.api.blocks.insert(), this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()), e.preventDefault(), e.stopPropagation());\n  }\n  /**\n   * Handle backspace\n   *\n   * @param {KeyboardEvent} event\n   */\n  backspace(e) {\n    const t = this._elements.wrapper.querySelectorAll(\".\" + this.CSS.item), r = t[0];\n    r && t.length < 2 && !r.innerHTML.replace(\"<br>\", \" \").trim() && e.preventDefault();\n  }\n  /**\n   * Select LI content by CMD+A\n   *\n   * @param {KeyboardEvent} event\n   */\n  selectItem(e) {\n    e.preventDefault();\n    const t = window.getSelection(), r = t.anchorNode.parentNode, s = r.closest(\".\" + this.CSS.item), i = new Range();\n    i.selectNodeContents(s), t.removeAllRanges(), t.addRange(i);\n  }\n  /**\n   * Handle UL, OL and LI tags paste and returns List data\n   *\n   * @param {HTMLUListElement|HTMLOListElement|HTMLLIElement} element\n   * @returns {ListData}\n   */\n  pasteHandler(e) {\n    const { tagName: t } = e;\n    let r;\n    switch (t) {\n      case \"OL\":\n        r = \"ordered\";\n        break;\n      case \"UL\":\n      case \"LI\":\n        r = \"unordered\";\n    }\n    const s = {\n      style: r,\n      items: []\n    };\n    if (t === \"LI\")\n      s.items = [e.innerHTML];\n    else {\n      const i = Array.from(e.querySelectorAll(\"LI\"));\n      s.items = i.map((n) => n.innerHTML).filter((n) => !!n.trim());\n    }\n    return s;\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2xpc3QvZGlzdC9saXN0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsWUFBWSxhQUFhLElBQUksd0JBQXdCLHNDQUFzQyxpREFBaUQsU0FBUyxrQkFBa0IsYUFBYSxnQkFBZ0IsMEJBQTBCLGtCQUFrQixxQkFBcUIsZ0JBQWdCLG1CQUFtQixtQkFBbUIsbUJBQW1CLGFBQWEsd0NBQXdDLFVBQVUsa0NBQWtDLFNBQVMsbURBQW1EO0FBQzNlO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsZ0JBQWdCLHlDQUF5QztBQUN6RDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsVUFBVTtBQUMzQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFlBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0NBQXdDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGNBQWM7QUFDeEUsb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsY0FBYztBQUM1QixjQUFjLFFBQVE7QUFDdEIsZUFBZTtBQUNmO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsY0FBYztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGVBQWU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGlEQUFpRDtBQUM5RCxlQUFlO0FBQ2Y7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9saXN0L2Rpc3QvbGlzdC5tanM/MTFjMyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0cnl7aWYodHlwZW9mIGRvY3VtZW50PFwidVwiKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5jZHgtbGlzdHttYXJnaW46MDtwYWRkaW5nLWxlZnQ6NDBweDtvdXRsaW5lOm5vbmV9LmNkeC1saXN0X19pdGVte3BhZGRpbmc6NS41cHggMCA1LjVweCAzcHg7bGluZS1oZWlnaHQ6MS42ZW19LmNkeC1saXN0LS11bm9yZGVyZWR7bGlzdC1zdHlsZTpkaXNjfS5jZHgtbGlzdC0tb3JkZXJlZHtsaXN0LXN0eWxlOmRlY2ltYWx9LmNkeC1saXN0LXNldHRpbmdze2Rpc3BsYXk6ZmxleH0uY2R4LWxpc3Qtc2V0dGluZ3MgLmNkeC1zZXR0aW5ncy1idXR0b257d2lkdGg6NTAlfVwiKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKX19Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLHQpfX0pKCk7XG5jb25zdCBhID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxsaW5lIHgxPVwiOVwiIHgyPVwiMTlcIiB5MT1cIjdcIiB5Mj1cIjdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjlcIiB4Mj1cIjE5XCIgeTE9XCIxMlwiIHkyPVwiMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjlcIiB4Mj1cIjE5XCIgeTE9XCIxN1wiIHkyPVwiMTdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNS4wMDAwMSAxN0g0Ljk5MDAyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01LjAwMDAxIDEySDQuOTkwMDJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuMDAwMDEgN0g0Ljk5MDAyXCIvPjwvc3ZnPicsIG8gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTlcIiB5MT1cIjdcIiB5Mj1cIjdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjEyXCIgeDI9XCIxOVwiIHkxPVwiMTJcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTlcIiB5MT1cIjE3XCIgeTI9XCIxN1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03Ljc5OTk5IDE0TDcuNzk5OTkgNy4yMTM1QzcuNzk5OTkgNy4xMjg3MiA3LjcwMTEgNy4wODI0IDcuNjM1OTcgNy4xMzY2OEw0Ljc5OTk5IDkuNVwiLz48L3N2Zz4nO1xuY2xhc3MgZCB7XG4gIC8qKlxuICAgKiBOb3RpZnkgY29yZSB0aGF0IHJlYWQtb25seSBtb2RlIGlzIHN1cHBvcnRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBnZXQgaXNSZWFkT25seVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93IHRvIHVzZSBuYXRpdmUgRW50ZXIgYmVoYXZpb3VyXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKiBAcHVibGljXG4gICAqL1xuICBzdGF0aWMgZ2V0IGVuYWJsZUxpbmVCcmVha3MoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgVG9vbCB0b29sYm94IHNldHRpbmdzXG4gICAqIGljb24gLSBUb29sIGljb24ncyBTVkdcbiAgICogdGl0bGUgLSB0aXRsZSB0byBzaG93IGluIHRvb2xib3hcbiAgICpcbiAgICogQHJldHVybnMge3tpY29uOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCB0b29sYm94KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBhLFxuICAgICAgdGl0bGU6IFwiTGlzdFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmVuZGVyIHBsdWdpbmBzIG1haW4gRWxlbWVudCBhbmQgZmlsbCBpdCB3aXRoIHNhdmVkIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAtIHRvb2wgY29uc3RydWN0b3Igb3B0aW9uc1xuICAgKiBAcGFyYW0ge0xpc3REYXRhfSBwYXJhbXMuZGF0YSAtIHByZXZpb3VzbHkgc2F2ZWQgZGF0YVxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zLmNvbmZpZyAtIHVzZXIgY29uZmlnIGZvciBUb29sXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMuYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtcy5yZWFkT25seSAtIHJlYWQtb25seSBtb2RlIGZsYWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogZSwgY29uZmlnOiB0LCBhcGk6IHIsIHJlYWRPbmx5OiBzIH0pIHtcbiAgICB0aGlzLl9lbGVtZW50cyA9IHtcbiAgICAgIHdyYXBwZXI6IG51bGxcbiAgICB9LCB0aGlzLmFwaSA9IHIsIHRoaXMucmVhZE9ubHkgPSBzLCB0aGlzLnNldHRpbmdzID0gW1xuICAgICAge1xuICAgICAgICBuYW1lOiBcInVub3JkZXJlZFwiLFxuICAgICAgICBsYWJlbDogdGhpcy5hcGkuaTE4bi50KFwiVW5vcmRlcmVkXCIpLFxuICAgICAgICBpY29uOiBhLFxuICAgICAgICBkZWZhdWx0OiB0LmRlZmF1bHRTdHlsZSA9PT0gXCJ1bm9yZGVyZWRcIiB8fCAhMVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJvcmRlcmVkXCIsXG4gICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJPcmRlcmVkXCIpLFxuICAgICAgICBpY29uOiBvLFxuICAgICAgICBkZWZhdWx0OiB0LmRlZmF1bHRTdHlsZSA9PT0gXCJvcmRlcmVkXCIgfHwgITBcbiAgICAgIH1cbiAgICBdLCB0aGlzLl9kYXRhID0ge1xuICAgICAgc3R5bGU6IHRoaXMuc2V0dGluZ3MuZmluZCgoaSkgPT4gaS5kZWZhdWx0ID09PSAhMCkubmFtZSxcbiAgICAgIGl0ZW1zOiBbXVxuICAgIH0sIHRoaXMuZGF0YSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCB0YWcgd2l0aCBpdGVtc1xuICAgKlxuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50cy53cmFwcGVyID0gdGhpcy5tYWtlTWFpblRhZyh0aGlzLl9kYXRhLnN0eWxlKSwgdGhpcy5fZGF0YS5pdGVtcy5sZW5ndGggPyB0aGlzLl9kYXRhLml0ZW1zLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHRoaXMuX2VsZW1lbnRzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5fbWFrZShcImxpXCIsIHRoaXMuQ1NTLml0ZW0sIHtcbiAgICAgICAgaW5uZXJIVE1MOiBlXG4gICAgICB9KSk7XG4gICAgfSkgOiB0aGlzLl9lbGVtZW50cy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuX21ha2UoXCJsaVwiLCB0aGlzLkNTUy5pdGVtKSksIHRoaXMucmVhZE9ubHkgfHwgdGhpcy5fZWxlbWVudHMud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgY29uc3QgW3QsIHJdID0gWzEzLCA4XTtcbiAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgdDpcbiAgICAgICAgICB0aGlzLmdldE91dG9mTGlzdChlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSByOlxuICAgICAgICAgIHRoaXMuYmFja3NwYWNlKGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0sICExKSwgdGhpcy5fZWxlbWVudHMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMge0xpc3REYXRhfVxuICAgKiBAcHVibGljXG4gICAqL1xuICBzYXZlKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGE7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93IExpc3QgVG9vbCB0byBiZSBjb252ZXJ0ZWQgdG8vZnJvbSBvdGhlciBibG9ja1xuICAgKlxuICAgKiBAcmV0dXJucyB7e2V4cG9ydDogRnVuY3Rpb24sIGltcG9ydDogRnVuY3Rpb259fVxuICAgKi9cbiAgc3RhdGljIGdldCBjb252ZXJzaW9uQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFRvIGNyZWF0ZSBleHBvcnRlZCBzdHJpbmcgZnJvbSBsaXN0LCBjb25jYXRlbmF0ZSBpdGVtcyBieSBkb3Qtc3ltYm9sLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7TGlzdERhdGF9IGRhdGEgLSBsaXN0IGRhdGEgdG8gY3JlYXRlIGEgc3RyaW5nIGZyb20gdGhhdHNcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgIGV4cG9ydDogKGUpID0+IGUuaXRlbXMuam9pbihcIi4gXCIpLFxuICAgICAgLyoqXG4gICAgICAgKiBUbyBjcmVhdGUgYSBsaXN0IGZyb20gb3RoZXIgYmxvY2sncyBzdHJpbmcsIGp1c3QgcHV0IGl0IGF0IHRoZSBmaXJzdCBpdGVtXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyAtIHN0cmluZyB0byBjcmVhdGUgbGlzdCB0b29sIGRhdGEgZnJvbSB0aGF0XG4gICAgICAgKiBAcmV0dXJucyB7TGlzdERhdGF9XG4gICAgICAgKi9cbiAgICAgIGltcG9ydDogKGUpID0+ICh7XG4gICAgICAgIGl0ZW1zOiBbZV0sXG4gICAgICAgIHN0eWxlOiBcInVub3JkZXJlZFwiXG4gICAgICB9KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBydWxlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBzYW5pdGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHt9LFxuICAgICAgaXRlbXM6IHtcbiAgICAgICAgYnI6ICEwXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2V0dGluZ3NcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAqL1xuICByZW5kZXJTZXR0aW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYXAoKGUpID0+ICh7XG4gICAgICAuLi5lLFxuICAgICAgaXNBY3RpdmU6IHRoaXMuX2RhdGEuc3R5bGUgPT09IGUubmFtZSxcbiAgICAgIGNsb3NlT25BY3RpdmF0ZTogITAsXG4gICAgICBvbkFjdGl2YXRlOiAoKSA9PiB0aGlzLnRvZ2dsZVR1bmUoZS5uYW1lKVxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogT24gcGFzdGUgY2FsbGJhY2sgdGhhdCBpcyBmaXJlZCBmcm9tIEVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge1Bhc3RlRXZlbnR9IGV2ZW50IC0gZXZlbnQgd2l0aCBwYXN0ZWQgZGF0YVxuICAgKi9cbiAgb25QYXN0ZShlKSB7XG4gICAgY29uc3QgdCA9IGUuZGV0YWlsLmRhdGE7XG4gICAgdGhpcy5kYXRhID0gdGhpcy5wYXN0ZUhhbmRsZXIodCk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3QgVG9vbCBvbiBwYXN0ZSBjb25maWd1cmF0aW9uXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHN0YXRpYyBnZXQgcGFzdGVDb25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhZ3M6IFtcIk9MXCIsIFwiVUxcIiwgXCJMSVwiXVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgbWFpbiA8dWw+IG9yIDxvbD4gdGFnIGRlcGVuZGVkIG9uIHN0eWxlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZSAtICdvcmRlcmVkJyBvciAndW5vcmRlcmVkJ1xuICAgKiBAcmV0dXJucyB7SFRNTE9MaXN0RWxlbWVudHxIVE1MVUxpc3RFbGVtZW50fVxuICAgKi9cbiAgbWFrZU1haW5UYWcoZSkge1xuICAgIGNvbnN0IHQgPSBlID09PSBcIm9yZGVyZWRcIiA/IHRoaXMuQ1NTLndyYXBwZXJPcmRlcmVkIDogdGhpcy5DU1Mud3JhcHBlclVub3JkZXJlZCwgciA9IGUgPT09IFwib3JkZXJlZFwiID8gXCJvbFwiIDogXCJ1bFwiO1xuICAgIHJldHVybiB0aGlzLl9tYWtlKHIsIFt0aGlzLkNTUy5iYXNlQmxvY2ssIHRoaXMuQ1NTLndyYXBwZXIsIHRdLCB7XG4gICAgICBjb250ZW50RWRpdGFibGU6ICF0aGlzLnJlYWRPbmx5XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgTGlzdCBzdHlsZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGUgLSAnb3JkZXJlZCd8J3Vub3JkZXJlZCdcbiAgICovXG4gIHRvZ2dsZVR1bmUoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLm1ha2VNYWluVGFnKGUpO1xuICAgIGZvciAoOyB0aGlzLl9lbGVtZW50cy53cmFwcGVyLmhhc0NoaWxkTm9kZXMoKTsgKVxuICAgICAgdC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50cy53cmFwcGVyLmZpcnN0Q2hpbGQpO1xuICAgIHRoaXMuX2VsZW1lbnRzLndyYXBwZXIucmVwbGFjZVdpdGgodCksIHRoaXMuX2VsZW1lbnRzLndyYXBwZXIgPSB0LCB0aGlzLl9kYXRhLnN0eWxlID0gZTtcbiAgfVxuICAvKipcbiAgICogU3R5bGVzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBiYXNlQmxvY2s6IHRoaXMuYXBpLnN0eWxlcy5ibG9jayxcbiAgICAgIHdyYXBwZXI6IFwiY2R4LWxpc3RcIixcbiAgICAgIHdyYXBwZXJPcmRlcmVkOiBcImNkeC1saXN0LS1vcmRlcmVkXCIsXG4gICAgICB3cmFwcGVyVW5vcmRlcmVkOiBcImNkeC1saXN0LS11bm9yZGVyZWRcIixcbiAgICAgIGl0ZW06IFwiY2R4LWxpc3RfX2l0ZW1cIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIExpc3QgZGF0YSBzZXR0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtMaXN0RGF0YX0gbGlzdERhdGFcbiAgICovXG4gIHNldCBkYXRhKGUpIHtcbiAgICBlIHx8IChlID0ge30pLCB0aGlzLl9kYXRhLnN0eWxlID0gZS5zdHlsZSB8fCB0aGlzLnNldHRpbmdzLmZpbmQoKHIpID0+IHIuZGVmYXVsdCA9PT0gITApLm5hbWUsIHRoaXMuX2RhdGEuaXRlbXMgPSBlLml0ZW1zIHx8IFtdO1xuICAgIGNvbnN0IHQgPSB0aGlzLl9lbGVtZW50cy53cmFwcGVyO1xuICAgIHQgJiYgdC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLnJlbmRlcigpLCB0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIExpc3QgZGF0YVxuICAgKlxuICAgKiBAcmV0dXJucyB7TGlzdERhdGF9XG4gICAqL1xuICBnZXQgZGF0YSgpIHtcbiAgICB0aGlzLl9kYXRhLml0ZW1zID0gW107XG4gICAgY29uc3QgZSA9IHRoaXMuX2VsZW1lbnRzLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbChgLiR7dGhpcy5DU1MuaXRlbX1gKTtcbiAgICBmb3IgKGxldCB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0KyspXG4gICAgICBlW3RdLmlubmVySFRNTC5yZXBsYWNlKFwiPGJyPlwiLCBcIiBcIikudHJpbSgpICYmIHRoaXMuX2RhdGEuaXRlbXMucHVzaChlW3RdLmlubmVySFRNTCk7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cbiAgLyoqXG4gICAqIEhlbHBlciBmb3IgbWFraW5nIEVsZW1lbnRzIHdpdGggYXR0cmlidXRlc1xuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRhZ05hbWUgICAgICAgICAgIC0gbmV3IEVsZW1lbnQgdGFnIG5hbWVcbiAgICogQHBhcmFtICB7QXJyYXl8c3RyaW5nfSBjbGFzc05hbWVzICAtIGxpc3Qgb3IgbmFtZSBvZiBDU1MgY2xhc3NuYW1lKHMpXG4gICAqIEBwYXJhbSAge29iamVjdH0gYXR0cmlidXRlcyAgICAgICAgLSBhbnkgYXR0cmlidXRlc1xuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICovXG4gIF9tYWtlKGUsIHQgPSBudWxsLCByID0ge30pIHtcbiAgICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtcbiAgICBBcnJheS5pc0FycmF5KHQpID8gcy5jbGFzc0xpc3QuYWRkKC4uLnQpIDogdCAmJiBzLmNsYXNzTGlzdC5hZGQodCk7XG4gICAgZm9yIChjb25zdCBpIGluIHIpXG4gICAgICBzW2ldID0gcltpXTtcbiAgICByZXR1cm4gcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBjdXJyZW50IExpc3QgaXRlbSBieSB0aGUgY2FyZXQgcG9zaXRpb25cbiAgICpcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICBnZXQgY3VycmVudEl0ZW0oKSB7XG4gICAgbGV0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuYW5jaG9yTm9kZTtcbiAgICByZXR1cm4gZS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUgJiYgKGUgPSBlLnBhcmVudE5vZGUpLCBlLmNsb3Nlc3QoYC4ke3RoaXMuQ1NTLml0ZW19YCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvdXQgZnJvbSBMaXN0IFRvb2xcbiAgICogYnkgRW50ZXIgb24gdGhlIGVtcHR5IGxhc3QgaXRlbVxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqL1xuICBnZXRPdXRvZkxpc3QoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLl9lbGVtZW50cy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyB0aGlzLkNTUy5pdGVtKTtcbiAgICBpZiAodC5sZW5ndGggPCAyKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHIgPSB0W3QubGVuZ3RoIC0gMV0sIHMgPSB0aGlzLmN1cnJlbnRJdGVtO1xuICAgIHMgPT09IHIgJiYgIXIudGV4dENvbnRlbnQudHJpbSgpLmxlbmd0aCAmJiAocy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHMpLCB0aGlzLmFwaS5ibG9ja3MuaW5zZXJ0KCksIHRoaXMuYXBpLmNhcmV0LnNldFRvQmxvY2sodGhpcy5hcGkuYmxvY2tzLmdldEN1cnJlbnRCbG9ja0luZGV4KCkpLCBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcFByb3BhZ2F0aW9uKCkpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgYmFja3NwYWNlXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICovXG4gIGJhY2tzcGFjZShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuX2VsZW1lbnRzLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcIi5cIiArIHRoaXMuQ1NTLml0ZW0pLCByID0gdFswXTtcbiAgICByICYmIHQubGVuZ3RoIDwgMiAmJiAhci5pbm5lckhUTUwucmVwbGFjZShcIjxicj5cIiwgXCIgXCIpLnRyaW0oKSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdCBMSSBjb250ZW50IGJ5IENNRCtBXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcbiAgICovXG4gIHNlbGVjdEl0ZW0oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0ID0gd2luZG93LmdldFNlbGVjdGlvbigpLCByID0gdC5hbmNob3JOb2RlLnBhcmVudE5vZGUsIHMgPSByLmNsb3Nlc3QoXCIuXCIgKyB0aGlzLkNTUy5pdGVtKSwgaSA9IG5ldyBSYW5nZSgpO1xuICAgIGkuc2VsZWN0Tm9kZUNvbnRlbnRzKHMpLCB0LnJlbW92ZUFsbFJhbmdlcygpLCB0LmFkZFJhbmdlKGkpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgVUwsIE9MIGFuZCBMSSB0YWdzIHBhc3RlIGFuZCByZXR1cm5zIExpc3QgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxVTGlzdEVsZW1lbnR8SFRNTE9MaXN0RWxlbWVudHxIVE1MTElFbGVtZW50fSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtMaXN0RGF0YX1cbiAgICovXG4gIHBhc3RlSGFuZGxlcihlKSB7XG4gICAgY29uc3QgeyB0YWdOYW1lOiB0IH0gPSBlO1xuICAgIGxldCByO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgY2FzZSBcIk9MXCI6XG4gICAgICAgIHIgPSBcIm9yZGVyZWRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiVUxcIjpcbiAgICAgIGNhc2UgXCJMSVwiOlxuICAgICAgICByID0gXCJ1bm9yZGVyZWRcIjtcbiAgICB9XG4gICAgY29uc3QgcyA9IHtcbiAgICAgIHN0eWxlOiByLFxuICAgICAgaXRlbXM6IFtdXG4gICAgfTtcbiAgICBpZiAodCA9PT0gXCJMSVwiKVxuICAgICAgcy5pdGVtcyA9IFtlLmlubmVySFRNTF07XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBpID0gQXJyYXkuZnJvbShlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJMSVwiKSk7XG4gICAgICBzLml0ZW1zID0gaS5tYXAoKG4pID0+IG4uaW5uZXJIVE1MKS5maWx0ZXIoKG4pID0+ICEhbi50cmltKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcztcbiAgfVxufVxuZXhwb3J0IHtcbiAgZCBhcyBkZWZhdWx0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/list/dist/list.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/nested-list/dist/nested-list.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@editorjs/nested-list/dist/nested-list.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ f)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode('.cdx-nested-list{margin:0;padding:0;outline:none;counter-reset:item;list-style:none}.cdx-nested-list__item{line-height:1.6em;display:flex;margin:2px 0}.cdx-nested-list__item [contenteditable]{outline:none}.cdx-nested-list__item-body{flex-grow:2}.cdx-nested-list__item-content,.cdx-nested-list__item-children{flex-basis:100%}.cdx-nested-list__item-content{word-break:break-word;white-space:pre-wrap}.cdx-nested-list__item:before{counter-increment:item;margin-right:5px;white-space:nowrap}.cdx-nested-list--ordered>.cdx-nested-list__item:before{content:counters(item,\".\") \". \"}.cdx-nested-list--unordered>.cdx-nested-list__item:before{content:\"•\"}.cdx-nested-list__settings{display:flex}.cdx-nested-list__settings .cdx-settings-button{width:50%}')),document.head.appendChild(e)}}catch(t){console.error(\"vite-plugin-css-injected-by-js\",t)}})();\nfunction c(d) {\n  return d.nodeType === Node.ELEMENT_NODE;\n}\nfunction p(d, e = null, t) {\n  const r = document.createElement(d);\n  Array.isArray(e) ? r.classList.add(...e) : e && r.classList.add(e);\n  for (const n in t)\n    r[n] = t[n];\n  return r;\n}\nfunction g(d) {\n  const e = p(\"div\");\n  return e.appendChild(d), e.innerHTML;\n}\nfunction C(d) {\n  let e;\n  return d.nodeType !== Node.ELEMENT_NODE ? e = d.textContent : (e = d.innerHTML, e = e.replaceAll(\"<br>\", \"\")), (e == null ? void 0 : e.trim().length) === 0;\n}\nclass u {\n  /**\n   * Store internal properties\n   */\n  constructor() {\n    this.savedFakeCaret = void 0;\n  }\n  /**\n   * Saves caret position using hidden <span>\n   *\n   * @returns {void}\n   */\n  save() {\n    const e = u.range, t = p(\"span\");\n    t.hidden = !0, e && (e.insertNode(t), this.savedFakeCaret = t);\n  }\n  /**\n   * Restores the caret position saved by the save() method\n   *\n   * @returns {void}\n   */\n  restore() {\n    if (!this.savedFakeCaret)\n      return;\n    const e = window.getSelection();\n    if (!e)\n      return;\n    const t = new Range();\n    t.setStartAfter(this.savedFakeCaret), t.setEndAfter(this.savedFakeCaret), e.removeAllRanges(), e.addRange(t), setTimeout(() => {\n      var r;\n      (r = this.savedFakeCaret) == null || r.remove();\n    }, 150);\n  }\n  /**\n   * Returns the first range\n   *\n   * @returns {Range|null}\n   */\n  static get range() {\n    const e = window.getSelection();\n    return e && e.rangeCount ? e.getRangeAt(0) : null;\n  }\n  /**\n   * Extract content fragment from Caret position to the end of contenteditable element\n   *\n   * @returns {DocumentFragment|void}\n   */\n  static extractFragmentFromCaretPositionTillTheEnd() {\n    const e = window.getSelection();\n    if (!e || !e.rangeCount)\n      return;\n    const t = e.getRangeAt(0);\n    let r = t.startContainer;\n    if (r.nodeType !== Node.ELEMENT_NODE) {\n      if (!r.parentNode)\n        return;\n      r = r.parentNode;\n    }\n    if (!c(r))\n      return;\n    const n = r.closest(\"[contenteditable]\");\n    if (!n)\n      return;\n    t.deleteContents();\n    const s = t.cloneRange();\n    return s.selectNodeContents(n), s.setStart(t.endContainer, t.endOffset), s.extractContents();\n  }\n  /**\n   * Set focus to contenteditable or native input element\n   *\n   * @param {HTMLElement} element - element where to set focus\n   * @param {boolean} atStart - where to set focus: at the start or at the end\n   * @returns {void}\n   */\n  static focus(e, t = !0) {\n    const r = document.createRange(), n = window.getSelection();\n    n && (r.selectNodeContents(e), r.collapse(t), n.removeAllRanges(), n.addRange(r));\n  }\n  /**\n   * Check if the caret placed at the start of the contenteditable element\n   *\n   * @returns {boolean}\n   */\n  static isAtStart() {\n    const e = window.getSelection();\n    if (!e || e.focusOffset > 0)\n      return !1;\n    const t = e.focusNode;\n    return !t || !c(t) ? !1 : u.getHigherLevelSiblings(t, \"left\").every((s) => C(s));\n  }\n  /**\n   * Get all first-level (first child of [contenteditabel]) siblings from passed node\n   * Then you can check it for emptiness\n   *\n   * @example\n   * <div contenteditable>\n   * <p></p>                            |\n   * <p></p>                            | left first-level siblings\n   * <p></p>                            |\n   * <blockquote><a><b>adaddad</b><a><blockquote>       <-- passed node for example <b>\n   * <p></p>                            |\n   * <p></p>                            | right first-level siblings\n   * <p></p>                            |\n   * </div>\n   * @param {HTMLElement} from - element from which siblings should be searched\n   * @param {'left' | 'right'} direction - direction of search\n   * @returns {HTMLElement[]}\n   */\n  static getHigherLevelSiblings(e, t = \"left\") {\n    let r = e;\n    const n = [];\n    for (; r.parentNode && r.parentNode.contentEditable !== \"true\"; )\n      r = r.parentNode;\n    const s = t === \"left\" ? \"previousSibling\" : \"nextSibling\";\n    for (; r[s]; )\n      r = r[s], n.push(r);\n    return n;\n  }\n}\nconst w = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"9\" x2=\"19\" y1=\"7\" y2=\"7\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"9\" x2=\"19\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"9\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 17H4.99002\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 12H4.99002\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M5.00001 7H4.99002\"/></svg>', S = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><line x1=\"12\" x2=\"19\" y1=\"7\" y2=\"7\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"12\" x2=\"19\" y1=\"12\" y2=\"12\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><line x1=\"12\" x2=\"19\" y1=\"17\" y2=\"17\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5\"/></svg>';\nclass f {\n  /**\n   * Notify core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Allow to use native Enter behaviour\n   *\n   * @returns {boolean}\n   * @public\n   */\n  static get enableLineBreaks() {\n    return !0;\n  }\n  /**\n   * Get Tool toolbox settings\n   * icon - Tool icon's SVG\n   * title - title to show in toolbox\n   *\n   * @returns {ToolboxConfig}\n   */\n  static get toolbox() {\n    return {\n      icon: S,\n      title: \"List\"\n    };\n  }\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {object} params - tool constructor options\n   * @param {ListData} params.data - previously saved data\n   * @param {object} params.config - user config for Tool\n   * @param {object} params.api - Editor.js API\n   * @param {boolean} params.readOnly - read-only mode flag\n   */\n  constructor({ data: e, config: t, api: r, readOnly: n }) {\n    var i;\n    this.nodes = {\n      wrapper: null\n    }, this.api = r, this.readOnly = n, this.config = t, this.defaultListStyle = ((i = this.config) == null ? void 0 : i.defaultStyle) === \"ordered\" ? \"ordered\" : \"unordered\";\n    const s = {\n      style: this.defaultListStyle,\n      items: []\n    };\n    this.data = e && Object.keys(e).length ? e : s, this.caret = new u();\n  }\n  /**\n   * Returns list tag with items\n   *\n   * @returns {Element}\n   * @public\n   */\n  render() {\n    return this.nodes.wrapper = this.makeListWrapper(this.data.style, [\n      this.CSS.baseBlock\n    ]), this.data.items.length ? this.appendItems(this.data.items, this.nodes.wrapper) : this.appendItems(\n      [\n        {\n          content: \"\",\n          items: []\n        }\n      ],\n      this.nodes.wrapper\n    ), this.readOnly || this.nodes.wrapper.addEventListener(\n      \"keydown\",\n      (e) => {\n        switch (e.key) {\n          case \"Enter\":\n            this.enterPressed(e);\n            break;\n          case \"Backspace\":\n            this.backspace(e);\n            break;\n          case \"Tab\":\n            e.shiftKey ? this.shiftTab(e) : this.addTab(e);\n            break;\n        }\n      },\n      !1\n    ), this.nodes.wrapper;\n  }\n  /**\n   * Creates Block Tune allowing to change the list style\n   *\n   * @public\n   * @returns {Array}\n   */\n  renderSettings() {\n    return [\n      {\n        name: \"unordered\",\n        label: this.api.i18n.t(\"Unordered\"),\n        icon: w\n      },\n      {\n        name: \"ordered\",\n        label: this.api.i18n.t(\"Ordered\"),\n        icon: S\n      }\n    ].map((t) => ({\n      name: t.name,\n      icon: t.icon,\n      label: t.label,\n      isActive: this.data.style === t.name,\n      closeOnActivate: !0,\n      onActivate: () => {\n        this.listStyle = t.name;\n      }\n    }));\n  }\n  /**\n   * On paste sanitzation config. Allow only tags that are allowed in the Tool.\n   *\n   * @returns {PasteConfig} - paste config.\n   */\n  static get pasteConfig() {\n    return {\n      tags: [\"OL\", \"UL\", \"LI\"]\n    };\n  }\n  /**\n   * On paste callback that is fired from Editor.\n   *\n   * @param {PasteEvent} event - event with pasted data\n   */\n  onPaste(e) {\n    const t = e.detail.data;\n    this.data = this.pasteHandler(t);\n    const r = this.nodes.wrapper;\n    r && r.parentNode && r.parentNode.replaceChild(this.render(), r);\n  }\n  /**\n   * Handle UL, OL and LI tags paste and returns List data\n   *\n   * @param {HTMLUListElement|HTMLOListElement|HTMLLIElement} element\n   * @returns {ListData}\n   */\n  pasteHandler(e) {\n    const { tagName: t } = e;\n    let r = \"unordered\", n;\n    switch (t) {\n      case \"OL\":\n        r = \"ordered\", n = \"ol\";\n        break;\n      case \"UL\":\n      case \"LI\":\n        r = \"unordered\", n = \"ul\";\n    }\n    const s = {\n      style: r,\n      items: []\n    }, i = (l) => Array.from(l.querySelectorAll(\":scope > li\")).map((o) => {\n      var m;\n      const a = o.querySelector(`:scope > ${n}`), y = a ? i(a) : [];\n      return {\n        content: ((m = o == null ? void 0 : o.firstChild) == null ? void 0 : m.textContent) || \"\",\n        items: y\n      };\n    });\n    return s.items = i(e), s;\n  }\n  /**\n   * Renders children list\n   *\n   * @param {ListItem[]} items - items data to append\n   * @param {Element} parentItem - where to append\n   * @returns {void}\n   */\n  appendItems(e, t) {\n    e.forEach((r) => {\n      const n = this.createItem(r.content, r.items);\n      t.appendChild(n);\n    });\n  }\n  /**\n   * Renders the single item\n   *\n   * @param {string} content - item content to render\n   * @param {ListItem[]} [items] - children\n   * @returns {Element}\n   */\n  createItem(e, t = []) {\n    const r = p(\"li\", this.CSS.item), n = p(\"div\", this.CSS.itemBody), s = p(\"div\", this.CSS.itemContent, {\n      innerHTML: e,\n      contentEditable: (!this.readOnly).toString()\n    });\n    return n.appendChild(s), r.appendChild(n), t && t.length > 0 && this.addChildrenList(r, t), r;\n  }\n  /**\n   * Extracts tool's data from the DOM\n   *\n   * @returns {ListData}\n   */\n  save() {\n    const e = (t) => Array.from(\n      t.querySelectorAll(`:scope > .${this.CSS.item}`)\n    ).map((n) => {\n      const s = n.querySelector(`.${this.CSS.itemChildren}`), i = this.getItemContent(n), l = s ? e(s) : [];\n      return {\n        content: i,\n        items: l\n      };\n    });\n    return {\n      style: this.data.style,\n      items: this.nodes.wrapper ? e(this.nodes.wrapper) : []\n    };\n  }\n  /**\n   * Append children list to passed item\n   *\n   * @param {Element} parentItem - item that should contain passed sub-items\n   * @param {ListItem[]} items - sub items to append\n   */\n  addChildrenList(e, t) {\n    const r = e.querySelector(`.${this.CSS.itemBody}`), n = this.makeListWrapper(void 0, [\n      this.CSS.itemChildren\n    ]);\n    this.appendItems(t, n), r && r.appendChild(n);\n  }\n  /**\n   * Creates main <ul> or <ol> tag depended on style\n   *\n   * @param {string} [style] - 'ordered' or 'unordered'\n   * @param {string[]} [classes] - additional classes to append\n   * @returns {HTMLOListElement|HTMLUListElement}\n   */\n  makeListWrapper(e = this.listStyle, t = []) {\n    const r = e === \"ordered\" ? \"ol\" : \"ul\", n = e === \"ordered\" ? this.CSS.wrapperOrdered : this.CSS.wrapperUnordered;\n    return t.push(n), p(r, [this.CSS.wrapper, ...t]);\n  }\n  /**\n   * Styles\n   *\n   * @returns {NestedListCssClasses} - CSS classes names by keys\n   * @private\n   */\n  get CSS() {\n    return {\n      baseBlock: this.api.styles.block,\n      wrapper: \"cdx-nested-list\",\n      wrapperOrdered: \"cdx-nested-list--ordered\",\n      wrapperUnordered: \"cdx-nested-list--unordered\",\n      item: \"cdx-nested-list__item\",\n      itemBody: \"cdx-nested-list__item-body\",\n      itemContent: \"cdx-nested-list__item-content\",\n      itemChildren: \"cdx-nested-list__item-children\",\n      settingsWrapper: \"cdx-nested-list__settings\",\n      settingsButton: this.api.styles.settingsButton,\n      settingsButtonActive: this.api.styles.settingsButtonActive\n    };\n  }\n  /**\n   * Get list style name\n   *\n   * @returns {string}\n   */\n  get listStyle() {\n    return this.data.style || this.defaultListStyle;\n  }\n  /**\n   * Set list style\n   *\n   * @param {ListDataStyle} style - new style to set\n   */\n  set listStyle(e) {\n    if (!this.nodes || !this.nodes.wrapper)\n      return;\n    const t = Array.from(\n      this.nodes.wrapper.querySelectorAll(`.${this.CSS.wrapper}`)\n    );\n    t.push(this.nodes.wrapper), t.forEach((r) => {\n      r.classList.toggle(this.CSS.wrapperUnordered, e === \"unordered\"), r.classList.toggle(this.CSS.wrapperOrdered, e === \"ordered\");\n    }), this.data.style = e;\n  }\n  /**\n   * Returns current List item by the caret position\n   *\n   * @returns {Element}\n   */\n  get currentItem() {\n    const e = window.getSelection();\n    if (!e)\n      return null;\n    let t = e.anchorNode;\n    return !t || (c(t) || (t = t.parentNode), !t) || !c(t) ? null : t.closest(`.${this.CSS.item}`);\n  }\n  /**\n   * Handles Enter keypress\n   *\n   * @param {KeyboardEvent} event - keydown\n   * @returns {void}\n   */\n  enterPressed(e) {\n    const t = this.currentItem;\n    if (e.stopPropagation(), e.preventDefault(), e.isComposing)\n      return;\n    const r = t ? this.getItemContent(t).trim().length === 0 : !0, n = (t == null ? void 0 : t.parentNode) === this.nodes.wrapper, s = (t == null ? void 0 : t.nextElementSibling) === null;\n    if (n && s && r) {\n      this.getOutOfList();\n      return;\n    } else if (s && r) {\n      this.unshiftItem();\n      return;\n    }\n    const i = u.extractFragmentFromCaretPositionTillTheEnd();\n    if (!i)\n      return;\n    const l = g(i), h = t == null ? void 0 : t.querySelector(\n      `.${this.CSS.itemChildren}`\n    ), o = this.createItem(l, void 0);\n    h && Array.from(h.querySelectorAll(`.${this.CSS.item}`)).length > 0 ? h.prepend(o) : t == null || t.after(o), this.focusItem(o);\n  }\n  /**\n   * Decrease indentation of the current item\n   *\n   * @returns {void}\n   */\n  unshiftItem() {\n    const e = this.currentItem;\n    if (!e || !e.parentNode || !c(e.parentNode))\n      return;\n    const t = e.parentNode.closest(`.${this.CSS.item}`);\n    if (!t)\n      return;\n    this.caret.save(), t.after(e), this.caret.restore();\n    const r = t.querySelector(\n      `.${this.CSS.itemChildren}`\n    );\n    if (!r)\n      return;\n    r.children.length === 0 && r.remove();\n  }\n  /**\n   * Return the item content\n   *\n   * @param {Element} item - item wrapper (<li>)\n   * @returns {string}\n   */\n  getItemContent(e) {\n    const t = e.querySelector(`.${this.CSS.itemContent}`);\n    return !t || C(t) ? \"\" : t.innerHTML;\n  }\n  /**\n   * Sets focus to the item's content\n   *\n   * @param {Element} item - item (<li>) to select\n   * @param {boolean} atStart - where to set focus: at the start or at the end\n   * @returns {void}\n   */\n  focusItem(e, t = !0) {\n    const r = e.querySelector(\n      `.${this.CSS.itemContent}`\n    );\n    r && u.focus(r, t);\n  }\n  /**\n   * Get out from List Tool by Enter on the empty last item\n   *\n   * @returns {void}\n   */\n  getOutOfList() {\n    var e;\n    (e = this.currentItem) == null || e.remove(), this.api.blocks.insert(), this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex());\n  }\n  /**\n   * Handle backspace\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  backspace(e) {\n    if (!u.isAtStart())\n      return;\n    e.preventDefault();\n    const t = this.currentItem;\n    if (!t)\n      return;\n    const r = t.previousSibling;\n    if (!t.parentNode || !c(t.parentNode))\n      return;\n    const n = t.parentNode.closest(`.${this.CSS.item}`);\n    if (!r && !n || r && !c(r))\n      return;\n    e.stopPropagation();\n    let s;\n    if (r) {\n      const a = r.querySelectorAll(\n        `.${this.CSS.item}`\n      );\n      s = Array.from(a).pop() || r;\n    } else\n      s = n;\n    const i = u.extractFragmentFromCaretPositionTillTheEnd();\n    if (!i)\n      return;\n    const l = g(i);\n    if (!s)\n      return;\n    const h = s.querySelector(\n      `.${this.CSS.itemContent}`\n    );\n    if (!h)\n      return;\n    u.focus(h, !1), this.caret.save(), h.insertAdjacentHTML(\"beforeend\", l);\n    let o = t.querySelectorAll(\n      `.${this.CSS.itemChildren} > .${this.CSS.item}`\n    );\n    o = Array.from(o), o = o.filter((a) => !a.parentNode || !c(a.parentNode) ? !1 : a.parentNode.closest(`.${this.CSS.item}`) === t), o.reverse().forEach((a) => {\n      r ? s.after(a) : t.after(a);\n    }), t.remove(), this.caret.restore();\n  }\n  /**\n   * Add indentation to current item\n   *\n   * @param {KeyboardEvent} event - keydown\n   */\n  addTab(e) {\n    e.stopPropagation(), e.preventDefault();\n    const t = this.currentItem;\n    if (!t)\n      return;\n    const r = t.previousSibling;\n    if (!r || !c(r) || !r)\n      return;\n    const s = r.querySelector(\n      `.${this.CSS.itemChildren}`\n    );\n    if (this.caret.save(), s)\n      s.appendChild(t);\n    else {\n      const i = this.makeListWrapper(void 0, [\n        this.CSS.itemChildren\n      ]), l = r.querySelector(`.${this.CSS.itemBody}`);\n      i.appendChild(t), l == null || l.appendChild(i);\n    }\n    this.caret.restore();\n  }\n  /**\n   * Reduce indentation for current item\n   *\n   * @param {KeyboardEvent} event - keydown\n   * @returns {void}\n   */\n  shiftTab(e) {\n    e.stopPropagation(), e.preventDefault(), this.unshiftItem();\n  }\n  /**\n   * Convert from list to text for conversionConfig\n   *\n   * @param {ListData} data\n   * @returns {string}\n   */\n  static joinRecursive(e) {\n    return e.items.map((t) => `${t.content} ${f.joinRecursive(t)}`).join(\"\");\n  }\n  /**\n   * Convert from text to list with import and export list to text\n   */\n  static get conversionConfig() {\n    return {\n      export: (e) => f.joinRecursive(e),\n      import: (e) => ({\n        items: [\n          {\n            content: e,\n            items: []\n          }\n        ],\n        style: \"unordered\"\n      })\n    };\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL25lc3RlZC1saXN0L2Rpc3QvbmVzdGVkLWxpc3QubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxZQUFZLGFBQWEsSUFBSSx3QkFBd0Isc0NBQXNDLHdEQUF3RCxTQUFTLFVBQVUsYUFBYSxtQkFBbUIsZ0JBQWdCLHVCQUF1QixrQkFBa0IsYUFBYSxhQUFhLHlDQUF5QyxhQUFhLDRCQUE0QixZQUFZLCtEQUErRCxnQkFBZ0IsK0JBQStCLHNCQUFzQixxQkFBcUIsOEJBQThCLHVCQUF1QixpQkFBaUIsbUJBQW1CLHdEQUF3RCxnQ0FBZ0MsMERBQTBELFlBQVksMkJBQTJCLGFBQWEsZ0RBQWdELFVBQVUsa0NBQWtDLFNBQVMsbURBQW1EO0FBQ3Y4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFDMUIsYUFBYSxTQUFTO0FBQ3RCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Es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QUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsY0FBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxQkFBcUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsdUJBQXVCLEtBQUssY0FBYztBQUNwRDtBQUNBLDZHQUE2RyxjQUFjO0FBQzNIO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxzQkFBc0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGtCQUFrQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsZUFBZTtBQUNmO0FBQ0E7QUFDQSxpQ0FBaUMsV0FBVyxFQUFFLG1CQUFtQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL25lc3RlZC1saXN0L2Rpc3QvbmVzdGVkLWxpc3QubWpzP2RmMjgiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJy5jZHgtbmVzdGVkLWxpc3R7bWFyZ2luOjA7cGFkZGluZzowO291dGxpbmU6bm9uZTtjb3VudGVyLXJlc2V0Oml0ZW07bGlzdC1zdHlsZTpub25lfS5jZHgtbmVzdGVkLWxpc3RfX2l0ZW17bGluZS1oZWlnaHQ6MS42ZW07ZGlzcGxheTpmbGV4O21hcmdpbjoycHggMH0uY2R4LW5lc3RlZC1saXN0X19pdGVtIFtjb250ZW50ZWRpdGFibGVde291dGxpbmU6bm9uZX0uY2R4LW5lc3RlZC1saXN0X19pdGVtLWJvZHl7ZmxleC1ncm93OjJ9LmNkeC1uZXN0ZWQtbGlzdF9faXRlbS1jb250ZW50LC5jZHgtbmVzdGVkLWxpc3RfX2l0ZW0tY2hpbGRyZW57ZmxleC1iYXNpczoxMDAlfS5jZHgtbmVzdGVkLWxpc3RfX2l0ZW0tY29udGVudHt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7d2hpdGUtc3BhY2U6cHJlLXdyYXB9LmNkeC1uZXN0ZWQtbGlzdF9faXRlbTpiZWZvcmV7Y291bnRlci1pbmNyZW1lbnQ6aXRlbTttYXJnaW4tcmlnaHQ6NXB4O3doaXRlLXNwYWNlOm5vd3JhcH0uY2R4LW5lc3RlZC1saXN0LS1vcmRlcmVkPi5jZHgtbmVzdGVkLWxpc3RfX2l0ZW06YmVmb3Jle2NvbnRlbnQ6Y291bnRlcnMoaXRlbSxcIi5cIikgXCIuIFwifS5jZHgtbmVzdGVkLWxpc3QtLXVub3JkZXJlZD4uY2R4LW5lc3RlZC1saXN0X19pdGVtOmJlZm9yZXtjb250ZW50Olwi4oCiXCJ9LmNkeC1uZXN0ZWQtbGlzdF9fc2V0dGluZ3N7ZGlzcGxheTpmbGV4fS5jZHgtbmVzdGVkLWxpc3RfX3NldHRpbmdzIC5jZHgtc2V0dGluZ3MtYnV0dG9ue3dpZHRoOjUwJX0nKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKX19Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLHQpfX0pKCk7XG5mdW5jdGlvbiBjKGQpIHtcbiAgcmV0dXJuIGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFO1xufVxuZnVuY3Rpb24gcChkLCBlID0gbnVsbCwgdCkge1xuICBjb25zdCByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKTtcbiAgQXJyYXkuaXNBcnJheShlKSA/IHIuY2xhc3NMaXN0LmFkZCguLi5lKSA6IGUgJiYgci5jbGFzc0xpc3QuYWRkKGUpO1xuICBmb3IgKGNvbnN0IG4gaW4gdClcbiAgICByW25dID0gdFtuXTtcbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBnKGQpIHtcbiAgY29uc3QgZSA9IHAoXCJkaXZcIik7XG4gIHJldHVybiBlLmFwcGVuZENoaWxkKGQpLCBlLmlubmVySFRNTDtcbn1cbmZ1bmN0aW9uIEMoZCkge1xuICBsZXQgZTtcbiAgcmV0dXJuIGQubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFID8gZSA9IGQudGV4dENvbnRlbnQgOiAoZSA9IGQuaW5uZXJIVE1MLCBlID0gZS5yZXBsYWNlQWxsKFwiPGJyPlwiLCBcIlwiKSksIChlID09IG51bGwgPyB2b2lkIDAgOiBlLnRyaW0oKS5sZW5ndGgpID09PSAwO1xufVxuY2xhc3MgdSB7XG4gIC8qKlxuICAgKiBTdG9yZSBpbnRlcm5hbCBwcm9wZXJ0aWVzXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNhdmVkRmFrZUNhcmV0ID0gdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBTYXZlcyBjYXJldCBwb3NpdGlvbiB1c2luZyBoaWRkZW4gPHNwYW4+XG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICBjb25zdCBlID0gdS5yYW5nZSwgdCA9IHAoXCJzcGFuXCIpO1xuICAgIHQuaGlkZGVuID0gITAsIGUgJiYgKGUuaW5zZXJ0Tm9kZSh0KSwgdGhpcy5zYXZlZEZha2VDYXJldCA9IHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXN0b3JlcyB0aGUgY2FyZXQgcG9zaXRpb24gc2F2ZWQgYnkgdGhlIHNhdmUoKSBtZXRob2RcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICByZXN0b3JlKCkge1xuICAgIGlmICghdGhpcy5zYXZlZEZha2VDYXJldClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gbmV3IFJhbmdlKCk7XG4gICAgdC5zZXRTdGFydEFmdGVyKHRoaXMuc2F2ZWRGYWtlQ2FyZXQpLCB0LnNldEVuZEFmdGVyKHRoaXMuc2F2ZWRGYWtlQ2FyZXQpLCBlLnJlbW92ZUFsbFJhbmdlcygpLCBlLmFkZFJhbmdlKHQpLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHZhciByO1xuICAgICAgKHIgPSB0aGlzLnNhdmVkRmFrZUNhcmV0KSA9PSBudWxsIHx8IHIucmVtb3ZlKCk7XG4gICAgfSwgMTUwKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmlyc3QgcmFuZ2VcbiAgICpcbiAgICogQHJldHVybnMge1JhbmdlfG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHJhbmdlKCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIGUgJiYgZS5yYW5nZUNvdW50ID8gZS5nZXRSYW5nZUF0KDApIDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBjb250ZW50IGZyYWdtZW50IGZyb20gQ2FyZXQgcG9zaXRpb24gdG8gdGhlIGVuZCBvZiBjb250ZW50ZWRpdGFibGUgZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJucyB7RG9jdW1lbnRGcmFnbWVudHx2b2lkfVxuICAgKi9cbiAgc3RhdGljIGV4dHJhY3RGcmFnbWVudEZyb21DYXJldFBvc2l0aW9uVGlsbFRoZUVuZCgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghZSB8fCAhZS5yYW5nZUNvdW50KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSBlLmdldFJhbmdlQXQoMCk7XG4gICAgbGV0IHIgPSB0LnN0YXJ0Q29udGFpbmVyO1xuICAgIGlmIChyLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgaWYgKCFyLnBhcmVudE5vZGUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHIgPSByLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIGlmICghYyhyKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBuID0gci5jbG9zZXN0KFwiW2NvbnRlbnRlZGl0YWJsZV1cIik7XG4gICAgaWYgKCFuKVxuICAgICAgcmV0dXJuO1xuICAgIHQuZGVsZXRlQ29udGVudHMoKTtcbiAgICBjb25zdCBzID0gdC5jbG9uZVJhbmdlKCk7XG4gICAgcmV0dXJuIHMuc2VsZWN0Tm9kZUNvbnRlbnRzKG4pLCBzLnNldFN0YXJ0KHQuZW5kQ29udGFpbmVyLCB0LmVuZE9mZnNldCksIHMuZXh0cmFjdENvbnRlbnRzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBmb2N1cyB0byBjb250ZW50ZWRpdGFibGUgb3IgbmF0aXZlIGlucHV0IGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgd2hlcmUgdG8gc2V0IGZvY3VzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXRTdGFydCAtIHdoZXJlIHRvIHNldCBmb2N1czogYXQgdGhlIHN0YXJ0IG9yIGF0IHRoZSBlbmRcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBzdGF0aWMgZm9jdXMoZSwgdCA9ICEwKSB7XG4gICAgY29uc3QgciA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCksIG4gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgbiAmJiAoci5zZWxlY3ROb2RlQ29udGVudHMoZSksIHIuY29sbGFwc2UodCksIG4ucmVtb3ZlQWxsUmFuZ2VzKCksIG4uYWRkUmFuZ2UocikpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgY2FyZXQgcGxhY2VkIGF0IHRoZSBzdGFydCBvZiB0aGUgY29udGVudGVkaXRhYmxlIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNBdFN0YXJ0KCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFlIHx8IGUuZm9jdXNPZmZzZXQgPiAwKVxuICAgICAgcmV0dXJuICExO1xuICAgIGNvbnN0IHQgPSBlLmZvY3VzTm9kZTtcbiAgICByZXR1cm4gIXQgfHwgIWModCkgPyAhMSA6IHUuZ2V0SGlnaGVyTGV2ZWxTaWJsaW5ncyh0LCBcImxlZnRcIikuZXZlcnkoKHMpID0+IEMocykpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYWxsIGZpcnN0LWxldmVsIChmaXJzdCBjaGlsZCBvZiBbY29udGVudGVkaXRhYmVsXSkgc2libGluZ3MgZnJvbSBwYXNzZWQgbm9kZVxuICAgKiBUaGVuIHlvdSBjYW4gY2hlY2sgaXQgZm9yIGVtcHRpbmVzc1xuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2IGNvbnRlbnRlZGl0YWJsZT5cbiAgICogPHA+PC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIDxwPjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBsZWZ0IGZpcnN0LWxldmVsIHNpYmxpbmdzXG4gICAqIDxwPjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiA8YmxvY2txdW90ZT48YT48Yj5hZGFkZGFkPC9iPjxhPjxibG9ja3F1b3RlPiAgICAgICA8LS0gcGFzc2VkIG5vZGUgZm9yIGV4YW1wbGUgPGI+XG4gICAqIDxwPjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiA8cD48L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcmlnaHQgZmlyc3QtbGV2ZWwgc2libGluZ3NcbiAgICogPHA+PC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqIDwvZGl2PlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBmcm9tIC0gZWxlbWVudCBmcm9tIHdoaWNoIHNpYmxpbmdzIHNob3VsZCBiZSBzZWFyY2hlZFxuICAgKiBAcGFyYW0geydsZWZ0JyB8ICdyaWdodCd9IGRpcmVjdGlvbiAtIGRpcmVjdGlvbiBvZiBzZWFyY2hcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAqL1xuICBzdGF0aWMgZ2V0SGlnaGVyTGV2ZWxTaWJsaW5ncyhlLCB0ID0gXCJsZWZ0XCIpIHtcbiAgICBsZXQgciA9IGU7XG4gICAgY29uc3QgbiA9IFtdO1xuICAgIGZvciAoOyByLnBhcmVudE5vZGUgJiYgci5wYXJlbnROb2RlLmNvbnRlbnRFZGl0YWJsZSAhPT0gXCJ0cnVlXCI7IClcbiAgICAgIHIgPSByLnBhcmVudE5vZGU7XG4gICAgY29uc3QgcyA9IHQgPT09IFwibGVmdFwiID8gXCJwcmV2aW91c1NpYmxpbmdcIiA6IFwibmV4dFNpYmxpbmdcIjtcbiAgICBmb3IgKDsgcltzXTsgKVxuICAgICAgciA9IHJbc10sIG4ucHVzaChyKTtcbiAgICByZXR1cm4gbjtcbiAgfVxufVxuY29uc3QgdyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48bGluZSB4MT1cIjlcIiB4Mj1cIjE5XCIgeTE9XCI3XCIgeTI9XCI3XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCI5XCIgeDI9XCIxOVwiIHkxPVwiMTJcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCI5XCIgeDI9XCIxOVwiIHkxPVwiMTdcIiB5Mj1cIjE3XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuMDAwMDEgMTdINC45OTAwMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNS4wMDAwMSAxMkg0Ljk5MDAyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01LjAwMDAxIDdINC45OTAwMlwiLz48L3N2Zz4nLCBTID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxsaW5lIHgxPVwiMTJcIiB4Mj1cIjE5XCIgeTE9XCI3XCIgeTI9XCI3XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTlcIiB5MT1cIjEyXCIgeTI9XCIxMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiMTJcIiB4Mj1cIjE5XCIgeTE9XCIxN1wiIHkyPVwiMTdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNy43OTk5OSAxNEw3Ljc5OTk5IDcuMjEzNUM3Ljc5OTk5IDcuMTI4NzIgNy43MDExIDcuMDgyNCA3LjYzNTk3IDcuMTM2NjhMNC43OTk5OSA5LjVcIi8+PC9zdmc+JztcbmNsYXNzIGYge1xuICAvKipcbiAgICogTm90aWZ5IGNvcmUgdGhhdCByZWFkLW9ubHkgbW9kZSBpcyBzdXBwb3J0ZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyB0byB1c2UgbmF0aXZlIEVudGVyIGJlaGF2aW91clxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc3RhdGljIGdldCBlbmFibGVMaW5lQnJlYWtzKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogR2V0IFRvb2wgdG9vbGJveCBzZXR0aW5nc1xuICAgKiBpY29uIC0gVG9vbCBpY29uJ3MgU1ZHXG4gICAqIHRpdGxlIC0gdGl0bGUgdG8gc2hvdyBpbiB0b29sYm94XG4gICAqXG4gICAqIEByZXR1cm5zIHtUb29sYm94Q29uZmlnfVxuICAgKi9cbiAgc3RhdGljIGdldCB0b29sYm94KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBTLFxuICAgICAgdGl0bGU6IFwiTGlzdFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmVuZGVyIHBsdWdpbmBzIG1haW4gRWxlbWVudCBhbmQgZmlsbCBpdCB3aXRoIHNhdmVkIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAtIHRvb2wgY29uc3RydWN0b3Igb3B0aW9uc1xuICAgKiBAcGFyYW0ge0xpc3REYXRhfSBwYXJhbXMuZGF0YSAtIHByZXZpb3VzbHkgc2F2ZWQgZGF0YVxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zLmNvbmZpZyAtIHVzZXIgY29uZmlnIGZvciBUb29sXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMuYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtcy5yZWFkT25seSAtIHJlYWQtb25seSBtb2RlIGZsYWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogZSwgY29uZmlnOiB0LCBhcGk6IHIsIHJlYWRPbmx5OiBuIH0pIHtcbiAgICB2YXIgaTtcbiAgICB0aGlzLm5vZGVzID0ge1xuICAgICAgd3JhcHBlcjogbnVsbFxuICAgIH0sIHRoaXMuYXBpID0gciwgdGhpcy5yZWFkT25seSA9IG4sIHRoaXMuY29uZmlnID0gdCwgdGhpcy5kZWZhdWx0TGlzdFN0eWxlID0gKChpID0gdGhpcy5jb25maWcpID09IG51bGwgPyB2b2lkIDAgOiBpLmRlZmF1bHRTdHlsZSkgPT09IFwib3JkZXJlZFwiID8gXCJvcmRlcmVkXCIgOiBcInVub3JkZXJlZFwiO1xuICAgIGNvbnN0IHMgPSB7XG4gICAgICBzdHlsZTogdGhpcy5kZWZhdWx0TGlzdFN0eWxlLFxuICAgICAgaXRlbXM6IFtdXG4gICAgfTtcbiAgICB0aGlzLmRhdGEgPSBlICYmIE9iamVjdC5rZXlzKGUpLmxlbmd0aCA/IGUgOiBzLCB0aGlzLmNhcmV0ID0gbmV3IHUoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IHRhZyB3aXRoIGl0ZW1zXG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKiBAcHVibGljXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMud3JhcHBlciA9IHRoaXMubWFrZUxpc3RXcmFwcGVyKHRoaXMuZGF0YS5zdHlsZSwgW1xuICAgICAgdGhpcy5DU1MuYmFzZUJsb2NrXG4gICAgXSksIHRoaXMuZGF0YS5pdGVtcy5sZW5ndGggPyB0aGlzLmFwcGVuZEl0ZW1zKHRoaXMuZGF0YS5pdGVtcywgdGhpcy5ub2Rlcy53cmFwcGVyKSA6IHRoaXMuYXBwZW5kSXRlbXMoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgIGl0ZW1zOiBbXVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyXG4gICAgKSwgdGhpcy5yZWFkT25seSB8fCB0aGlzLm5vZGVzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwia2V5ZG93blwiLFxuICAgICAgKGUpID0+IHtcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgIGNhc2UgXCJFbnRlclwiOlxuICAgICAgICAgICAgdGhpcy5lbnRlclByZXNzZWQoZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiQmFja3NwYWNlXCI6XG4gICAgICAgICAgICB0aGlzLmJhY2tzcGFjZShlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJUYWJcIjpcbiAgICAgICAgICAgIGUuc2hpZnRLZXkgPyB0aGlzLnNoaWZ0VGFiKGUpIDogdGhpcy5hZGRUYWIoZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICExXG4gICAgKSwgdGhpcy5ub2Rlcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIEJsb2NrIFR1bmUgYWxsb3dpbmcgdG8gY2hhbmdlIHRoZSBsaXN0IHN0eWxlXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgcmVuZGVyU2V0dGluZ3MoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJ1bm9yZGVyZWRcIixcbiAgICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChcIlVub3JkZXJlZFwiKSxcbiAgICAgICAgaWNvbjogd1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJvcmRlcmVkXCIsXG4gICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJPcmRlcmVkXCIpLFxuICAgICAgICBpY29uOiBTXG4gICAgICB9XG4gICAgXS5tYXAoKHQpID0+ICh7XG4gICAgICBuYW1lOiB0Lm5hbWUsXG4gICAgICBpY29uOiB0Lmljb24sXG4gICAgICBsYWJlbDogdC5sYWJlbCxcbiAgICAgIGlzQWN0aXZlOiB0aGlzLmRhdGEuc3R5bGUgPT09IHQubmFtZSxcbiAgICAgIGNsb3NlT25BY3RpdmF0ZTogITAsXG4gICAgICBvbkFjdGl2YXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubGlzdFN0eWxlID0gdC5uYW1lO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogT24gcGFzdGUgc2FuaXR6YXRpb24gY29uZmlnLiBBbGxvdyBvbmx5IHRhZ3MgdGhhdCBhcmUgYWxsb3dlZCBpbiB0aGUgVG9vbC5cbiAgICpcbiAgICogQHJldHVybnMge1Bhc3RlQ29uZmlnfSAtIHBhc3RlIGNvbmZpZy5cbiAgICovXG4gIHN0YXRpYyBnZXQgcGFzdGVDb25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhZ3M6IFtcIk9MXCIsIFwiVUxcIiwgXCJMSVwiXVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE9uIHBhc3RlIGNhbGxiYWNrIHRoYXQgaXMgZmlyZWQgZnJvbSBFZGl0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gZXZlbnQgLSBldmVudCB3aXRoIHBhc3RlZCBkYXRhXG4gICAqL1xuICBvblBhc3RlKGUpIHtcbiAgICBjb25zdCB0ID0gZS5kZXRhaWwuZGF0YTtcbiAgICB0aGlzLmRhdGEgPSB0aGlzLnBhc3RlSGFuZGxlcih0KTtcbiAgICBjb25zdCByID0gdGhpcy5ub2Rlcy53cmFwcGVyO1xuICAgIHIgJiYgci5wYXJlbnROb2RlICYmIHIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhpcy5yZW5kZXIoKSwgcik7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBVTCwgT0wgYW5kIExJIHRhZ3MgcGFzdGUgYW5kIHJldHVybnMgTGlzdCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTFVMaXN0RWxlbWVudHxIVE1MT0xpc3RFbGVtZW50fEhUTUxMSUVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHJldHVybnMge0xpc3REYXRhfVxuICAgKi9cbiAgcGFzdGVIYW5kbGVyKGUpIHtcbiAgICBjb25zdCB7IHRhZ05hbWU6IHQgfSA9IGU7XG4gICAgbGV0IHIgPSBcInVub3JkZXJlZFwiLCBuO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgY2FzZSBcIk9MXCI6XG4gICAgICAgIHIgPSBcIm9yZGVyZWRcIiwgbiA9IFwib2xcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiVUxcIjpcbiAgICAgIGNhc2UgXCJMSVwiOlxuICAgICAgICByID0gXCJ1bm9yZGVyZWRcIiwgbiA9IFwidWxcIjtcbiAgICB9XG4gICAgY29uc3QgcyA9IHtcbiAgICAgIHN0eWxlOiByLFxuICAgICAgaXRlbXM6IFtdXG4gICAgfSwgaSA9IChsKSA9PiBBcnJheS5mcm9tKGwucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSA+IGxpXCIpKS5tYXAoKG8pID0+IHtcbiAgICAgIHZhciBtO1xuICAgICAgY29uc3QgYSA9IG8ucXVlcnlTZWxlY3RvcihgOnNjb3BlID4gJHtufWApLCB5ID0gYSA/IGkoYSkgOiBbXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRlbnQ6ICgobSA9IG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uZmlyc3RDaGlsZCkgPT0gbnVsbCA/IHZvaWQgMCA6IG0udGV4dENvbnRlbnQpIHx8IFwiXCIsXG4gICAgICAgIGl0ZW1zOiB5XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBzLml0ZW1zID0gaShlKSwgcztcbiAgfVxuICAvKipcbiAgICogUmVuZGVycyBjaGlsZHJlbiBsaXN0XG4gICAqXG4gICAqIEBwYXJhbSB7TGlzdEl0ZW1bXX0gaXRlbXMgLSBpdGVtcyBkYXRhIHRvIGFwcGVuZFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBhcmVudEl0ZW0gLSB3aGVyZSB0byBhcHBlbmRcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBhcHBlbmRJdGVtcyhlLCB0KSB7XG4gICAgZS5mb3JFYWNoKChyKSA9PiB7XG4gICAgICBjb25zdCBuID0gdGhpcy5jcmVhdGVJdGVtKHIuY29udGVudCwgci5pdGVtcyk7XG4gICAgICB0LmFwcGVuZENoaWxkKG4pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXJzIHRoZSBzaW5nbGUgaXRlbVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCAtIGl0ZW0gY29udGVudCB0byByZW5kZXJcbiAgICogQHBhcmFtIHtMaXN0SXRlbVtdfSBbaXRlbXNdIC0gY2hpbGRyZW5cbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICBjcmVhdGVJdGVtKGUsIHQgPSBbXSkge1xuICAgIGNvbnN0IHIgPSBwKFwibGlcIiwgdGhpcy5DU1MuaXRlbSksIG4gPSBwKFwiZGl2XCIsIHRoaXMuQ1NTLml0ZW1Cb2R5KSwgcyA9IHAoXCJkaXZcIiwgdGhpcy5DU1MuaXRlbUNvbnRlbnQsIHtcbiAgICAgIGlubmVySFRNTDogZSxcbiAgICAgIGNvbnRlbnRFZGl0YWJsZTogKCF0aGlzLnJlYWRPbmx5KS50b1N0cmluZygpXG4gICAgfSk7XG4gICAgcmV0dXJuIG4uYXBwZW5kQ2hpbGQocyksIHIuYXBwZW5kQ2hpbGQobiksIHQgJiYgdC5sZW5ndGggPiAwICYmIHRoaXMuYWRkQ2hpbGRyZW5MaXN0KHIsIHQpLCByO1xuICB9XG4gIC8qKlxuICAgKiBFeHRyYWN0cyB0b29sJ3MgZGF0YSBmcm9tIHRoZSBET01cbiAgICpcbiAgICogQHJldHVybnMge0xpc3REYXRhfVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICBjb25zdCBlID0gKHQpID0+IEFycmF5LmZyb20oXG4gICAgICB0LnF1ZXJ5U2VsZWN0b3JBbGwoYDpzY29wZSA+IC4ke3RoaXMuQ1NTLml0ZW19YClcbiAgICApLm1hcCgobikgPT4ge1xuICAgICAgY29uc3QgcyA9IG4ucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5DU1MuaXRlbUNoaWxkcmVufWApLCBpID0gdGhpcy5nZXRJdGVtQ29udGVudChuKSwgbCA9IHMgPyBlKHMpIDogW107XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250ZW50OiBpLFxuICAgICAgICBpdGVtczogbFxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHRoaXMuZGF0YS5zdHlsZSxcbiAgICAgIGl0ZW1zOiB0aGlzLm5vZGVzLndyYXBwZXIgPyBlKHRoaXMubm9kZXMud3JhcHBlcikgOiBbXVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEFwcGVuZCBjaGlsZHJlbiBsaXN0IHRvIHBhc3NlZCBpdGVtXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gcGFyZW50SXRlbSAtIGl0ZW0gdGhhdCBzaG91bGQgY29udGFpbiBwYXNzZWQgc3ViLWl0ZW1zXG4gICAqIEBwYXJhbSB7TGlzdEl0ZW1bXX0gaXRlbXMgLSBzdWIgaXRlbXMgdG8gYXBwZW5kXG4gICAqL1xuICBhZGRDaGlsZHJlbkxpc3QoZSwgdCkge1xuICAgIGNvbnN0IHIgPSBlLnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuQ1NTLml0ZW1Cb2R5fWApLCBuID0gdGhpcy5tYWtlTGlzdFdyYXBwZXIodm9pZCAwLCBbXG4gICAgICB0aGlzLkNTUy5pdGVtQ2hpbGRyZW5cbiAgICBdKTtcbiAgICB0aGlzLmFwcGVuZEl0ZW1zKHQsIG4pLCByICYmIHIuYXBwZW5kQ2hpbGQobik7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgbWFpbiA8dWw+IG9yIDxvbD4gdGFnIGRlcGVuZGVkIG9uIHN0eWxlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGVdIC0gJ29yZGVyZWQnIG9yICd1bm9yZGVyZWQnXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFtjbGFzc2VzXSAtIGFkZGl0aW9uYWwgY2xhc3NlcyB0byBhcHBlbmRcbiAgICogQHJldHVybnMge0hUTUxPTGlzdEVsZW1lbnR8SFRNTFVMaXN0RWxlbWVudH1cbiAgICovXG4gIG1ha2VMaXN0V3JhcHBlcihlID0gdGhpcy5saXN0U3R5bGUsIHQgPSBbXSkge1xuICAgIGNvbnN0IHIgPSBlID09PSBcIm9yZGVyZWRcIiA/IFwib2xcIiA6IFwidWxcIiwgbiA9IGUgPT09IFwib3JkZXJlZFwiID8gdGhpcy5DU1Mud3JhcHBlck9yZGVyZWQgOiB0aGlzLkNTUy53cmFwcGVyVW5vcmRlcmVkO1xuICAgIHJldHVybiB0LnB1c2gobiksIHAociwgW3RoaXMuQ1NTLndyYXBwZXIsIC4uLnRdKTtcbiAgfVxuICAvKipcbiAgICogU3R5bGVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtOZXN0ZWRMaXN0Q3NzQ2xhc3Nlc30gLSBDU1MgY2xhc3NlcyBuYW1lcyBieSBrZXlzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBiYXNlQmxvY2s6IHRoaXMuYXBpLnN0eWxlcy5ibG9jayxcbiAgICAgIHdyYXBwZXI6IFwiY2R4LW5lc3RlZC1saXN0XCIsXG4gICAgICB3cmFwcGVyT3JkZXJlZDogXCJjZHgtbmVzdGVkLWxpc3QtLW9yZGVyZWRcIixcbiAgICAgIHdyYXBwZXJVbm9yZGVyZWQ6IFwiY2R4LW5lc3RlZC1saXN0LS11bm9yZGVyZWRcIixcbiAgICAgIGl0ZW06IFwiY2R4LW5lc3RlZC1saXN0X19pdGVtXCIsXG4gICAgICBpdGVtQm9keTogXCJjZHgtbmVzdGVkLWxpc3RfX2l0ZW0tYm9keVwiLFxuICAgICAgaXRlbUNvbnRlbnQ6IFwiY2R4LW5lc3RlZC1saXN0X19pdGVtLWNvbnRlbnRcIixcbiAgICAgIGl0ZW1DaGlsZHJlbjogXCJjZHgtbmVzdGVkLWxpc3RfX2l0ZW0tY2hpbGRyZW5cIixcbiAgICAgIHNldHRpbmdzV3JhcHBlcjogXCJjZHgtbmVzdGVkLWxpc3RfX3NldHRpbmdzXCIsXG4gICAgICBzZXR0aW5nc0J1dHRvbjogdGhpcy5hcGkuc3R5bGVzLnNldHRpbmdzQnV0dG9uLFxuICAgICAgc2V0dGluZ3NCdXR0b25BY3RpdmU6IHRoaXMuYXBpLnN0eWxlcy5zZXR0aW5nc0J1dHRvbkFjdGl2ZVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBsaXN0IHN0eWxlIG5hbWVcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldCBsaXN0U3R5bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5zdHlsZSB8fCB0aGlzLmRlZmF1bHRMaXN0U3R5bGU7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBsaXN0IHN0eWxlXG4gICAqXG4gICAqIEBwYXJhbSB7TGlzdERhdGFTdHlsZX0gc3R5bGUgLSBuZXcgc3R5bGUgdG8gc2V0XG4gICAqL1xuICBzZXQgbGlzdFN0eWxlKGUpIHtcbiAgICBpZiAoIXRoaXMubm9kZXMgfHwgIXRoaXMubm9kZXMud3JhcHBlcilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMubm9kZXMud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0aGlzLkNTUy53cmFwcGVyfWApXG4gICAgKTtcbiAgICB0LnB1c2godGhpcy5ub2Rlcy53cmFwcGVyKSwgdC5mb3JFYWNoKChyKSA9PiB7XG4gICAgICByLmNsYXNzTGlzdC50b2dnbGUodGhpcy5DU1Mud3JhcHBlclVub3JkZXJlZCwgZSA9PT0gXCJ1bm9yZGVyZWRcIiksIHIuY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy53cmFwcGVyT3JkZXJlZCwgZSA9PT0gXCJvcmRlcmVkXCIpO1xuICAgIH0pLCB0aGlzLmRhdGEuc3R5bGUgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgTGlzdCBpdGVtIGJ5IHRoZSBjYXJldCBwb3NpdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICovXG4gIGdldCBjdXJyZW50SXRlbSgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCB0ID0gZS5hbmNob3JOb2RlO1xuICAgIHJldHVybiAhdCB8fCAoYyh0KSB8fCAodCA9IHQucGFyZW50Tm9kZSksICF0KSB8fCAhYyh0KSA/IG51bGwgOiB0LmNsb3Nlc3QoYC4ke3RoaXMuQ1NTLml0ZW19YCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgRW50ZXIga2V5cHJlc3NcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWRvd25cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBlbnRlclByZXNzZWQoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmN1cnJlbnRJdGVtO1xuICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIGUuaXNDb21wb3NpbmcpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgciA9IHQgPyB0aGlzLmdldEl0ZW1Db250ZW50KHQpLnRyaW0oKS5sZW5ndGggPT09IDAgOiAhMCwgbiA9ICh0ID09IG51bGwgPyB2b2lkIDAgOiB0LnBhcmVudE5vZGUpID09PSB0aGlzLm5vZGVzLndyYXBwZXIsIHMgPSAodCA9PSBudWxsID8gdm9pZCAwIDogdC5uZXh0RWxlbWVudFNpYmxpbmcpID09PSBudWxsO1xuICAgIGlmIChuICYmIHMgJiYgcikge1xuICAgICAgdGhpcy5nZXRPdXRPZkxpc3QoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHMgJiYgcikge1xuICAgICAgdGhpcy51bnNoaWZ0SXRlbSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpID0gdS5leHRyYWN0RnJhZ21lbnRGcm9tQ2FyZXRQb3NpdGlvblRpbGxUaGVFbmQoKTtcbiAgICBpZiAoIWkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbCA9IGcoaSksIGggPSB0ID09IG51bGwgPyB2b2lkIDAgOiB0LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7dGhpcy5DU1MuaXRlbUNoaWxkcmVufWBcbiAgICApLCBvID0gdGhpcy5jcmVhdGVJdGVtKGwsIHZvaWQgMCk7XG4gICAgaCAmJiBBcnJheS5mcm9tKGgucXVlcnlTZWxlY3RvckFsbChgLiR7dGhpcy5DU1MuaXRlbX1gKSkubGVuZ3RoID4gMCA/IGgucHJlcGVuZChvKSA6IHQgPT0gbnVsbCB8fCB0LmFmdGVyKG8pLCB0aGlzLmZvY3VzSXRlbShvKTtcbiAgfVxuICAvKipcbiAgICogRGVjcmVhc2UgaW5kZW50YXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbVxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHVuc2hpZnRJdGVtKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmN1cnJlbnRJdGVtO1xuICAgIGlmICghZSB8fCAhZS5wYXJlbnROb2RlIHx8ICFjKGUucGFyZW50Tm9kZSkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGUucGFyZW50Tm9kZS5jbG9zZXN0KGAuJHt0aGlzLkNTUy5pdGVtfWApO1xuICAgIGlmICghdClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmNhcmV0LnNhdmUoKSwgdC5hZnRlcihlKSwgdGhpcy5jYXJldC5yZXN0b3JlKCk7XG4gICAgY29uc3QgciA9IHQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHt0aGlzLkNTUy5pdGVtQ2hpbGRyZW59YFxuICAgICk7XG4gICAgaWYgKCFyKVxuICAgICAgcmV0dXJuO1xuICAgIHIuY2hpbGRyZW4ubGVuZ3RoID09PSAwICYmIHIucmVtb3ZlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgaXRlbSBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gaXRlbSAtIGl0ZW0gd3JhcHBlciAoPGxpPilcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldEl0ZW1Db250ZW50KGUpIHtcbiAgICBjb25zdCB0ID0gZS5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLkNTUy5pdGVtQ29udGVudH1gKTtcbiAgICByZXR1cm4gIXQgfHwgQyh0KSA/IFwiXCIgOiB0LmlubmVySFRNTDtcbiAgfVxuICAvKipcbiAgICogU2V0cyBmb2N1cyB0byB0aGUgaXRlbSdzIGNvbnRlbnRcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBpdGVtIC0gaXRlbSAoPGxpPikgdG8gc2VsZWN0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXRTdGFydCAtIHdoZXJlIHRvIHNldCBmb2N1czogYXQgdGhlIHN0YXJ0IG9yIGF0IHRoZSBlbmRcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb2N1c0l0ZW0oZSwgdCA9ICEwKSB7XG4gICAgY29uc3QgciA9IGUucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHt0aGlzLkNTUy5pdGVtQ29udGVudH1gXG4gICAgKTtcbiAgICByICYmIHUuZm9jdXMociwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBvdXQgZnJvbSBMaXN0IFRvb2wgYnkgRW50ZXIgb24gdGhlIGVtcHR5IGxhc3QgaXRlbVxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGdldE91dE9mTGlzdCgpIHtcbiAgICB2YXIgZTtcbiAgICAoZSA9IHRoaXMuY3VycmVudEl0ZW0pID09IG51bGwgfHwgZS5yZW1vdmUoKSwgdGhpcy5hcGkuYmxvY2tzLmluc2VydCgpLCB0aGlzLmFwaS5jYXJldC5zZXRUb0Jsb2NrKHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGJhY2tzcGFjZVxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAgYmFja3NwYWNlKGUpIHtcbiAgICBpZiAoIXUuaXNBdFN0YXJ0KCkpXG4gICAgICByZXR1cm47XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHQgPSB0aGlzLmN1cnJlbnRJdGVtO1xuICAgIGlmICghdClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCByID0gdC5wcmV2aW91c1NpYmxpbmc7XG4gICAgaWYgKCF0LnBhcmVudE5vZGUgfHwgIWModC5wYXJlbnROb2RlKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBuID0gdC5wYXJlbnROb2RlLmNsb3Nlc3QoYC4ke3RoaXMuQ1NTLml0ZW19YCk7XG4gICAgaWYgKCFyICYmICFuIHx8IHIgJiYgIWMocikpXG4gICAgICByZXR1cm47XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBsZXQgcztcbiAgICBpZiAocikge1xuICAgICAgY29uc3QgYSA9IHIucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgYC4ke3RoaXMuQ1NTLml0ZW19YFxuICAgICAgKTtcbiAgICAgIHMgPSBBcnJheS5mcm9tKGEpLnBvcCgpIHx8IHI7XG4gICAgfSBlbHNlXG4gICAgICBzID0gbjtcbiAgICBjb25zdCBpID0gdS5leHRyYWN0RnJhZ21lbnRGcm9tQ2FyZXRQb3NpdGlvblRpbGxUaGVFbmQoKTtcbiAgICBpZiAoIWkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbCA9IGcoaSk7XG4gICAgaWYgKCFzKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGggPSBzLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7dGhpcy5DU1MuaXRlbUNvbnRlbnR9YFxuICAgICk7XG4gICAgaWYgKCFoKVxuICAgICAgcmV0dXJuO1xuICAgIHUuZm9jdXMoaCwgITEpLCB0aGlzLmNhcmV0LnNhdmUoKSwgaC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgbCk7XG4gICAgbGV0IG8gPSB0LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBgLiR7dGhpcy5DU1MuaXRlbUNoaWxkcmVufSA+IC4ke3RoaXMuQ1NTLml0ZW19YFxuICAgICk7XG4gICAgbyA9IEFycmF5LmZyb20obyksIG8gPSBvLmZpbHRlcigoYSkgPT4gIWEucGFyZW50Tm9kZSB8fCAhYyhhLnBhcmVudE5vZGUpID8gITEgOiBhLnBhcmVudE5vZGUuY2xvc2VzdChgLiR7dGhpcy5DU1MuaXRlbX1gKSA9PT0gdCksIG8ucmV2ZXJzZSgpLmZvckVhY2goKGEpID0+IHtcbiAgICAgIHIgPyBzLmFmdGVyKGEpIDogdC5hZnRlcihhKTtcbiAgICB9KSwgdC5yZW1vdmUoKSwgdGhpcy5jYXJldC5yZXN0b3JlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBpbmRlbnRhdGlvbiB0byBjdXJyZW50IGl0ZW1cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWRvd25cbiAgICovXG4gIGFkZFRhYihlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHQgPSB0aGlzLmN1cnJlbnRJdGVtO1xuICAgIGlmICghdClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCByID0gdC5wcmV2aW91c1NpYmxpbmc7XG4gICAgaWYgKCFyIHx8ICFjKHIpIHx8ICFyKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHMgPSByLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7dGhpcy5DU1MuaXRlbUNoaWxkcmVufWBcbiAgICApO1xuICAgIGlmICh0aGlzLmNhcmV0LnNhdmUoKSwgcylcbiAgICAgIHMuYXBwZW5kQ2hpbGQodCk7XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBpID0gdGhpcy5tYWtlTGlzdFdyYXBwZXIodm9pZCAwLCBbXG4gICAgICAgIHRoaXMuQ1NTLml0ZW1DaGlsZHJlblxuICAgICAgXSksIGwgPSByLnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuQ1NTLml0ZW1Cb2R5fWApO1xuICAgICAgaS5hcHBlbmRDaGlsZCh0KSwgbCA9PSBudWxsIHx8IGwuYXBwZW5kQ2hpbGQoaSk7XG4gICAgfVxuICAgIHRoaXMuY2FyZXQucmVzdG9yZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZWR1Y2UgaW5kZW50YXRpb24gZm9yIGN1cnJlbnQgaXRlbVxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHNoaWZ0VGFiKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMudW5zaGlmdEl0ZW0oKTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydCBmcm9tIGxpc3QgdG8gdGV4dCBmb3IgY29udmVyc2lvbkNvbmZpZ1xuICAgKlxuICAgKiBAcGFyYW0ge0xpc3REYXRhfSBkYXRhXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgam9pblJlY3Vyc2l2ZShlKSB7XG4gICAgcmV0dXJuIGUuaXRlbXMubWFwKCh0KSA9PiBgJHt0LmNvbnRlbnR9ICR7Zi5qb2luUmVjdXJzaXZlKHQpfWApLmpvaW4oXCJcIik7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgZnJvbSB0ZXh0IHRvIGxpc3Qgd2l0aCBpbXBvcnQgYW5kIGV4cG9ydCBsaXN0IHRvIHRleHRcbiAgICovXG4gIHN0YXRpYyBnZXQgY29udmVyc2lvbkNvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwb3J0OiAoZSkgPT4gZi5qb2luUmVjdXJzaXZlKGUpLFxuICAgICAgaW1wb3J0OiAoZSkgPT4gKHtcbiAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb250ZW50OiBlLFxuICAgICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBzdHlsZTogXCJ1bm9yZGVyZWRcIlxuICAgICAgfSlcbiAgICB9O1xuICB9XG59XG5leHBvcnQge1xuICBmIGFzIGRlZmF1bHRcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/nested-list/dist/nested-list.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/paragraph/dist/paragraph.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@editorjs/paragraph/dist/paragraph.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ n)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}\")),document.head.appendChild(e)}}catch(a){console.error(\"vite-plugin-css-injected-by-js\",a)}})();\nconst a = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14\"/></svg>';\nfunction l(r) {\n  const t = document.createElement(\"div\");\n  t.innerHTML = r.trim();\n  const e = document.createDocumentFragment();\n  return e.append(...Array.from(t.childNodes)), e;\n}\n/**\n * Base Paragraph Block for the Editor.js.\n * Represents a regular text block\n *\n * @author CodeX (team@codex.so)\n * @copyright CodeX 2018\n * @license The MIT License (MIT)\n */\nclass n {\n  /**\n   * Default placeholder for Paragraph Tool\n   *\n   * @returns {string}\n   * @class\n   */\n  static get DEFAULT_PLACEHOLDER() {\n    return \"\";\n  }\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {object} params - constructor params\n   * @param {ParagraphData} params.data - previously saved data\n   * @param {ParagraphConfig} params.config - user config for Tool\n   * @param {object} params.api - editor.js api\n   * @param {boolean} readOnly - read only mode flag\n   */\n  constructor({ data: t, config: e, api: i, readOnly: s }) {\n    this.api = i, this.readOnly = s, this._CSS = {\n      block: this.api.styles.block,\n      wrapper: \"ce-paragraph\"\n    }, this.readOnly || (this.onKeyUp = this.onKeyUp.bind(this)), this._placeholder = e.placeholder ? e.placeholder : n.DEFAULT_PLACEHOLDER, this._data = t ?? {}, this._element = null, this._preserveBlank = e.preserveBlank ?? !1;\n  }\n  /**\n   * Check if text content is empty and set empty string to inner html.\n   * We need this because some browsers (e.g. Safari) insert <br> into empty contenteditanle elements\n   *\n   * @param {KeyboardEvent} e - key up event\n   */\n  onKeyUp(t) {\n    if (t.code !== \"Backspace\" && t.code !== \"Delete\" || !this._element)\n      return;\n    const { textContent: e } = this._element;\n    e === \"\" && (this._element.innerHTML = \"\");\n  }\n  /**\n   * Create Tool's view\n   *\n   * @returns {HTMLDivElement}\n   * @private\n   */\n  drawView() {\n    const t = document.createElement(\"DIV\");\n    return t.classList.add(this._CSS.wrapper, this._CSS.block), t.contentEditable = \"false\", t.dataset.placeholderActive = this.api.i18n.t(this._placeholder), this._data.text && (t.innerHTML = this._data.text), this.readOnly || (t.contentEditable = \"true\", t.addEventListener(\"keyup\", this.onKeyUp)), t;\n  }\n  /**\n   * Return Tool's view\n   *\n   * @returns {HTMLDivElement}\n   */\n  render() {\n    return this._element = this.drawView(), this._element;\n  }\n  /**\n   * Method that specified how to merge two Text blocks.\n   * Called by Editor.js by backspace at the beginning of the Block\n   *\n   * @param {ParagraphData} data\n   * @public\n   */\n  merge(t) {\n    if (!this._element)\n      return;\n    this._data.text += t.text;\n    const e = l(t.text);\n    this._element.appendChild(e), this._element.normalize();\n  }\n  /**\n   * Validate Paragraph block data:\n   * - check for emptiness\n   *\n   * @param {ParagraphData} savedData — data received after saving\n   * @returns {boolean} false if saved data is not correct, otherwise true\n   * @public\n   */\n  validate(t) {\n    return !(t.text.trim() === \"\" && !this._preserveBlank);\n  }\n  /**\n   * Extract Tool's data from the view\n   *\n   * @param {HTMLDivElement} toolsContent - Paragraph tools rendered view\n   * @returns {ParagraphData} - saved data\n   * @public\n   */\n  save(t) {\n    return {\n      text: t.innerHTML\n    };\n  }\n  /**\n   * On paste callback fired from Editor.\n   *\n   * @param {HTMLPasteEvent} event - event with pasted data\n   */\n  onPaste(t) {\n    const e = {\n      text: t.detail.data.innerHTML\n    };\n    this._data = e, window.requestAnimationFrame(() => {\n      this._element && (this._element.innerHTML = this._data.text || \"\");\n    });\n  }\n  /**\n   * Enable Conversion Toolbar. Paragraph can be converted to/from other tools\n   * @returns {ConversionConfig}\n   */\n  static get conversionConfig() {\n    return {\n      export: \"text\",\n      // to convert Paragraph to other block, use 'text' property of saved data\n      import: \"text\"\n      // to covert other block's exported string to Paragraph, fill 'text' property of tool data\n    };\n  }\n  /**\n   * Sanitizer rules\n   * @returns {SanitizerConfig} - Edtior.js sanitizer config\n   */\n  static get sanitize() {\n    return {\n      text: {\n        br: !0\n      }\n    };\n  }\n  /**\n   * Returns true to notify the core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Used by Editor paste handling API.\n   * Provides configuration to handle P tags.\n   *\n   * @returns {PasteConfig} - Paragraph Paste Setting\n   */\n  static get pasteConfig() {\n    return {\n      tags: [\"P\"]\n    };\n  }\n  /**\n   * Icon and title for displaying at the Toolbox\n   *\n   * @returns {ToolboxConfig} - Paragraph Toolbox Setting\n   */\n  static get toolbox() {\n    return {\n      icon: a,\n      title: \"Text\"\n    };\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL3BhcmFncmFwaC9kaXN0L3BhcmFncmFwaC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLFlBQVksYUFBYSxJQUFJLHdCQUF3QixzQ0FBc0MscURBQXFELGtCQUFrQixhQUFhLGlLQUFpSyxzQ0FBc0MsOEJBQThCLGFBQWEsNkJBQTZCLGdCQUFnQixrQ0FBa0MsU0FBUyxtREFBbUQ7QUFDNWlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxlQUFlO0FBQzVCLGFBQWEsaUJBQWlCO0FBQzlCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxnQkFBZ0IseUNBQXlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLEtBQUssNEpBQTRKO0FBQ2pLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGVBQWU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0IsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZWRpdG9yanMvcGFyYWdyYXBoL2Rpc3QvcGFyYWdyYXBoLm1qcz9mZmM1Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3RyeXtpZih0eXBlb2YgZG9jdW1lbnQ8XCJ1XCIpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiLmNlLXBhcmFncmFwaHtsaW5lLWhlaWdodDoxLjZlbTtvdXRsaW5lOm5vbmV9LmNlLWJsb2NrOm9ubHktb2YtdHlwZSAuY2UtcGFyYWdyYXBoW2RhdGEtcGxhY2Vob2xkZXItYWN0aXZlXTplbXB0eTpiZWZvcmUsLmNlLWJsb2NrOm9ubHktb2YtdHlwZSAuY2UtcGFyYWdyYXBoW2RhdGEtcGxhY2Vob2xkZXItYWN0aXZlXVtkYXRhLWVtcHR5PXRydWVdOmJlZm9yZXtjb250ZW50OmF0dHIoZGF0YS1wbGFjZWhvbGRlci1hY3RpdmUpfS5jZS1wYXJhZ3JhcGggcDpmaXJzdC1vZi10eXBle21hcmdpbi10b3A6MH0uY2UtcGFyYWdyYXBoIHA6bGFzdC1vZi10eXBle21hcmdpbi1ib3R0b206MH1cIikpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZSl9fWNhdGNoKGEpe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIixhKX19KSgpO1xuY29uc3QgYSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOCA5VjcuMkM4IDcuMDg5NTQgOC4wODk1NCA3IDguMiA3TDEyIDdNMTYgOVY3LjJDMTYgNy4wODk1NCAxNS45MTA1IDcgMTUuOCA3TDEyIDdNMTIgN0wxMiAxN00xMiAxN0gxME0xMiAxN0gxNFwiLz48L3N2Zz4nO1xuZnVuY3Rpb24gbChyKSB7XG4gIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB0LmlubmVySFRNTCA9IHIudHJpbSgpO1xuICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICByZXR1cm4gZS5hcHBlbmQoLi4uQXJyYXkuZnJvbSh0LmNoaWxkTm9kZXMpKSwgZTtcbn1cbi8qKlxuICogQmFzZSBQYXJhZ3JhcGggQmxvY2sgZm9yIHRoZSBFZGl0b3IuanMuXG4gKiBSZXByZXNlbnRzIGEgcmVndWxhciB0ZXh0IGJsb2NrXG4gKlxuICogQGF1dGhvciBDb2RlWCAodGVhbUBjb2RleC5zbylcbiAqIEBjb3B5cmlnaHQgQ29kZVggMjAxOFxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKi9cbmNsYXNzIG4ge1xuICAvKipcbiAgICogRGVmYXVsdCBwbGFjZWhvbGRlciBmb3IgUGFyYWdyYXBoIFRvb2xcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogQGNsYXNzXG4gICAqL1xuICBzdGF0aWMgZ2V0IERFRkFVTFRfUExBQ0VIT0xERVIoKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBwbHVnaW5gcyBtYWluIEVsZW1lbnQgYW5kIGZpbGwgaXQgd2l0aCBzYXZlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSBjb25zdHJ1Y3RvciBwYXJhbXNcbiAgICogQHBhcmFtIHtQYXJhZ3JhcGhEYXRhfSBwYXJhbXMuZGF0YSAtIHByZXZpb3VzbHkgc2F2ZWQgZGF0YVxuICAgKiBAcGFyYW0ge1BhcmFncmFwaENvbmZpZ30gcGFyYW1zLmNvbmZpZyAtIHVzZXIgY29uZmlnIGZvciBUb29sXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMuYXBpIC0gZWRpdG9yLmpzIGFwaVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5IC0gcmVhZCBvbmx5IG1vZGUgZmxhZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiB0LCBjb25maWc6IGUsIGFwaTogaSwgcmVhZE9ubHk6IHMgfSkge1xuICAgIHRoaXMuYXBpID0gaSwgdGhpcy5yZWFkT25seSA9IHMsIHRoaXMuX0NTUyA9IHtcbiAgICAgIGJsb2NrOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICB3cmFwcGVyOiBcImNlLXBhcmFncmFwaFwiXG4gICAgfSwgdGhpcy5yZWFkT25seSB8fCAodGhpcy5vbktleVVwID0gdGhpcy5vbktleVVwLmJpbmQodGhpcykpLCB0aGlzLl9wbGFjZWhvbGRlciA9IGUucGxhY2Vob2xkZXIgPyBlLnBsYWNlaG9sZGVyIDogbi5ERUZBVUxUX1BMQUNFSE9MREVSLCB0aGlzLl9kYXRhID0gdCA/PyB7fSwgdGhpcy5fZWxlbWVudCA9IG51bGwsIHRoaXMuX3ByZXNlcnZlQmxhbmsgPSBlLnByZXNlcnZlQmxhbmsgPz8gITE7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRleHQgY29udGVudCBpcyBlbXB0eSBhbmQgc2V0IGVtcHR5IHN0cmluZyB0byBpbm5lciBodG1sLlxuICAgKiBXZSBuZWVkIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzIChlLmcuIFNhZmFyaSkgaW5zZXJ0IDxicj4gaW50byBlbXB0eSBjb250ZW50ZWRpdGFubGUgZWxlbWVudHNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0ga2V5IHVwIGV2ZW50XG4gICAqL1xuICBvbktleVVwKHQpIHtcbiAgICBpZiAodC5jb2RlICE9PSBcIkJhY2tzcGFjZVwiICYmIHQuY29kZSAhPT0gXCJEZWxldGVcIiB8fCAhdGhpcy5fZWxlbWVudClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IHRleHRDb250ZW50OiBlIH0gPSB0aGlzLl9lbGVtZW50O1xuICAgIGUgPT09IFwiXCIgJiYgKHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gXCJcIik7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBUb29sJ3Mgdmlld1xuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkcmF3VmlldygpIHtcbiAgICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICByZXR1cm4gdC5jbGFzc0xpc3QuYWRkKHRoaXMuX0NTUy53cmFwcGVyLCB0aGlzLl9DU1MuYmxvY2spLCB0LmNvbnRlbnRFZGl0YWJsZSA9IFwiZmFsc2VcIiwgdC5kYXRhc2V0LnBsYWNlaG9sZGVyQWN0aXZlID0gdGhpcy5hcGkuaTE4bi50KHRoaXMuX3BsYWNlaG9sZGVyKSwgdGhpcy5fZGF0YS50ZXh0ICYmICh0LmlubmVySFRNTCA9IHRoaXMuX2RhdGEudGV4dCksIHRoaXMucmVhZE9ubHkgfHwgKHQuY29udGVudEVkaXRhYmxlID0gXCJ0cnVlXCIsIHQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMub25LZXlVcCkpLCB0O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gVG9vbCdzIHZpZXdcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxEaXZFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50ID0gdGhpcy5kcmF3VmlldygpLCB0aGlzLl9lbGVtZW50O1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgdGhhdCBzcGVjaWZpZWQgaG93IHRvIG1lcmdlIHR3byBUZXh0IGJsb2Nrcy5cbiAgICogQ2FsbGVkIGJ5IEVkaXRvci5qcyBieSBiYWNrc3BhY2UgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtQYXJhZ3JhcGhEYXRhfSBkYXRhXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIG1lcmdlKHQpIHtcbiAgICBpZiAoIXRoaXMuX2VsZW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5fZGF0YS50ZXh0ICs9IHQudGV4dDtcbiAgICBjb25zdCBlID0gbCh0LnRleHQpO1xuICAgIHRoaXMuX2VsZW1lbnQuYXBwZW5kQ2hpbGQoZSksIHRoaXMuX2VsZW1lbnQubm9ybWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIFBhcmFncmFwaCBibG9jayBkYXRhOlxuICAgKiAtIGNoZWNrIGZvciBlbXB0aW5lc3NcbiAgICpcbiAgICogQHBhcmFtIHtQYXJhZ3JhcGhEYXRhfSBzYXZlZERhdGEg4oCUIGRhdGEgcmVjZWl2ZWQgYWZ0ZXIgc2F2aW5nXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBmYWxzZSBpZiBzYXZlZCBkYXRhIGlzIG5vdCBjb3JyZWN0LCBvdGhlcndpc2UgdHJ1ZVxuICAgKiBAcHVibGljXG4gICAqL1xuICB2YWxpZGF0ZSh0KSB7XG4gICAgcmV0dXJuICEodC50ZXh0LnRyaW0oKSA9PT0gXCJcIiAmJiAhdGhpcy5fcHJlc2VydmVCbGFuayk7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3QgVG9vbCdzIGRhdGEgZnJvbSB0aGUgdmlld1xuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxEaXZFbGVtZW50fSB0b29sc0NvbnRlbnQgLSBQYXJhZ3JhcGggdG9vbHMgcmVuZGVyZWQgdmlld1xuICAgKiBAcmV0dXJucyB7UGFyYWdyYXBoRGF0YX0gLSBzYXZlZCBkYXRhXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNhdmUodCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiB0LmlubmVySFRNTFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE9uIHBhc3RlIGNhbGxiYWNrIGZpcmVkIGZyb20gRWRpdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxQYXN0ZUV2ZW50fSBldmVudCAtIGV2ZW50IHdpdGggcGFzdGVkIGRhdGFcbiAgICovXG4gIG9uUGFzdGUodCkge1xuICAgIGNvbnN0IGUgPSB7XG4gICAgICB0ZXh0OiB0LmRldGFpbC5kYXRhLmlubmVySFRNTFxuICAgIH07XG4gICAgdGhpcy5fZGF0YSA9IGUsIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5fZWxlbWVudCAmJiAodGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLl9kYXRhLnRleHQgfHwgXCJcIik7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBDb252ZXJzaW9uIFRvb2xiYXIuIFBhcmFncmFwaCBjYW4gYmUgY29udmVydGVkIHRvL2Zyb20gb3RoZXIgdG9vbHNcbiAgICogQHJldHVybnMge0NvbnZlcnNpb25Db25maWd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGNvbnZlcnNpb25Db25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV4cG9ydDogXCJ0ZXh0XCIsXG4gICAgICAvLyB0byBjb252ZXJ0IFBhcmFncmFwaCB0byBvdGhlciBibG9jaywgdXNlICd0ZXh0JyBwcm9wZXJ0eSBvZiBzYXZlZCBkYXRhXG4gICAgICBpbXBvcnQ6IFwidGV4dFwiXG4gICAgICAvLyB0byBjb3ZlcnQgb3RoZXIgYmxvY2sncyBleHBvcnRlZCBzdHJpbmcgdG8gUGFyYWdyYXBoLCBmaWxsICd0ZXh0JyBwcm9wZXJ0eSBvZiB0b29sIGRhdGFcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgcnVsZXNcbiAgICogQHJldHVybnMge1Nhbml0aXplckNvbmZpZ30gLSBFZHRpb3IuanMgc2FuaXRpemVyIGNvbmZpZ1xuICAgKi9cbiAgc3RhdGljIGdldCBzYW5pdGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDoge1xuICAgICAgICBicjogITBcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgdG8gbm90aWZ5IHRoZSBjb3JlIHRoYXQgcmVhZC1vbmx5IG1vZGUgaXMgc3VwcG9ydGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc1JlYWRPbmx5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogVXNlZCBieSBFZGl0b3IgcGFzdGUgaGFuZGxpbmcgQVBJLlxuICAgKiBQcm92aWRlcyBjb25maWd1cmF0aW9uIHRvIGhhbmRsZSBQIHRhZ3MuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQYXN0ZUNvbmZpZ30gLSBQYXJhZ3JhcGggUGFzdGUgU2V0dGluZ1xuICAgKi9cbiAgc3RhdGljIGdldCBwYXN0ZUNvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGFnczogW1wiUFwiXVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEljb24gYW5kIHRpdGxlIGZvciBkaXNwbGF5aW5nIGF0IHRoZSBUb29sYm94XG4gICAqXG4gICAqIEByZXR1cm5zIHtUb29sYm94Q29uZmlnfSAtIFBhcmFncmFwaCBUb29sYm94IFNldHRpbmdcbiAgICovXG4gIHN0YXRpYyBnZXQgdG9vbGJveCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogYSxcbiAgICAgIHRpdGxlOiBcIlRleHRcIlxuICAgIH07XG4gIH1cbn1cbmV4cG9ydCB7XG4gIG4gYXMgZGVmYXVsdFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/paragraph/dist/paragraph.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/quote/dist/quote.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@editorjs/quote/dist/quote.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ m)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode(\".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}\")),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();\nconst De = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 7L6 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M18 17H6\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M16 12L8 12\"/></svg>', He = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17 7L5 7\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M17 17H5\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M13 12L5 12\"/></svg>', Re = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14\"/></svg>';\nvar b = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {};\nfunction Fe(e) {\n  if (e.__esModule)\n    return e;\n  var t = e.default;\n  if (typeof t == \"function\") {\n    var n = function r() {\n      return this instanceof r ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments);\n    };\n    n.prototype = t.prototype;\n  } else\n    n = {};\n  return Object.defineProperty(n, \"__esModule\", { value: !0 }), Object.keys(e).forEach(function(r) {\n    var i = Object.getOwnPropertyDescriptor(e, r);\n    Object.defineProperty(n, r, i.get ? i : {\n      enumerable: !0,\n      get: function() {\n        return e[r];\n      }\n    });\n  }), n;\n}\nvar g = {}, P = {}, j = {};\nObject.defineProperty(j, \"__esModule\", { value: !0 });\nj.allInputsSelector = We;\nfunction We() {\n  var e = [\"text\", \"password\", \"email\", \"number\", \"search\", \"tel\", \"url\"];\n  return \"[contenteditable=true], textarea, input:not([type]), \" + e.map(function(t) {\n    return 'input[type=\"'.concat(t, '\"]');\n  }).join(\", \");\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.allInputsSelector = void 0;\n  var t = j;\n  Object.defineProperty(e, \"allInputsSelector\", { enumerable: !0, get: function() {\n    return t.allInputsSelector;\n  } });\n})(P);\nvar s = {}, T = {};\nObject.defineProperty(T, \"__esModule\", { value: !0 });\nT.isNativeInput = Ue;\nfunction Ue(e) {\n  var t = [\n    \"INPUT\",\n    \"TEXTAREA\"\n  ];\n  return e && e.tagName ? t.includes(e.tagName) : !1;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isNativeInput = void 0;\n  var t = T;\n  Object.defineProperty(e, \"isNativeInput\", { enumerable: !0, get: function() {\n    return t.isNativeInput;\n  } });\n})(s);\nvar ie = {}, S = {};\nObject.defineProperty(S, \"__esModule\", { value: !0 });\nS.append = qe;\nfunction qe(e, t) {\n  Array.isArray(t) ? t.forEach(function(n) {\n    e.appendChild(n);\n  }) : e.appendChild(t);\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.append = void 0;\n  var t = S;\n  Object.defineProperty(e, \"append\", { enumerable: !0, get: function() {\n    return t.append;\n  } });\n})(ie);\nvar C = {}, L = {};\nObject.defineProperty(L, \"__esModule\", { value: !0 });\nL.blockElements = ze;\nfunction ze() {\n  return [\n    \"address\",\n    \"article\",\n    \"aside\",\n    \"blockquote\",\n    \"canvas\",\n    \"div\",\n    \"dl\",\n    \"dt\",\n    \"fieldset\",\n    \"figcaption\",\n    \"figure\",\n    \"footer\",\n    \"form\",\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",\n    \"header\",\n    \"hgroup\",\n    \"hr\",\n    \"li\",\n    \"main\",\n    \"nav\",\n    \"noscript\",\n    \"ol\",\n    \"output\",\n    \"p\",\n    \"pre\",\n    \"ruby\",\n    \"section\",\n    \"table\",\n    \"tbody\",\n    \"thead\",\n    \"tr\",\n    \"tfoot\",\n    \"ul\",\n    \"video\"\n  ];\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.blockElements = void 0;\n  var t = L;\n  Object.defineProperty(e, \"blockElements\", { enumerable: !0, get: function() {\n    return t.blockElements;\n  } });\n})(C);\nvar ae = {}, M = {};\nObject.defineProperty(M, \"__esModule\", { value: !0 });\nM.calculateBaseline = Ge;\nfunction Ge(e) {\n  var t = window.getComputedStyle(e), n = parseFloat(t.fontSize), r = parseFloat(t.lineHeight) || n * 1.2, i = parseFloat(t.paddingTop), a = parseFloat(t.borderTopWidth), l = parseFloat(t.marginTop), u = n * 0.8, d = (r - n) / 2, c = l + a + i + d + u;\n  return c;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.calculateBaseline = void 0;\n  var t = M;\n  Object.defineProperty(e, \"calculateBaseline\", { enumerable: !0, get: function() {\n    return t.calculateBaseline;\n  } });\n})(ae);\nvar le = {}, k = {}, w = {}, N = {};\nObject.defineProperty(N, \"__esModule\", { value: !0 });\nN.isContentEditable = Ke;\nfunction Ke(e) {\n  return e.contentEditable === \"true\";\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isContentEditable = void 0;\n  var t = N;\n  Object.defineProperty(e, \"isContentEditable\", { enumerable: !0, get: function() {\n    return t.isContentEditable;\n  } });\n})(w);\nObject.defineProperty(k, \"__esModule\", { value: !0 });\nk.canSetCaret = Qe;\nvar Xe = s, Ye = w;\nfunction Qe(e) {\n  var t = !0;\n  if ((0, Xe.isNativeInput)(e))\n    switch (e.type) {\n      case \"file\":\n      case \"checkbox\":\n      case \"radio\":\n      case \"hidden\":\n      case \"submit\":\n      case \"button\":\n      case \"image\":\n      case \"reset\":\n        t = !1;\n        break;\n    }\n  else\n    t = (0, Ye.isContentEditable)(e);\n  return t;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.canSetCaret = void 0;\n  var t = k;\n  Object.defineProperty(e, \"canSetCaret\", { enumerable: !0, get: function() {\n    return t.canSetCaret;\n  } });\n})(le);\nvar _ = {}, I = {};\nfunction Ve(e, t, n) {\n  const r = n.value !== void 0 ? \"value\" : \"get\", i = n[r], a = `#${t}Cache`;\n  if (n[r] = function(...l) {\n    return this[a] === void 0 && (this[a] = i.apply(this, l)), this[a];\n  }, r === \"get\" && n.set) {\n    const l = n.set;\n    n.set = function(u) {\n      delete e[a], l.apply(this, u);\n    };\n  }\n  return n;\n}\nfunction ue() {\n  const e = {\n    win: !1,\n    mac: !1,\n    x11: !1,\n    linux: !1\n  }, t = Object.keys(e).find((n) => window.navigator.appVersion.toLowerCase().indexOf(n) !== -1);\n  return t !== void 0 && (e[t] = !0), e;\n}\nfunction A(e) {\n  return e != null && e !== \"\" && (typeof e != \"object\" || Object.keys(e).length > 0);\n}\nfunction Ze(e) {\n  return !A(e);\n}\nconst Je = () => typeof window < \"u\" && window.navigator !== null && A(window.navigator.platform) && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === \"MacIntel\" && window.navigator.maxTouchPoints > 1);\nfunction xe(e) {\n  const t = ue();\n  return e = e.replace(/shift/gi, \"⇧\").replace(/backspace/gi, \"⌫\").replace(/enter/gi, \"⏎\").replace(/up/gi, \"↑\").replace(/left/gi, \"→\").replace(/down/gi, \"↓\").replace(/right/gi, \"←\").replace(/escape/gi, \"⎋\").replace(/insert/gi, \"Ins\").replace(/delete/gi, \"␡\").replace(/\\+/gi, \"+\"), t.mac ? e = e.replace(/ctrl|cmd/gi, \"⌘\").replace(/alt/gi, \"⌥\") : e = e.replace(/cmd/gi, \"Ctrl\").replace(/windows/gi, \"WIN\"), e;\n}\nfunction et(e) {\n  return e[0].toUpperCase() + e.slice(1);\n}\nfunction tt(e) {\n  const t = document.createElement(\"div\");\n  t.style.position = \"absolute\", t.style.left = \"-999px\", t.style.bottom = \"-999px\", t.innerHTML = e, document.body.appendChild(t);\n  const n = window.getSelection(), r = document.createRange();\n  if (r.selectNode(t), n === null)\n    throw new Error(\"Cannot copy text to clipboard\");\n  n.removeAllRanges(), n.addRange(r), document.execCommand(\"copy\"), document.body.removeChild(t);\n}\nfunction nt(e, t, n) {\n  let r;\n  return (...i) => {\n    const a = this, l = () => {\n      r = void 0, n !== !0 && e.apply(a, i);\n    }, u = n === !0 && r !== void 0;\n    window.clearTimeout(r), r = window.setTimeout(l, t), u && e.apply(a, i);\n  };\n}\nfunction o(e) {\n  return Object.prototype.toString.call(e).match(/\\s([a-zA-Z]+)/)[1].toLowerCase();\n}\nfunction rt(e) {\n  return o(e) === \"boolean\";\n}\nfunction oe(e) {\n  return o(e) === \"function\" || o(e) === \"asyncfunction\";\n}\nfunction it(e) {\n  return oe(e) && /^\\s*class\\s+/.test(e.toString());\n}\nfunction at(e) {\n  return o(e) === \"number\";\n}\nfunction v(e) {\n  return o(e) === \"object\";\n}\nfunction lt(e) {\n  return Promise.resolve(e) === e;\n}\nfunction ut(e) {\n  return o(e) === \"string\";\n}\nfunction ot(e) {\n  return o(e) === \"undefined\";\n}\nfunction O(e, ...t) {\n  if (!t.length)\n    return e;\n  const n = t.shift();\n  if (v(e) && v(n))\n    for (const r in n)\n      v(n[r]) ? (e[r] === void 0 && Object.assign(e, { [r]: {} }), O(e[r], n[r])) : Object.assign(e, { [r]: n[r] });\n  return O(e, ...t);\n}\nfunction ct(e, t, n) {\n  const r = `«${t}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;\n  e && console.warn(r);\n}\nfunction st(e) {\n  try {\n    return new URL(e).href;\n  } catch {\n  }\n  return e.substring(0, 2) === \"//\" ? window.location.protocol + e : window.location.origin + e;\n}\nfunction dt(e) {\n  return e > 47 && e < 58 || e === 32 || e === 13 || e === 229 || e > 64 && e < 91 || e > 95 && e < 112 || e > 185 && e < 193 || e > 218 && e < 223;\n}\nconst ft = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  DOWN: 40,\n  RIGHT: 39,\n  DELETE: 46,\n  META: 91,\n  SLASH: 191\n}, pt = {\n  LEFT: 0,\n  WHEEL: 1,\n  RIGHT: 2,\n  BACKWARD: 3,\n  FORWARD: 4\n};\nclass gt {\n  constructor() {\n    this.completed = Promise.resolve();\n  }\n  /**\n   * Add new promise to queue\n   * @param operation - promise should be added to queue\n   */\n  add(t) {\n    return new Promise((n, r) => {\n      this.completed = this.completed.then(t).then(n).catch(r);\n    });\n  }\n}\nfunction vt(e, t, n = void 0) {\n  let r, i, a, l = null, u = 0;\n  n || (n = {});\n  const d = function() {\n    u = n.leading === !1 ? 0 : Date.now(), l = null, a = e.apply(r, i), l === null && (r = i = null);\n  };\n  return function() {\n    const c = Date.now();\n    !u && n.leading === !1 && (u = c);\n    const f = t - (c - u);\n    return r = this, i = arguments, f <= 0 || f > t ? (l && (clearTimeout(l), l = null), u = c, a = e.apply(r, i), l === null && (r = i = null)) : !l && n.trailing !== !1 && (l = setTimeout(d, f)), a;\n  };\n}\nconst mt = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  PromiseQueue: gt,\n  beautifyShortcut: xe,\n  cacheable: Ve,\n  capitalize: et,\n  copyTextToClipboard: tt,\n  debounce: nt,\n  deepMerge: O,\n  deprecationAssert: ct,\n  getUserOS: ue,\n  getValidUrl: st,\n  isBoolean: rt,\n  isClass: it,\n  isEmpty: Ze,\n  isFunction: oe,\n  isIosDevice: Je,\n  isNumber: at,\n  isObject: v,\n  isPrintableKey: dt,\n  isPromise: lt,\n  isString: ut,\n  isUndefined: ot,\n  keyCodes: ft,\n  mouseButtons: pt,\n  notEmpty: A,\n  throttle: vt,\n  typeOf: o\n}, Symbol.toStringTag, { value: \"Module\" })), $ = /* @__PURE__ */ Fe(mt);\nObject.defineProperty(I, \"__esModule\", { value: !0 });\nI.containsOnlyInlineElements = yt;\nvar bt = $, _t = C;\nfunction yt(e) {\n  var t;\n  (0, bt.isString)(e) ? (t = document.createElement(\"div\"), t.innerHTML = e) : t = e;\n  var n = function(r) {\n    return !(0, _t.blockElements)().includes(r.tagName.toLowerCase()) && Array.from(r.children).every(n);\n  };\n  return Array.from(t.children).every(n);\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.containsOnlyInlineElements = void 0;\n  var t = I;\n  Object.defineProperty(e, \"containsOnlyInlineElements\", { enumerable: !0, get: function() {\n    return t.containsOnlyInlineElements;\n  } });\n})(_);\nvar ce = {}, B = {}, y = {}, D = {};\nObject.defineProperty(D, \"__esModule\", { value: !0 });\nD.make = ht;\nfunction ht(e, t, n) {\n  var r;\n  t === void 0 && (t = null), n === void 0 && (n = {});\n  var i = document.createElement(e);\n  if (Array.isArray(t)) {\n    var a = t.filter(function(u) {\n      return u !== void 0;\n    });\n    (r = i.classList).add.apply(r, a);\n  } else\n    t !== null && i.classList.add(t);\n  for (var l in n)\n    Object.prototype.hasOwnProperty.call(n, l) && (i[l] = n[l]);\n  return i;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.make = void 0;\n  var t = D;\n  Object.defineProperty(e, \"make\", { enumerable: !0, get: function() {\n    return t.make;\n  } });\n})(y);\nObject.defineProperty(B, \"__esModule\", { value: !0 });\nB.fragmentToString = Ot;\nvar Et = y;\nfunction Ot(e) {\n  var t = (0, Et.make)(\"div\");\n  return t.appendChild(e), t.innerHTML;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.fragmentToString = void 0;\n  var t = B;\n  Object.defineProperty(e, \"fragmentToString\", { enumerable: !0, get: function() {\n    return t.fragmentToString;\n  } });\n})(ce);\nvar se = {}, H = {};\nObject.defineProperty(H, \"__esModule\", { value: !0 });\nH.getContentLength = jt;\nvar Pt = s;\nfunction jt(e) {\n  var t, n;\n  return (0, Pt.isNativeInput)(e) ? e.value.length : e.nodeType === Node.TEXT_NODE ? e.length : (n = (t = e.textContent) === null || t === void 0 ? void 0 : t.length) !== null && n !== void 0 ? n : 0;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.getContentLength = void 0;\n  var t = H;\n  Object.defineProperty(e, \"getContentLength\", { enumerable: !0, get: function() {\n    return t.getContentLength;\n  } });\n})(se);\nvar R = {}, F = {}, re = b && b.__spreadArray || function(e, t, n) {\n  if (n || arguments.length === 2)\n    for (var r = 0, i = t.length, a; r < i; r++)\n      (a || !(r in t)) && (a || (a = Array.prototype.slice.call(t, 0, r)), a[r] = t[r]);\n  return e.concat(a || Array.prototype.slice.call(t));\n};\nObject.defineProperty(F, \"__esModule\", { value: !0 });\nF.getDeepestBlockElements = de;\nvar Tt = _;\nfunction de(e) {\n  return (0, Tt.containsOnlyInlineElements)(e) ? [e] : Array.from(e.children).reduce(function(t, n) {\n    return re(re([], t, !0), de(n), !0);\n  }, []);\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.getDeepestBlockElements = void 0;\n  var t = F;\n  Object.defineProperty(e, \"getDeepestBlockElements\", { enumerable: !0, get: function() {\n    return t.getDeepestBlockElements;\n  } });\n})(R);\nvar fe = {}, W = {}, h = {}, U = {};\nObject.defineProperty(U, \"__esModule\", { value: !0 });\nU.isLineBreakTag = St;\nfunction St(e) {\n  return [\n    \"BR\",\n    \"WBR\"\n  ].includes(e.tagName);\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isLineBreakTag = void 0;\n  var t = U;\n  Object.defineProperty(e, \"isLineBreakTag\", { enumerable: !0, get: function() {\n    return t.isLineBreakTag;\n  } });\n})(h);\nvar E = {}, q = {};\nObject.defineProperty(q, \"__esModule\", { value: !0 });\nq.isSingleTag = Ct;\nfunction Ct(e) {\n  return [\n    \"AREA\",\n    \"BASE\",\n    \"BR\",\n    \"COL\",\n    \"COMMAND\",\n    \"EMBED\",\n    \"HR\",\n    \"IMG\",\n    \"INPUT\",\n    \"KEYGEN\",\n    \"LINK\",\n    \"META\",\n    \"PARAM\",\n    \"SOURCE\",\n    \"TRACK\",\n    \"WBR\"\n  ].includes(e.tagName);\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isSingleTag = void 0;\n  var t = q;\n  Object.defineProperty(e, \"isSingleTag\", { enumerable: !0, get: function() {\n    return t.isSingleTag;\n  } });\n})(E);\nObject.defineProperty(W, \"__esModule\", { value: !0 });\nW.getDeepestNode = pe;\nvar Lt = s, Mt = h, kt = E;\nfunction pe(e, t) {\n  t === void 0 && (t = !1);\n  var n = t ? \"lastChild\" : \"firstChild\", r = t ? \"previousSibling\" : \"nextSibling\";\n  if (e.nodeType === Node.ELEMENT_NODE && e[n]) {\n    var i = e[n];\n    if ((0, kt.isSingleTag)(i) && !(0, Lt.isNativeInput)(i) && !(0, Mt.isLineBreakTag)(i))\n      if (i[r])\n        i = i[r];\n      else if (i.parentNode !== null && i.parentNode[r])\n        i = i.parentNode[r];\n      else\n        return i.parentNode;\n    return pe(i, t);\n  }\n  return e;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.getDeepestNode = void 0;\n  var t = W;\n  Object.defineProperty(e, \"getDeepestNode\", { enumerable: !0, get: function() {\n    return t.getDeepestNode;\n  } });\n})(fe);\nvar ge = {}, z = {}, p = b && b.__spreadArray || function(e, t, n) {\n  if (n || arguments.length === 2)\n    for (var r = 0, i = t.length, a; r < i; r++)\n      (a || !(r in t)) && (a || (a = Array.prototype.slice.call(t, 0, r)), a[r] = t[r]);\n  return e.concat(a || Array.prototype.slice.call(t));\n};\nObject.defineProperty(z, \"__esModule\", { value: !0 });\nz.findAllInputs = $t;\nvar wt = _, Nt = R, It = P, At = s;\nfunction $t(e) {\n  return Array.from(e.querySelectorAll((0, It.allInputsSelector)())).reduce(function(t, n) {\n    return (0, At.isNativeInput)(n) || (0, wt.containsOnlyInlineElements)(n) ? p(p([], t, !0), [n], !1) : p(p([], t, !0), (0, Nt.getDeepestBlockElements)(n), !0);\n  }, []);\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.findAllInputs = void 0;\n  var t = z;\n  Object.defineProperty(e, \"findAllInputs\", { enumerable: !0, get: function() {\n    return t.findAllInputs;\n  } });\n})(ge);\nvar ve = {}, G = {};\nObject.defineProperty(G, \"__esModule\", { value: !0 });\nG.isCollapsedWhitespaces = Bt;\nfunction Bt(e) {\n  return !/[^\\t\\n\\r ]/.test(e);\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isCollapsedWhitespaces = void 0;\n  var t = G;\n  Object.defineProperty(e, \"isCollapsedWhitespaces\", { enumerable: !0, get: function() {\n    return t.isCollapsedWhitespaces;\n  } });\n})(ve);\nvar K = {}, X = {};\nObject.defineProperty(X, \"__esModule\", { value: !0 });\nX.isElement = Ht;\nvar Dt = $;\nfunction Ht(e) {\n  return (0, Dt.isNumber)(e) ? !1 : !!e && !!e.nodeType && e.nodeType === Node.ELEMENT_NODE;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isElement = void 0;\n  var t = X;\n  Object.defineProperty(e, \"isElement\", { enumerable: !0, get: function() {\n    return t.isElement;\n  } });\n})(K);\nvar me = {}, Y = {}, Q = {}, V = {};\nObject.defineProperty(V, \"__esModule\", { value: !0 });\nV.isLeaf = Rt;\nfunction Rt(e) {\n  return e === null ? !1 : e.childNodes.length === 0;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isLeaf = void 0;\n  var t = V;\n  Object.defineProperty(e, \"isLeaf\", { enumerable: !0, get: function() {\n    return t.isLeaf;\n  } });\n})(Q);\nvar Z = {}, J = {};\nObject.defineProperty(J, \"__esModule\", { value: !0 });\nJ.isNodeEmpty = zt;\nvar Ft = h, Wt = K, Ut = s, qt = E;\nfunction zt(e, t) {\n  var n = \"\";\n  return (0, qt.isSingleTag)(e) && !(0, Ft.isLineBreakTag)(e) ? !1 : ((0, Wt.isElement)(e) && (0, Ut.isNativeInput)(e) ? n = e.value : e.textContent !== null && (n = e.textContent.replace(\"​\", \"\")), t !== void 0 && (n = n.replace(new RegExp(t, \"g\"), \"\")), n.trim().length === 0);\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isNodeEmpty = void 0;\n  var t = J;\n  Object.defineProperty(e, \"isNodeEmpty\", { enumerable: !0, get: function() {\n    return t.isNodeEmpty;\n  } });\n})(Z);\nObject.defineProperty(Y, \"__esModule\", { value: !0 });\nY.isEmpty = Xt;\nvar Gt = Q, Kt = Z;\nfunction Xt(e, t) {\n  e.normalize();\n  for (var n = [e]; n.length > 0; ) {\n    var r = n.shift();\n    if (r) {\n      if (e = r, (0, Gt.isLeaf)(e) && !(0, Kt.isNodeEmpty)(e, t))\n        return !1;\n      n.push.apply(n, Array.from(e.childNodes));\n    }\n  }\n  return !0;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isEmpty = void 0;\n  var t = Y;\n  Object.defineProperty(e, \"isEmpty\", { enumerable: !0, get: function() {\n    return t.isEmpty;\n  } });\n})(me);\nvar be = {}, x = {};\nObject.defineProperty(x, \"__esModule\", { value: !0 });\nx.isFragment = Qt;\nvar Yt = $;\nfunction Qt(e) {\n  return (0, Yt.isNumber)(e) ? !1 : !!e && !!e.nodeType && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isFragment = void 0;\n  var t = x;\n  Object.defineProperty(e, \"isFragment\", { enumerable: !0, get: function() {\n    return t.isFragment;\n  } });\n})(be);\nvar _e = {}, ee = {};\nObject.defineProperty(ee, \"__esModule\", { value: !0 });\nee.isHTMLString = Zt;\nvar Vt = y;\nfunction Zt(e) {\n  var t = (0, Vt.make)(\"div\");\n  return t.innerHTML = e, t.childElementCount > 0;\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.isHTMLString = void 0;\n  var t = ee;\n  Object.defineProperty(e, \"isHTMLString\", { enumerable: !0, get: function() {\n    return t.isHTMLString;\n  } });\n})(_e);\nvar ye = {}, te = {};\nObject.defineProperty(te, \"__esModule\", { value: !0 });\nte.offset = Jt;\nfunction Jt(e) {\n  var t = e.getBoundingClientRect(), n = window.pageXOffset || document.documentElement.scrollLeft, r = window.pageYOffset || document.documentElement.scrollTop, i = t.top + r, a = t.left + n;\n  return {\n    top: i,\n    left: a,\n    bottom: i + t.height,\n    right: a + t.width\n  };\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.offset = void 0;\n  var t = te;\n  Object.defineProperty(e, \"offset\", { enumerable: !0, get: function() {\n    return t.offset;\n  } });\n})(ye);\nvar he = {}, ne = {};\nObject.defineProperty(ne, \"__esModule\", { value: !0 });\nne.prepend = xt;\nfunction xt(e, t) {\n  Array.isArray(t) ? (t = t.reverse(), t.forEach(function(n) {\n    return e.prepend(n);\n  })) : e.prepend(t);\n}\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.prepend = void 0;\n  var t = ne;\n  Object.defineProperty(e, \"prepend\", { enumerable: !0, get: function() {\n    return t.prepend;\n  } });\n})(he);\n(function(e) {\n  Object.defineProperty(e, \"__esModule\", { value: !0 }), e.prepend = e.offset = e.make = e.isLineBreakTag = e.isSingleTag = e.isNodeEmpty = e.isLeaf = e.isHTMLString = e.isFragment = e.isEmpty = e.isElement = e.isContentEditable = e.isCollapsedWhitespaces = e.findAllInputs = e.isNativeInput = e.allInputsSelector = e.getDeepestNode = e.getDeepestBlockElements = e.getContentLength = e.fragmentToString = e.containsOnlyInlineElements = e.canSetCaret = e.calculateBaseline = e.blockElements = e.append = void 0;\n  var t = P;\n  Object.defineProperty(e, \"allInputsSelector\", { enumerable: !0, get: function() {\n    return t.allInputsSelector;\n  } });\n  var n = s;\n  Object.defineProperty(e, \"isNativeInput\", { enumerable: !0, get: function() {\n    return n.isNativeInput;\n  } });\n  var r = ie;\n  Object.defineProperty(e, \"append\", { enumerable: !0, get: function() {\n    return r.append;\n  } });\n  var i = C;\n  Object.defineProperty(e, \"blockElements\", { enumerable: !0, get: function() {\n    return i.blockElements;\n  } });\n  var a = ae;\n  Object.defineProperty(e, \"calculateBaseline\", { enumerable: !0, get: function() {\n    return a.calculateBaseline;\n  } });\n  var l = le;\n  Object.defineProperty(e, \"canSetCaret\", { enumerable: !0, get: function() {\n    return l.canSetCaret;\n  } });\n  var u = _;\n  Object.defineProperty(e, \"containsOnlyInlineElements\", { enumerable: !0, get: function() {\n    return u.containsOnlyInlineElements;\n  } });\n  var d = ce;\n  Object.defineProperty(e, \"fragmentToString\", { enumerable: !0, get: function() {\n    return d.fragmentToString;\n  } });\n  var c = se;\n  Object.defineProperty(e, \"getContentLength\", { enumerable: !0, get: function() {\n    return c.getContentLength;\n  } });\n  var f = R;\n  Object.defineProperty(e, \"getDeepestBlockElements\", { enumerable: !0, get: function() {\n    return f.getDeepestBlockElements;\n  } });\n  var Oe = fe;\n  Object.defineProperty(e, \"getDeepestNode\", { enumerable: !0, get: function() {\n    return Oe.getDeepestNode;\n  } });\n  var Pe = ge;\n  Object.defineProperty(e, \"findAllInputs\", { enumerable: !0, get: function() {\n    return Pe.findAllInputs;\n  } });\n  var je = ve;\n  Object.defineProperty(e, \"isCollapsedWhitespaces\", { enumerable: !0, get: function() {\n    return je.isCollapsedWhitespaces;\n  } });\n  var Te = w;\n  Object.defineProperty(e, \"isContentEditable\", { enumerable: !0, get: function() {\n    return Te.isContentEditable;\n  } });\n  var Se = K;\n  Object.defineProperty(e, \"isElement\", { enumerable: !0, get: function() {\n    return Se.isElement;\n  } });\n  var Ce = me;\n  Object.defineProperty(e, \"isEmpty\", { enumerable: !0, get: function() {\n    return Ce.isEmpty;\n  } });\n  var Le = be;\n  Object.defineProperty(e, \"isFragment\", { enumerable: !0, get: function() {\n    return Le.isFragment;\n  } });\n  var Me = _e;\n  Object.defineProperty(e, \"isHTMLString\", { enumerable: !0, get: function() {\n    return Me.isHTMLString;\n  } });\n  var ke = Q;\n  Object.defineProperty(e, \"isLeaf\", { enumerable: !0, get: function() {\n    return ke.isLeaf;\n  } });\n  var we = Z;\n  Object.defineProperty(e, \"isNodeEmpty\", { enumerable: !0, get: function() {\n    return we.isNodeEmpty;\n  } });\n  var Ne = h;\n  Object.defineProperty(e, \"isLineBreakTag\", { enumerable: !0, get: function() {\n    return Ne.isLineBreakTag;\n  } });\n  var Ie = E;\n  Object.defineProperty(e, \"isSingleTag\", { enumerable: !0, get: function() {\n    return Ie.isSingleTag;\n  } });\n  var Ae = y;\n  Object.defineProperty(e, \"make\", { enumerable: !0, get: function() {\n    return Ae.make;\n  } });\n  var $e = ye;\n  Object.defineProperty(e, \"offset\", { enumerable: !0, get: function() {\n    return $e.offset;\n  } });\n  var Be = he;\n  Object.defineProperty(e, \"prepend\", { enumerable: !0, get: function() {\n    return Be.prepend;\n  } });\n})(g);\nvar Ee = /* @__PURE__ */ ((e) => (e.Left = \"left\", e.Center = \"center\", e))(Ee || {});\nclass m {\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {object} params - constructor params\n   * @param {QuoteData} params.data - previously saved data\n   * @param {QuoteConfig} params.config - user config for Tool\n   * @param {API} params.api - editor.js api\n   * @param {boolean} params.readOnly - read only mode flag\n   */\n  constructor({ data: t, config: n, api: r, readOnly: i, block: a }) {\n    const { DEFAULT_ALIGNMENT: l } = m;\n    this.api = r, this.readOnly = i, this._quotePlaceholder = n.quotePlaceholder || m.DEFAULT_QUOTE_PLACEHOLDER, this._captionPlaceholder = n.captionPlaceholder || m.DEFAULT_CAPTION_PLACEHOLDER, this._data = {\n      text: t.text || \"\",\n      caption: t.caption || \"\",\n      alignment: Object.values(Ee).includes(t.alignment) && t.alignment || n.defaultAlignment || l\n    }, this._CSS = {\n      baseClass: this.api.styles.block,\n      wrapper: \"cdx-quote\",\n      text: \"cdx-quote__text\",\n      input: this.api.styles.input,\n      caption: \"cdx-quote__caption\"\n    }, this._block = a;\n  }\n  /**\n   * Notify core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Get Tool toolbox settings\n   * icon - Tool icon's SVG\n   * title - title to show in toolbox\n   *\n   * @returns {{icon: string, title: string}}\n   */\n  static get toolbox() {\n    return {\n      icon: Re,\n      title: \"Quote\"\n    };\n  }\n  /**\n   * Empty Quote is not empty Block\n   *\n   * @public\n   * @returns {boolean}\n   */\n  static get contentless() {\n    return !0;\n  }\n  /**\n   * Allow to press Enter inside the Quote\n   *\n   * @public\n   * @returns {boolean}\n   */\n  static get enableLineBreaks() {\n    return !0;\n  }\n  /**\n   * Default placeholder for quote text\n   *\n   * @public\n   * @returns {string}\n   */\n  static get DEFAULT_QUOTE_PLACEHOLDER() {\n    return \"Enter a quote\";\n  }\n  /**\n   * Default placeholder for quote caption\n   *\n   * @public\n   * @returns {string}\n   */\n  static get DEFAULT_CAPTION_PLACEHOLDER() {\n    return \"Enter a caption\";\n  }\n  /**\n   * Default quote alignment\n   *\n   * @public\n   * @returns {string}\n   */\n  static get DEFAULT_ALIGNMENT() {\n    return \"left\";\n  }\n  /**\n   * Allow Quote to be converted to/from other blocks\n   */\n  static get conversionConfig() {\n    return {\n      /**\n       * To create Quote data from string, simple fill 'text' property\n       */\n      import: \"text\",\n      /**\n       * To create string from Quote data, concatenate text and caption\n       *\n       * @param {QuoteData} quoteData\n       * @returns {string}\n       */\n      export: function(t) {\n        return t.caption ? `${t.text} — ${t.caption}` : t.text;\n      }\n    };\n  }\n  /**\n   * Tool`s styles\n   *\n   * @returns {QuoteCSS}\n   */\n  get CSS() {\n    return {\n      baseClass: this.api.styles.block,\n      wrapper: \"cdx-quote\",\n      text: \"cdx-quote__text\",\n      input: this.api.styles.input,\n      caption: \"cdx-quote__caption\"\n    };\n  }\n  /**\n   * Tool`s settings properties\n   *\n   * @returns {*[]}\n   */\n  get settings() {\n    return [\n      {\n        name: \"left\",\n        icon: He\n      },\n      {\n        name: \"center\",\n        icon: De\n      }\n    ];\n  }\n  /**\n   * Create Quote Tool container with inputs\n   *\n   * @returns {Element}\n   */\n  render() {\n    const t = g.make(\"blockquote\", [\n      this._CSS.baseClass,\n      this._CSS.wrapper\n    ]), n = g.make(\"div\", [this._CSS.input, this._CSS.text], {\n      contentEditable: !this.readOnly,\n      innerHTML: this._data.text\n    }), r = g.make(\"div\", [this._CSS.input, this._CSS.caption], {\n      contentEditable: !this.readOnly,\n      innerHTML: this._data.caption\n    });\n    return n.dataset.placeholder = this._quotePlaceholder, r.dataset.placeholder = this._captionPlaceholder, t.appendChild(n), t.appendChild(r), t;\n  }\n  /**\n   * Extract Quote data from Quote Tool element\n   *\n   * @param {HTMLDivElement} quoteElement - element to save\n   * @returns {QuoteData}\n   */\n  save(t) {\n    const n = t.querySelector(`.${this._CSS.text}`), r = t.querySelector(`.${this._CSS.caption}`);\n    return Object.assign(this._data, {\n      text: (n == null ? void 0 : n.innerHTML) ?? \"\",\n      caption: (r == null ? void 0 : r.innerHTML) ?? \"\"\n    });\n  }\n  /**\n   * Sanitizer rules\n   */\n  static get sanitize() {\n    return {\n      text: {\n        br: !0\n      },\n      caption: {\n        br: !0\n      },\n      alignment: {}\n    };\n  }\n  /**\n   * Create wrapper for Tool`s settings buttons:\n   * 1. Left alignment\n   * 2. Center alignment\n   *\n   * @returns {MenuConfig}\n   *\n   */\n  renderSettings() {\n    const t = (n) => n && n[0].toUpperCase() + n.slice(1);\n    return this.settings.map((n) => ({\n      icon: n.icon,\n      label: this.api.i18n.t(`Align ${t(n.name)}`),\n      onActivate: () => this._toggleTune(n.name),\n      isActive: this._data.alignment === n.name,\n      closeOnActivate: !0\n    }));\n  }\n  /**\n   * Toggle quote`s alignment\n   *\n   * @param {string} tune - alignment\n   * @private\n   */\n  _toggleTune(t) {\n    this._data.alignment = t, this._block.dispatchChange();\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL3F1b3RlL2Rpc3QvcXVvdGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxZQUFZLGFBQWEsSUFBSSx3QkFBd0Isc0NBQXNDLDJEQUEyRCx5QkFBeUIsV0FBVyxTQUFTLGlCQUFpQixpQkFBaUIsbUJBQW1CLDJEQUEyRCxrQkFBa0IsK0JBQStCLGNBQWMsZ0JBQWdCLFVBQVUsaUVBQWlFLFVBQVUsdUVBQXVFLFVBQVUsb0JBQW9CLGFBQWEseUNBQXlDLFVBQVUsa0NBQWtDLFNBQVMsbURBQW1EO0FBQzF0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esa0RBQWtELFdBQVc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLFVBQVUsUUFBUTtBQUNsQix5Q0FBeUMsV0FBVztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwyQ0FBMkMsV0FBVztBQUN0RDtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBLEtBQUs7QUFDTCxDQUFDO0FBQ0QsVUFBVTtBQUNWLHlDQUF5QyxXQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxXQUFXO0FBQ3REO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRCxXQUFXO0FBQ1gseUNBQXlDLFdBQVc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJDQUEyQyxXQUFXO0FBQ3REO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRCxVQUFVO0FBQ1YseUNBQXlDLFdBQVc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFVBQVU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9xdW90ZS9kaXN0L3F1b3RlLm1qcz9jZGE2Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3RyeXtpZih0eXBlb2YgZG9jdW1lbnQ8XCJ1XCIpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiLmNkeC1xdW90ZS1pY29uIHN2Z3t0cmFuc2Zvcm06cm90YXRlKDE4MGRlZyl9LmNkeC1xdW90ZXttYXJnaW46MH0uY2R4LXF1b3RlX190ZXh0e21pbi1oZWlnaHQ6MTU4cHg7bWFyZ2luLWJvdHRvbToxMHB4fS5jZHgtcXVvdGUgW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXIpO2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NDAwO29wYWNpdHk6MH0uY2R4LXF1b3RlIFtjb250ZW50RWRpdGFibGU9dHJ1ZV1bZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6YmVmb3Jle29wYWNpdHk6MX0uY2R4LXF1b3RlIFtjb250ZW50RWRpdGFibGU9dHJ1ZV1bZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6Zm9jdXM6YmVmb3Jle29wYWNpdHk6MH0uY2R4LXF1b3RlLXNldHRpbmdze2Rpc3BsYXk6ZmxleH0uY2R4LXF1b3RlLXNldHRpbmdzIC5jZHgtc2V0dGluZ3MtYnV0dG9ue3dpZHRoOjUwJX1cIikpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodCl9fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIixlKX19KSgpO1xuY29uc3QgRGUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4IDdMNiA3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOCAxN0g2XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiAxMkw4IDEyXCIvPjwvc3ZnPicsIEhlID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNyA3TDUgN1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTcgMTdINVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTMgMTJMNSAxMlwiLz48L3N2Zz4nLCBSZSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMCAxMC44MTgyTDkgMTAuODE4MkM4LjgwMjIyIDEwLjgxODIgOC42MDg4OCAxMC43NjQ5IDguNDQ0NDMgMTAuNjY1QzguMjc5OTggMTAuNTY1MSA4LjE1MTgxIDEwLjQyMzEgOC4wNzYxMiAxMC4yNTdDOC4wMDA0MyAxMC4wOTA5IDcuOTgwNjMgOS45MDgwOCA4LjAxOTIyIDkuNzMxNzRDOC4wNTc4IDkuNTU1MzkgOC4xNTMwNCA5LjM5MzQxIDguMjkyODkgOS4yNjYyN0M4LjQzMjc1IDkuMTM5MTMgOC42MTA5MyA5LjA1MjU1IDguODA0OTEgOS4wMTc0N0M4Ljk5ODg5IDguOTgyMzkgOS4xOTk5NiA5LjAwMDM5IDkuMzgyNjggOS4wNjkyQzkuNTY1NDEgOS4xMzgwMSA5LjcyMTU5IDkuMjU0NTMgOS44MzE0NyA5LjQwNDAzQzkuOTQxMzUgOS41NTM1MyAxMCA5LjcyOTI5IDEwIDkuOTA5MDlMMTAgMTIuMTgxOEMxMCAxMi42NjQgOS43ODkyOSAxMy4xMjY1IDkuNDE0MjEgMTMuNDY3NUM5LjAzOTE0IDEzLjgwODQgOC41MzA0MyAxNCA4IDE0XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDEwLjgxODJMMTUgMTAuODE4MkMxNC44MDIyIDEwLjgxODIgMTQuNjA4OSAxMC43NjQ5IDE0LjQ0NDQgMTAuNjY1QzE0LjI4IDEwLjU2NTEgMTQuMTUxOCAxMC40MjMxIDE0LjA3NjEgMTAuMjU3QzE0LjAwMDQgMTAuMDkwOSAxMy45ODA2IDkuOTA4MDggMTQuMDE5MiA5LjczMTc0QzE0LjA1NzggOS41NTUzOSAxNC4xNTMgOS4zOTM0MSAxNC4yOTI5IDkuMjY2MjdDMTQuNDMyNyA5LjEzOTEzIDE0LjYxMDkgOS4wNTI1NSAxNC44MDQ5IDkuMDE3NDdDMTQuOTk4OSA4Ljk4MjM5IDE1LjIgOS4wMDAzOSAxNS4zODI3IDkuMDY5MkMxNS41NjU0IDkuMTM4MDEgMTUuNzIxNiA5LjI1NDUzIDE1LjgzMTUgOS40MDQwM0MxNS45NDE0IDkuNTUzNTMgMTYgOS43MjkyOSAxNiA5LjkwOTA5TDE2IDEyLjE4MThDMTYgMTIuNjY0IDE1Ljc4OTMgMTMuMTI2NSAxNS40MTQyIDEzLjQ2NzVDMTUuMDM5MSAxMy44MDg0IDE0LjUzMDQgMTQgMTQgMTRcIi8+PC9zdmc+JztcbnZhciBiID0gdHlwZW9mIGdsb2JhbFRoaXMgPCBcInVcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsIDwgXCJ1XCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiA8IFwidVwiID8gc2VsZiA6IHt9O1xuZnVuY3Rpb24gRmUoZSkge1xuICBpZiAoZS5fX2VzTW9kdWxlKVxuICAgIHJldHVybiBlO1xuICB2YXIgdCA9IGUuZGVmYXVsdDtcbiAgaWYgKHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBuID0gZnVuY3Rpb24gcigpIHtcbiAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgciA/IFJlZmxlY3QuY29uc3RydWN0KHQsIGFyZ3VtZW50cywgdGhpcy5jb25zdHJ1Y3RvcikgOiB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICBuLnByb3RvdHlwZSA9IHQucHJvdG90eXBlO1xuICB9IGVsc2VcbiAgICBuID0ge307XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHIpIHtcbiAgICB2YXIgaSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcik7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIHIsIGkuZ2V0ID8gaSA6IHtcbiAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGVbcl07XG4gICAgICB9XG4gICAgfSk7XG4gIH0pLCBuO1xufVxudmFyIGcgPSB7fSwgUCA9IHt9LCBqID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoaiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuai5hbGxJbnB1dHNTZWxlY3RvciA9IFdlO1xuZnVuY3Rpb24gV2UoKSB7XG4gIHZhciBlID0gW1widGV4dFwiLCBcInBhc3N3b3JkXCIsIFwiZW1haWxcIiwgXCJudW1iZXJcIiwgXCJzZWFyY2hcIiwgXCJ0ZWxcIiwgXCJ1cmxcIl07XG4gIHJldHVybiBcIltjb250ZW50ZWRpdGFibGU9dHJ1ZV0sIHRleHRhcmVhLCBpbnB1dDpub3QoW3R5cGVdKSwgXCIgKyBlLm1hcChmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuICdpbnB1dFt0eXBlPVwiJy5jb25jYXQodCwgJ1wiXScpO1xuICB9KS5qb2luKFwiLCBcIik7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmFsbElucHV0c1NlbGVjdG9yID0gdm9pZCAwO1xuICB2YXIgdCA9IGo7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImFsbElucHV0c1NlbGVjdG9yXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuYWxsSW5wdXRzU2VsZWN0b3I7XG4gIH0gfSk7XG59KShQKTtcbnZhciBzID0ge30sIFQgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShULCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5ULmlzTmF0aXZlSW5wdXQgPSBVZTtcbmZ1bmN0aW9uIFVlKGUpIHtcbiAgdmFyIHQgPSBbXG4gICAgXCJJTlBVVFwiLFxuICAgIFwiVEVYVEFSRUFcIlxuICBdO1xuICByZXR1cm4gZSAmJiBlLnRhZ05hbWUgPyB0LmluY2x1ZGVzKGUudGFnTmFtZSkgOiAhMTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuaXNOYXRpdmVJbnB1dCA9IHZvaWQgMDtcbiAgdmFyIHQgPSBUO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc05hdGl2ZUlucHV0XCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuaXNOYXRpdmVJbnB1dDtcbiAgfSB9KTtcbn0pKHMpO1xudmFyIGllID0ge30sIFMgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5TLmFwcGVuZCA9IHFlO1xuZnVuY3Rpb24gcWUoZSwgdCkge1xuICBBcnJheS5pc0FycmF5KHQpID8gdC5mb3JFYWNoKGZ1bmN0aW9uKG4pIHtcbiAgICBlLmFwcGVuZENoaWxkKG4pO1xuICB9KSA6IGUuYXBwZW5kQ2hpbGQodCk7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmFwcGVuZCA9IHZvaWQgMDtcbiAgdmFyIHQgPSBTO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJhcHBlbmRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5hcHBlbmQ7XG4gIH0gfSk7XG59KShpZSk7XG52YXIgQyA9IHt9LCBMID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTCwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuTC5ibG9ja0VsZW1lbnRzID0gemU7XG5mdW5jdGlvbiB6ZSgpIHtcbiAgcmV0dXJuIFtcbiAgICBcImFkZHJlc3NcIixcbiAgICBcImFydGljbGVcIixcbiAgICBcImFzaWRlXCIsXG4gICAgXCJibG9ja3F1b3RlXCIsXG4gICAgXCJjYW52YXNcIixcbiAgICBcImRpdlwiLFxuICAgIFwiZGxcIixcbiAgICBcImR0XCIsXG4gICAgXCJmaWVsZHNldFwiLFxuICAgIFwiZmlnY2FwdGlvblwiLFxuICAgIFwiZmlndXJlXCIsXG4gICAgXCJmb290ZXJcIixcbiAgICBcImZvcm1cIixcbiAgICBcImgxXCIsXG4gICAgXCJoMlwiLFxuICAgIFwiaDNcIixcbiAgICBcImg0XCIsXG4gICAgXCJoNVwiLFxuICAgIFwiaDZcIixcbiAgICBcImhlYWRlclwiLFxuICAgIFwiaGdyb3VwXCIsXG4gICAgXCJoclwiLFxuICAgIFwibGlcIixcbiAgICBcIm1haW5cIixcbiAgICBcIm5hdlwiLFxuICAgIFwibm9zY3JpcHRcIixcbiAgICBcIm9sXCIsXG4gICAgXCJvdXRwdXRcIixcbiAgICBcInBcIixcbiAgICBcInByZVwiLFxuICAgIFwicnVieVwiLFxuICAgIFwic2VjdGlvblwiLFxuICAgIFwidGFibGVcIixcbiAgICBcInRib2R5XCIsXG4gICAgXCJ0aGVhZFwiLFxuICAgIFwidHJcIixcbiAgICBcInRmb290XCIsXG4gICAgXCJ1bFwiLFxuICAgIFwidmlkZW9cIlxuICBdO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5ibG9ja0VsZW1lbnRzID0gdm9pZCAwO1xuICB2YXIgdCA9IEw7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImJsb2NrRWxlbWVudHNcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5ibG9ja0VsZW1lbnRzO1xuICB9IH0pO1xufSkoQyk7XG52YXIgYWUgPSB7fSwgTSA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KE0sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbk0uY2FsY3VsYXRlQmFzZWxpbmUgPSBHZTtcbmZ1bmN0aW9uIEdlKGUpIHtcbiAgdmFyIHQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKSwgbiA9IHBhcnNlRmxvYXQodC5mb250U2l6ZSksIHIgPSBwYXJzZUZsb2F0KHQubGluZUhlaWdodCkgfHwgbiAqIDEuMiwgaSA9IHBhcnNlRmxvYXQodC5wYWRkaW5nVG9wKSwgYSA9IHBhcnNlRmxvYXQodC5ib3JkZXJUb3BXaWR0aCksIGwgPSBwYXJzZUZsb2F0KHQubWFyZ2luVG9wKSwgdSA9IG4gKiAwLjgsIGQgPSAociAtIG4pIC8gMiwgYyA9IGwgKyBhICsgaSArIGQgKyB1O1xuICByZXR1cm4gYztcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuY2FsY3VsYXRlQmFzZWxpbmUgPSB2b2lkIDA7XG4gIHZhciB0ID0gTTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiY2FsY3VsYXRlQmFzZWxpbmVcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5jYWxjdWxhdGVCYXNlbGluZTtcbiAgfSB9KTtcbn0pKGFlKTtcbnZhciBsZSA9IHt9LCBrID0ge30sIHcgPSB7fSwgTiA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KE4sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbk4uaXNDb250ZW50RWRpdGFibGUgPSBLZTtcbmZ1bmN0aW9uIEtlKGUpIHtcbiAgcmV0dXJuIGUuY29udGVudEVkaXRhYmxlID09PSBcInRydWVcIjtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuaXNDb250ZW50RWRpdGFibGUgPSB2b2lkIDA7XG4gIHZhciB0ID0gTjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNDb250ZW50RWRpdGFibGVcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5pc0NvbnRlbnRFZGl0YWJsZTtcbiAgfSB9KTtcbn0pKHcpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGssIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbmsuY2FuU2V0Q2FyZXQgPSBRZTtcbnZhciBYZSA9IHMsIFllID0gdztcbmZ1bmN0aW9uIFFlKGUpIHtcbiAgdmFyIHQgPSAhMDtcbiAgaWYgKCgwLCBYZS5pc05hdGl2ZUlucHV0KShlKSlcbiAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxuICAgICAgY2FzZSBcInJhZGlvXCI6XG4gICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICBjYXNlIFwic3VibWl0XCI6XG4gICAgICBjYXNlIFwiYnV0dG9uXCI6XG4gICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgIGNhc2UgXCJyZXNldFwiOlxuICAgICAgICB0ID0gITE7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgZWxzZVxuICAgIHQgPSAoMCwgWWUuaXNDb250ZW50RWRpdGFibGUpKGUpO1xuICByZXR1cm4gdDtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuY2FuU2V0Q2FyZXQgPSB2b2lkIDA7XG4gIHZhciB0ID0gaztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiY2FuU2V0Q2FyZXRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5jYW5TZXRDYXJldDtcbiAgfSB9KTtcbn0pKGxlKTtcbnZhciBfID0ge30sIEkgPSB7fTtcbmZ1bmN0aW9uIFZlKGUsIHQsIG4pIHtcbiAgY29uc3QgciA9IG4udmFsdWUgIT09IHZvaWQgMCA/IFwidmFsdWVcIiA6IFwiZ2V0XCIsIGkgPSBuW3JdLCBhID0gYCMke3R9Q2FjaGVgO1xuICBpZiAobltyXSA9IGZ1bmN0aW9uKC4uLmwpIHtcbiAgICByZXR1cm4gdGhpc1thXSA9PT0gdm9pZCAwICYmICh0aGlzW2FdID0gaS5hcHBseSh0aGlzLCBsKSksIHRoaXNbYV07XG4gIH0sIHIgPT09IFwiZ2V0XCIgJiYgbi5zZXQpIHtcbiAgICBjb25zdCBsID0gbi5zZXQ7XG4gICAgbi5zZXQgPSBmdW5jdGlvbih1KSB7XG4gICAgICBkZWxldGUgZVthXSwgbC5hcHBseSh0aGlzLCB1KTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gdWUoKSB7XG4gIGNvbnN0IGUgPSB7XG4gICAgd2luOiAhMSxcbiAgICBtYWM6ICExLFxuICAgIHgxMTogITEsXG4gICAgbGludXg6ICExXG4gIH0sIHQgPSBPYmplY3Qua2V5cyhlKS5maW5kKChuKSA9PiB3aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKG4pICE9PSAtMSk7XG4gIHJldHVybiB0ICE9PSB2b2lkIDAgJiYgKGVbdF0gPSAhMCksIGU7XG59XG5mdW5jdGlvbiBBKGUpIHtcbiAgcmV0dXJuIGUgIT0gbnVsbCAmJiBlICE9PSBcIlwiICYmICh0eXBlb2YgZSAhPSBcIm9iamVjdFwiIHx8IE9iamVjdC5rZXlzKGUpLmxlbmd0aCA+IDApO1xufVxuZnVuY3Rpb24gWmUoZSkge1xuICByZXR1cm4gIUEoZSk7XG59XG5jb25zdCBKZSA9ICgpID0+IHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB3aW5kb3cubmF2aWdhdG9yICE9PSBudWxsICYmIEEod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSkgJiYgKC9pUChhZHxob25lfG9kKS8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKSB8fCB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtID09PSBcIk1hY0ludGVsXCIgJiYgd2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEpO1xuZnVuY3Rpb24geGUoZSkge1xuICBjb25zdCB0ID0gdWUoKTtcbiAgcmV0dXJuIGUgPSBlLnJlcGxhY2UoL3NoaWZ0L2dpLCBcIuKHp1wiKS5yZXBsYWNlKC9iYWNrc3BhY2UvZ2ksIFwi4oyrXCIpLnJlcGxhY2UoL2VudGVyL2dpLCBcIuKPjlwiKS5yZXBsYWNlKC91cC9naSwgXCLihpFcIikucmVwbGFjZSgvbGVmdC9naSwgXCLihpJcIikucmVwbGFjZSgvZG93bi9naSwgXCLihpNcIikucmVwbGFjZSgvcmlnaHQvZ2ksIFwi4oaQXCIpLnJlcGxhY2UoL2VzY2FwZS9naSwgXCLijotcIikucmVwbGFjZSgvaW5zZXJ0L2dpLCBcIkluc1wiKS5yZXBsYWNlKC9kZWxldGUvZ2ksIFwi4pChXCIpLnJlcGxhY2UoL1xcKy9naSwgXCIrXCIpLCB0Lm1hYyA/IGUgPSBlLnJlcGxhY2UoL2N0cmx8Y21kL2dpLCBcIuKMmFwiKS5yZXBsYWNlKC9hbHQvZ2ksIFwi4oylXCIpIDogZSA9IGUucmVwbGFjZSgvY21kL2dpLCBcIkN0cmxcIikucmVwbGFjZSgvd2luZG93cy9naSwgXCJXSU5cIiksIGU7XG59XG5mdW5jdGlvbiBldChlKSB7XG4gIHJldHVybiBlWzBdLnRvVXBwZXJDYXNlKCkgKyBlLnNsaWNlKDEpO1xufVxuZnVuY3Rpb24gdHQoZSkge1xuICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIiwgdC5zdHlsZS5sZWZ0ID0gXCItOTk5cHhcIiwgdC5zdHlsZS5ib3R0b20gPSBcIi05OTlweFwiLCB0LmlubmVySFRNTCA9IGUsIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCk7XG4gIGNvbnN0IG4gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCksIHIgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICBpZiAoci5zZWxlY3ROb2RlKHQpLCBuID09PSBudWxsKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb3B5IHRleHQgdG8gY2xpcGJvYXJkXCIpO1xuICBuLnJlbW92ZUFsbFJhbmdlcygpLCBuLmFkZFJhbmdlKHIpLCBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIiksIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCk7XG59XG5mdW5jdGlvbiBudChlLCB0LCBuKSB7XG4gIGxldCByO1xuICByZXR1cm4gKC4uLmkpID0+IHtcbiAgICBjb25zdCBhID0gdGhpcywgbCA9ICgpID0+IHtcbiAgICAgIHIgPSB2b2lkIDAsIG4gIT09ICEwICYmIGUuYXBwbHkoYSwgaSk7XG4gICAgfSwgdSA9IG4gPT09ICEwICYmIHIgIT09IHZvaWQgMDtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHIpLCByID0gd2luZG93LnNldFRpbWVvdXQobCwgdCksIHUgJiYgZS5hcHBseShhLCBpKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIG8oZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLm1hdGNoKC9cXHMoW2EtekEtWl0rKS8pWzFdLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBydChlKSB7XG4gIHJldHVybiBvKGUpID09PSBcImJvb2xlYW5cIjtcbn1cbmZ1bmN0aW9uIG9lKGUpIHtcbiAgcmV0dXJuIG8oZSkgPT09IFwiZnVuY3Rpb25cIiB8fCBvKGUpID09PSBcImFzeW5jZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGl0KGUpIHtcbiAgcmV0dXJuIG9lKGUpICYmIC9eXFxzKmNsYXNzXFxzKy8udGVzdChlLnRvU3RyaW5nKCkpO1xufVxuZnVuY3Rpb24gYXQoZSkge1xuICByZXR1cm4gbyhlKSA9PT0gXCJudW1iZXJcIjtcbn1cbmZ1bmN0aW9uIHYoZSkge1xuICByZXR1cm4gbyhlKSA9PT0gXCJvYmplY3RcIjtcbn1cbmZ1bmN0aW9uIGx0KGUpIHtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlKSA9PT0gZTtcbn1cbmZ1bmN0aW9uIHV0KGUpIHtcbiAgcmV0dXJuIG8oZSkgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBvdChlKSB7XG4gIHJldHVybiBvKGUpID09PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gTyhlLCAuLi50KSB7XG4gIGlmICghdC5sZW5ndGgpXG4gICAgcmV0dXJuIGU7XG4gIGNvbnN0IG4gPSB0LnNoaWZ0KCk7XG4gIGlmICh2KGUpICYmIHYobikpXG4gICAgZm9yIChjb25zdCByIGluIG4pXG4gICAgICB2KG5bcl0pID8gKGVbcl0gPT09IHZvaWQgMCAmJiBPYmplY3QuYXNzaWduKGUsIHsgW3JdOiB7fSB9KSwgTyhlW3JdLCBuW3JdKSkgOiBPYmplY3QuYXNzaWduKGUsIHsgW3JdOiBuW3JdIH0pO1xuICByZXR1cm4gTyhlLCAuLi50KTtcbn1cbmZ1bmN0aW9uIGN0KGUsIHQsIG4pIHtcbiAgY29uc3QgciA9IGDCqyR7dH3CuyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHVzZSB0aGUgwqske259wrsgaW5zdGVhZC5gO1xuICBlICYmIGNvbnNvbGUud2FybihyKTtcbn1cbmZ1bmN0aW9uIHN0KGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IFVSTChlKS5ocmVmO1xuICB9IGNhdGNoIHtcbiAgfVxuICByZXR1cm4gZS5zdWJzdHJpbmcoMCwgMikgPT09IFwiLy9cIiA/IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIGUgOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgZTtcbn1cbmZ1bmN0aW9uIGR0KGUpIHtcbiAgcmV0dXJuIGUgPiA0NyAmJiBlIDwgNTggfHwgZSA9PT0gMzIgfHwgZSA9PT0gMTMgfHwgZSA9PT0gMjI5IHx8IGUgPiA2NCAmJiBlIDwgOTEgfHwgZSA+IDk1ICYmIGUgPCAxMTIgfHwgZSA+IDE4NSAmJiBlIDwgMTkzIHx8IGUgPiAyMTggJiYgZSA8IDIyMztcbn1cbmNvbnN0IGZ0ID0ge1xuICBCQUNLU1BBQ0U6IDgsXG4gIFRBQjogOSxcbiAgRU5URVI6IDEzLFxuICBTSElGVDogMTYsXG4gIENUUkw6IDE3LFxuICBBTFQ6IDE4LFxuICBFU0M6IDI3LFxuICBTUEFDRTogMzIsXG4gIExFRlQ6IDM3LFxuICBVUDogMzgsXG4gIERPV046IDQwLFxuICBSSUdIVDogMzksXG4gIERFTEVURTogNDYsXG4gIE1FVEE6IDkxLFxuICBTTEFTSDogMTkxXG59LCBwdCA9IHtcbiAgTEVGVDogMCxcbiAgV0hFRUw6IDEsXG4gIFJJR0hUOiAyLFxuICBCQUNLV0FSRDogMyxcbiAgRk9SV0FSRDogNFxufTtcbmNsYXNzIGd0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21wbGV0ZWQgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICAvKipcbiAgICogQWRkIG5ldyBwcm9taXNlIHRvIHF1ZXVlXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBwcm9taXNlIHNob3VsZCBiZSBhZGRlZCB0byBxdWV1ZVxuICAgKi9cbiAgYWRkKHQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKG4sIHIpID0+IHtcbiAgICAgIHRoaXMuY29tcGxldGVkID0gdGhpcy5jb21wbGV0ZWQudGhlbih0KS50aGVuKG4pLmNhdGNoKHIpO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiB2dChlLCB0LCBuID0gdm9pZCAwKSB7XG4gIGxldCByLCBpLCBhLCBsID0gbnVsbCwgdSA9IDA7XG4gIG4gfHwgKG4gPSB7fSk7XG4gIGNvbnN0IGQgPSBmdW5jdGlvbigpIHtcbiAgICB1ID0gbi5sZWFkaW5nID09PSAhMSA/IDAgOiBEYXRlLm5vdygpLCBsID0gbnVsbCwgYSA9IGUuYXBwbHkociwgaSksIGwgPT09IG51bGwgJiYgKHIgPSBpID0gbnVsbCk7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBjID0gRGF0ZS5ub3coKTtcbiAgICAhdSAmJiBuLmxlYWRpbmcgPT09ICExICYmICh1ID0gYyk7XG4gICAgY29uc3QgZiA9IHQgLSAoYyAtIHUpO1xuICAgIHJldHVybiByID0gdGhpcywgaSA9IGFyZ3VtZW50cywgZiA8PSAwIHx8IGYgPiB0ID8gKGwgJiYgKGNsZWFyVGltZW91dChsKSwgbCA9IG51bGwpLCB1ID0gYywgYSA9IGUuYXBwbHkociwgaSksIGwgPT09IG51bGwgJiYgKHIgPSBpID0gbnVsbCkpIDogIWwgJiYgbi50cmFpbGluZyAhPT0gITEgJiYgKGwgPSBzZXRUaW1lb3V0KGQsIGYpKSwgYTtcbiAgfTtcbn1cbmNvbnN0IG10ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgUHJvbWlzZVF1ZXVlOiBndCxcbiAgYmVhdXRpZnlTaG9ydGN1dDogeGUsXG4gIGNhY2hlYWJsZTogVmUsXG4gIGNhcGl0YWxpemU6IGV0LFxuICBjb3B5VGV4dFRvQ2xpcGJvYXJkOiB0dCxcbiAgZGVib3VuY2U6IG50LFxuICBkZWVwTWVyZ2U6IE8sXG4gIGRlcHJlY2F0aW9uQXNzZXJ0OiBjdCxcbiAgZ2V0VXNlck9TOiB1ZSxcbiAgZ2V0VmFsaWRVcmw6IHN0LFxuICBpc0Jvb2xlYW46IHJ0LFxuICBpc0NsYXNzOiBpdCxcbiAgaXNFbXB0eTogWmUsXG4gIGlzRnVuY3Rpb246IG9lLFxuICBpc0lvc0RldmljZTogSmUsXG4gIGlzTnVtYmVyOiBhdCxcbiAgaXNPYmplY3Q6IHYsXG4gIGlzUHJpbnRhYmxlS2V5OiBkdCxcbiAgaXNQcm9taXNlOiBsdCxcbiAgaXNTdHJpbmc6IHV0LFxuICBpc1VuZGVmaW5lZDogb3QsXG4gIGtleUNvZGVzOiBmdCxcbiAgbW91c2VCdXR0b25zOiBwdCxcbiAgbm90RW1wdHk6IEEsXG4gIHRocm90dGxlOiB2dCxcbiAgdHlwZU9mOiBvXG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSkpLCAkID0gLyogQF9fUFVSRV9fICovIEZlKG10KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5JLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzID0geXQ7XG52YXIgYnQgPSAkLCBfdCA9IEM7XG5mdW5jdGlvbiB5dChlKSB7XG4gIHZhciB0O1xuICAoMCwgYnQuaXNTdHJpbmcpKGUpID8gKHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCB0LmlubmVySFRNTCA9IGUpIDogdCA9IGU7XG4gIHZhciBuID0gZnVuY3Rpb24ocikge1xuICAgIHJldHVybiAhKDAsIF90LmJsb2NrRWxlbWVudHMpKCkuaW5jbHVkZXMoci50YWdOYW1lLnRvTG93ZXJDYXNlKCkpICYmIEFycmF5LmZyb20oci5jaGlsZHJlbikuZXZlcnkobik7XG4gIH07XG4gIHJldHVybiBBcnJheS5mcm9tKHQuY2hpbGRyZW4pLmV2ZXJ5KG4pO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5jb250YWluc09ubHlJbmxpbmVFbGVtZW50cyA9IHZvaWQgMDtcbiAgdmFyIHQgPSBJO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJjb250YWluc09ubHlJbmxpbmVFbGVtZW50c1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzO1xuICB9IH0pO1xufSkoXyk7XG52YXIgY2UgPSB7fSwgQiA9IHt9LCB5ID0ge30sIEQgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShELCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5ELm1ha2UgPSBodDtcbmZ1bmN0aW9uIGh0KGUsIHQsIG4pIHtcbiAgdmFyIHI7XG4gIHQgPT09IHZvaWQgMCAmJiAodCA9IG51bGwpLCBuID09PSB2b2lkIDAgJiYgKG4gPSB7fSk7XG4gIHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcbiAgICB2YXIgYSA9IHQuZmlsdGVyKGZ1bmN0aW9uKHUpIHtcbiAgICAgIHJldHVybiB1ICE9PSB2b2lkIDA7XG4gICAgfSk7XG4gICAgKHIgPSBpLmNsYXNzTGlzdCkuYWRkLmFwcGx5KHIsIGEpO1xuICB9IGVsc2VcbiAgICB0ICE9PSBudWxsICYmIGkuY2xhc3NMaXN0LmFkZCh0KTtcbiAgZm9yICh2YXIgbCBpbiBuKVxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCBsKSAmJiAoaVtsXSA9IG5bbF0pO1xuICByZXR1cm4gaTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUubWFrZSA9IHZvaWQgMDtcbiAgdmFyIHQgPSBEO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJtYWtlXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQubWFrZTtcbiAgfSB9KTtcbn0pKHkpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbkIuZnJhZ21lbnRUb1N0cmluZyA9IE90O1xudmFyIEV0ID0geTtcbmZ1bmN0aW9uIE90KGUpIHtcbiAgdmFyIHQgPSAoMCwgRXQubWFrZSkoXCJkaXZcIik7XG4gIHJldHVybiB0LmFwcGVuZENoaWxkKGUpLCB0LmlubmVySFRNTDtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuZnJhZ21lbnRUb1N0cmluZyA9IHZvaWQgMDtcbiAgdmFyIHQgPSBCO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJmcmFnbWVudFRvU3RyaW5nXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuZnJhZ21lbnRUb1N0cmluZztcbiAgfSB9KTtcbn0pKGNlKTtcbnZhciBzZSA9IHt9LCBIID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSCwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuSC5nZXRDb250ZW50TGVuZ3RoID0ganQ7XG52YXIgUHQgPSBzO1xuZnVuY3Rpb24ganQoZSkge1xuICB2YXIgdCwgbjtcbiAgcmV0dXJuICgwLCBQdC5pc05hdGl2ZUlucHV0KShlKSA/IGUudmFsdWUubGVuZ3RoIDogZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgPyBlLmxlbmd0aCA6IChuID0gKHQgPSBlLnRleHRDb250ZW50KSA9PT0gbnVsbCB8fCB0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0Lmxlbmd0aCkgIT09IG51bGwgJiYgbiAhPT0gdm9pZCAwID8gbiA6IDA7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmdldENvbnRlbnRMZW5ndGggPSB2b2lkIDA7XG4gIHZhciB0ID0gSDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiZ2V0Q29udGVudExlbmd0aFwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmdldENvbnRlbnRMZW5ndGg7XG4gIH0gfSk7XG59KShzZSk7XG52YXIgUiA9IHt9LCBGID0ge30sIHJlID0gYiAmJiBiLl9fc3ByZWFkQXJyYXkgfHwgZnVuY3Rpb24oZSwgdCwgbikge1xuICBpZiAobiB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKVxuICAgIGZvciAodmFyIHIgPSAwLCBpID0gdC5sZW5ndGgsIGE7IHIgPCBpOyByKyspXG4gICAgICAoYSB8fCAhKHIgaW4gdCkpICYmIChhIHx8IChhID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwgMCwgcikpLCBhW3JdID0gdFtyXSk7XG4gIHJldHVybiBlLmNvbmNhdChhIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuRi5nZXREZWVwZXN0QmxvY2tFbGVtZW50cyA9IGRlO1xudmFyIFR0ID0gXztcbmZ1bmN0aW9uIGRlKGUpIHtcbiAgcmV0dXJuICgwLCBUdC5jb250YWluc09ubHlJbmxpbmVFbGVtZW50cykoZSkgPyBbZV0gOiBBcnJheS5mcm9tKGUuY2hpbGRyZW4pLnJlZHVjZShmdW5jdGlvbih0LCBuKSB7XG4gICAgcmV0dXJuIHJlKHJlKFtdLCB0LCAhMCksIGRlKG4pLCAhMCk7XG4gIH0sIFtdKTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHMgPSB2b2lkIDA7XG4gIHZhciB0ID0gRjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHNcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5nZXREZWVwZXN0QmxvY2tFbGVtZW50cztcbiAgfSB9KTtcbn0pKFIpO1xudmFyIGZlID0ge30sIFcgPSB7fSwgaCA9IHt9LCBVID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuVS5pc0xpbmVCcmVha1RhZyA9IFN0O1xuZnVuY3Rpb24gU3QoZSkge1xuICByZXR1cm4gW1xuICAgIFwiQlJcIixcbiAgICBcIldCUlwiXG4gIF0uaW5jbHVkZXMoZS50YWdOYW1lKTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuaXNMaW5lQnJlYWtUYWcgPSB2b2lkIDA7XG4gIHZhciB0ID0gVTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNMaW5lQnJlYWtUYWdcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5pc0xpbmVCcmVha1RhZztcbiAgfSB9KTtcbn0pKGgpO1xudmFyIEUgPSB7fSwgcSA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHEsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbnEuaXNTaW5nbGVUYWcgPSBDdDtcbmZ1bmN0aW9uIEN0KGUpIHtcbiAgcmV0dXJuIFtcbiAgICBcIkFSRUFcIixcbiAgICBcIkJBU0VcIixcbiAgICBcIkJSXCIsXG4gICAgXCJDT0xcIixcbiAgICBcIkNPTU1BTkRcIixcbiAgICBcIkVNQkVEXCIsXG4gICAgXCJIUlwiLFxuICAgIFwiSU1HXCIsXG4gICAgXCJJTlBVVFwiLFxuICAgIFwiS0VZR0VOXCIsXG4gICAgXCJMSU5LXCIsXG4gICAgXCJNRVRBXCIsXG4gICAgXCJQQVJBTVwiLFxuICAgIFwiU09VUkNFXCIsXG4gICAgXCJUUkFDS1wiLFxuICAgIFwiV0JSXCJcbiAgXS5pbmNsdWRlcyhlLnRhZ05hbWUpO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5pc1NpbmdsZVRhZyA9IHZvaWQgMDtcbiAgdmFyIHQgPSBxO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc1NpbmdsZVRhZ1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmlzU2luZ2xlVGFnO1xuICB9IH0pO1xufSkoRSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuVy5nZXREZWVwZXN0Tm9kZSA9IHBlO1xudmFyIEx0ID0gcywgTXQgPSBoLCBrdCA9IEU7XG5mdW5jdGlvbiBwZShlLCB0KSB7XG4gIHQgPT09IHZvaWQgMCAmJiAodCA9ICExKTtcbiAgdmFyIG4gPSB0ID8gXCJsYXN0Q2hpbGRcIiA6IFwiZmlyc3RDaGlsZFwiLCByID0gdCA/IFwicHJldmlvdXNTaWJsaW5nXCIgOiBcIm5leHRTaWJsaW5nXCI7XG4gIGlmIChlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBlW25dKSB7XG4gICAgdmFyIGkgPSBlW25dO1xuICAgIGlmICgoMCwga3QuaXNTaW5nbGVUYWcpKGkpICYmICEoMCwgTHQuaXNOYXRpdmVJbnB1dCkoaSkgJiYgISgwLCBNdC5pc0xpbmVCcmVha1RhZykoaSkpXG4gICAgICBpZiAoaVtyXSlcbiAgICAgICAgaSA9IGlbcl07XG4gICAgICBlbHNlIGlmIChpLnBhcmVudE5vZGUgIT09IG51bGwgJiYgaS5wYXJlbnROb2RlW3JdKVxuICAgICAgICBpID0gaS5wYXJlbnROb2RlW3JdO1xuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gaS5wYXJlbnROb2RlO1xuICAgIHJldHVybiBwZShpLCB0KTtcbiAgfVxuICByZXR1cm4gZTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuZ2V0RGVlcGVzdE5vZGUgPSB2b2lkIDA7XG4gIHZhciB0ID0gVztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiZ2V0RGVlcGVzdE5vZGVcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5nZXREZWVwZXN0Tm9kZTtcbiAgfSB9KTtcbn0pKGZlKTtcbnZhciBnZSA9IHt9LCB6ID0ge30sIHAgPSBiICYmIGIuX19zcHJlYWRBcnJheSB8fCBmdW5jdGlvbihlLCB0LCBuKSB7XG4gIGlmIChuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpXG4gICAgZm9yICh2YXIgciA9IDAsIGkgPSB0Lmxlbmd0aCwgYTsgciA8IGk7IHIrKylcbiAgICAgIChhIHx8ICEociBpbiB0KSkgJiYgKGEgfHwgKGEgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LCAwLCByKSksIGFbcl0gPSB0W3JdKTtcbiAgcmV0dXJuIGUuY29uY2F0KGEgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh6LCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG56LmZpbmRBbGxJbnB1dHMgPSAkdDtcbnZhciB3dCA9IF8sIE50ID0gUiwgSXQgPSBQLCBBdCA9IHM7XG5mdW5jdGlvbiAkdChlKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKGUucXVlcnlTZWxlY3RvckFsbCgoMCwgSXQuYWxsSW5wdXRzU2VsZWN0b3IpKCkpKS5yZWR1Y2UoZnVuY3Rpb24odCwgbikge1xuICAgIHJldHVybiAoMCwgQXQuaXNOYXRpdmVJbnB1dCkobikgfHwgKDAsIHd0LmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKShuKSA/IHAocChbXSwgdCwgITApLCBbbl0sICExKSA6IHAocChbXSwgdCwgITApLCAoMCwgTnQuZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHMpKG4pLCAhMCk7XG4gIH0sIFtdKTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuZmluZEFsbElucHV0cyA9IHZvaWQgMDtcbiAgdmFyIHQgPSB6O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJmaW5kQWxsSW5wdXRzXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuZmluZEFsbElucHV0cztcbiAgfSB9KTtcbn0pKGdlKTtcbnZhciB2ZSA9IHt9LCBHID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuRy5pc0NvbGxhcHNlZFdoaXRlc3BhY2VzID0gQnQ7XG5mdW5jdGlvbiBCdChlKSB7XG4gIHJldHVybiAhL1teXFx0XFxuXFxyIF0vLnRlc3QoZSk7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmlzQ29sbGFwc2VkV2hpdGVzcGFjZXMgPSB2b2lkIDA7XG4gIHZhciB0ID0gRztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNDb2xsYXBzZWRXaGl0ZXNwYWNlc1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmlzQ29sbGFwc2VkV2hpdGVzcGFjZXM7XG4gIH0gfSk7XG59KSh2ZSk7XG52YXIgSyA9IHt9LCBYID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoWCwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuWC5pc0VsZW1lbnQgPSBIdDtcbnZhciBEdCA9ICQ7XG5mdW5jdGlvbiBIdChlKSB7XG4gIHJldHVybiAoMCwgRHQuaXNOdW1iZXIpKGUpID8gITEgOiAhIWUgJiYgISFlLm5vZGVUeXBlICYmIGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5pc0VsZW1lbnQgPSB2b2lkIDA7XG4gIHZhciB0ID0gWDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNFbGVtZW50XCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuaXNFbGVtZW50O1xuICB9IH0pO1xufSkoSyk7XG52YXIgbWUgPSB7fSwgWSA9IHt9LCBRID0ge30sIFYgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShWLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5WLmlzTGVhZiA9IFJ0O1xuZnVuY3Rpb24gUnQoZSkge1xuICByZXR1cm4gZSA9PT0gbnVsbCA/ICExIDogZS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMDtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuaXNMZWFmID0gdm9pZCAwO1xuICB2YXIgdCA9IFY7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzTGVhZlwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmlzTGVhZjtcbiAgfSB9KTtcbn0pKFEpO1xudmFyIFogPSB7fSwgSiA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEosIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbkouaXNOb2RlRW1wdHkgPSB6dDtcbnZhciBGdCA9IGgsIFd0ID0gSywgVXQgPSBzLCBxdCA9IEU7XG5mdW5jdGlvbiB6dChlLCB0KSB7XG4gIHZhciBuID0gXCJcIjtcbiAgcmV0dXJuICgwLCBxdC5pc1NpbmdsZVRhZykoZSkgJiYgISgwLCBGdC5pc0xpbmVCcmVha1RhZykoZSkgPyAhMSA6ICgoMCwgV3QuaXNFbGVtZW50KShlKSAmJiAoMCwgVXQuaXNOYXRpdmVJbnB1dCkoZSkgPyBuID0gZS52YWx1ZSA6IGUudGV4dENvbnRlbnQgIT09IG51bGwgJiYgKG4gPSBlLnRleHRDb250ZW50LnJlcGxhY2UoXCLigItcIiwgXCJcIikpLCB0ICE9PSB2b2lkIDAgJiYgKG4gPSBuLnJlcGxhY2UobmV3IFJlZ0V4cCh0LCBcImdcIiksIFwiXCIpKSwgbi50cmltKCkubGVuZ3RoID09PSAwKTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuaXNOb2RlRW1wdHkgPSB2b2lkIDA7XG4gIHZhciB0ID0gSjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNOb2RlRW1wdHlcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5pc05vZGVFbXB0eTtcbiAgfSB9KTtcbn0pKFopO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFksIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcblkuaXNFbXB0eSA9IFh0O1xudmFyIEd0ID0gUSwgS3QgPSBaO1xuZnVuY3Rpb24gWHQoZSwgdCkge1xuICBlLm5vcm1hbGl6ZSgpO1xuICBmb3IgKHZhciBuID0gW2VdOyBuLmxlbmd0aCA+IDA7ICkge1xuICAgIHZhciByID0gbi5zaGlmdCgpO1xuICAgIGlmIChyKSB7XG4gICAgICBpZiAoZSA9IHIsICgwLCBHdC5pc0xlYWYpKGUpICYmICEoMCwgS3QuaXNOb2RlRW1wdHkpKGUsIHQpKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBuLnB1c2guYXBwbHkobiwgQXJyYXkuZnJvbShlLmNoaWxkTm9kZXMpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5pc0VtcHR5ID0gdm9pZCAwO1xuICB2YXIgdCA9IFk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzRW1wdHlcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5pc0VtcHR5O1xuICB9IH0pO1xufSkobWUpO1xudmFyIGJlID0ge30sIHggPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4LCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG54LmlzRnJhZ21lbnQgPSBRdDtcbnZhciBZdCA9ICQ7XG5mdW5jdGlvbiBRdChlKSB7XG4gIHJldHVybiAoMCwgWXQuaXNOdW1iZXIpKGUpID8gITEgOiAhIWUgJiYgISFlLm5vZGVUeXBlICYmIGUubm9kZVR5cGUgPT09IE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuaXNGcmFnbWVudCA9IHZvaWQgMDtcbiAgdmFyIHQgPSB4O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0ZyYWdtZW50XCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuaXNGcmFnbWVudDtcbiAgfSB9KTtcbn0pKGJlKTtcbnZhciBfZSA9IHt9LCBlZSA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGVlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5lZS5pc0hUTUxTdHJpbmcgPSBadDtcbnZhciBWdCA9IHk7XG5mdW5jdGlvbiBadChlKSB7XG4gIHZhciB0ID0gKDAsIFZ0Lm1ha2UpKFwiZGl2XCIpO1xuICByZXR1cm4gdC5pbm5lckhUTUwgPSBlLCB0LmNoaWxkRWxlbWVudENvdW50ID4gMDtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuaXNIVE1MU3RyaW5nID0gdm9pZCAwO1xuICB2YXIgdCA9IGVlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0hUTUxTdHJpbmdcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5pc0hUTUxTdHJpbmc7XG4gIH0gfSk7XG59KShfZSk7XG52YXIgeWUgPSB7fSwgdGUgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0ZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xudGUub2Zmc2V0ID0gSnQ7XG5mdW5jdGlvbiBKdChlKSB7XG4gIHZhciB0ID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbiA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCwgciA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCBpID0gdC50b3AgKyByLCBhID0gdC5sZWZ0ICsgbjtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IGksXG4gICAgbGVmdDogYSxcbiAgICBib3R0b206IGkgKyB0LmhlaWdodCxcbiAgICByaWdodDogYSArIHQud2lkdGhcbiAgfTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUub2Zmc2V0ID0gdm9pZCAwO1xuICB2YXIgdCA9IHRlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJvZmZzZXRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5vZmZzZXQ7XG4gIH0gfSk7XG59KSh5ZSk7XG52YXIgaGUgPSB7fSwgbmUgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xubmUucHJlcGVuZCA9IHh0O1xuZnVuY3Rpb24geHQoZSwgdCkge1xuICBBcnJheS5pc0FycmF5KHQpID8gKHQgPSB0LnJldmVyc2UoKSwgdC5mb3JFYWNoKGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gZS5wcmVwZW5kKG4pO1xuICB9KSkgOiBlLnByZXBlbmQodCk7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLnByZXBlbmQgPSB2b2lkIDA7XG4gIHZhciB0ID0gbmU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByZXBlbmRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5wcmVwZW5kO1xuICB9IH0pO1xufSkoaGUpO1xuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5wcmVwZW5kID0gZS5vZmZzZXQgPSBlLm1ha2UgPSBlLmlzTGluZUJyZWFrVGFnID0gZS5pc1NpbmdsZVRhZyA9IGUuaXNOb2RlRW1wdHkgPSBlLmlzTGVhZiA9IGUuaXNIVE1MU3RyaW5nID0gZS5pc0ZyYWdtZW50ID0gZS5pc0VtcHR5ID0gZS5pc0VsZW1lbnQgPSBlLmlzQ29udGVudEVkaXRhYmxlID0gZS5pc0NvbGxhcHNlZFdoaXRlc3BhY2VzID0gZS5maW5kQWxsSW5wdXRzID0gZS5pc05hdGl2ZUlucHV0ID0gZS5hbGxJbnB1dHNTZWxlY3RvciA9IGUuZ2V0RGVlcGVzdE5vZGUgPSBlLmdldERlZXBlc3RCbG9ja0VsZW1lbnRzID0gZS5nZXRDb250ZW50TGVuZ3RoID0gZS5mcmFnbWVudFRvU3RyaW5nID0gZS5jb250YWluc09ubHlJbmxpbmVFbGVtZW50cyA9IGUuY2FuU2V0Q2FyZXQgPSBlLmNhbGN1bGF0ZUJhc2VsaW5lID0gZS5ibG9ja0VsZW1lbnRzID0gZS5hcHBlbmQgPSB2b2lkIDA7XG4gIHZhciB0ID0gUDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiYWxsSW5wdXRzU2VsZWN0b3JcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5hbGxJbnB1dHNTZWxlY3RvcjtcbiAgfSB9KTtcbiAgdmFyIG4gPSBzO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc05hdGl2ZUlucHV0XCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG4uaXNOYXRpdmVJbnB1dDtcbiAgfSB9KTtcbiAgdmFyIHIgPSBpZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiYXBwZW5kXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHIuYXBwZW5kO1xuICB9IH0pO1xuICB2YXIgaSA9IEM7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImJsb2NrRWxlbWVudHNcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaS5ibG9ja0VsZW1lbnRzO1xuICB9IH0pO1xuICB2YXIgYSA9IGFlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJjYWxjdWxhdGVCYXNlbGluZVwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBhLmNhbGN1bGF0ZUJhc2VsaW5lO1xuICB9IH0pO1xuICB2YXIgbCA9IGxlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJjYW5TZXRDYXJldFwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBsLmNhblNldENhcmV0O1xuICB9IH0pO1xuICB2YXIgdSA9IF87XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHUuY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHM7XG4gIH0gfSk7XG4gIHZhciBkID0gY2U7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImZyYWdtZW50VG9TdHJpbmdcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZC5mcmFnbWVudFRvU3RyaW5nO1xuICB9IH0pO1xuICB2YXIgYyA9IHNlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJnZXRDb250ZW50TGVuZ3RoXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGMuZ2V0Q29udGVudExlbmd0aDtcbiAgfSB9KTtcbiAgdmFyIGYgPSBSO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJnZXREZWVwZXN0QmxvY2tFbGVtZW50c1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmLmdldERlZXBlc3RCbG9ja0VsZW1lbnRzO1xuICB9IH0pO1xuICB2YXIgT2UgPSBmZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiZ2V0RGVlcGVzdE5vZGVcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gT2UuZ2V0RGVlcGVzdE5vZGU7XG4gIH0gfSk7XG4gIHZhciBQZSA9IGdlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJmaW5kQWxsSW5wdXRzXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFBlLmZpbmRBbGxJbnB1dHM7XG4gIH0gfSk7XG4gIHZhciBqZSA9IHZlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0NvbGxhcHNlZFdoaXRlc3BhY2VzXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGplLmlzQ29sbGFwc2VkV2hpdGVzcGFjZXM7XG4gIH0gfSk7XG4gIHZhciBUZSA9IHc7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzQ29udGVudEVkaXRhYmxlXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFRlLmlzQ29udGVudEVkaXRhYmxlO1xuICB9IH0pO1xuICB2YXIgU2UgPSBLO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0VsZW1lbnRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU2UuaXNFbGVtZW50O1xuICB9IH0pO1xuICB2YXIgQ2UgPSBtZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNFbXB0eVwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBDZS5pc0VtcHR5O1xuICB9IH0pO1xuICB2YXIgTGUgPSBiZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNGcmFnbWVudFwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBMZS5pc0ZyYWdtZW50O1xuICB9IH0pO1xuICB2YXIgTWUgPSBfZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNIVE1MU3RyaW5nXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE1lLmlzSFRNTFN0cmluZztcbiAgfSB9KTtcbiAgdmFyIGtlID0gUTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNMZWFmXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGtlLmlzTGVhZjtcbiAgfSB9KTtcbiAgdmFyIHdlID0gWjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNOb2RlRW1wdHlcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2UuaXNOb2RlRW1wdHk7XG4gIH0gfSk7XG4gIHZhciBOZSA9IGg7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzTGluZUJyZWFrVGFnXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE5lLmlzTGluZUJyZWFrVGFnO1xuICB9IH0pO1xuICB2YXIgSWUgPSBFO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc1NpbmdsZVRhZ1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBJZS5pc1NpbmdsZVRhZztcbiAgfSB9KTtcbiAgdmFyIEFlID0geTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwibWFrZVwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBBZS5tYWtlO1xuICB9IH0pO1xuICB2YXIgJGUgPSB5ZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwib2Zmc2V0XCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRlLm9mZnNldDtcbiAgfSB9KTtcbiAgdmFyIEJlID0gaGU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByZXBlbmRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gQmUucHJlcGVuZDtcbiAgfSB9KTtcbn0pKGcpO1xudmFyIEVlID0gLyogQF9fUFVSRV9fICovICgoZSkgPT4gKGUuTGVmdCA9IFwibGVmdFwiLCBlLkNlbnRlciA9IFwiY2VudGVyXCIsIGUpKShFZSB8fCB7fSk7XG5jbGFzcyBtIHtcbiAgLyoqXG4gICAqIFJlbmRlciBwbHVnaW5gcyBtYWluIEVsZW1lbnQgYW5kIGZpbGwgaXQgd2l0aCBzYXZlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSBjb25zdHJ1Y3RvciBwYXJhbXNcbiAgICogQHBhcmFtIHtRdW90ZURhdGF9IHBhcmFtcy5kYXRhIC0gcHJldmlvdXNseSBzYXZlZCBkYXRhXG4gICAqIEBwYXJhbSB7UXVvdGVDb25maWd9IHBhcmFtcy5jb25maWcgLSB1c2VyIGNvbmZpZyBmb3IgVG9vbFxuICAgKiBAcGFyYW0ge0FQSX0gcGFyYW1zLmFwaSAtIGVkaXRvci5qcyBhcGlcbiAgICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMucmVhZE9ubHkgLSByZWFkIG9ubHkgbW9kZSBmbGFnXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGRhdGE6IHQsIGNvbmZpZzogbiwgYXBpOiByLCByZWFkT25seTogaSwgYmxvY2s6IGEgfSkge1xuICAgIGNvbnN0IHsgREVGQVVMVF9BTElHTk1FTlQ6IGwgfSA9IG07XG4gICAgdGhpcy5hcGkgPSByLCB0aGlzLnJlYWRPbmx5ID0gaSwgdGhpcy5fcXVvdGVQbGFjZWhvbGRlciA9IG4ucXVvdGVQbGFjZWhvbGRlciB8fCBtLkRFRkFVTFRfUVVPVEVfUExBQ0VIT0xERVIsIHRoaXMuX2NhcHRpb25QbGFjZWhvbGRlciA9IG4uY2FwdGlvblBsYWNlaG9sZGVyIHx8IG0uREVGQVVMVF9DQVBUSU9OX1BMQUNFSE9MREVSLCB0aGlzLl9kYXRhID0ge1xuICAgICAgdGV4dDogdC50ZXh0IHx8IFwiXCIsXG4gICAgICBjYXB0aW9uOiB0LmNhcHRpb24gfHwgXCJcIixcbiAgICAgIGFsaWdubWVudDogT2JqZWN0LnZhbHVlcyhFZSkuaW5jbHVkZXModC5hbGlnbm1lbnQpICYmIHQuYWxpZ25tZW50IHx8IG4uZGVmYXVsdEFsaWdubWVudCB8fCBsXG4gICAgfSwgdGhpcy5fQ1NTID0ge1xuICAgICAgYmFzZUNsYXNzOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICB3cmFwcGVyOiBcImNkeC1xdW90ZVwiLFxuICAgICAgdGV4dDogXCJjZHgtcXVvdGVfX3RleHRcIixcbiAgICAgIGlucHV0OiB0aGlzLmFwaS5zdHlsZXMuaW5wdXQsXG4gICAgICBjYXB0aW9uOiBcImNkeC1xdW90ZV9fY2FwdGlvblwiXG4gICAgfSwgdGhpcy5fYmxvY2sgPSBhO1xuICB9XG4gIC8qKlxuICAgKiBOb3RpZnkgY29yZSB0aGF0IHJlYWQtb25seSBtb2RlIGlzIHN1cHBvcnRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBnZXQgaXNSZWFkT25seVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBUb29sIHRvb2xib3ggc2V0dGluZ3NcbiAgICogaWNvbiAtIFRvb2wgaWNvbidzIFNWR1xuICAgKiB0aXRsZSAtIHRpdGxlIHRvIHNob3cgaW4gdG9vbGJveFxuICAgKlxuICAgKiBAcmV0dXJucyB7e2ljb246IHN0cmluZywgdGl0bGU6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IHRvb2xib3goKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IFJlLFxuICAgICAgdGl0bGU6IFwiUXVvdGVcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEVtcHR5IFF1b3RlIGlzIG5vdCBlbXB0eSBCbG9ja1xuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBjb250ZW50bGVzcygpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93IHRvIHByZXNzIEVudGVyIGluc2lkZSB0aGUgUXVvdGVcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBnZXQgZW5hYmxlTGluZUJyZWFrcygpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIERlZmF1bHQgcGxhY2Vob2xkZXIgZm9yIHF1b3RlIHRleHRcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIGdldCBERUZBVUxUX1FVT1RFX1BMQUNFSE9MREVSKCkge1xuICAgIHJldHVybiBcIkVudGVyIGEgcXVvdGVcIjtcbiAgfVxuICAvKipcbiAgICogRGVmYXVsdCBwbGFjZWhvbGRlciBmb3IgcXVvdGUgY2FwdGlvblxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IERFRkFVTFRfQ0FQVElPTl9QTEFDRUhPTERFUigpIHtcbiAgICByZXR1cm4gXCJFbnRlciBhIGNhcHRpb25cIjtcbiAgfVxuICAvKipcbiAgICogRGVmYXVsdCBxdW90ZSBhbGlnbm1lbnRcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIGdldCBERUZBVUxUX0FMSUdOTUVOVCgpIHtcbiAgICByZXR1cm4gXCJsZWZ0XCI7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93IFF1b3RlIHRvIGJlIGNvbnZlcnRlZCB0by9mcm9tIG90aGVyIGJsb2Nrc1xuICAgKi9cbiAgc3RhdGljIGdldCBjb252ZXJzaW9uQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFRvIGNyZWF0ZSBRdW90ZSBkYXRhIGZyb20gc3RyaW5nLCBzaW1wbGUgZmlsbCAndGV4dCcgcHJvcGVydHlcbiAgICAgICAqL1xuICAgICAgaW1wb3J0OiBcInRleHRcIixcbiAgICAgIC8qKlxuICAgICAgICogVG8gY3JlYXRlIHN0cmluZyBmcm9tIFF1b3RlIGRhdGEsIGNvbmNhdGVuYXRlIHRleHQgYW5kIGNhcHRpb25cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1F1b3RlRGF0YX0gcXVvdGVEYXRhXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICBleHBvcnQ6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuY2FwdGlvbiA/IGAke3QudGV4dH0g4oCUICR7dC5jYXB0aW9ufWAgOiB0LnRleHQ7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogVG9vbGBzIHN0eWxlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7UXVvdGVDU1N9XG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBiYXNlQ2xhc3M6IHRoaXMuYXBpLnN0eWxlcy5ibG9jayxcbiAgICAgIHdyYXBwZXI6IFwiY2R4LXF1b3RlXCIsXG4gICAgICB0ZXh0OiBcImNkeC1xdW90ZV9fdGV4dFwiLFxuICAgICAgaW5wdXQ6IHRoaXMuYXBpLnN0eWxlcy5pbnB1dCxcbiAgICAgIGNhcHRpb246IFwiY2R4LXF1b3RlX19jYXB0aW9uXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBUb29sYHMgc2V0dGluZ3MgcHJvcGVydGllc1xuICAgKlxuICAgKiBAcmV0dXJucyB7KltdfVxuICAgKi9cbiAgZ2V0IHNldHRpbmdzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwibGVmdFwiLFxuICAgICAgICBpY29uOiBIZVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJjZW50ZXJcIixcbiAgICAgICAgaWNvbjogRGVcbiAgICAgIH1cbiAgICBdO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgUXVvdGUgVG9vbCBjb250YWluZXIgd2l0aCBpbnB1dHNcbiAgICpcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgdCA9IGcubWFrZShcImJsb2NrcXVvdGVcIiwgW1xuICAgICAgdGhpcy5fQ1NTLmJhc2VDbGFzcyxcbiAgICAgIHRoaXMuX0NTUy53cmFwcGVyXG4gICAgXSksIG4gPSBnLm1ha2UoXCJkaXZcIiwgW3RoaXMuX0NTUy5pbnB1dCwgdGhpcy5fQ1NTLnRleHRdLCB7XG4gICAgICBjb250ZW50RWRpdGFibGU6ICF0aGlzLnJlYWRPbmx5LFxuICAgICAgaW5uZXJIVE1MOiB0aGlzLl9kYXRhLnRleHRcbiAgICB9KSwgciA9IGcubWFrZShcImRpdlwiLCBbdGhpcy5fQ1NTLmlucHV0LCB0aGlzLl9DU1MuY2FwdGlvbl0sIHtcbiAgICAgIGNvbnRlbnRFZGl0YWJsZTogIXRoaXMucmVhZE9ubHksXG4gICAgICBpbm5lckhUTUw6IHRoaXMuX2RhdGEuY2FwdGlvblxuICAgIH0pO1xuICAgIHJldHVybiBuLmRhdGFzZXQucGxhY2Vob2xkZXIgPSB0aGlzLl9xdW90ZVBsYWNlaG9sZGVyLCByLmRhdGFzZXQucGxhY2Vob2xkZXIgPSB0aGlzLl9jYXB0aW9uUGxhY2Vob2xkZXIsIHQuYXBwZW5kQ2hpbGQobiksIHQuYXBwZW5kQ2hpbGQociksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3QgUXVvdGUgZGF0YSBmcm9tIFF1b3RlIFRvb2wgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxEaXZFbGVtZW50fSBxdW90ZUVsZW1lbnQgLSBlbGVtZW50IHRvIHNhdmVcbiAgICogQHJldHVybnMge1F1b3RlRGF0YX1cbiAgICovXG4gIHNhdmUodCkge1xuICAgIGNvbnN0IG4gPSB0LnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuX0NTUy50ZXh0fWApLCByID0gdC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9DU1MuY2FwdGlvbn1gKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLl9kYXRhLCB7XG4gICAgICB0ZXh0OiAobiA9PSBudWxsID8gdm9pZCAwIDogbi5pbm5lckhUTUwpID8/IFwiXCIsXG4gICAgICBjYXB0aW9uOiAociA9PSBudWxsID8gdm9pZCAwIDogci5pbm5lckhUTUwpID8/IFwiXCJcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2FuaXRpemVyIHJ1bGVzXG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiB7XG4gICAgICAgIGJyOiAhMFxuICAgICAgfSxcbiAgICAgIGNhcHRpb246IHtcbiAgICAgICAgYnI6ICEwXG4gICAgICB9LFxuICAgICAgYWxpZ25tZW50OiB7fVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSB3cmFwcGVyIGZvciBUb29sYHMgc2V0dGluZ3MgYnV0dG9uczpcbiAgICogMS4gTGVmdCBhbGlnbm1lbnRcbiAgICogMi4gQ2VudGVyIGFsaWdubWVudFxuICAgKlxuICAgKiBAcmV0dXJucyB7TWVudUNvbmZpZ31cbiAgICpcbiAgICovXG4gIHJlbmRlclNldHRpbmdzKCkge1xuICAgIGNvbnN0IHQgPSAobikgPT4gbiAmJiBuWzBdLnRvVXBwZXJDYXNlKCkgKyBuLnNsaWNlKDEpO1xuICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hcCgobikgPT4gKHtcbiAgICAgIGljb246IG4uaWNvbixcbiAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoYEFsaWduICR7dChuLm5hbWUpfWApLFxuICAgICAgb25BY3RpdmF0ZTogKCkgPT4gdGhpcy5fdG9nZ2xlVHVuZShuLm5hbWUpLFxuICAgICAgaXNBY3RpdmU6IHRoaXMuX2RhdGEuYWxpZ25tZW50ID09PSBuLm5hbWUsXG4gICAgICBjbG9zZU9uQWN0aXZhdGU6ICEwXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcXVvdGVgcyBhbGlnbm1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR1bmUgLSBhbGlnbm1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF90b2dnbGVUdW5lKHQpIHtcbiAgICB0aGlzLl9kYXRhLmFsaWdubWVudCA9IHQsIHRoaXMuX2Jsb2NrLmRpc3BhdGNoQ2hhbmdlKCk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIG0gYXMgZGVmYXVsdFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/quote/dist/quote.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/raw/dist/raw.mjs":
/*!*************************************************!*\
  !*** ./node_modules/@editorjs/raw/dist/raw.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ r)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;line-height:1.6;letter-spacing:-.2px;color:#a1a7b6;overscroll-behavior:contain}\")),document.head.appendChild(e)}}catch(o){console.error(\"vite-plugin-css-injected-by-js\",o)}})();\nconst a = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394\"/></svg>';\n/**\n * Raw HTML Tool for CodeX Editor\n *\n * @author CodeX (team@codex.so)\n * @copyright CodeX 2018\n * @license The MIT License (MIT)\n */\nclass r {\n  /**\n   * Notify core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Should this tool be displayed at the Editor's Toolbox\n   *\n   * @returns {boolean}\n   * @public\n   */\n  static get displayInToolbox() {\n    return !0;\n  }\n  /**\n   * Allow to press Enter inside the RawTool textarea\n   *\n   * @returns {boolean}\n   * @public\n   */\n  static get enableLineBreaks() {\n    return !0;\n  }\n  /**\n   * Get Tool toolbox settings\n   * icon - Tool icon's SVG\n   * title - title to show in toolbox\n   *\n   * @returns {{icon: string, title: string}}\n   */\n  static get toolbox() {\n    return {\n      icon: a,\n      title: \"Raw HTML\"\n    };\n  }\n  /**\n   * @typedef {object} RawData — plugin saved data\n   * @param {string} html - previously saved HTML code\n   * @property\n   */\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {RawData} data — previously saved HTML data\n   * @param {object} config - user config for Tool\n   * @param {object} api - CodeX Editor API\n   * @param {boolean} readOnly - read-only mode flag\n   */\n  constructor({ data: t, config: e, api: s, readOnly: i }) {\n    this.api = s, this.readOnly = i, this.placeholder = e.placeholder || r.DEFAULT_PLACEHOLDER, this.CSS = {\n      baseClass: this.api.styles.block,\n      input: this.api.styles.input,\n      wrapper: \"ce-rawtool\",\n      textarea: \"ce-rawtool__textarea\"\n    }, this.data = {\n      html: t.html || \"\"\n    }, this.textarea = null, this.resizeDebounce = null;\n  }\n  /**\n   * Return Tool's view\n   *\n   * @returns {HTMLDivElement} this.element - RawTool's wrapper\n   * @public\n   */\n  render() {\n    const t = document.createElement(\"div\"), e = 100;\n    return this.textarea = document.createElement(\"textarea\"), t.classList.add(this.CSS.baseClass, this.CSS.wrapper), this.textarea.classList.add(this.CSS.textarea, this.CSS.input), this.textarea.textContent = this.data.html, this.textarea.placeholder = this.placeholder, this.readOnly ? this.textarea.disabled = !0 : this.textarea.addEventListener(\"input\", () => {\n      this.onInput();\n    }), t.appendChild(this.textarea), setTimeout(() => {\n      this.resize();\n    }, e), t;\n  }\n  /**\n   * Extract Tool's data from the view\n   *\n   * @param {HTMLDivElement} rawToolsWrapper - RawTool's wrapper, containing textarea with raw HTML code\n   * @returns {RawData} - raw HTML code\n   * @public\n   */\n  save(t) {\n    return {\n      html: t.querySelector(\"textarea\").value\n    };\n  }\n  /**\n   * Default placeholder for RawTool's textarea\n   *\n   * @public\n   * @returns {string}\n   */\n  static get DEFAULT_PLACEHOLDER() {\n    return \"Enter HTML code\";\n  }\n  /**\n   * Automatic sanitize config\n   */\n  static get sanitize() {\n    return {\n      html: !0\n      // Allow HTML tags\n    };\n  }\n  /**\n   * Textarea change event\n   *\n   * @returns {void}\n   */\n  onInput() {\n    this.resizeDebounce && clearTimeout(this.resizeDebounce), this.resizeDebounce = setTimeout(() => {\n      this.resize();\n    }, 200);\n  }\n  /**\n   * Resize textarea to fit whole height\n   *\n   * @returns {void}\n   */\n  resize() {\n    this.textarea.style.height = \"auto\", this.textarea.style.height = this.textarea.scrollHeight + \"px\";\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL3Jhdy9kaXN0L3Jhdy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLFlBQVksYUFBYSxJQUFJLHdCQUF3QixzQ0FBc0MsNkRBQTZELGlCQUFpQixnQkFBZ0Isa0JBQWtCLFNBQVMseUJBQXlCLHdEQUF3RCxlQUFlLGdCQUFnQixxQkFBcUIsY0FBYyw0QkFBNEIsa0NBQWtDLFNBQVMsbURBQW1EO0FBQ2plO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxnQkFBZ0IseUNBQXlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL3Jhdy9kaXN0L3Jhdy5tanM/M2IyYiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0cnl7aWYodHlwZW9mIGRvY3VtZW50PFwidVwiKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5jZS1yYXd0b29sX190ZXh0YXJlYXttaW4taGVpZ2h0OjIwMHB4O3Jlc2l6ZTp2ZXJ0aWNhbDtib3JkZXItcmFkaXVzOjhweDtib3JkZXI6MDtiYWNrZ3JvdW5kLWNvbG9yOiMxZTIxMjg7Zm9udC1mYW1pbHk6TWVubG8sTW9uYWNvLENvbnNvbGFzLENvdXJpZXIgTmV3LG1vbm9zcGFjZTtmb250LXNpemU6MTJweDtsaW5lLWhlaWdodDoxLjY7bGV0dGVyLXNwYWNpbmc6LS4ycHg7Y29sb3I6I2ExYTdiNjtvdmVyc2Nyb2xsLWJlaGF2aW9yOmNvbnRhaW59XCIpKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGUpfX1jYXRjaChvKXtjb25zb2xlLmVycm9yKFwidml0ZS1wbHVnaW4tY3NzLWluamVjdGVkLWJ5LWpzXCIsbyl9fSkoKTtcbmNvbnN0IGEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYuNjk1NCA1QzE3LjkxMiA1IDE4Ljg0NjggNi4wNzcxNiAxOC42NzU1IDcuMjgxNjVMMTcuNDI2IDE2LjA2NTlDMTcuMzE4MyAxNi44MjI5IDE2Ljc4ODUgMTcuNDUyMiAxNi4wNjEgMTcuNjg3M0wxMi42MTUxIDE4LjgwMTJDMTIuMjE1MiAxOC45MzA0IDExLjc4NDggMTguOTMwNCAxMS4zODQ5IDE4LjgwMTJMNy45Mzg5OCAxNy42ODczQzcuMjExNDggMTcuNDUyMiA2LjY4MTcgMTYuODIyOSA2LjU3NDAzIDE2LjA2NTlMNS4zMjQ1NCA3LjI4MTY1QzUuMTUzMjIgNi4wNzcxNiA2LjA4OCA1IDcuMzA0NjEgNUgxNi42OTU0WlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNSA4LjRIOUw5LjQyODU3IDExLjc5MzlIMTQuNTcxNEwxNC4zNTcxIDEzLjI3ODhMMTQuMTQyOSAxNC43NjM2TDEyIDE1LjRMOS44NTcxNCAxNC43NjM2TDkuNzcxNDMgMTQuMzM5NFwiLz48L3N2Zz4nO1xuLyoqXG4gKiBSYXcgSFRNTCBUb29sIGZvciBDb2RlWCBFZGl0b3JcbiAqXG4gKiBAYXV0aG9yIENvZGVYICh0ZWFtQGNvZGV4LnNvKVxuICogQGNvcHlyaWdodCBDb2RlWCAyMDE4XG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqL1xuY2xhc3MgciB7XG4gIC8qKlxuICAgKiBOb3RpZnkgY29yZSB0aGF0IHJlYWQtb25seSBtb2RlIGlzIHN1cHBvcnRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBnZXQgaXNSZWFkT25seVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIFNob3VsZCB0aGlzIHRvb2wgYmUgZGlzcGxheWVkIGF0IHRoZSBFZGl0b3IncyBUb29sYm94XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKiBAcHVibGljXG4gICAqL1xuICBzdGF0aWMgZ2V0IGRpc3BsYXlJblRvb2xib3goKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyB0byBwcmVzcyBFbnRlciBpbnNpZGUgdGhlIFJhd1Rvb2wgdGV4dGFyZWFcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHN0YXRpYyBnZXQgZW5hYmxlTGluZUJyZWFrcygpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBUb29sIHRvb2xib3ggc2V0dGluZ3NcbiAgICogaWNvbiAtIFRvb2wgaWNvbidzIFNWR1xuICAgKiB0aXRsZSAtIHRpdGxlIHRvIHNob3cgaW4gdG9vbGJveFxuICAgKlxuICAgKiBAcmV0dXJucyB7e2ljb246IHN0cmluZywgdGl0bGU6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IHRvb2xib3goKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IGEsXG4gICAgICB0aXRsZTogXCJSYXcgSFRNTFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQHR5cGVkZWYge29iamVjdH0gUmF3RGF0YSDigJQgcGx1Z2luIHNhdmVkIGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgLSBwcmV2aW91c2x5IHNhdmVkIEhUTUwgY29kZVxuICAgKiBAcHJvcGVydHlcbiAgICovXG4gIC8qKlxuICAgKiBSZW5kZXIgcGx1Z2luYHMgbWFpbiBFbGVtZW50IGFuZCBmaWxsIGl0IHdpdGggc2F2ZWQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge1Jhd0RhdGF9IGRhdGEg4oCUIHByZXZpb3VzbHkgc2F2ZWQgSFRNTCBkYXRhXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSB1c2VyIGNvbmZpZyBmb3IgVG9vbFxuICAgKiBAcGFyYW0ge29iamVjdH0gYXBpIC0gQ29kZVggRWRpdG9yIEFQSVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5IC0gcmVhZC1vbmx5IG1vZGUgZmxhZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiB0LCBjb25maWc6IGUsIGFwaTogcywgcmVhZE9ubHk6IGkgfSkge1xuICAgIHRoaXMuYXBpID0gcywgdGhpcy5yZWFkT25seSA9IGksIHRoaXMucGxhY2Vob2xkZXIgPSBlLnBsYWNlaG9sZGVyIHx8IHIuREVGQVVMVF9QTEFDRUhPTERFUiwgdGhpcy5DU1MgPSB7XG4gICAgICBiYXNlQ2xhc3M6IHRoaXMuYXBpLnN0eWxlcy5ibG9jayxcbiAgICAgIGlucHV0OiB0aGlzLmFwaS5zdHlsZXMuaW5wdXQsXG4gICAgICB3cmFwcGVyOiBcImNlLXJhd3Rvb2xcIixcbiAgICAgIHRleHRhcmVhOiBcImNlLXJhd3Rvb2xfX3RleHRhcmVhXCJcbiAgICB9LCB0aGlzLmRhdGEgPSB7XG4gICAgICBodG1sOiB0Lmh0bWwgfHwgXCJcIlxuICAgIH0sIHRoaXMudGV4dGFyZWEgPSBudWxsLCB0aGlzLnJlc2l6ZURlYm91bmNlID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFRvb2wncyB2aWV3XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRGl2RWxlbWVudH0gdGhpcy5lbGVtZW50IC0gUmF3VG9vbCdzIHdyYXBwZXJcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBlID0gMTAwO1xuICAgIHJldHVybiB0aGlzLnRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpLCB0LmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYmFzZUNsYXNzLCB0aGlzLkNTUy53cmFwcGVyKSwgdGhpcy50ZXh0YXJlYS5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnRleHRhcmVhLCB0aGlzLkNTUy5pbnB1dCksIHRoaXMudGV4dGFyZWEudGV4dENvbnRlbnQgPSB0aGlzLmRhdGEuaHRtbCwgdGhpcy50ZXh0YXJlYS5wbGFjZWhvbGRlciA9IHRoaXMucGxhY2Vob2xkZXIsIHRoaXMucmVhZE9ubHkgPyB0aGlzLnRleHRhcmVhLmRpc2FibGVkID0gITAgOiB0aGlzLnRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLm9uSW5wdXQoKTtcbiAgICB9KSwgdC5hcHBlbmRDaGlsZCh0aGlzLnRleHRhcmVhKSwgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH0sIGUpLCB0O1xuICB9XG4gIC8qKlxuICAgKiBFeHRyYWN0IFRvb2wncyBkYXRhIGZyb20gdGhlIHZpZXdcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRGl2RWxlbWVudH0gcmF3VG9vbHNXcmFwcGVyIC0gUmF3VG9vbCdzIHdyYXBwZXIsIGNvbnRhaW5pbmcgdGV4dGFyZWEgd2l0aCByYXcgSFRNTCBjb2RlXG4gICAqIEByZXR1cm5zIHtSYXdEYXRhfSAtIHJhdyBIVE1MIGNvZGVcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2F2ZSh0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGh0bWw6IHQucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpLnZhbHVlXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRGVmYXVsdCBwbGFjZWhvbGRlciBmb3IgUmF3VG9vbCdzIHRleHRhcmVhXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBnZXQgREVGQVVMVF9QTEFDRUhPTERFUigpIHtcbiAgICByZXR1cm4gXCJFbnRlciBIVE1MIGNvZGVcIjtcbiAgfVxuICAvKipcbiAgICogQXV0b21hdGljIHNhbml0aXplIGNvbmZpZ1xuICAgKi9cbiAgc3RhdGljIGdldCBzYW5pdGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaHRtbDogITBcbiAgICAgIC8vIEFsbG93IEhUTUwgdGFnc1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFRleHRhcmVhIGNoYW5nZSBldmVudFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIG9uSW5wdXQoKSB7XG4gICAgdGhpcy5yZXNpemVEZWJvdW5jZSAmJiBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVEZWJvdW5jZSksIHRoaXMucmVzaXplRGVib3VuY2UgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgfSwgMjAwKTtcbiAgfVxuICAvKipcbiAgICogUmVzaXplIHRleHRhcmVhIHRvIGZpdCB3aG9sZSBoZWlnaHRcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICByZXNpemUoKSB7XG4gICAgdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIiwgdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSB0aGlzLnRleHRhcmVhLnNjcm9sbEhlaWdodCArIFwicHhcIjtcbiAgfVxufVxuZXhwb3J0IHtcbiAgciBhcyBkZWZhdWx0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/raw/dist/raw.mjs\n");

/***/ }),

/***/ "./node_modules/@editorjs/table/dist/table.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/@editorjs/table/dist/table.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ F)\n/* harmony export */ });\n(function(){var r;\"use strict\";try{if(typeof document<\"u\"){var o=document.createElement(\"style\");o.nonce=(r=document.head.querySelector(\"meta[property=csp-nonce]\"))==null?void 0:r.content,o.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size)}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:\"\"}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}.tc-add-column--disabled{visibility:hidden}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row--disabled{display:none}.tc-add-row:before{content:\"\";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:\"\";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(o)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();\nfunction c(d, t, e = {}) {\n  const o = document.createElement(d);\n  Array.isArray(t) ? o.classList.add(...t) : t && o.classList.add(t);\n  for (const i in e)\n    Object.prototype.hasOwnProperty.call(e, i) && (o[i] = e[i]);\n  return o;\n}\nfunction f(d) {\n  const t = d.getBoundingClientRect();\n  return {\n    y1: Math.floor(t.top + window.pageYOffset),\n    x1: Math.floor(t.left + window.pageXOffset),\n    x2: Math.floor(t.right + window.pageXOffset),\n    y2: Math.floor(t.bottom + window.pageYOffset)\n  };\n}\nfunction g(d, t) {\n  const e = f(d), o = f(t);\n  return {\n    fromTopBorder: o.y1 - e.y1,\n    fromLeftBorder: o.x1 - e.x1,\n    fromRightBorder: e.x2 - o.x2,\n    fromBottomBorder: e.y2 - o.y2\n  };\n}\nfunction k(d, t) {\n  const e = d.getBoundingClientRect(), { width: o, height: i, x: n, y: r } = e, { clientX: h, clientY: l } = t;\n  return {\n    width: o,\n    height: i,\n    x: h - n,\n    y: l - r\n  };\n}\nfunction m(d, t) {\n  return t.parentNode.insertBefore(d, t);\n}\nfunction C(d, t = !0) {\n  const e = document.createRange(), o = window.getSelection();\n  e.selectNodeContents(d), e.collapse(t), o.removeAllRanges(), o.addRange(e);\n}\nclass a {\n  /**\n   * @param {object} options - constructor options\n   * @param {PopoverItem[]} options.items - constructor options\n   */\n  constructor({ items: t }) {\n    this.items = t, this.wrapper = void 0, this.itemEls = [];\n  }\n  /**\n   * Set of CSS classnames used in popover\n   *\n   * @returns {object}\n   */\n  static get CSS() {\n    return {\n      popover: \"tc-popover\",\n      popoverOpened: \"tc-popover--opened\",\n      item: \"tc-popover__item\",\n      itemHidden: \"tc-popover__item--hidden\",\n      itemConfirmState: \"tc-popover__item--confirm\",\n      itemIcon: \"tc-popover__item-icon\",\n      itemLabel: \"tc-popover__item-label\"\n    };\n  }\n  /**\n   * Returns the popover element\n   *\n   * @returns {Element}\n   */\n  render() {\n    return this.wrapper = c(\"div\", a.CSS.popover), this.items.forEach((t, e) => {\n      const o = c(\"div\", a.CSS.item), i = c(\"div\", a.CSS.itemIcon, {\n        innerHTML: t.icon\n      }), n = c(\"div\", a.CSS.itemLabel, {\n        textContent: t.label\n      });\n      o.dataset.index = e, o.appendChild(i), o.appendChild(n), this.wrapper.appendChild(o), this.itemEls.push(o);\n    }), this.wrapper.addEventListener(\"click\", (t) => {\n      this.popoverClicked(t);\n    }), this.wrapper;\n  }\n  /**\n   * Popover wrapper click listener\n   * Used to delegate clicks in items\n   *\n   * @returns {void}\n   */\n  popoverClicked(t) {\n    const e = t.target.closest(`.${a.CSS.item}`);\n    if (!e)\n      return;\n    const o = e.dataset.index, i = this.items[o];\n    if (i.confirmationRequired && !this.hasConfirmationState(e)) {\n      this.setConfirmationState(e);\n      return;\n    }\n    i.onClick();\n  }\n  /**\n   * Enable the confirmation state on passed item\n   *\n   * @returns {void}\n   */\n  setConfirmationState(t) {\n    t.classList.add(a.CSS.itemConfirmState);\n  }\n  /**\n   * Disable the confirmation state on passed item\n   *\n   * @returns {void}\n   */\n  clearConfirmationState(t) {\n    t.classList.remove(a.CSS.itemConfirmState);\n  }\n  /**\n   * Check if passed item has the confirmation state\n   *\n   * @returns {boolean}\n   */\n  hasConfirmationState(t) {\n    return t.classList.contains(a.CSS.itemConfirmState);\n  }\n  /**\n   * Return an opening state\n   *\n   * @returns {boolean}\n   */\n  get opened() {\n    return this.wrapper.classList.contains(a.CSS.popoverOpened);\n  }\n  /**\n   * Opens the popover\n   *\n   * @returns {void}\n   */\n  open() {\n    this.items.forEach((t, e) => {\n      typeof t.hideIf == \"function\" && this.itemEls[e].classList.toggle(a.CSS.itemHidden, t.hideIf());\n    }), this.wrapper.classList.add(a.CSS.popoverOpened);\n  }\n  /**\n   * Closes the popover\n   *\n   * @returns {void}\n   */\n  close() {\n    this.wrapper.classList.remove(a.CSS.popoverOpened), this.itemEls.forEach((t) => {\n      this.clearConfirmationState(t);\n    });\n  }\n}\nconst R = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 9L10 12M10 12L7 15M10 12H4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 9L14 12M14 12L17 15M14 12H20\"/></svg>', b = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16\"/></svg>', x = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666\"/></svg>', S = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75\"/></svg>', y = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75\"/></svg>', L = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333\"/></svg>', M = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.41 9.66H9.4\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 9.66H14.59\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M9.31 14.36H9.3\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2.6\" d=\"M14.6 14.36H14.59\"/></svg>', v = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"2\" d=\"M12 7V12M12 17V12M17 12H12M12 12H7\"/></svg>', O = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 9L20 12L17 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 12H20\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 9L4 12L7 15\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 12H10\"/></svg>', T = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', H = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M14 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 14H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>', A = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\"><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M10 5V18.5\"/><path stroke=\"currentColor\" stroke-width=\"2\" d=\"M5 10H19\"/><rect width=\"14\" height=\"14\" x=\"5\" y=\"5\" stroke=\"currentColor\" stroke-width=\"2\" rx=\"4\"/></svg>';\nclass w {\n  /**\n   * Creates toolbox buttons and toolbox menus\n   *\n   * @param {object} api - Editor.js api\n   * @param {PopoverItem[]} items - Editor.js api\n   * @param {function} onOpen - callback fired when the Popover is opening\n   * @param {function} onClose - callback fired when the Popover is closing\n   * @param {string} [cssModifier] - the modifier for the Toolbox. Allows to add some specific styles.\n   */\n  constructor({ api: t, items: e, onOpen: o, onClose: i, cssModifier: n = \"\" }) {\n    this.api = t, this.items = e, this.onOpen = o, this.onClose = i, this.cssModifier = n, this.popover = null, this.wrapper = this.createToolbox();\n  }\n  /**\n   * Style classes\n   */\n  static get CSS() {\n    return {\n      toolbox: \"tc-toolbox\",\n      toolboxShowed: \"tc-toolbox--showed\",\n      toggler: \"tc-toolbox__toggler\"\n    };\n  }\n  /**\n   * Returns rendered Toolbox element\n   */\n  get element() {\n    return this.wrapper;\n  }\n  /**\n   * Creating a toolbox to open menu for a manipulating columns\n   *\n   * @returns {Element}\n   */\n  createToolbox() {\n    const t = c(\"div\", [\n      w.CSS.toolbox,\n      this.cssModifier ? `${w.CSS.toolbox}--${this.cssModifier}` : \"\"\n    ]);\n    t.dataset.mutationFree = \"true\";\n    const e = this.createPopover(), o = this.createToggler();\n    return t.appendChild(o), t.appendChild(e), t;\n  }\n  /**\n   * Creates the Toggler\n   *\n   * @returns {Element}\n   */\n  createToggler() {\n    const t = c(\"div\", w.CSS.toggler, {\n      innerHTML: M\n    });\n    return t.addEventListener(\"click\", () => {\n      this.togglerClicked();\n    }), t;\n  }\n  /**\n   * Creates the Popover instance and render it\n   *\n   * @returns {Element}\n   */\n  createPopover() {\n    return this.popover = new a({\n      items: this.items\n    }), this.popover.render();\n  }\n  /**\n   * Toggler click handler. Opens/Closes the popover\n   *\n   * @returns {void}\n   */\n  togglerClicked() {\n    this.popover.opened ? (this.popover.close(), this.onClose()) : (this.popover.open(), this.onOpen());\n  }\n  /**\n   * Shows the Toolbox\n   *\n   * @param {function} computePositionMethod - method that returns the position coordinate\n   * @returns {void}\n   */\n  show(t) {\n    const e = t();\n    Object.entries(e).forEach(([o, i]) => {\n      this.wrapper.style[o] = i;\n    }), this.wrapper.classList.add(w.CSS.toolboxShowed);\n  }\n  /**\n   * Hides the Toolbox\n   *\n   * @returns {void}\n   */\n  hide() {\n    this.popover.close(), this.wrapper.classList.remove(w.CSS.toolboxShowed);\n  }\n}\nfunction B(d, t) {\n  let e = 0;\n  return function(...o) {\n    const i = (/* @__PURE__ */ new Date()).getTime();\n    if (!(i - e < d))\n      return e = i, t(...o);\n  };\n}\nconst s = {\n  wrapper: \"tc-wrap\",\n  wrapperReadOnly: \"tc-wrap--readonly\",\n  table: \"tc-table\",\n  row: \"tc-row\",\n  withHeadings: \"tc-table--heading\",\n  rowSelected: \"tc-row--selected\",\n  cell: \"tc-cell\",\n  cellSelected: \"tc-cell--selected\",\n  addRow: \"tc-add-row\",\n  addRowDisabled: \"tc-add-row--disabled\",\n  addColumn: \"tc-add-column\",\n  addColumnDisabled: \"tc-add-column--disabled\"\n};\nclass E {\n  /**\n   * Creates\n   *\n   * @constructor\n   * @param {boolean} readOnly - read-only mode flag\n   * @param {object} api - Editor.js API\n   * @param {TableData} data - Editor.js API\n   * @param {TableConfig} config - Editor.js API\n   */\n  constructor(t, e, o, i) {\n    this.readOnly = t, this.api = e, this.data = o, this.config = i, this.wrapper = null, this.table = null, this.toolboxColumn = this.createColumnToolbox(), this.toolboxRow = this.createRowToolbox(), this.createTableWrapper(), this.hoveredRow = 0, this.hoveredColumn = 0, this.selectedRow = 0, this.selectedColumn = 0, this.tunes = {\n      withHeadings: !1\n    }, this.resize(), this.fill(), this.focusedCell = {\n      row: 0,\n      column: 0\n    }, this.documentClicked = (n) => {\n      const r = n.target.closest(`.${s.table}`) !== null, h = n.target.closest(`.${s.wrapper}`) === null;\n      (r || h) && this.hideToolboxes();\n      const u = n.target.closest(`.${s.addRow}`), p = n.target.closest(`.${s.addColumn}`);\n      u && u.parentNode === this.wrapper ? (this.addRow(void 0, !0), this.hideToolboxes()) : p && p.parentNode === this.wrapper && (this.addColumn(void 0, !0), this.hideToolboxes());\n    }, this.readOnly || this.bindEvents();\n  }\n  /**\n   * Returns the rendered table wrapper\n   *\n   * @returns {Element}\n   */\n  getWrapper() {\n    return this.wrapper;\n  }\n  /**\n   * Hangs the necessary handlers to events\n   */\n  bindEvents() {\n    document.addEventListener(\"click\", this.documentClicked), this.table.addEventListener(\"mousemove\", B(150, (t) => this.onMouseMoveInTable(t)), { passive: !0 }), this.table.onkeypress = (t) => this.onKeyPressListener(t), this.table.addEventListener(\"keydown\", (t) => this.onKeyDownListener(t)), this.table.addEventListener(\"focusin\", (t) => this.focusInTableListener(t));\n  }\n  /**\n   * Configures and creates the toolbox for manipulating with columns\n   *\n   * @returns {Toolbox}\n   */\n  createColumnToolbox() {\n    return new w({\n      api: this.api,\n      cssModifier: \"column\",\n      items: [\n        {\n          label: this.api.i18n.t(\"Add column to left\"),\n          icon: S,\n          hideIf: () => this.numberOfColumns === this.config.maxcols,\n          onClick: () => {\n            this.addColumn(this.selectedColumn, !0), this.hideToolboxes();\n          }\n        },\n        {\n          label: this.api.i18n.t(\"Add column to right\"),\n          icon: y,\n          hideIf: () => this.numberOfColumns === this.config.maxcols,\n          onClick: () => {\n            this.addColumn(this.selectedColumn + 1, !0), this.hideToolboxes();\n          }\n        },\n        {\n          label: this.api.i18n.t(\"Delete column\"),\n          icon: b,\n          hideIf: () => this.numberOfColumns === 1,\n          confirmationRequired: !0,\n          onClick: () => {\n            this.deleteColumn(this.selectedColumn), this.hideToolboxes();\n          }\n        }\n      ],\n      onOpen: () => {\n        this.selectColumn(this.hoveredColumn), this.hideRowToolbox();\n      },\n      onClose: () => {\n        this.unselectColumn();\n      }\n    });\n  }\n  /**\n   * Configures and creates the toolbox for manipulating with rows\n   *\n   * @returns {Toolbox}\n   */\n  createRowToolbox() {\n    return new w({\n      api: this.api,\n      cssModifier: \"row\",\n      items: [\n        {\n          label: this.api.i18n.t(\"Add row above\"),\n          icon: L,\n          hideIf: () => this.numberOfRows === this.config.maxrows,\n          onClick: () => {\n            this.addRow(this.selectedRow, !0), this.hideToolboxes();\n          }\n        },\n        {\n          label: this.api.i18n.t(\"Add row below\"),\n          icon: x,\n          hideIf: () => this.numberOfRows === this.config.maxrows,\n          onClick: () => {\n            this.addRow(this.selectedRow + 1, !0), this.hideToolboxes();\n          }\n        },\n        {\n          label: this.api.i18n.t(\"Delete row\"),\n          icon: b,\n          hideIf: () => this.numberOfRows === 1,\n          confirmationRequired: !0,\n          onClick: () => {\n            this.deleteRow(this.selectedRow), this.hideToolboxes();\n          }\n        }\n      ],\n      onOpen: () => {\n        this.selectRow(this.hoveredRow), this.hideColumnToolbox();\n      },\n      onClose: () => {\n        this.unselectRow();\n      }\n    });\n  }\n  /**\n   * When you press enter it moves the cursor down to the next row\n   * or creates it if the click occurred on the last one\n   */\n  moveCursorToNextRow() {\n    this.focusedCell.row !== this.numberOfRows ? (this.focusedCell.row += 1, this.focusCell(this.focusedCell)) : (this.addRow(), this.focusedCell.row += 1, this.focusCell(this.focusedCell), this.updateToolboxesPosition(0, 0));\n  }\n  /**\n   * Get table cell by row and col index\n   *\n   * @param {number} row - cell row coordinate\n   * @param {number} column - cell column coordinate\n   * @returns {HTMLElement}\n   */\n  getCell(t, e) {\n    return this.table.querySelectorAll(`.${s.row}:nth-child(${t}) .${s.cell}`)[e - 1];\n  }\n  /**\n   * Get table row by index\n   *\n   * @param {number} row - row coordinate\n   * @returns {HTMLElement}\n   */\n  getRow(t) {\n    return this.table.querySelector(`.${s.row}:nth-child(${t})`);\n  }\n  /**\n   * The parent of the cell which is the row\n   *\n   * @param {HTMLElement} cell - cell element\n   * @returns {HTMLElement}\n   */\n  getRowByCell(t) {\n    return t.parentElement;\n  }\n  /**\n   * Ger row's first cell\n   *\n   * @param {Element} row - row to find its first cell\n   * @returns {Element}\n   */\n  getRowFirstCell(t) {\n    return t.querySelector(`.${s.cell}:first-child`);\n  }\n  /**\n   * Set the sell's content by row and column numbers\n   *\n   * @param {number} row - cell row coordinate\n   * @param {number} column - cell column coordinate\n   * @param {string} content - cell HTML content\n   */\n  setCellContent(t, e, o) {\n    const i = this.getCell(t, e);\n    i.innerHTML = o;\n  }\n  /**\n   * Add column in table on index place\n   * Add cells in each row\n   *\n   * @param {number} columnIndex - number in the array of columns, where new column to insert, -1 if insert at the end\n   * @param {boolean} [setFocus] - pass true to focus the first cell\n   */\n  addColumn(t = -1, e = !1) {\n    var n;\n    let o = this.numberOfColumns;\n    if (this.config && this.config.maxcols && this.numberOfColumns >= this.config.maxcols)\n      return;\n    for (let r = 1; r <= this.numberOfRows; r++) {\n      let h;\n      const l = this.createCell();\n      if (t > 0 && t <= o ? (h = this.getCell(r, t), m(l, h)) : h = this.getRow(r).appendChild(l), r === 1) {\n        const u = this.getCell(r, t > 0 ? t : o + 1);\n        u && e && C(u);\n      }\n    }\n    const i = this.wrapper.querySelector(`.${s.addColumn}`);\n    (n = this.config) != null && n.maxcols && this.numberOfColumns > this.config.maxcols - 1 && i && i.classList.add(s.addColumnDisabled), this.addHeadingAttrToFirstRow();\n  }\n  /**\n   * Add row in table on index place\n   *\n   * @param {number} index - number in the array of rows, where new column to insert, -1 if insert at the end\n   * @param {boolean} [setFocus] - pass true to focus the inserted row\n   * @returns {HTMLElement} row\n   */\n  addRow(t = -1, e = !1) {\n    let o, i = c(\"div\", s.row);\n    this.tunes.withHeadings && this.removeHeadingAttrFromFirstRow();\n    let n = this.numberOfColumns;\n    if (this.config && this.config.maxrows && this.numberOfRows >= this.config.maxrows && h)\n      return;\n    if (t > 0 && t <= this.numberOfRows) {\n      let l = this.getRow(t);\n      o = m(i, l);\n    } else\n      o = this.table.appendChild(i);\n    this.fillRow(o, n), this.tunes.withHeadings && this.addHeadingAttrToFirstRow();\n    const r = this.getRowFirstCell(o);\n    r && e && C(r);\n    const h = this.wrapper.querySelector(`.${s.addRow}`);\n    return this.config && this.config.maxrows && this.numberOfRows >= this.config.maxrows && h && h.classList.add(s.addRowDisabled), o;\n  }\n  /**\n   * Delete a column by index\n   *\n   * @param {number} index\n   */\n  deleteColumn(t) {\n    for (let o = 1; o <= this.numberOfRows; o++) {\n      const i = this.getCell(o, t);\n      if (!i)\n        return;\n      i.remove();\n    }\n    const e = this.wrapper.querySelector(`.${s.addColumn}`);\n    e && e.classList.remove(s.addColumnDisabled);\n  }\n  /**\n   * Delete a row by index\n   *\n   * @param {number} index\n   */\n  deleteRow(t) {\n    this.getRow(t).remove();\n    const e = this.wrapper.querySelector(`.${s.addRow}`);\n    e && e.classList.remove(s.addRowDisabled), this.addHeadingAttrToFirstRow();\n  }\n  /**\n   * Create a wrapper containing a table, toolboxes\n   * and buttons for adding rows and columns\n   *\n   * @returns {HTMLElement} wrapper - where all buttons for a table and the table itself will be\n   */\n  createTableWrapper() {\n    if (this.wrapper = c(\"div\", s.wrapper), this.table = c(\"div\", s.table), this.readOnly && this.wrapper.classList.add(s.wrapperReadOnly), this.wrapper.appendChild(this.toolboxRow.element), this.wrapper.appendChild(this.toolboxColumn.element), this.wrapper.appendChild(this.table), !this.readOnly) {\n      const t = c(\"div\", s.addColumn, {\n        innerHTML: v\n      }), e = c(\"div\", s.addRow, {\n        innerHTML: v\n      });\n      this.wrapper.appendChild(t), this.wrapper.appendChild(e);\n    }\n  }\n  /**\n   * Returns the size of the table based on initial data or config \"size\" property\n   *\n   * @return {{rows: number, cols: number}} - number of cols and rows\n   */\n  computeInitialSize() {\n    const t = this.data && this.data.content, e = Array.isArray(t), o = e ? t.length : !1, i = e ? t.length : void 0, n = o ? t[0].length : void 0, r = Number.parseInt(this.config && this.config.rows), h = Number.parseInt(this.config && this.config.cols), l = !isNaN(r) && r > 0 ? r : void 0, u = !isNaN(h) && h > 0 ? h : void 0;\n    return {\n      rows: i || l || 2,\n      cols: n || u || 2\n    };\n  }\n  /**\n   * Resize table to match config size or transmitted data size\n   *\n   * @return {{rows: number, cols: number}} - number of cols and rows\n   */\n  resize() {\n    const { rows: t, cols: e } = this.computeInitialSize();\n    for (let o = 0; o < t; o++)\n      this.addRow();\n    for (let o = 0; o < e; o++)\n      this.addColumn();\n  }\n  /**\n   * Fills the table with data passed to the constructor\n   *\n   * @returns {void}\n   */\n  fill() {\n    const t = this.data;\n    if (t && t.content)\n      for (let e = 0; e < t.content.length; e++)\n        for (let o = 0; o < t.content[e].length; o++)\n          this.setCellContent(e + 1, o + 1, t.content[e][o]);\n  }\n  /**\n   * Fills a row with cells\n   *\n   * @param {HTMLElement} row - row to fill\n   * @param {number} numberOfColumns - how many cells should be in a row\n   */\n  fillRow(t, e) {\n    for (let o = 1; o <= e; o++) {\n      const i = this.createCell();\n      t.appendChild(i);\n    }\n  }\n  /**\n   * Creating a cell element\n   *\n   * @return {Element}\n   */\n  createCell() {\n    return c(\"div\", s.cell, {\n      contentEditable: !this.readOnly\n    });\n  }\n  /**\n   * Get number of rows in the table\n   */\n  get numberOfRows() {\n    return this.table.childElementCount;\n  }\n  /**\n   * Get number of columns in the table\n   */\n  get numberOfColumns() {\n    return this.numberOfRows ? this.table.querySelectorAll(`.${s.row}:first-child .${s.cell}`).length : 0;\n  }\n  /**\n   * Is the column toolbox menu displayed or not\n   *\n   * @returns {boolean}\n   */\n  get isColumnMenuShowing() {\n    return this.selectedColumn !== 0;\n  }\n  /**\n   * Is the row toolbox menu displayed or not\n   *\n   * @returns {boolean}\n   */\n  get isRowMenuShowing() {\n    return this.selectedRow !== 0;\n  }\n  /**\n   * Recalculate position of toolbox icons\n   *\n   * @param {Event} event - mouse move event\n   */\n  onMouseMoveInTable(t) {\n    const { row: e, column: o } = this.getHoveredCell(t);\n    this.hoveredColumn = o, this.hoveredRow = e, this.updateToolboxesPosition();\n  }\n  /**\n   * Prevents default Enter behaviors\n   * Adds Shift+Enter processing\n   *\n   * @param {KeyboardEvent} event - keypress event\n   */\n  onKeyPressListener(t) {\n    if (t.key === \"Enter\") {\n      if (t.shiftKey)\n        return !0;\n      this.moveCursorToNextRow();\n    }\n    return t.key !== \"Enter\";\n  }\n  /**\n   * Prevents tab keydown event from bubbling\n   * so that it only works inside the table\n   *\n   * @param {KeyboardEvent} event - keydown event\n   */\n  onKeyDownListener(t) {\n    t.key === \"Tab\" && t.stopPropagation();\n  }\n  /**\n   * Set the coordinates of the cell that the focus has moved to\n   *\n   * @param {FocusEvent} event - focusin event\n   */\n  focusInTableListener(t) {\n    const e = t.target, o = this.getRowByCell(e);\n    this.focusedCell = {\n      row: Array.from(this.table.querySelectorAll(`.${s.row}`)).indexOf(o) + 1,\n      column: Array.from(o.querySelectorAll(`.${s.cell}`)).indexOf(e) + 1\n    };\n  }\n  /**\n   * Unselect row/column\n   * Close toolbox menu\n   * Hide toolboxes\n   *\n   * @returns {void}\n   */\n  hideToolboxes() {\n    this.hideRowToolbox(), this.hideColumnToolbox(), this.updateToolboxesPosition();\n  }\n  /**\n   * Unselect row, close toolbox\n   *\n   * @returns {void}\n   */\n  hideRowToolbox() {\n    this.unselectRow(), this.toolboxRow.hide();\n  }\n  /**\n   * Unselect column, close toolbox\n   *\n   * @returns {void}\n   */\n  hideColumnToolbox() {\n    this.unselectColumn(), this.toolboxColumn.hide();\n  }\n  /**\n   * Set the cursor focus to the focused cell\n   *\n   * @returns {void}\n   */\n  focusCell() {\n    this.focusedCellElem.focus();\n  }\n  /**\n   * Get current focused element\n   *\n   * @returns {HTMLElement} - focused cell\n   */\n  get focusedCellElem() {\n    const { row: t, column: e } = this.focusedCell;\n    return this.getCell(t, e);\n  }\n  /**\n   * Update toolboxes position\n   *\n   * @param {number} row - hovered row\n   * @param {number} column - hovered column\n   */\n  updateToolboxesPosition(t = this.hoveredRow, e = this.hoveredColumn) {\n    this.isColumnMenuShowing || e > 0 && e <= this.numberOfColumns && this.toolboxColumn.show(() => ({\n      left: `calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${e} - 1) * 2))`\n    })), this.isRowMenuShowing || t > 0 && t <= this.numberOfRows && this.toolboxRow.show(() => {\n      const o = this.getRow(t), { fromTopBorder: i } = g(this.table, o), { height: n } = o.getBoundingClientRect();\n      return {\n        top: `${Math.ceil(i + n / 2)}px`\n      };\n    });\n  }\n  /**\n   * Makes the first row headings\n   *\n   * @param {boolean} withHeadings - use headings row or not\n   */\n  setHeadingsSetting(t) {\n    this.tunes.withHeadings = t, t ? (this.table.classList.add(s.withHeadings), this.addHeadingAttrToFirstRow()) : (this.table.classList.remove(s.withHeadings), this.removeHeadingAttrFromFirstRow());\n  }\n  /**\n   * Adds an attribute for displaying the placeholder in the cell\n   */\n  addHeadingAttrToFirstRow() {\n    for (let t = 1; t <= this.numberOfColumns; t++) {\n      let e = this.getCell(1, t);\n      e && e.setAttribute(\"heading\", this.api.i18n.t(\"Heading\"));\n    }\n  }\n  /**\n   * Removes an attribute for displaying the placeholder in the cell\n   */\n  removeHeadingAttrFromFirstRow() {\n    for (let t = 1; t <= this.numberOfColumns; t++) {\n      let e = this.getCell(1, t);\n      e && e.removeAttribute(\"heading\");\n    }\n  }\n  /**\n   * Add effect of a selected row\n   *\n   * @param {number} index\n   */\n  selectRow(t) {\n    const e = this.getRow(t);\n    e && (this.selectedRow = t, e.classList.add(s.rowSelected));\n  }\n  /**\n   * Remove effect of a selected row\n   */\n  unselectRow() {\n    if (this.selectedRow <= 0)\n      return;\n    const t = this.table.querySelector(`.${s.rowSelected}`);\n    t && t.classList.remove(s.rowSelected), this.selectedRow = 0;\n  }\n  /**\n   * Add effect of a selected column\n   *\n   * @param {number} index\n   */\n  selectColumn(t) {\n    for (let e = 1; e <= this.numberOfRows; e++) {\n      const o = this.getCell(e, t);\n      o && o.classList.add(s.cellSelected);\n    }\n    this.selectedColumn = t;\n  }\n  /**\n   * Remove effect of a selected column\n   */\n  unselectColumn() {\n    if (this.selectedColumn <= 0)\n      return;\n    let t = this.table.querySelectorAll(`.${s.cellSelected}`);\n    Array.from(t).forEach((e) => {\n      e.classList.remove(s.cellSelected);\n    }), this.selectedColumn = 0;\n  }\n  /**\n   * Calculates the row and column that the cursor is currently hovering over\n   * The search was optimized from O(n) to O (log n) via bin search to reduce the number of calculations\n   *\n   * @param {Event} event - mousemove event\n   * @returns hovered cell coordinates as an integer row and column\n   */\n  getHoveredCell(t) {\n    let e = this.hoveredRow, o = this.hoveredColumn;\n    const { width: i, height: n, x: r, y: h } = k(this.table, t);\n    return r >= 0 && (o = this.binSearch(\n      this.numberOfColumns,\n      (l) => this.getCell(1, l),\n      ({ fromLeftBorder: l }) => r < l,\n      ({ fromRightBorder: l }) => r > i - l\n    )), h >= 0 && (e = this.binSearch(\n      this.numberOfRows,\n      (l) => this.getCell(l, 1),\n      ({ fromTopBorder: l }) => h < l,\n      ({ fromBottomBorder: l }) => h > n - l\n    )), {\n      row: e || this.hoveredRow,\n      column: o || this.hoveredColumn\n    };\n  }\n  /**\n   * Looks for the index of the cell the mouse is hovering over.\n   * Cells can be represented as ordered intervals with left and\n   * right (upper and lower for rows) borders inside the table, if the mouse enters it, then this is our index\n   *\n   * @param {number} numberOfCells - upper bound of binary search\n   * @param {function} getCell - function to take the currently viewed cell\n   * @param {function} beforeTheLeftBorder - determines the cursor position, to the left of the cell or not\n   * @param {function} afterTheRightBorder - determines the cursor position, to the right of the cell or not\n   * @returns {number}\n   */\n  binSearch(t, e, o, i) {\n    let n = 0, r = t + 1, h = 0, l;\n    for (; n < r - 1 && h < 10; ) {\n      l = Math.ceil((n + r) / 2);\n      const u = e(l), p = g(this.table, u);\n      if (o(p))\n        r = l;\n      else if (i(p))\n        n = l;\n      else\n        break;\n      h++;\n    }\n    return l;\n  }\n  /**\n   * Collects data from cells into a two-dimensional array\n   *\n   * @returns {string[][]}\n   */\n  getData() {\n    const t = [];\n    for (let e = 1; e <= this.numberOfRows; e++) {\n      const o = this.table.querySelector(`.${s.row}:nth-child(${e})`), i = Array.from(o.querySelectorAll(`.${s.cell}`));\n      i.every((r) => !r.textContent.trim()) || t.push(i.map((r) => r.innerHTML));\n    }\n    return t;\n  }\n  /**\n   * Remove listeners on the document\n   */\n  destroy() {\n    document.removeEventListener(\"click\", this.documentClicked);\n  }\n}\nclass F {\n  /**\n   * Notify core that read-only mode is supported\n   *\n   * @returns {boolean}\n   */\n  static get isReadOnlySupported() {\n    return !0;\n  }\n  /**\n   * Allow to press Enter inside the CodeTool textarea\n   *\n   * @returns {boolean}\n   * @public\n   */\n  static get enableLineBreaks() {\n    return !0;\n  }\n  /**\n   * Render plugin`s main Element and fill it with saved data\n   *\n   * @param {TableConstructor} init\n   */\n  constructor({ data: t, config: e, api: o, readOnly: i, block: n }) {\n    this.api = o, this.readOnly = i, this.config = e, this.data = {\n      withHeadings: this.getConfig(\"withHeadings\", !1, t),\n      stretched: this.getConfig(\"stretched\", !1, t),\n      content: t && t.content ? t.content : []\n    }, this.table = null, this.block = n;\n  }\n  /**\n   * Get Tool toolbox settings\n   * icon - Tool icon's SVG\n   * title - title to show in toolbox\n   *\n   * @returns {{icon: string, title: string}}\n   */\n  static get toolbox() {\n    return {\n      icon: A,\n      title: \"Table\"\n    };\n  }\n  /**\n   * Return Tool's view\n   *\n   * @returns {HTMLDivElement}\n   */\n  render() {\n    return this.table = new E(this.readOnly, this.api, this.data, this.config), this.container = c(\"div\", this.api.styles.block), this.container.appendChild(this.table.getWrapper()), this.table.setHeadingsSetting(this.data.withHeadings), this.container;\n  }\n  /**\n   * Returns plugin settings\n   *\n   * @returns {Array}\n   */\n  renderSettings() {\n    return [\n      {\n        label: this.api.i18n.t(\"With headings\"),\n        icon: T,\n        isActive: this.data.withHeadings,\n        closeOnActivate: !0,\n        toggle: !0,\n        onActivate: () => {\n          this.data.withHeadings = !0, this.table.setHeadingsSetting(this.data.withHeadings);\n        }\n      },\n      {\n        label: this.api.i18n.t(\"Without headings\"),\n        icon: H,\n        isActive: !this.data.withHeadings,\n        closeOnActivate: !0,\n        toggle: !0,\n        onActivate: () => {\n          this.data.withHeadings = !1, this.table.setHeadingsSetting(this.data.withHeadings);\n        }\n      },\n      {\n        label: this.data.stretched ? this.api.i18n.t(\"Collapse\") : this.api.i18n.t(\"Stretch\"),\n        icon: this.data.stretched ? R : O,\n        closeOnActivate: !0,\n        toggle: !0,\n        onActivate: () => {\n          this.data.stretched = !this.data.stretched, this.block.stretched = this.data.stretched;\n        }\n      }\n    ];\n  }\n  /**\n   * Extract table data from the view\n   *\n   * @returns {TableData} - saved data\n   */\n  save() {\n    const t = this.table.getData();\n    return {\n      withHeadings: this.data.withHeadings,\n      stretched: this.data.stretched,\n      content: t\n    };\n  }\n  /**\n   * Plugin destroyer\n   *\n   * @returns {void}\n   */\n  destroy() {\n    this.table.destroy();\n  }\n  /**\n   * A helper to get config value.\n   *\n   * @param {string} configName - the key to get from the config.\n   * @param {any} defaultValue - default value if config doesn't have passed key\n   * @param {object} savedData - previously saved data. If passed, the key will be got from there, otherwise from the config\n   * @returns {any} - config value.\n   */\n  getConfig(t, e = void 0, o = void 0) {\n    const i = this.data || o;\n    return i ? i[t] ? i[t] : e : this.config && this.config[t] ? this.config[t] : e;\n  }\n  /**\n   * Table onPaste configuration\n   *\n   * @public\n   */\n  static get pasteConfig() {\n    return { tags: [\"TABLE\", \"TR\", \"TH\", \"TD\"] };\n  }\n  /**\n   * On paste callback that is fired from Editor\n   *\n   * @param {PasteEvent} event - event with pasted data\n   */\n  onPaste(t) {\n    const e = t.detail.data, o = e.querySelector(\":scope > thead, tr:first-of-type th\"), n = Array.from(e.querySelectorAll(\"tr\")).map((r) => Array.from(r.querySelectorAll(\"th, td\")).map((l) => l.innerHTML));\n    this.data = {\n      withHeadings: o !== null,\n      content: n\n    }, this.table.wrapper && this.table.wrapper.replaceWith(this.render());\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL3RhYmxlL2Rpc3QvdGFibGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxZQUFZLE1BQU0sYUFBYSxJQUFJLHdCQUF3QixzQ0FBc0MsMklBQTJJLDJCQUEyQiwrQkFBK0IsdUJBQXVCLGlCQUFpQix5QkFBeUIsc0JBQXNCLHNGQUFzRixjQUFjLGtCQUFrQixZQUFZLFdBQVcsb0NBQW9DLHNCQUFzQixhQUFhLHFFQUFxRSxtQkFBbUIsNENBQTRDLGFBQWEsbUJBQW1CLGFBQWEsU0FBUyxzQ0FBc0Msd0JBQXdCLHNCQUFzQiw2Q0FBNkMsYUFBYSx1QkFBdUIsY0FBYyxVQUFVLGtCQUFrQixXQUFXLFlBQVksYUFBYSxlQUFlLHlDQUF5QyxnQkFBZ0IsZ0JBQWdCLDZCQUE2QixZQUFZLCtCQUErQixNQUFNLGlDQUFpQyxrQkFBa0IsV0FBVyxpQkFBaUIsV0FBVyx3Q0FBd0MsOENBQThDLE9BQU8sdUNBQXVDLGdCQUFnQiw0Q0FBNEMsc0VBQXNFLHNCQUFzQixrQ0FBa0MsNkNBQTZDLFlBQVksNENBQTRDLDJCQUEyQixhQUFhLGtDQUFrQyxhQUFhLFFBQVEsY0FBYyxlQUFlLGNBQWMsdUJBQXVCLHlDQUF5Qyx5QkFBeUIsa0JBQWtCLGFBQWEsZUFBZSxjQUFjLFlBQVksd0JBQXdCLG1CQUFtQixpQkFBaUIsa0JBQWtCLHNCQUFzQixhQUFhLG1CQUFtQixXQUFXLGtCQUFrQixnQ0FBZ0MsdUJBQXVCLFlBQVksYUFBYSxZQUFZLGNBQWMsMkJBQTJCLGNBQWMsZUFBZSw2QkFBNkIsdUNBQXVDLHFDQUFxQyx5Q0FBeUMsWUFBWSxlQUFlLHlCQUF5QixlQUFlLHlDQUF5QyxRQUFRLGFBQWEsd0RBQXdELGtCQUFrQiw0Q0FBNEMsY0FBYyxXQUFXLG9CQUFvQixrQkFBa0IsdUJBQXVCLFlBQVksWUFBWSxnQ0FBZ0MsNENBQTRDLGtCQUFrQixtQ0FBbUMsd0JBQXdCLG1DQUFtQyxTQUFTLDJDQUEyQyxpQkFBaUIsZ0JBQWdCLGFBQWEs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QUFDQTtBQUNBO0FBQ0EsZUFBZSxXQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLEtBQUs7QUFDbEIsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsS0FBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL3RhYmxlL2Rpc3QvdGFibGUubWpzP2ZlMzEiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7dmFyIHI7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO28ubm9uY2U9KHI9ZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKFwibWV0YVtwcm9wZXJ0eT1jc3Atbm9uY2VdXCIpKT09bnVsbD92b2lkIDA6ci5jb250ZW50LG8uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJy50Yy13cmFwey0tY29sb3ItYmFja2dyb3VuZDojZjlmOWZiOy0tY29sb3ItdGV4dC1zZWNvbmRhcnk6IzdiN2U4OTstLWNvbG9yLWJvcmRlcjojZThlOGViOy0tY2VsbC1zaXplOjM0cHg7LS10b29sYm94LWljb24tc2l6ZToxOHB4Oy0tdG9vbGJveC1wYWRkaW5nOjZweDstLXRvb2xib3gtYWltaW5nLWZpZWxkLXNpemU6Y2FsYyh2YXIoLS10b29sYm94LWljb24tc2l6ZSkgKyB2YXIoLS10b29sYm94LXBhZGRpbmcpKjIpO2JvcmRlci1sZWZ0OjA7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTttYXJnaW4tdG9wOnZhcigtLXRvb2xib3gtaWNvbi1zaXplKTtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpjYWxjKDEwMCUgLSB2YXIoLS1jZWxsLXNpemUpKSB2YXIoLS1jZWxsLXNpemUpfS50Yy13cmFwLS1yZWFkb25seXtncmlkLXRlbXBsYXRlLWNvbHVtbnM6MTAwJSB2YXIoLS1jZWxsLXNpemUpfS50Yy13cmFwIHN2Z3t2ZXJ0aWNhbC1hbGlnbjp0b3B9QG1lZGlhIHByaW50ey50Yy13cmFwe2JvcmRlci1sZWZ0LWNvbG9yOnZhcigtLWNvbG9yLWJvcmRlcik7Ym9yZGVyLWxlZnQtc3R5bGU6c29saWQ7Ym9yZGVyLWxlZnQtd2lkdGg6MXB4O2dyaWQtdGVtcGxhdGUtY29sdW1uczoxMDAlIHZhcigtLWNlbGwtc2l6ZSl9fUBtZWRpYSBwcmludHsudGMtd3JhcCAudGMtcm93OmFmdGVye2Rpc3BsYXk6bm9uZX19LnRjLXRhYmxle3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpncmlkO2ZvbnQtc2l6ZToxNHB4O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcik7bGluZS1oZWlnaHQ6MS40fS50Yy10YWJsZTphZnRlcnt3aWR0aDpjYWxjKHZhcigtLWNlbGwtc2l6ZSkpO2hlaWdodDoxMDAlO2xlZnQ6Y2FsYyh2YXIoLS1jZWxsLXNpemUpKi0xKTt0b3A6MH0udGMtdGFibGU6YWZ0ZXIsLnRjLXRhYmxlOmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OlwiXCJ9LnRjLXRhYmxlOmJlZm9yZXt3aWR0aDoxMDAlO2hlaWdodDp2YXIoLS10b29sYm94LWFpbWluZy1maWVsZC1zaXplKTt0b3A6Y2FsYyh2YXIoLS10b29sYm94LWFpbWluZy1maWVsZC1zaXplKSotMSk7bGVmdDowfS50Yy10YWJsZS0taGVhZGluZyAudGMtcm93OmZpcnN0LWNoaWxke2ZvbnQtd2VpZ2h0OjYwMDtib3JkZXItYm90dG9tOjJweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpfS50Yy10YWJsZS0taGVhZGluZyAudGMtcm93OmZpcnN0LWNoaWxkIFtjb250ZW50ZWRpdGFibGVdOmVtcHR5OmJlZm9yZXtjb250ZW50OmF0dHIoaGVhZGluZyk7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1zZWNvbmRhcnkpfS50Yy10YWJsZS0taGVhZGluZyAudGMtcm93OmZpcnN0LWNoaWxkOmFmdGVye2JvdHRvbTotMnB4O2JvcmRlci1ib3R0b206MnB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcil9LnRjLWFkZC1jb2x1bW4sLnRjLWFkZC1yb3d7ZGlzcGxheTpmbGV4O2NvbG9yOnZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KX1AbWVkaWEgcHJpbnR7LnRjLWFkZHtkaXNwbGF5Om5vbmV9fS50Yy1hZGQtY29sdW1ue3BhZGRpbmc6NHB4IDA7anVzdGlmeS1jb250ZW50OmNlbnRlcjtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpfS50Yy1hZGQtY29sdW1uLS1kaXNhYmxlZHt2aXNpYmlsaXR5OmhpZGRlbn1AbWVkaWEgcHJpbnR7LnRjLWFkZC1jb2x1bW57ZGlzcGxheTpub25lfX0udGMtYWRkLXJvd3toZWlnaHQ6dmFyKC0tY2VsbC1zaXplKTthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZy1sZWZ0OjRweDtwb3NpdGlvbjpyZWxhdGl2ZX0udGMtYWRkLXJvdy0tZGlzYWJsZWR7ZGlzcGxheTpub25lfS50Yy1hZGQtcm93OmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6Y2FsYyh2YXIoLS1jZWxsLXNpemUpKi0xKTt3aWR0aDp2YXIoLS1jZWxsLXNpemUpO2hlaWdodDoxMDAlfUBtZWRpYSBwcmludHsudGMtYWRkLXJvd3tkaXNwbGF5Om5vbmV9fS50Yy1hZGQtY29sdW1uLC50Yy1hZGQtcm93e3RyYW5zaXRpb246MHM7Y3Vyc29yOnBvaW50ZXI7d2lsbC1jaGFuZ2U6YmFja2dyb3VuZC1jb2xvcn0udGMtYWRkLWNvbHVtbjpob3ZlciwudGMtYWRkLXJvdzpob3Zlcnt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjFzIGVhc2U7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKX0udGMtYWRkLXJvd3ttYXJnaW4tdG9wOjFweH0udGMtYWRkLXJvdzpob3ZlcjpiZWZvcmV7dHJhbnNpdGlvbjouMXM7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKX0udGMtcm93e2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KGF1dG8tZml0LG1pbm1heCgxMHB4LDFmcikpO3Bvc2l0aW9uOnJlbGF0aXZlO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcil9LnRjLXJvdzphZnRlcntjb250ZW50OlwiXCI7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDp2YXIoLS1jZWxsLXNpemUpO2hlaWdodDoxMDAlO2JvdHRvbTotMXB4O3JpZ2h0OmNhbGModmFyKC0tY2VsbC1zaXplKSotMSk7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKX0udGMtcm93LS1zZWxlY3RlZHtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQpfS50Yy1yb3ctLXNlbGVjdGVkOmFmdGVye2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZCl9LnRjLWNlbGx7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpO3BhZGRpbmc6NnB4IDEycHg7b3ZlcmZsb3c6aGlkZGVuO291dGxpbmU6bm9uZTtsaW5lLWJyZWFrOm5vcm1hbH0udGMtY2VsbC0tc2VsZWN0ZWR7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKX0udGMtd3JhcC0tcmVhZG9ubHkgLnRjLXJvdzphZnRlcntkaXNwbGF5Om5vbmV9LnRjLXRvb2xib3h7LS10b29sYm94LXBhZGRpbmc6NnB4Oy0tcG9wb3Zlci1tYXJnaW46MzBweDstLXRvZ2dsZXItY2xpY2stem9uZS1zaXplOjMwcHg7LS10b2dnbGVyLWRvdHMtY29sb3I6IzdiN2U4OTstLXRvZ2dsZXItZG90cy1jb2xvci1ob3ZlcmVkOiMxZDIwMmI7cG9zaXRpb246YWJzb2x1dGU7Y3Vyc29yOnBvaW50ZXI7ei1pbmRleDoxO29wYWNpdHk6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzO3dpbGwtY2hhbmdlOmxlZnQsb3BhY2l0eX0udGMtdG9vbGJveC0tY29sdW1ue3RvcDpjYWxjKHZhcigtLXRvZ2dsZXItY2xpY2stem9uZS1zaXplKSotMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZShjYWxjKHZhcigtLXRvZ2dsZXItY2xpY2stem9uZS1zaXplKSotMS8yKSk7d2lsbC1jaGFuZ2U6bGVmdCxvcGFjaXR5fS50Yy10b29sYm94LS1yb3d7bGVmdDpjYWxjKHZhcigtLXBvcG92ZXItbWFyZ2luKSotMSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoY2FsYyh2YXIoLS10b2dnbGVyLWNsaWNrLXpvbmUtc2l6ZSkqLTEvMikpO21hcmdpbi10b3A6LTFweDt3aWxsLWNoYW5nZTp0b3Asb3BhY2l0eX0udGMtdG9vbGJveC0tc2hvd2Vke29wYWNpdHk6MX0udGMtdG9vbGJveCAudGMtcG9wb3Zlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OnZhcigtLXBvcG92ZXItbWFyZ2luKX0udGMtdG9vbGJveF9fdG9nZ2xlcntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6dmFyKC0tdG9nZ2xlci1jbGljay16b25lLXNpemUpO2hlaWdodDp2YXIoLS10b2dnbGVyLWNsaWNrLXpvbmUtc2l6ZSk7Y29sb3I6dmFyKC0tdG9nZ2xlci1kb3RzLWNvbG9yKTtvcGFjaXR5OjA7dHJhbnNpdGlvbjpvcGFjaXR5IC4xNXMgZWFzZTt3aWxsLWNoYW5nZTpvcGFjaXR5fS50Yy10b29sYm94X190b2dnbGVyOmhvdmVye2NvbG9yOnZhcigtLXRvZ2dsZXItZG90cy1jb2xvci1ob3ZlcmVkKX0udGMtdG9vbGJveF9fdG9nZ2xlciBzdmd7ZmlsbDpjdXJyZW50Q29sb3J9LnRjLXdyYXA6aG92ZXIgLnRjLXRvb2xib3hfX3RvZ2dsZXJ7b3BhY2l0eToxfS50Yy1zZXR0aW5ncyAuY2R4LXNldHRpbmdzLWJ1dHRvbnt3aWR0aDo1MCU7bWFyZ2luOjB9LnRjLXBvcG92ZXJ7LS1jb2xvci1ib3JkZXI6I2VhZWFlYTstLWNvbG9yLWJhY2tncm91bmQ6I2ZmZjstLWNvbG9yLWJhY2tncm91bmQtaG92ZXI6cmdiYSgyMzIsMjMyLDIzNSwuNDkpOy0tY29sb3ItYmFja2dyb3VuZC1jb25maXJtOiNlMjRhNGE7LS1jb2xvci1iYWNrZ3JvdW5kLWNvbmZpcm0taG92ZXI6I2Q1NDA0MDstLWNvbG9yLXRleHQtY29uZmlybTojZmZmO2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpO2JveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4ICMwZDE0MjEyMTtib3JkZXItcmFkaXVzOjZweDtwYWRkaW5nOjZweDtkaXNwbGF5Om5vbmU7d2lsbC1jaGFuZ2U6b3BhY2l0eSx0cmFuc2Zvcm19LnRjLXBvcG92ZXItLW9wZW5lZHtkaXNwbGF5OmJsb2NrO2FuaW1hdGlvbjptZW51U2hvd2luZyAuMXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSkgZm9yd2FyZHN9LnRjLXBvcG92ZXJfX2l0ZW17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjJweCAxNHB4IDJweCAycHg7Ym9yZGVyLXJhZGl1czo1cHg7Y3Vyc29yOnBvaW50ZXI7d2hpdGUtc3BhY2U6bm93cmFwOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0udGMtcG9wb3Zlcl9faXRlbTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaG92ZXIpfS50Yy1wb3BvdmVyX19pdGVtOm5vdCg6bGFzdC1vZi10eXBlKXttYXJnaW4tYm90dG9tOjJweH0udGMtcG9wb3Zlcl9faXRlbS1pY29ue2Rpc3BsYXk6aW5saW5lLWZsZXg7d2lkdGg6MjZweDtoZWlnaHQ6MjZweDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQpO2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKTttYXJnaW4tcmlnaHQ6OHB4fS50Yy1wb3BvdmVyX19pdGVtLWxhYmVse2xpbmUtaGVpZ2h0OjIycHg7Zm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NTAwfS50Yy1wb3BvdmVyX19pdGVtLS1jb25maXJte2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1jb25maXJtKTtjb2xvcjp2YXIoLS1jb2xvci10ZXh0LWNvbmZpcm0pfS50Yy1wb3BvdmVyX19pdGVtLS1jb25maXJtOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1jb25maXJtLWhvdmVyKX0udGMtcG9wb3Zlcl9faXRlbS0tY29uZmlybSAudGMtcG9wb3Zlcl9faXRlbS1pY29ue2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1jb25maXJtKTtib3JkZXItY29sb3I6IzAwMDAwMDFhfS50Yy1wb3BvdmVyX19pdGVtLS1jb25maXJtIC50Yy1wb3BvdmVyX19pdGVtLWljb24gc3Zne3RyYW5zaXRpb246dHJhbnNmb3JtIC4ycyBlYXNlLWluO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpIHNjYWxlKDEuMil9LnRjLXBvcG92ZXJfX2l0ZW0tLWhpZGRlbntkaXNwbGF5Om5vbmV9QGtleWZyYW1lcyBtZW51U2hvd2luZ3swJXtvcGFjaXR5OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCkgc2NhbGUoLjkpfTcwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMnB4KX10b3t0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19JykpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobyl9fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIixlKX19KSgpO1xuZnVuY3Rpb24gYyhkLCB0LCBlID0ge30pIHtcbiAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZCk7XG4gIEFycmF5LmlzQXJyYXkodCkgPyBvLmNsYXNzTGlzdC5hZGQoLi4udCkgOiB0ICYmIG8uY2xhc3NMaXN0LmFkZCh0KTtcbiAgZm9yIChjb25zdCBpIGluIGUpXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIGkpICYmIChvW2ldID0gZVtpXSk7XG4gIHJldHVybiBvO1xufVxuZnVuY3Rpb24gZihkKSB7XG4gIGNvbnN0IHQgPSBkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4ge1xuICAgIHkxOiBNYXRoLmZsb29yKHQudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0KSxcbiAgICB4MTogTWF0aC5mbG9vcih0LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQpLFxuICAgIHgyOiBNYXRoLmZsb29yKHQucmlnaHQgKyB3aW5kb3cucGFnZVhPZmZzZXQpLFxuICAgIHkyOiBNYXRoLmZsb29yKHQuYm90dG9tICsgd2luZG93LnBhZ2VZT2Zmc2V0KVxuICB9O1xufVxuZnVuY3Rpb24gZyhkLCB0KSB7XG4gIGNvbnN0IGUgPSBmKGQpLCBvID0gZih0KTtcbiAgcmV0dXJuIHtcbiAgICBmcm9tVG9wQm9yZGVyOiBvLnkxIC0gZS55MSxcbiAgICBmcm9tTGVmdEJvcmRlcjogby54MSAtIGUueDEsXG4gICAgZnJvbVJpZ2h0Qm9yZGVyOiBlLngyIC0gby54MixcbiAgICBmcm9tQm90dG9tQm9yZGVyOiBlLnkyIC0gby55MlxuICB9O1xufVxuZnVuY3Rpb24gayhkLCB0KSB7XG4gIGNvbnN0IGUgPSBkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB7IHdpZHRoOiBvLCBoZWlnaHQ6IGksIHg6IG4sIHk6IHIgfSA9IGUsIHsgY2xpZW50WDogaCwgY2xpZW50WTogbCB9ID0gdDtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogbyxcbiAgICBoZWlnaHQ6IGksXG4gICAgeDogaCAtIG4sXG4gICAgeTogbCAtIHJcbiAgfTtcbn1cbmZ1bmN0aW9uIG0oZCwgdCkge1xuICByZXR1cm4gdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkLCB0KTtcbn1cbmZ1bmN0aW9uIEMoZCwgdCA9ICEwKSB7XG4gIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLCBvID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICBlLnNlbGVjdE5vZGVDb250ZW50cyhkKSwgZS5jb2xsYXBzZSh0KSwgby5yZW1vdmVBbGxSYW5nZXMoKSwgby5hZGRSYW5nZShlKTtcbn1cbmNsYXNzIGEge1xuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBjb25zdHJ1Y3RvciBvcHRpb25zXG4gICAqIEBwYXJhbSB7UG9wb3Zlckl0ZW1bXX0gb3B0aW9ucy5pdGVtcyAtIGNvbnN0cnVjdG9yIG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXM6IHQgfSkge1xuICAgIHRoaXMuaXRlbXMgPSB0LCB0aGlzLndyYXBwZXIgPSB2b2lkIDAsIHRoaXMuaXRlbUVscyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgb2YgQ1NTIGNsYXNzbmFtZXMgdXNlZCBpbiBwb3BvdmVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9wb3ZlcjogXCJ0Yy1wb3BvdmVyXCIsXG4gICAgICBwb3BvdmVyT3BlbmVkOiBcInRjLXBvcG92ZXItLW9wZW5lZFwiLFxuICAgICAgaXRlbTogXCJ0Yy1wb3BvdmVyX19pdGVtXCIsXG4gICAgICBpdGVtSGlkZGVuOiBcInRjLXBvcG92ZXJfX2l0ZW0tLWhpZGRlblwiLFxuICAgICAgaXRlbUNvbmZpcm1TdGF0ZTogXCJ0Yy1wb3BvdmVyX19pdGVtLS1jb25maXJtXCIsXG4gICAgICBpdGVtSWNvbjogXCJ0Yy1wb3BvdmVyX19pdGVtLWljb25cIixcbiAgICAgIGl0ZW1MYWJlbDogXCJ0Yy1wb3BvdmVyX19pdGVtLWxhYmVsXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwb3BvdmVyIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMud3JhcHBlciA9IGMoXCJkaXZcIiwgYS5DU1MucG9wb3ZlciksIHRoaXMuaXRlbXMuZm9yRWFjaCgodCwgZSkgPT4ge1xuICAgICAgY29uc3QgbyA9IGMoXCJkaXZcIiwgYS5DU1MuaXRlbSksIGkgPSBjKFwiZGl2XCIsIGEuQ1NTLml0ZW1JY29uLCB7XG4gICAgICAgIGlubmVySFRNTDogdC5pY29uXG4gICAgICB9KSwgbiA9IGMoXCJkaXZcIiwgYS5DU1MuaXRlbUxhYmVsLCB7XG4gICAgICAgIHRleHRDb250ZW50OiB0LmxhYmVsXG4gICAgICB9KTtcbiAgICAgIG8uZGF0YXNldC5pbmRleCA9IGUsIG8uYXBwZW5kQ2hpbGQoaSksIG8uYXBwZW5kQ2hpbGQobiksIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZChvKSwgdGhpcy5pdGVtRWxzLnB1c2gobyk7XG4gICAgfSksIHRoaXMud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKHQpID0+IHtcbiAgICAgIHRoaXMucG9wb3ZlckNsaWNrZWQodCk7XG4gICAgfSksIHRoaXMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogUG9wb3ZlciB3cmFwcGVyIGNsaWNrIGxpc3RlbmVyXG4gICAqIFVzZWQgdG8gZGVsZWdhdGUgY2xpY2tzIGluIGl0ZW1zXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgcG9wb3ZlckNsaWNrZWQodCkge1xuICAgIGNvbnN0IGUgPSB0LnRhcmdldC5jbG9zZXN0KGAuJHthLkNTUy5pdGVtfWApO1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBvID0gZS5kYXRhc2V0LmluZGV4LCBpID0gdGhpcy5pdGVtc1tvXTtcbiAgICBpZiAoaS5jb25maXJtYXRpb25SZXF1aXJlZCAmJiAhdGhpcy5oYXNDb25maXJtYXRpb25TdGF0ZShlKSkge1xuICAgICAgdGhpcy5zZXRDb25maXJtYXRpb25TdGF0ZShlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaS5vbkNsaWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSB0aGUgY29uZmlybWF0aW9uIHN0YXRlIG9uIHBhc3NlZCBpdGVtXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgc2V0Q29uZmlybWF0aW9uU3RhdGUodCkge1xuICAgIHQuY2xhc3NMaXN0LmFkZChhLkNTUy5pdGVtQ29uZmlybVN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgY29uZmlybWF0aW9uIHN0YXRlIG9uIHBhc3NlZCBpdGVtXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgY2xlYXJDb25maXJtYXRpb25TdGF0ZSh0KSB7XG4gICAgdC5jbGFzc0xpc3QucmVtb3ZlKGEuQ1NTLml0ZW1Db25maXJtU3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgaXRlbSBoYXMgdGhlIGNvbmZpcm1hdGlvbiBzdGF0ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc0NvbmZpcm1hdGlvblN0YXRlKHQpIHtcbiAgICByZXR1cm4gdC5jbGFzc0xpc3QuY29udGFpbnMoYS5DU1MuaXRlbUNvbmZpcm1TdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhbiBvcGVuaW5nIHN0YXRlXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IG9wZW5lZCgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5jb250YWlucyhhLkNTUy5wb3BvdmVyT3BlbmVkKTtcbiAgfVxuICAvKipcbiAgICogT3BlbnMgdGhlIHBvcG92ZXJcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgodCwgZSkgPT4ge1xuICAgICAgdHlwZW9mIHQuaGlkZUlmID09IFwiZnVuY3Rpb25cIiAmJiB0aGlzLml0ZW1FbHNbZV0uY2xhc3NMaXN0LnRvZ2dsZShhLkNTUy5pdGVtSGlkZGVuLCB0LmhpZGVJZigpKTtcbiAgICB9KSwgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoYS5DU1MucG9wb3Zlck9wZW5lZCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgcG9wb3ZlclxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKGEuQ1NTLnBvcG92ZXJPcGVuZWQpLCB0aGlzLml0ZW1FbHMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgdGhpcy5jbGVhckNvbmZpcm1hdGlvblN0YXRlKHQpO1xuICAgIH0pO1xuICB9XG59XG5jb25zdCBSID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgOUwxMCAxMk0xMCAxMkw3IDE1TTEwIDEySDRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTcgOUwxNCAxMk0xNCAxMkwxNyAxNU0xNCAxMkgyMFwiLz48L3N2Zz4nLCBiID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk04IDhMMTIgMTJNMTIgMTJMMTYgMTZNMTIgMTJMMTYgOE0xMiAxMkw4IDE2XCIvPjwvc3ZnPicsIHggPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuODgzMyA5LjE2NjY2TDE4LjIxNjcgMTIuNU0xOC4yMTY3IDEyLjVMMTQuODgzMyAxNS44MzMzTTE4LjIxNjcgMTIuNUgxMC4wNUM5LjE2NTk0IDEyLjUgOC4zMTgwOSAxMi4xNDg4IDcuNjkyOTcgMTEuNTIzN0M3LjA2Nzg1IDEwLjg5ODYgNi43MTY2NiAxMC4wNTA3IDYuNzE2NjYgOS4xNjY2NlwiLz48L3N2Zz4nLCBTID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0LjkxNjcgMTQuOTE2N0wxMS41ODMzIDE4LjI1TTExLjU4MzMgMTguMjVMOC4yNSAxNC45MTY3TTExLjU4MzMgMTguMjVMMTEuNTgzMyAxMC4wODMzQzExLjU4MzMgOS4xOTkyOCAxMS45MzQ1IDguMzUxNDMgMTIuNTU5NiA3LjcyNjMxQzEzLjE4NDggNy4xMDExOSAxNC4wMzI2IDYuNzUgMTQuOTE2NyA2Ljc1XCIvPjwvc3ZnPicsIHkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS4xMzMzMyAxNC45MTY3TDEyLjQ2NjcgMTguMjVNMTIuNDY2NyAxOC4yNUwxNS44IDE0LjkxNjdNMTIuNDY2NyAxOC4yNUwxMi40NjY3IDEwLjA4MzNDMTIuNDY2NyA5LjE5OTI4IDEyLjExNTUgOC4zNTE0MyAxMS40OTA0IDcuNzI2MzFDMTAuODY1MiA3LjEwMTE5IDEwLjAxNzQgNi43NSA5LjEzMzMzIDYuNzVcIi8+PC9zdmc+JywgTCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC44ODMzIDE1LjgzMzNMMTguMjE2NyAxMi41TTE4LjIxNjcgMTIuNUwxNC44ODMzIDkuMTY2NjdNMTguMjE2NyAxMi41TDEwLjA1IDEyLjVDOS4xNjU5NSAxMi41IDguMzE4MTEgMTIuODUxMiA3LjY5Mjk5IDEzLjQ3NjNDNy4wNjc4NyAxNC4xMDE0IDYuNzE2NjcgMTQuOTQ5MyA2LjcxNjY3IDE1LjgzMzNcIi8+PC9zdmc+JywgTSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk05LjQxIDkuNjZIOS40XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTE0LjYgOS42NkgxNC41OVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk05LjMxIDE0LjM2SDkuM1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDE0LjM2SDE0LjU5XCIvPjwvc3ZnPicsIHYgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDdWMTJNMTIgMTdWMTJNMTcgMTJIMTJNMTIgMTJIN1wiLz48L3N2Zz4nLCBPID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3IDlMMjAgMTJMMTcgMTVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQgMTJIMjBcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyA5TDQgMTJMNyAxNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk00IDEySDEwXCIvPjwvc3ZnPicsIFQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxMEgxOVwiLz48cmVjdCB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiB4PVwiNVwiIHk9XCI1XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHJ4PVwiNFwiLz48L3N2Zz4nLCBIID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEwIDVWMTguNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNCA1VjE4LjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxMEgxOVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDE0SDE5XCIvPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjwvc3ZnPicsIEEgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAgNVYxOC41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTBIMTlcIi8+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PC9zdmc+JztcbmNsYXNzIHcge1xuICAvKipcbiAgICogQ3JlYXRlcyB0b29sYm94IGJ1dHRvbnMgYW5kIHRvb2xib3ggbWVudXNcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGFwaSAtIEVkaXRvci5qcyBhcGlcbiAgICogQHBhcmFtIHtQb3BvdmVySXRlbVtdfSBpdGVtcyAtIEVkaXRvci5qcyBhcGlcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gb25PcGVuIC0gY2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgUG9wb3ZlciBpcyBvcGVuaW5nXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uQ2xvc2UgLSBjYWxsYmFjayBmaXJlZCB3aGVuIHRoZSBQb3BvdmVyIGlzIGNsb3NpbmdcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtjc3NNb2RpZmllcl0gLSB0aGUgbW9kaWZpZXIgZm9yIHRoZSBUb29sYm94LiBBbGxvd3MgdG8gYWRkIHNvbWUgc3BlY2lmaWMgc3R5bGVzLlxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IHQsIGl0ZW1zOiBlLCBvbk9wZW46IG8sIG9uQ2xvc2U6IGksIGNzc01vZGlmaWVyOiBuID0gXCJcIiB9KSB7XG4gICAgdGhpcy5hcGkgPSB0LCB0aGlzLml0ZW1zID0gZSwgdGhpcy5vbk9wZW4gPSBvLCB0aGlzLm9uQ2xvc2UgPSBpLCB0aGlzLmNzc01vZGlmaWVyID0gbiwgdGhpcy5wb3BvdmVyID0gbnVsbCwgdGhpcy53cmFwcGVyID0gdGhpcy5jcmVhdGVUb29sYm94KCk7XG4gIH1cbiAgLyoqXG4gICAqIFN0eWxlIGNsYXNzZXNcbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b29sYm94OiBcInRjLXRvb2xib3hcIixcbiAgICAgIHRvb2xib3hTaG93ZWQ6IFwidGMtdG9vbGJveC0tc2hvd2VkXCIsXG4gICAgICB0b2dnbGVyOiBcInRjLXRvb2xib3hfX3RvZ2dsZXJcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcmVuZGVyZWQgVG9vbGJveCBlbGVtZW50XG4gICAqL1xuICBnZXQgZWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGluZyBhIHRvb2xib3ggdG8gb3BlbiBtZW51IGZvciBhIG1hbmlwdWxhdGluZyBjb2x1bW5zXG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKi9cbiAgY3JlYXRlVG9vbGJveCgpIHtcbiAgICBjb25zdCB0ID0gYyhcImRpdlwiLCBbXG4gICAgICB3LkNTUy50b29sYm94LFxuICAgICAgdGhpcy5jc3NNb2RpZmllciA/IGAke3cuQ1NTLnRvb2xib3h9LS0ke3RoaXMuY3NzTW9kaWZpZXJ9YCA6IFwiXCJcbiAgICBdKTtcbiAgICB0LmRhdGFzZXQubXV0YXRpb25GcmVlID0gXCJ0cnVlXCI7XG4gICAgY29uc3QgZSA9IHRoaXMuY3JlYXRlUG9wb3ZlcigpLCBvID0gdGhpcy5jcmVhdGVUb2dnbGVyKCk7XG4gICAgcmV0dXJuIHQuYXBwZW5kQ2hpbGQobyksIHQuYXBwZW5kQ2hpbGQoZSksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIFRvZ2dsZXJcbiAgICpcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICBjcmVhdGVUb2dnbGVyKCkge1xuICAgIGNvbnN0IHQgPSBjKFwiZGl2XCIsIHcuQ1NTLnRvZ2dsZXIsIHtcbiAgICAgIGlubmVySFRNTDogTVxuICAgIH0pO1xuICAgIHJldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLnRvZ2dsZXJDbGlja2VkKCk7XG4gICAgfSksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIFBvcG92ZXIgaW5zdGFuY2UgYW5kIHJlbmRlciBpdFxuICAgKlxuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICovXG4gIGNyZWF0ZVBvcG92ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9wb3ZlciA9IG5ldyBhKHtcbiAgICAgIGl0ZW1zOiB0aGlzLml0ZW1zXG4gICAgfSksIHRoaXMucG9wb3Zlci5yZW5kZXIoKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlciBjbGljayBoYW5kbGVyLiBPcGVucy9DbG9zZXMgdGhlIHBvcG92ZXJcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICB0b2dnbGVyQ2xpY2tlZCgpIHtcbiAgICB0aGlzLnBvcG92ZXIub3BlbmVkID8gKHRoaXMucG9wb3Zlci5jbG9zZSgpLCB0aGlzLm9uQ2xvc2UoKSkgOiAodGhpcy5wb3BvdmVyLm9wZW4oKSwgdGhpcy5vbk9wZW4oKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIHRoZSBUb29sYm94XG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbXB1dGVQb3NpdGlvbk1ldGhvZCAtIG1ldGhvZCB0aGF0IHJldHVybnMgdGhlIHBvc2l0aW9uIGNvb3JkaW5hdGVcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBzaG93KHQpIHtcbiAgICBjb25zdCBlID0gdCgpO1xuICAgIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFtvLCBpXSkgPT4ge1xuICAgICAgdGhpcy53cmFwcGVyLnN0eWxlW29dID0gaTtcbiAgICB9KSwgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQody5DU1MudG9vbGJveFNob3dlZCk7XG4gIH1cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBUb29sYm94XG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLnBvcG92ZXIuY2xvc2UoKSwgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUody5DU1MudG9vbGJveFNob3dlZCk7XG4gIH1cbn1cbmZ1bmN0aW9uIEIoZCwgdCkge1xuICBsZXQgZSA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiguLi5vKSB7XG4gICAgY29uc3QgaSA9ICgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgIGlmICghKGkgLSBlIDwgZCkpXG4gICAgICByZXR1cm4gZSA9IGksIHQoLi4ubyk7XG4gIH07XG59XG5jb25zdCBzID0ge1xuICB3cmFwcGVyOiBcInRjLXdyYXBcIixcbiAgd3JhcHBlclJlYWRPbmx5OiBcInRjLXdyYXAtLXJlYWRvbmx5XCIsXG4gIHRhYmxlOiBcInRjLXRhYmxlXCIsXG4gIHJvdzogXCJ0Yy1yb3dcIixcbiAgd2l0aEhlYWRpbmdzOiBcInRjLXRhYmxlLS1oZWFkaW5nXCIsXG4gIHJvd1NlbGVjdGVkOiBcInRjLXJvdy0tc2VsZWN0ZWRcIixcbiAgY2VsbDogXCJ0Yy1jZWxsXCIsXG4gIGNlbGxTZWxlY3RlZDogXCJ0Yy1jZWxsLS1zZWxlY3RlZFwiLFxuICBhZGRSb3c6IFwidGMtYWRkLXJvd1wiLFxuICBhZGRSb3dEaXNhYmxlZDogXCJ0Yy1hZGQtcm93LS1kaXNhYmxlZFwiLFxuICBhZGRDb2x1bW46IFwidGMtYWRkLWNvbHVtblwiLFxuICBhZGRDb2x1bW5EaXNhYmxlZDogXCJ0Yy1hZGQtY29sdW1uLS1kaXNhYmxlZFwiXG59O1xuY2xhc3MgRSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5IC0gcmVhZC1vbmx5IG1vZGUgZmxhZ1xuICAgKiBAcGFyYW0ge29iamVjdH0gYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKiBAcGFyYW0ge1RhYmxlRGF0YX0gZGF0YSAtIEVkaXRvci5qcyBBUElcbiAgICogQHBhcmFtIHtUYWJsZUNvbmZpZ30gY29uZmlnIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IodCwgZSwgbywgaSkge1xuICAgIHRoaXMucmVhZE9ubHkgPSB0LCB0aGlzLmFwaSA9IGUsIHRoaXMuZGF0YSA9IG8sIHRoaXMuY29uZmlnID0gaSwgdGhpcy53cmFwcGVyID0gbnVsbCwgdGhpcy50YWJsZSA9IG51bGwsIHRoaXMudG9vbGJveENvbHVtbiA9IHRoaXMuY3JlYXRlQ29sdW1uVG9vbGJveCgpLCB0aGlzLnRvb2xib3hSb3cgPSB0aGlzLmNyZWF0ZVJvd1Rvb2xib3goKSwgdGhpcy5jcmVhdGVUYWJsZVdyYXBwZXIoKSwgdGhpcy5ob3ZlcmVkUm93ID0gMCwgdGhpcy5ob3ZlcmVkQ29sdW1uID0gMCwgdGhpcy5zZWxlY3RlZFJvdyA9IDAsIHRoaXMuc2VsZWN0ZWRDb2x1bW4gPSAwLCB0aGlzLnR1bmVzID0ge1xuICAgICAgd2l0aEhlYWRpbmdzOiAhMVxuICAgIH0sIHRoaXMucmVzaXplKCksIHRoaXMuZmlsbCgpLCB0aGlzLmZvY3VzZWRDZWxsID0ge1xuICAgICAgcm93OiAwLFxuICAgICAgY29sdW1uOiAwXG4gICAgfSwgdGhpcy5kb2N1bWVudENsaWNrZWQgPSAobikgPT4ge1xuICAgICAgY29uc3QgciA9IG4udGFyZ2V0LmNsb3Nlc3QoYC4ke3MudGFibGV9YCkgIT09IG51bGwsIGggPSBuLnRhcmdldC5jbG9zZXN0KGAuJHtzLndyYXBwZXJ9YCkgPT09IG51bGw7XG4gICAgICAociB8fCBoKSAmJiB0aGlzLmhpZGVUb29sYm94ZXMoKTtcbiAgICAgIGNvbnN0IHUgPSBuLnRhcmdldC5jbG9zZXN0KGAuJHtzLmFkZFJvd31gKSwgcCA9IG4udGFyZ2V0LmNsb3Nlc3QoYC4ke3MuYWRkQ29sdW1ufWApO1xuICAgICAgdSAmJiB1LnBhcmVudE5vZGUgPT09IHRoaXMud3JhcHBlciA/ICh0aGlzLmFkZFJvdyh2b2lkIDAsICEwKSwgdGhpcy5oaWRlVG9vbGJveGVzKCkpIDogcCAmJiBwLnBhcmVudE5vZGUgPT09IHRoaXMud3JhcHBlciAmJiAodGhpcy5hZGRDb2x1bW4odm9pZCAwLCAhMCksIHRoaXMuaGlkZVRvb2xib3hlcygpKTtcbiAgICB9LCB0aGlzLnJlYWRPbmx5IHx8IHRoaXMuYmluZEV2ZW50cygpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByZW5kZXJlZCB0YWJsZSB3cmFwcGVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKi9cbiAgZ2V0V3JhcHBlcigpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBIYW5ncyB0aGUgbmVjZXNzYXJ5IGhhbmRsZXJzIHRvIGV2ZW50c1xuICAgKi9cbiAgYmluZEV2ZW50cygpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudENsaWNrZWQpLCB0aGlzLnRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgQigxNTAsICh0KSA9PiB0aGlzLm9uTW91c2VNb3ZlSW5UYWJsZSh0KSksIHsgcGFzc2l2ZTogITAgfSksIHRoaXMudGFibGUub25rZXlwcmVzcyA9ICh0KSA9PiB0aGlzLm9uS2V5UHJlc3NMaXN0ZW5lcih0KSwgdGhpcy50YWJsZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAodCkgPT4gdGhpcy5vbktleURvd25MaXN0ZW5lcih0KSksIHRoaXMudGFibGUuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgKHQpID0+IHRoaXMuZm9jdXNJblRhYmxlTGlzdGVuZXIodCkpO1xuICB9XG4gIC8qKlxuICAgKiBDb25maWd1cmVzIGFuZCBjcmVhdGVzIHRoZSB0b29sYm94IGZvciBtYW5pcHVsYXRpbmcgd2l0aCBjb2x1bW5zXG4gICAqXG4gICAqIEByZXR1cm5zIHtUb29sYm94fVxuICAgKi9cbiAgY3JlYXRlQ29sdW1uVG9vbGJveCgpIHtcbiAgICByZXR1cm4gbmV3IHcoe1xuICAgICAgYXBpOiB0aGlzLmFwaSxcbiAgICAgIGNzc01vZGlmaWVyOiBcImNvbHVtblwiLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJBZGQgY29sdW1uIHRvIGxlZnRcIiksXG4gICAgICAgICAgaWNvbjogUyxcbiAgICAgICAgICBoaWRlSWY6ICgpID0+IHRoaXMubnVtYmVyT2ZDb2x1bW5zID09PSB0aGlzLmNvbmZpZy5tYXhjb2xzLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29sdW1uKHRoaXMuc2VsZWN0ZWRDb2x1bW4sICEwKSwgdGhpcy5oaWRlVG9vbGJveGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChcIkFkZCBjb2x1bW4gdG8gcmlnaHRcIiksXG4gICAgICAgICAgaWNvbjogeSxcbiAgICAgICAgICBoaWRlSWY6ICgpID0+IHRoaXMubnVtYmVyT2ZDb2x1bW5zID09PSB0aGlzLmNvbmZpZy5tYXhjb2xzLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29sdW1uKHRoaXMuc2VsZWN0ZWRDb2x1bW4gKyAxLCAhMCksIHRoaXMuaGlkZVRvb2xib3hlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJEZWxldGUgY29sdW1uXCIpLFxuICAgICAgICAgIGljb246IGIsXG4gICAgICAgICAgaGlkZUlmOiAoKSA9PiB0aGlzLm51bWJlck9mQ29sdW1ucyA9PT0gMSxcbiAgICAgICAgICBjb25maXJtYXRpb25SZXF1aXJlZDogITAsXG4gICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZWxldGVDb2x1bW4odGhpcy5zZWxlY3RlZENvbHVtbiksIHRoaXMuaGlkZVRvb2xib3hlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIG9uT3BlbjogKCkgPT4ge1xuICAgICAgICB0aGlzLnNlbGVjdENvbHVtbih0aGlzLmhvdmVyZWRDb2x1bW4pLCB0aGlzLmhpZGVSb3dUb29sYm94KCk7XG4gICAgICB9LFxuICAgICAgb25DbG9zZTogKCkgPT4ge1xuICAgICAgICB0aGlzLnVuc2VsZWN0Q29sdW1uKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbmZpZ3VyZXMgYW5kIGNyZWF0ZXMgdGhlIHRvb2xib3ggZm9yIG1hbmlwdWxhdGluZyB3aXRoIHJvd3NcbiAgICpcbiAgICogQHJldHVybnMge1Rvb2xib3h9XG4gICAqL1xuICBjcmVhdGVSb3dUb29sYm94KCkge1xuICAgIHJldHVybiBuZXcgdyh7XG4gICAgICBhcGk6IHRoaXMuYXBpLFxuICAgICAgY3NzTW9kaWZpZXI6IFwicm93XCIsXG4gICAgICBpdGVtczogW1xuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChcIkFkZCByb3cgYWJvdmVcIiksXG4gICAgICAgICAgaWNvbjogTCxcbiAgICAgICAgICBoaWRlSWY6ICgpID0+IHRoaXMubnVtYmVyT2ZSb3dzID09PSB0aGlzLmNvbmZpZy5tYXhyb3dzLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkUm93KHRoaXMuc2VsZWN0ZWRSb3csICEwKSwgdGhpcy5oaWRlVG9vbGJveGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChcIkFkZCByb3cgYmVsb3dcIiksXG4gICAgICAgICAgaWNvbjogeCxcbiAgICAgICAgICBoaWRlSWY6ICgpID0+IHRoaXMubnVtYmVyT2ZSb3dzID09PSB0aGlzLmNvbmZpZy5tYXhyb3dzLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkUm93KHRoaXMuc2VsZWN0ZWRSb3cgKyAxLCAhMCksIHRoaXMuaGlkZVRvb2xib3hlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJEZWxldGUgcm93XCIpLFxuICAgICAgICAgIGljb246IGIsXG4gICAgICAgICAgaGlkZUlmOiAoKSA9PiB0aGlzLm51bWJlck9mUm93cyA9PT0gMSxcbiAgICAgICAgICBjb25maXJtYXRpb25SZXF1aXJlZDogITAsXG4gICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZWxldGVSb3codGhpcy5zZWxlY3RlZFJvdyksIHRoaXMuaGlkZVRvb2xib3hlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIG9uT3BlbjogKCkgPT4ge1xuICAgICAgICB0aGlzLnNlbGVjdFJvdyh0aGlzLmhvdmVyZWRSb3cpLCB0aGlzLmhpZGVDb2x1bW5Ub29sYm94KCk7XG4gICAgICB9LFxuICAgICAgb25DbG9zZTogKCkgPT4ge1xuICAgICAgICB0aGlzLnVuc2VsZWN0Um93KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4geW91IHByZXNzIGVudGVyIGl0IG1vdmVzIHRoZSBjdXJzb3IgZG93biB0byB0aGUgbmV4dCByb3dcbiAgICogb3IgY3JlYXRlcyBpdCBpZiB0aGUgY2xpY2sgb2NjdXJyZWQgb24gdGhlIGxhc3Qgb25lXG4gICAqL1xuICBtb3ZlQ3Vyc29yVG9OZXh0Um93KCkge1xuICAgIHRoaXMuZm9jdXNlZENlbGwucm93ICE9PSB0aGlzLm51bWJlck9mUm93cyA/ICh0aGlzLmZvY3VzZWRDZWxsLnJvdyArPSAxLCB0aGlzLmZvY3VzQ2VsbCh0aGlzLmZvY3VzZWRDZWxsKSkgOiAodGhpcy5hZGRSb3coKSwgdGhpcy5mb2N1c2VkQ2VsbC5yb3cgKz0gMSwgdGhpcy5mb2N1c0NlbGwodGhpcy5mb2N1c2VkQ2VsbCksIHRoaXMudXBkYXRlVG9vbGJveGVzUG9zaXRpb24oMCwgMCkpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGFibGUgY2VsbCBieSByb3cgYW5kIGNvbCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm93IC0gY2VsbCByb3cgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uIC0gY2VsbCBjb2x1bW4gY29vcmRpbmF0ZVxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXRDZWxsKHQsIGUpIHtcbiAgICByZXR1cm4gdGhpcy50YWJsZS5xdWVyeVNlbGVjdG9yQWxsKGAuJHtzLnJvd306bnRoLWNoaWxkKCR7dH0pIC4ke3MuY2VsbH1gKVtlIC0gMV07XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0YWJsZSByb3cgYnkgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdyAtIHJvdyBjb29yZGluYXRlXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGdldFJvdyh0KSB7XG4gICAgcmV0dXJuIHRoaXMudGFibGUucXVlcnlTZWxlY3RvcihgLiR7cy5yb3d9Om50aC1jaGlsZCgke3R9KWApO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgcGFyZW50IG9mIHRoZSBjZWxsIHdoaWNoIGlzIHRoZSByb3dcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2VsbCAtIGNlbGwgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXRSb3dCeUNlbGwodCkge1xuICAgIHJldHVybiB0LnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgLyoqXG4gICAqIEdlciByb3cncyBmaXJzdCBjZWxsXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gcm93IC0gcm93IHRvIGZpbmQgaXRzIGZpcnN0IGNlbGxcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICBnZXRSb3dGaXJzdENlbGwodCkge1xuICAgIHJldHVybiB0LnF1ZXJ5U2VsZWN0b3IoYC4ke3MuY2VsbH06Zmlyc3QtY2hpbGRgKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBzZWxsJ3MgY29udGVudCBieSByb3cgYW5kIGNvbHVtbiBudW1iZXJzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3cgLSBjZWxsIHJvdyBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW4gLSBjZWxsIGNvbHVtbiBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gY2VsbCBIVE1MIGNvbnRlbnRcbiAgICovXG4gIHNldENlbGxDb250ZW50KHQsIGUsIG8pIHtcbiAgICBjb25zdCBpID0gdGhpcy5nZXRDZWxsKHQsIGUpO1xuICAgIGkuaW5uZXJIVE1MID0gbztcbiAgfVxuICAvKipcbiAgICogQWRkIGNvbHVtbiBpbiB0YWJsZSBvbiBpbmRleCBwbGFjZVxuICAgKiBBZGQgY2VsbHMgaW4gZWFjaCByb3dcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbkluZGV4IC0gbnVtYmVyIGluIHRoZSBhcnJheSBvZiBjb2x1bW5zLCB3aGVyZSBuZXcgY29sdW1uIHRvIGluc2VydCwgLTEgaWYgaW5zZXJ0IGF0IHRoZSBlbmRcbiAgICogQHBhcmFtIHtib29sZWFufSBbc2V0Rm9jdXNdIC0gcGFzcyB0cnVlIHRvIGZvY3VzIHRoZSBmaXJzdCBjZWxsXG4gICAqL1xuICBhZGRDb2x1bW4odCA9IC0xLCBlID0gITEpIHtcbiAgICB2YXIgbjtcbiAgICBsZXQgbyA9IHRoaXMubnVtYmVyT2ZDb2x1bW5zO1xuICAgIGlmICh0aGlzLmNvbmZpZyAmJiB0aGlzLmNvbmZpZy5tYXhjb2xzICYmIHRoaXMubnVtYmVyT2ZDb2x1bW5zID49IHRoaXMuY29uZmlnLm1heGNvbHMpXG4gICAgICByZXR1cm47XG4gICAgZm9yIChsZXQgciA9IDE7IHIgPD0gdGhpcy5udW1iZXJPZlJvd3M7IHIrKykge1xuICAgICAgbGV0IGg7XG4gICAgICBjb25zdCBsID0gdGhpcy5jcmVhdGVDZWxsKCk7XG4gICAgICBpZiAodCA+IDAgJiYgdCA8PSBvID8gKGggPSB0aGlzLmdldENlbGwociwgdCksIG0obCwgaCkpIDogaCA9IHRoaXMuZ2V0Um93KHIpLmFwcGVuZENoaWxkKGwpLCByID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHUgPSB0aGlzLmdldENlbGwociwgdCA+IDAgPyB0IDogbyArIDEpO1xuICAgICAgICB1ICYmIGUgJiYgQyh1KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaSA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKGAuJHtzLmFkZENvbHVtbn1gKTtcbiAgICAobiA9IHRoaXMuY29uZmlnKSAhPSBudWxsICYmIG4ubWF4Y29scyAmJiB0aGlzLm51bWJlck9mQ29sdW1ucyA+IHRoaXMuY29uZmlnLm1heGNvbHMgLSAxICYmIGkgJiYgaS5jbGFzc0xpc3QuYWRkKHMuYWRkQ29sdW1uRGlzYWJsZWQpLCB0aGlzLmFkZEhlYWRpbmdBdHRyVG9GaXJzdFJvdygpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgcm93IGluIHRhYmxlIG9uIGluZGV4IHBsYWNlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIG51bWJlciBpbiB0aGUgYXJyYXkgb2Ygcm93cywgd2hlcmUgbmV3IGNvbHVtbiB0byBpbnNlcnQsIC0xIGlmIGluc2VydCBhdCB0aGUgZW5kXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NldEZvY3VzXSAtIHBhc3MgdHJ1ZSB0byBmb2N1cyB0aGUgaW5zZXJ0ZWQgcm93XG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gcm93XG4gICAqL1xuICBhZGRSb3codCA9IC0xLCBlID0gITEpIHtcbiAgICBsZXQgbywgaSA9IGMoXCJkaXZcIiwgcy5yb3cpO1xuICAgIHRoaXMudHVuZXMud2l0aEhlYWRpbmdzICYmIHRoaXMucmVtb3ZlSGVhZGluZ0F0dHJGcm9tRmlyc3RSb3coKTtcbiAgICBsZXQgbiA9IHRoaXMubnVtYmVyT2ZDb2x1bW5zO1xuICAgIGlmICh0aGlzLmNvbmZpZyAmJiB0aGlzLmNvbmZpZy5tYXhyb3dzICYmIHRoaXMubnVtYmVyT2ZSb3dzID49IHRoaXMuY29uZmlnLm1heHJvd3MgJiYgaClcbiAgICAgIHJldHVybjtcbiAgICBpZiAodCA+IDAgJiYgdCA8PSB0aGlzLm51bWJlck9mUm93cykge1xuICAgICAgbGV0IGwgPSB0aGlzLmdldFJvdyh0KTtcbiAgICAgIG8gPSBtKGksIGwpO1xuICAgIH0gZWxzZVxuICAgICAgbyA9IHRoaXMudGFibGUuYXBwZW5kQ2hpbGQoaSk7XG4gICAgdGhpcy5maWxsUm93KG8sIG4pLCB0aGlzLnR1bmVzLndpdGhIZWFkaW5ncyAmJiB0aGlzLmFkZEhlYWRpbmdBdHRyVG9GaXJzdFJvdygpO1xuICAgIGNvbnN0IHIgPSB0aGlzLmdldFJvd0ZpcnN0Q2VsbChvKTtcbiAgICByICYmIGUgJiYgQyhyKTtcbiAgICBjb25zdCBoID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoYC4ke3MuYWRkUm93fWApO1xuICAgIHJldHVybiB0aGlzLmNvbmZpZyAmJiB0aGlzLmNvbmZpZy5tYXhyb3dzICYmIHRoaXMubnVtYmVyT2ZSb3dzID49IHRoaXMuY29uZmlnLm1heHJvd3MgJiYgaCAmJiBoLmNsYXNzTGlzdC5hZGQocy5hZGRSb3dEaXNhYmxlZCksIG87XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGNvbHVtbiBieSBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICovXG4gIGRlbGV0ZUNvbHVtbih0KSB7XG4gICAgZm9yIChsZXQgbyA9IDE7IG8gPD0gdGhpcy5udW1iZXJPZlJvd3M7IG8rKykge1xuICAgICAgY29uc3QgaSA9IHRoaXMuZ2V0Q2VsbChvLCB0KTtcbiAgICAgIGlmICghaSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaS5yZW1vdmUoKTtcbiAgICB9XG4gICAgY29uc3QgZSA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKGAuJHtzLmFkZENvbHVtbn1gKTtcbiAgICBlICYmIGUuY2xhc3NMaXN0LnJlbW92ZShzLmFkZENvbHVtbkRpc2FibGVkKTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgcm93IGJ5IGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKi9cbiAgZGVsZXRlUm93KHQpIHtcbiAgICB0aGlzLmdldFJvdyh0KS5yZW1vdmUoKTtcbiAgICBjb25zdCBlID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoYC4ke3MuYWRkUm93fWApO1xuICAgIGUgJiYgZS5jbGFzc0xpc3QucmVtb3ZlKHMuYWRkUm93RGlzYWJsZWQpLCB0aGlzLmFkZEhlYWRpbmdBdHRyVG9GaXJzdFJvdygpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSB3cmFwcGVyIGNvbnRhaW5pbmcgYSB0YWJsZSwgdG9vbGJveGVzXG4gICAqIGFuZCBidXR0b25zIGZvciBhZGRpbmcgcm93cyBhbmQgY29sdW1uc1xuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IHdyYXBwZXIgLSB3aGVyZSBhbGwgYnV0dG9ucyBmb3IgYSB0YWJsZSBhbmQgdGhlIHRhYmxlIGl0c2VsZiB3aWxsIGJlXG4gICAqL1xuICBjcmVhdGVUYWJsZVdyYXBwZXIoKSB7XG4gICAgaWYgKHRoaXMud3JhcHBlciA9IGMoXCJkaXZcIiwgcy53cmFwcGVyKSwgdGhpcy50YWJsZSA9IGMoXCJkaXZcIiwgcy50YWJsZSksIHRoaXMucmVhZE9ubHkgJiYgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQocy53cmFwcGVyUmVhZE9ubHkpLCB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sYm94Um93LmVsZW1lbnQpLCB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sYm94Q29sdW1uLmVsZW1lbnQpLCB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy50YWJsZSksICF0aGlzLnJlYWRPbmx5KSB7XG4gICAgICBjb25zdCB0ID0gYyhcImRpdlwiLCBzLmFkZENvbHVtbiwge1xuICAgICAgICBpbm5lckhUTUw6IHZcbiAgICAgIH0pLCBlID0gYyhcImRpdlwiLCBzLmFkZFJvdywge1xuICAgICAgICBpbm5lckhUTUw6IHZcbiAgICAgIH0pO1xuICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHQpLCB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQoZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSB0YWJsZSBiYXNlZCBvbiBpbml0aWFsIGRhdGEgb3IgY29uZmlnIFwic2l6ZVwiIHByb3BlcnR5XG4gICAqXG4gICAqIEByZXR1cm4ge3tyb3dzOiBudW1iZXIsIGNvbHM6IG51bWJlcn19IC0gbnVtYmVyIG9mIGNvbHMgYW5kIHJvd3NcbiAgICovXG4gIGNvbXB1dGVJbml0aWFsU2l6ZSgpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5kYXRhICYmIHRoaXMuZGF0YS5jb250ZW50LCBlID0gQXJyYXkuaXNBcnJheSh0KSwgbyA9IGUgPyB0Lmxlbmd0aCA6ICExLCBpID0gZSA/IHQubGVuZ3RoIDogdm9pZCAwLCBuID0gbyA/IHRbMF0ubGVuZ3RoIDogdm9pZCAwLCByID0gTnVtYmVyLnBhcnNlSW50KHRoaXMuY29uZmlnICYmIHRoaXMuY29uZmlnLnJvd3MpLCBoID0gTnVtYmVyLnBhcnNlSW50KHRoaXMuY29uZmlnICYmIHRoaXMuY29uZmlnLmNvbHMpLCBsID0gIWlzTmFOKHIpICYmIHIgPiAwID8gciA6IHZvaWQgMCwgdSA9ICFpc05hTihoKSAmJiBoID4gMCA/IGggOiB2b2lkIDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd3M6IGkgfHwgbCB8fCAyLFxuICAgICAgY29sczogbiB8fCB1IHx8IDJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXNpemUgdGFibGUgdG8gbWF0Y2ggY29uZmlnIHNpemUgb3IgdHJhbnNtaXR0ZWQgZGF0YSBzaXplXG4gICAqXG4gICAqIEByZXR1cm4ge3tyb3dzOiBudW1iZXIsIGNvbHM6IG51bWJlcn19IC0gbnVtYmVyIG9mIGNvbHMgYW5kIHJvd3NcbiAgICovXG4gIHJlc2l6ZSgpIHtcbiAgICBjb25zdCB7IHJvd3M6IHQsIGNvbHM6IGUgfSA9IHRoaXMuY29tcHV0ZUluaXRpYWxTaXplKCk7XG4gICAgZm9yIChsZXQgbyA9IDA7IG8gPCB0OyBvKyspXG4gICAgICB0aGlzLmFkZFJvdygpO1xuICAgIGZvciAobGV0IG8gPSAwOyBvIDwgZTsgbysrKVxuICAgICAgdGhpcy5hZGRDb2x1bW4oKTtcbiAgfVxuICAvKipcbiAgICogRmlsbHMgdGhlIHRhYmxlIHdpdGggZGF0YSBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZmlsbCgpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5kYXRhO1xuICAgIGlmICh0ICYmIHQuY29udGVudClcbiAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdC5jb250ZW50Lmxlbmd0aDsgZSsrKVxuICAgICAgICBmb3IgKGxldCBvID0gMDsgbyA8IHQuY29udGVudFtlXS5sZW5ndGg7IG8rKylcbiAgICAgICAgICB0aGlzLnNldENlbGxDb250ZW50KGUgKyAxLCBvICsgMSwgdC5jb250ZW50W2VdW29dKTtcbiAgfVxuICAvKipcbiAgICogRmlsbHMgYSByb3cgd2l0aCBjZWxsc1xuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByb3cgLSByb3cgdG8gZmlsbFxuICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyT2ZDb2x1bW5zIC0gaG93IG1hbnkgY2VsbHMgc2hvdWxkIGJlIGluIGEgcm93XG4gICAqL1xuICBmaWxsUm93KHQsIGUpIHtcbiAgICBmb3IgKGxldCBvID0gMTsgbyA8PSBlOyBvKyspIHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLmNyZWF0ZUNlbGwoKTtcbiAgICAgIHQuYXBwZW5kQ2hpbGQoaSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGluZyBhIGNlbGwgZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgKi9cbiAgY3JlYXRlQ2VsbCgpIHtcbiAgICByZXR1cm4gYyhcImRpdlwiLCBzLmNlbGwsIHtcbiAgICAgIGNvbnRlbnRFZGl0YWJsZTogIXRoaXMucmVhZE9ubHlcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IG51bWJlciBvZiByb3dzIGluIHRoZSB0YWJsZVxuICAgKi9cbiAgZ2V0IG51bWJlck9mUm93cygpIHtcbiAgICByZXR1cm4gdGhpcy50YWJsZS5jaGlsZEVsZW1lbnRDb3VudDtcbiAgfVxuICAvKipcbiAgICogR2V0IG51bWJlciBvZiBjb2x1bW5zIGluIHRoZSB0YWJsZVxuICAgKi9cbiAgZ2V0IG51bWJlck9mQ29sdW1ucygpIHtcbiAgICByZXR1cm4gdGhpcy5udW1iZXJPZlJvd3MgPyB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3Mucm93fTpmaXJzdC1jaGlsZCAuJHtzLmNlbGx9YCkubGVuZ3RoIDogMDtcbiAgfVxuICAvKipcbiAgICogSXMgdGhlIGNvbHVtbiB0b29sYm94IG1lbnUgZGlzcGxheWVkIG9yIG5vdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0NvbHVtbk1lbnVTaG93aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQ29sdW1uICE9PSAwO1xuICB9XG4gIC8qKlxuICAgKiBJcyB0aGUgcm93IHRvb2xib3ggbWVudSBkaXNwbGF5ZWQgb3Igbm90XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGlzUm93TWVudVNob3dpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRSb3cgIT09IDA7XG4gIH1cbiAgLyoqXG4gICAqIFJlY2FsY3VsYXRlIHBvc2l0aW9uIG9mIHRvb2xib3ggaWNvbnNcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBtb3VzZSBtb3ZlIGV2ZW50XG4gICAqL1xuICBvbk1vdXNlTW92ZUluVGFibGUodCkge1xuICAgIGNvbnN0IHsgcm93OiBlLCBjb2x1bW46IG8gfSA9IHRoaXMuZ2V0SG92ZXJlZENlbGwodCk7XG4gICAgdGhpcy5ob3ZlcmVkQ29sdW1uID0gbywgdGhpcy5ob3ZlcmVkUm93ID0gZSwgdGhpcy51cGRhdGVUb29sYm94ZXNQb3NpdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBQcmV2ZW50cyBkZWZhdWx0IEVudGVyIGJlaGF2aW9yc1xuICAgKiBBZGRzIFNoaWZ0K0VudGVyIHByb2Nlc3NpbmdcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleXByZXNzIGV2ZW50XG4gICAqL1xuICBvbktleVByZXNzTGlzdGVuZXIodCkge1xuICAgIGlmICh0LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBpZiAodC5zaGlmdEtleSlcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9OZXh0Um93KCk7XG4gICAgfVxuICAgIHJldHVybiB0LmtleSAhPT0gXCJFbnRlclwiO1xuICB9XG4gIC8qKlxuICAgKiBQcmV2ZW50cyB0YWIga2V5ZG93biBldmVudCBmcm9tIGJ1YmJsaW5nXG4gICAqIHNvIHRoYXQgaXQgb25seSB3b3JrcyBpbnNpZGUgdGhlIHRhYmxlXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duIGV2ZW50XG4gICAqL1xuICBvbktleURvd25MaXN0ZW5lcih0KSB7XG4gICAgdC5rZXkgPT09IFwiVGFiXCIgJiYgdC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBjb29yZGluYXRlcyBvZiB0aGUgY2VsbCB0aGF0IHRoZSBmb2N1cyBoYXMgbW92ZWQgdG9cbiAgICpcbiAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBldmVudCAtIGZvY3VzaW4gZXZlbnRcbiAgICovXG4gIGZvY3VzSW5UYWJsZUxpc3RlbmVyKHQpIHtcbiAgICBjb25zdCBlID0gdC50YXJnZXQsIG8gPSB0aGlzLmdldFJvd0J5Q2VsbChlKTtcbiAgICB0aGlzLmZvY3VzZWRDZWxsID0ge1xuICAgICAgcm93OiBBcnJheS5mcm9tKHRoaXMudGFibGUucXVlcnlTZWxlY3RvckFsbChgLiR7cy5yb3d9YCkpLmluZGV4T2YobykgKyAxLFxuICAgICAgY29sdW1uOiBBcnJheS5mcm9tKG8ucXVlcnlTZWxlY3RvckFsbChgLiR7cy5jZWxsfWApKS5pbmRleE9mKGUpICsgMVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFVuc2VsZWN0IHJvdy9jb2x1bW5cbiAgICogQ2xvc2UgdG9vbGJveCBtZW51XG4gICAqIEhpZGUgdG9vbGJveGVzXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgaGlkZVRvb2xib3hlcygpIHtcbiAgICB0aGlzLmhpZGVSb3dUb29sYm94KCksIHRoaXMuaGlkZUNvbHVtblRvb2xib3goKSwgdGhpcy51cGRhdGVUb29sYm94ZXNQb3NpdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBVbnNlbGVjdCByb3csIGNsb3NlIHRvb2xib3hcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBoaWRlUm93VG9vbGJveCgpIHtcbiAgICB0aGlzLnVuc2VsZWN0Um93KCksIHRoaXMudG9vbGJveFJvdy5oaWRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuc2VsZWN0IGNvbHVtbiwgY2xvc2UgdG9vbGJveFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGhpZGVDb2x1bW5Ub29sYm94KCkge1xuICAgIHRoaXMudW5zZWxlY3RDb2x1bW4oKSwgdGhpcy50b29sYm94Q29sdW1uLmhpZGUoKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBjdXJzb3IgZm9jdXMgdG8gdGhlIGZvY3VzZWQgY2VsbFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZvY3VzQ2VsbCgpIHtcbiAgICB0aGlzLmZvY3VzZWRDZWxsRWxlbS5mb2N1cygpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBmb2N1c2VkIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSAtIGZvY3VzZWQgY2VsbFxuICAgKi9cbiAgZ2V0IGZvY3VzZWRDZWxsRWxlbSgpIHtcbiAgICBjb25zdCB7IHJvdzogdCwgY29sdW1uOiBlIH0gPSB0aGlzLmZvY3VzZWRDZWxsO1xuICAgIHJldHVybiB0aGlzLmdldENlbGwodCwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0b29sYm94ZXMgcG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdyAtIGhvdmVyZWQgcm93XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW4gLSBob3ZlcmVkIGNvbHVtblxuICAgKi9cbiAgdXBkYXRlVG9vbGJveGVzUG9zaXRpb24odCA9IHRoaXMuaG92ZXJlZFJvdywgZSA9IHRoaXMuaG92ZXJlZENvbHVtbikge1xuICAgIHRoaXMuaXNDb2x1bW5NZW51U2hvd2luZyB8fCBlID4gMCAmJiBlIDw9IHRoaXMubnVtYmVyT2ZDb2x1bW5zICYmIHRoaXMudG9vbGJveENvbHVtbi5zaG93KCgpID0+ICh7XG4gICAgICBsZWZ0OiBgY2FsYygoMTAwJSAtIHZhcigtLWNlbGwtc2l6ZSkpIC8gKCR7dGhpcy5udW1iZXJPZkNvbHVtbnN9ICogMikgKiAoMSArICgke2V9IC0gMSkgKiAyKSlgXG4gICAgfSkpLCB0aGlzLmlzUm93TWVudVNob3dpbmcgfHwgdCA+IDAgJiYgdCA8PSB0aGlzLm51bWJlck9mUm93cyAmJiB0aGlzLnRvb2xib3hSb3cuc2hvdygoKSA9PiB7XG4gICAgICBjb25zdCBvID0gdGhpcy5nZXRSb3codCksIHsgZnJvbVRvcEJvcmRlcjogaSB9ID0gZyh0aGlzLnRhYmxlLCBvKSwgeyBoZWlnaHQ6IG4gfSA9IG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IGAke01hdGguY2VpbChpICsgbiAvIDIpfXB4YFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogTWFrZXMgdGhlIGZpcnN0IHJvdyBoZWFkaW5nc1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdpdGhIZWFkaW5ncyAtIHVzZSBoZWFkaW5ncyByb3cgb3Igbm90XG4gICAqL1xuICBzZXRIZWFkaW5nc1NldHRpbmcodCkge1xuICAgIHRoaXMudHVuZXMud2l0aEhlYWRpbmdzID0gdCwgdCA/ICh0aGlzLnRhYmxlLmNsYXNzTGlzdC5hZGQocy53aXRoSGVhZGluZ3MpLCB0aGlzLmFkZEhlYWRpbmdBdHRyVG9GaXJzdFJvdygpKSA6ICh0aGlzLnRhYmxlLmNsYXNzTGlzdC5yZW1vdmUocy53aXRoSGVhZGluZ3MpLCB0aGlzLnJlbW92ZUhlYWRpbmdBdHRyRnJvbUZpcnN0Um93KCkpO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGFuIGF0dHJpYnV0ZSBmb3IgZGlzcGxheWluZyB0aGUgcGxhY2Vob2xkZXIgaW4gdGhlIGNlbGxcbiAgICovXG4gIGFkZEhlYWRpbmdBdHRyVG9GaXJzdFJvdygpIHtcbiAgICBmb3IgKGxldCB0ID0gMTsgdCA8PSB0aGlzLm51bWJlck9mQ29sdW1uczsgdCsrKSB7XG4gICAgICBsZXQgZSA9IHRoaXMuZ2V0Q2VsbCgxLCB0KTtcbiAgICAgIGUgJiYgZS5zZXRBdHRyaWJ1dGUoXCJoZWFkaW5nXCIsIHRoaXMuYXBpLmkxOG4udChcIkhlYWRpbmdcIikpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBhdHRyaWJ1dGUgZm9yIGRpc3BsYXlpbmcgdGhlIHBsYWNlaG9sZGVyIGluIHRoZSBjZWxsXG4gICAqL1xuICByZW1vdmVIZWFkaW5nQXR0ckZyb21GaXJzdFJvdygpIHtcbiAgICBmb3IgKGxldCB0ID0gMTsgdCA8PSB0aGlzLm51bWJlck9mQ29sdW1uczsgdCsrKSB7XG4gICAgICBsZXQgZSA9IHRoaXMuZ2V0Q2VsbCgxLCB0KTtcbiAgICAgIGUgJiYgZS5yZW1vdmVBdHRyaWJ1dGUoXCJoZWFkaW5nXCIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWRkIGVmZmVjdCBvZiBhIHNlbGVjdGVkIHJvd1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICovXG4gIHNlbGVjdFJvdyh0KSB7XG4gICAgY29uc3QgZSA9IHRoaXMuZ2V0Um93KHQpO1xuICAgIGUgJiYgKHRoaXMuc2VsZWN0ZWRSb3cgPSB0LCBlLmNsYXNzTGlzdC5hZGQocy5yb3dTZWxlY3RlZCkpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgZWZmZWN0IG9mIGEgc2VsZWN0ZWQgcm93XG4gICAqL1xuICB1bnNlbGVjdFJvdygpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZFJvdyA8PSAwKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3IoYC4ke3Mucm93U2VsZWN0ZWR9YCk7XG4gICAgdCAmJiB0LmNsYXNzTGlzdC5yZW1vdmUocy5yb3dTZWxlY3RlZCksIHRoaXMuc2VsZWN0ZWRSb3cgPSAwO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgZWZmZWN0IG9mIGEgc2VsZWN0ZWQgY29sdW1uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKi9cbiAgc2VsZWN0Q29sdW1uKHQpIHtcbiAgICBmb3IgKGxldCBlID0gMTsgZSA8PSB0aGlzLm51bWJlck9mUm93czsgZSsrKSB7XG4gICAgICBjb25zdCBvID0gdGhpcy5nZXRDZWxsKGUsIHQpO1xuICAgICAgbyAmJiBvLmNsYXNzTGlzdC5hZGQocy5jZWxsU2VsZWN0ZWQpO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdGVkQ29sdW1uID0gdDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGVmZmVjdCBvZiBhIHNlbGVjdGVkIGNvbHVtblxuICAgKi9cbiAgdW5zZWxlY3RDb2x1bW4oKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRDb2x1bW4gPD0gMClcbiAgICAgIHJldHVybjtcbiAgICBsZXQgdCA9IHRoaXMudGFibGUucXVlcnlTZWxlY3RvckFsbChgLiR7cy5jZWxsU2VsZWN0ZWR9YCk7XG4gICAgQXJyYXkuZnJvbSh0KS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLmNsYXNzTGlzdC5yZW1vdmUocy5jZWxsU2VsZWN0ZWQpO1xuICAgIH0pLCB0aGlzLnNlbGVjdGVkQ29sdW1uID0gMDtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgcm93IGFuZCBjb2x1bW4gdGhhdCB0aGUgY3Vyc29yIGlzIGN1cnJlbnRseSBob3ZlcmluZyBvdmVyXG4gICAqIFRoZSBzZWFyY2ggd2FzIG9wdGltaXplZCBmcm9tIE8obikgdG8gTyAobG9nIG4pIHZpYSBiaW4gc2VhcmNoIHRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIGNhbGN1bGF0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIG1vdXNlbW92ZSBldmVudFxuICAgKiBAcmV0dXJucyBob3ZlcmVkIGNlbGwgY29vcmRpbmF0ZXMgYXMgYW4gaW50ZWdlciByb3cgYW5kIGNvbHVtblxuICAgKi9cbiAgZ2V0SG92ZXJlZENlbGwodCkge1xuICAgIGxldCBlID0gdGhpcy5ob3ZlcmVkUm93LCBvID0gdGhpcy5ob3ZlcmVkQ29sdW1uO1xuICAgIGNvbnN0IHsgd2lkdGg6IGksIGhlaWdodDogbiwgeDogciwgeTogaCB9ID0gayh0aGlzLnRhYmxlLCB0KTtcbiAgICByZXR1cm4gciA+PSAwICYmIChvID0gdGhpcy5iaW5TZWFyY2goXG4gICAgICB0aGlzLm51bWJlck9mQ29sdW1ucyxcbiAgICAgIChsKSA9PiB0aGlzLmdldENlbGwoMSwgbCksXG4gICAgICAoeyBmcm9tTGVmdEJvcmRlcjogbCB9KSA9PiByIDwgbCxcbiAgICAgICh7IGZyb21SaWdodEJvcmRlcjogbCB9KSA9PiByID4gaSAtIGxcbiAgICApKSwgaCA+PSAwICYmIChlID0gdGhpcy5iaW5TZWFyY2goXG4gICAgICB0aGlzLm51bWJlck9mUm93cyxcbiAgICAgIChsKSA9PiB0aGlzLmdldENlbGwobCwgMSksXG4gICAgICAoeyBmcm9tVG9wQm9yZGVyOiBsIH0pID0+IGggPCBsLFxuICAgICAgKHsgZnJvbUJvdHRvbUJvcmRlcjogbCB9KSA9PiBoID4gbiAtIGxcbiAgICApKSwge1xuICAgICAgcm93OiBlIHx8IHRoaXMuaG92ZXJlZFJvdyxcbiAgICAgIGNvbHVtbjogbyB8fCB0aGlzLmhvdmVyZWRDb2x1bW5cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBMb29rcyBmb3IgdGhlIGluZGV4IG9mIHRoZSBjZWxsIHRoZSBtb3VzZSBpcyBob3ZlcmluZyBvdmVyLlxuICAgKiBDZWxscyBjYW4gYmUgcmVwcmVzZW50ZWQgYXMgb3JkZXJlZCBpbnRlcnZhbHMgd2l0aCBsZWZ0IGFuZFxuICAgKiByaWdodCAodXBwZXIgYW5kIGxvd2VyIGZvciByb3dzKSBib3JkZXJzIGluc2lkZSB0aGUgdGFibGUsIGlmIHRoZSBtb3VzZSBlbnRlcnMgaXQsIHRoZW4gdGhpcyBpcyBvdXIgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlck9mQ2VsbHMgLSB1cHBlciBib3VuZCBvZiBiaW5hcnkgc2VhcmNoXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGdldENlbGwgLSBmdW5jdGlvbiB0byB0YWtlIHRoZSBjdXJyZW50bHkgdmlld2VkIGNlbGxcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gYmVmb3JlVGhlTGVmdEJvcmRlciAtIGRldGVybWluZXMgdGhlIGN1cnNvciBwb3NpdGlvbiwgdG8gdGhlIGxlZnQgb2YgdGhlIGNlbGwgb3Igbm90XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGFmdGVyVGhlUmlnaHRCb3JkZXIgLSBkZXRlcm1pbmVzIHRoZSBjdXJzb3IgcG9zaXRpb24sIHRvIHRoZSByaWdodCBvZiB0aGUgY2VsbCBvciBub3RcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGJpblNlYXJjaCh0LCBlLCBvLCBpKSB7XG4gICAgbGV0IG4gPSAwLCByID0gdCArIDEsIGggPSAwLCBsO1xuICAgIGZvciAoOyBuIDwgciAtIDEgJiYgaCA8IDEwOyApIHtcbiAgICAgIGwgPSBNYXRoLmNlaWwoKG4gKyByKSAvIDIpO1xuICAgICAgY29uc3QgdSA9IGUobCksIHAgPSBnKHRoaXMudGFibGUsIHUpO1xuICAgICAgaWYgKG8ocCkpXG4gICAgICAgIHIgPSBsO1xuICAgICAgZWxzZSBpZiAoaShwKSlcbiAgICAgICAgbiA9IGw7XG4gICAgICBlbHNlXG4gICAgICAgIGJyZWFrO1xuICAgICAgaCsrO1xuICAgIH1cbiAgICByZXR1cm4gbDtcbiAgfVxuICAvKipcbiAgICogQ29sbGVjdHMgZGF0YSBmcm9tIGNlbGxzIGludG8gYSB0d28tZGltZW5zaW9uYWwgYXJyYXlcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ1tdW119XG4gICAqL1xuICBnZXREYXRhKCkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICBmb3IgKGxldCBlID0gMTsgZSA8PSB0aGlzLm51bWJlck9mUm93czsgZSsrKSB7XG4gICAgICBjb25zdCBvID0gdGhpcy50YWJsZS5xdWVyeVNlbGVjdG9yKGAuJHtzLnJvd306bnRoLWNoaWxkKCR7ZX0pYCksIGkgPSBBcnJheS5mcm9tKG8ucXVlcnlTZWxlY3RvckFsbChgLiR7cy5jZWxsfWApKTtcbiAgICAgIGkuZXZlcnkoKHIpID0+ICFyLnRleHRDb250ZW50LnRyaW0oKSkgfHwgdC5wdXNoKGkubWFwKChyKSA9PiByLmlubmVySFRNTCkpO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGxpc3RlbmVycyBvbiB0aGUgZG9jdW1lbnRcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGlja2VkKTtcbiAgfVxufVxuY2xhc3MgRiB7XG4gIC8qKlxuICAgKiBOb3RpZnkgY29yZSB0aGF0IHJlYWQtb25seSBtb2RlIGlzIHN1cHBvcnRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBnZXQgaXNSZWFkT25seVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIEFsbG93IHRvIHByZXNzIEVudGVyIGluc2lkZSB0aGUgQ29kZVRvb2wgdGV4dGFyZWFcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHN0YXRpYyBnZXQgZW5hYmxlTGluZUJyZWFrcygpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBwbHVnaW5gcyBtYWluIEVsZW1lbnQgYW5kIGZpbGwgaXQgd2l0aCBzYXZlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7VGFibGVDb25zdHJ1Y3Rvcn0gaW5pdFxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiB0LCBjb25maWc6IGUsIGFwaTogbywgcmVhZE9ubHk6IGksIGJsb2NrOiBuIH0pIHtcbiAgICB0aGlzLmFwaSA9IG8sIHRoaXMucmVhZE9ubHkgPSBpLCB0aGlzLmNvbmZpZyA9IGUsIHRoaXMuZGF0YSA9IHtcbiAgICAgIHdpdGhIZWFkaW5nczogdGhpcy5nZXRDb25maWcoXCJ3aXRoSGVhZGluZ3NcIiwgITEsIHQpLFxuICAgICAgc3RyZXRjaGVkOiB0aGlzLmdldENvbmZpZyhcInN0cmV0Y2hlZFwiLCAhMSwgdCksXG4gICAgICBjb250ZW50OiB0ICYmIHQuY29udGVudCA/IHQuY29udGVudCA6IFtdXG4gICAgfSwgdGhpcy50YWJsZSA9IG51bGwsIHRoaXMuYmxvY2sgPSBuO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgVG9vbCB0b29sYm94IHNldHRpbmdzXG4gICAqIGljb24gLSBUb29sIGljb24ncyBTVkdcbiAgICogdGl0bGUgLSB0aXRsZSB0byBzaG93IGluIHRvb2xib3hcbiAgICpcbiAgICogQHJldHVybnMge3tpY29uOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCB0b29sYm94KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBBLFxuICAgICAgdGl0bGU6IFwiVGFibGVcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBUb29sJ3Mgdmlld1xuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFibGUgPSBuZXcgRSh0aGlzLnJlYWRPbmx5LCB0aGlzLmFwaSwgdGhpcy5kYXRhLCB0aGlzLmNvbmZpZyksIHRoaXMuY29udGFpbmVyID0gYyhcImRpdlwiLCB0aGlzLmFwaS5zdHlsZXMuYmxvY2spLCB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlLmdldFdyYXBwZXIoKSksIHRoaXMudGFibGUuc2V0SGVhZGluZ3NTZXR0aW5nKHRoaXMuZGF0YS53aXRoSGVhZGluZ3MpLCB0aGlzLmNvbnRhaW5lcjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBwbHVnaW4gc2V0dGluZ3NcbiAgICpcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgcmVuZGVyU2V0dGluZ3MoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChcIldpdGggaGVhZGluZ3NcIiksXG4gICAgICAgIGljb246IFQsXG4gICAgICAgIGlzQWN0aXZlOiB0aGlzLmRhdGEud2l0aEhlYWRpbmdzLFxuICAgICAgICBjbG9zZU9uQWN0aXZhdGU6ICEwLFxuICAgICAgICB0b2dnbGU6ICEwLFxuICAgICAgICBvbkFjdGl2YXRlOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhLndpdGhIZWFkaW5ncyA9ICEwLCB0aGlzLnRhYmxlLnNldEhlYWRpbmdzU2V0dGluZyh0aGlzLmRhdGEud2l0aEhlYWRpbmdzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChcIldpdGhvdXQgaGVhZGluZ3NcIiksXG4gICAgICAgIGljb246IEgsXG4gICAgICAgIGlzQWN0aXZlOiAhdGhpcy5kYXRhLndpdGhIZWFkaW5ncyxcbiAgICAgICAgY2xvc2VPbkFjdGl2YXRlOiAhMCxcbiAgICAgICAgdG9nZ2xlOiAhMCxcbiAgICAgICAgb25BY3RpdmF0ZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YS53aXRoSGVhZGluZ3MgPSAhMSwgdGhpcy50YWJsZS5zZXRIZWFkaW5nc1NldHRpbmcodGhpcy5kYXRhLndpdGhIZWFkaW5ncyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiB0aGlzLmRhdGEuc3RyZXRjaGVkID8gdGhpcy5hcGkuaTE4bi50KFwiQ29sbGFwc2VcIikgOiB0aGlzLmFwaS5pMThuLnQoXCJTdHJldGNoXCIpLFxuICAgICAgICBpY29uOiB0aGlzLmRhdGEuc3RyZXRjaGVkID8gUiA6IE8sXG4gICAgICAgIGNsb3NlT25BY3RpdmF0ZTogITAsXG4gICAgICAgIHRvZ2dsZTogITAsXG4gICAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEuc3RyZXRjaGVkID0gIXRoaXMuZGF0YS5zdHJldGNoZWQsIHRoaXMuYmxvY2suc3RyZXRjaGVkID0gdGhpcy5kYXRhLnN0cmV0Y2hlZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3QgdGFibGUgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAqXG4gICAqIEByZXR1cm5zIHtUYWJsZURhdGF9IC0gc2F2ZWQgZGF0YVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICBjb25zdCB0ID0gdGhpcy50YWJsZS5nZXREYXRhKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpdGhIZWFkaW5nczogdGhpcy5kYXRhLndpdGhIZWFkaW5ncyxcbiAgICAgIHN0cmV0Y2hlZDogdGhpcy5kYXRhLnN0cmV0Y2hlZCxcbiAgICAgIGNvbnRlbnQ6IHRcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBQbHVnaW4gZGVzdHJveWVyXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnRhYmxlLmRlc3Ryb3koKTtcbiAgfVxuICAvKipcbiAgICogQSBoZWxwZXIgdG8gZ2V0IGNvbmZpZyB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZ05hbWUgLSB0aGUga2V5IHRvIGdldCBmcm9tIHRoZSBjb25maWcuXG4gICAqIEBwYXJhbSB7YW55fSBkZWZhdWx0VmFsdWUgLSBkZWZhdWx0IHZhbHVlIGlmIGNvbmZpZyBkb2Vzbid0IGhhdmUgcGFzc2VkIGtleVxuICAgKiBAcGFyYW0ge29iamVjdH0gc2F2ZWREYXRhIC0gcHJldmlvdXNseSBzYXZlZCBkYXRhLiBJZiBwYXNzZWQsIHRoZSBrZXkgd2lsbCBiZSBnb3QgZnJvbSB0aGVyZSwgb3RoZXJ3aXNlIGZyb20gdGhlIGNvbmZpZ1xuICAgKiBAcmV0dXJucyB7YW55fSAtIGNvbmZpZyB2YWx1ZS5cbiAgICovXG4gIGdldENvbmZpZyh0LCBlID0gdm9pZCAwLCBvID0gdm9pZCAwKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuZGF0YSB8fCBvO1xuICAgIHJldHVybiBpID8gaVt0XSA/IGlbdF0gOiBlIDogdGhpcy5jb25maWcgJiYgdGhpcy5jb25maWdbdF0gPyB0aGlzLmNvbmZpZ1t0XSA6IGU7XG4gIH1cbiAgLyoqXG4gICAqIFRhYmxlIG9uUGFzdGUgY29uZmlndXJhdGlvblxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBzdGF0aWMgZ2V0IHBhc3RlQ29uZmlnKCkge1xuICAgIHJldHVybiB7IHRhZ3M6IFtcIlRBQkxFXCIsIFwiVFJcIiwgXCJUSFwiLCBcIlREXCJdIH07XG4gIH1cbiAgLyoqXG4gICAqIE9uIHBhc3RlIGNhbGxiYWNrIHRoYXQgaXMgZmlyZWQgZnJvbSBFZGl0b3JcbiAgICpcbiAgICogQHBhcmFtIHtQYXN0ZUV2ZW50fSBldmVudCAtIGV2ZW50IHdpdGggcGFzdGVkIGRhdGFcbiAgICovXG4gIG9uUGFzdGUodCkge1xuICAgIGNvbnN0IGUgPSB0LmRldGFpbC5kYXRhLCBvID0gZS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlID4gdGhlYWQsIHRyOmZpcnN0LW9mLXR5cGUgdGhcIiksIG4gPSBBcnJheS5mcm9tKGUucXVlcnlTZWxlY3RvckFsbChcInRyXCIpKS5tYXAoKHIpID0+IEFycmF5LmZyb20oci5xdWVyeVNlbGVjdG9yQWxsKFwidGgsIHRkXCIpKS5tYXAoKGwpID0+IGwuaW5uZXJIVE1MKSk7XG4gICAgdGhpcy5kYXRhID0ge1xuICAgICAgd2l0aEhlYWRpbmdzOiBvICE9PSBudWxsLFxuICAgICAgY29udGVudDogblxuICAgIH0sIHRoaXMudGFibGUud3JhcHBlciAmJiB0aGlzLnRhYmxlLndyYXBwZXIucmVwbGFjZVdpdGgodGhpcy5yZW5kZXIoKSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEYgYXMgZGVmYXVsdFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@editorjs/table/dist/table.mjs\n");

/***/ }),

/***/ "./node_modules/editorjs-text-color-plugin/dist/bundle.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/editorjs-text-color-plugin/dist/bundle.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ J)\n/* harmony export */ });\n(function(){\"use strict\";try{if(typeof document<\"u\"){var e=document.createElement(\"style\");e.appendChild(document.createTextNode(\".picker_wrapper.popup{z-index:99;width:170px;margin:0;box-shadow:0 0 10px 1px #eaeaea;background:#fff}.picker_arrow{display:none}.layout_default .picker_slider,.layout_default .picker_selector{padding:5px}.colorPlugin.ce-inline-tool{width:32px;border-radius:3px}.colorPlugin.ce-inline-tool--active svg{fill:#3c99ff}#color-left-btn{height:35px;width:18px;font-weight:600;display:flex;align-items:center}#color-left-btn:hover{border-radius:5px 0 0 5px;background:#cbcbcb7d}#color-text{padding:0 4px}#color-btn-text{height:15px}.ce-popover__container{overflow:visible}.ce-popover--inline .ce-popover__items{overflow:hidden}\")),document.head.appendChild(e)}}catch(o){console.error(\"vite-plugin-css-injected-by-js\",o)}})();\nfunction C(i) {\n  return i && i.__esModule && Object.prototype.hasOwnProperty.call(i, \"default\") ? i.default : i;\n}\nfunction p(i) {\n  if (i.__esModule) return i;\n  var t = i.default;\n  if (typeof t == \"function\") {\n    var e = function o() {\n      return this instanceof o ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments);\n    };\n    e.prototype = t.prototype;\n  } else e = {};\n  return Object.defineProperty(e, \"__esModule\", { value: !0 }), Object.keys(i).forEach(function(o) {\n    var s = Object.getOwnPropertyDescriptor(i, o);\n    Object.defineProperty(e, o, s.get ? s : {\n      enumerable: !0,\n      get: function() {\n        return i[o];\n      }\n    });\n  }), e;\n}\nclass k extends HTMLElement {\n  //https://mladenplavsic.github.io/css-ripple-effect\n  static get observedAttributes() {\n    return [\"disabled\", \"icon\", \"loading\", \"href\", \"htmltype\"];\n  }\n  constructor() {\n    super();\n    const t = this.attachShadow({ mode: \"open\" });\n    t.innerHTML = `\n        <style>\n        :host{ \n            position:relative; \n            display:inline-flex; \n            padding: .25em .625em;\n            box-sizing:border-box; \n            vertical-align: middle;\n            line-height: 1.8;\n            width: 5px;\n            overflow:hidden; \n            align-items:center;\n            justify-content: center;\n            font-size: 14px; \n            color: var(--fontColor,#333);  \n            border-radius: var(--borderRadius,.25em);\n            background: var(--fontColor,#333); \n            transition:background .3s,box-shadow .3s,border-color .3s,color .3s;\n        }\n        :host([shape=\"circle\"]){ \n            border-radius:50%; \n        }\n        /*\n        :host(:not([disabled]):active){\n            z-index:1;\n            transform:translateY(.1em);\n        }\n        */\n        :host([disabled]),:host([loading]){\n            pointer-events: none; \n            opacity:.6; \n        }\n        :host([block]){ \n            display:flex; \n        }\n        :host([disabled]:not([type])){ \n            background:rgba(0,0,0,.1); \n        }\n        :host([disabled]) .btn,:host([loading]) .btn{ \n            cursor: not-allowed; \n            pointer-events: all; \n        }\n        :host(:not([type=\"primary\"]):not([type=\"danger\"]):not([disabled]):hover),\n        :host(:not([type=\"primary\"]):not([type=\"danger\"]):focus-within),\n        :host([type=\"flat\"][focus]){ \n            color:var(--themeColor,#42b983); \n            border-color: var(--themeColor,#42b983); \n        }\n        :host(:not([type=\"primary\"]):not([type=\"danger\"])) .btn::after{ \n            background-image: radial-gradient(circle, var(--themeColor,#42b983) 10%, transparent 10.01%); \n        }\n        :host([type=\"primary\"]){ \n            color: #fff; \n            background:var(--themeBackground,var(--themeColor,#42b983));\n        }\n        :host([type=\"danger\"]){ \n            color: #fff; \n            background:var(--themeBackground,var(--dangerColor,#ff7875));\n        }\n        :host([type=\"dashed\"]){ \n            border-style:dashed \n        }\n        :host([type=\"flat\"]),:host([type=\"primary\"]),:host([type=\"danger\"]){ \n            border:0;\n            padding: calc( .25em + 1px ) calc( .625em + 1px );\n        }\n        :host([type=\"flat\"]) .btn::before{ \n            content:''; \n            position:absolute; \n            background:var(--themeColor,#42b983);\n            pointer-events:none; \n            left:0; \n            right:0; \n            top:0; \n            bottom:0; \n            opacity:0; \n            transition:.3s;\n        }\n        :host([type=\"flat\"]:not([disabled]):hover) .btn::before{ \n            opacity:.1 \n        }\n        :host(:not([disabled]):hover){ \n            z-index:1 \n        }\n        :host([type=\"flat\"]:focus-within) .btn:before,\n        :host([type=\"flat\"][focus]) .btn:before{ \n            opacity:.2; \n        }\n        :host(:focus-within){ \n            /*box-shadow: 0 0 10px rgba(0,0,0,0.1);*/ \n        }\n        .btn{ \n            background:none; \n            outline:0; \n            border:0; \n            position: \n            absolute; \n            left:0; \n            top:0;\n            width:100%;\n            height:100%;\n            padding:0;\n            user-select: none;\n            cursor: unset;\n        }\n        xy-loading{ \n            margin-right: 0.35em;  \n        }\n        ::-moz-focus-inner{\n            border:0;\n        }\n        .btn::before{\n            content: \"\";\n            display: block;\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            left:0;\n            top:0;\n            transition:.2s;\n            background:#fff;\n            opacity:0;\n        }\n        :host(:not([disabled]):active) .btn::before{ \n            opacity:.2;\n        }\n        .btn::after {\n            content: \"\";\n            display: block;\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            left: var(--x,0); \n            top: var(--y,0);\n            pointer-events: none;\n            background-image: radial-gradient(circle, #fff 10%, transparent 10.01%);\n            background-repeat: no-repeat;\n            background-position: 50%;\n            transform: translate(-50%,-50%) scale(10);\n            opacity: 0;\n            transition: transform .3s, opacity .8s;\n        }\n        .btn:not([disabled]):active::after {\n            transform: translate(-50%,-50%) scale(0);\n            opacity: .3;\n            transition: 0s;\n        }\n        xy-icon{\n            margin-right: 0.35em;\n            transition: none;\n        }\n        :host(:empty) xy-icon{\n            margin: auto;\n        }\n        :host(:empty){\n            padding: .65em;\n        }\n        :host([type=\"flat\"]:empty),:host([type=\"primary\"]:empty){ \n            padding: calc( .65em + 1px );\n        }\n        ::slotted(xy-icon){\n            transition: none;\n        }\n        :host([href]){\n            cursor:pointer;\n        }\n        </style>\n        <${this.href ? \"a\" : \"button\"} ${this.htmltype ? 'type=\"' + this.htmltype + '\"' : \"\"} ${this.download && this.href ? 'download=\"' + this.download + '\"' : \"\"} ${this.href ? 'href=\"' + this.href + '\" target=\"' + this.target + '\" rel=\"' + this.rel + '\"' : \"\"} class=\"btn\" id=\"btn\"></${this.href ? \"a\" : \"button\"}>${!this.loading && this.icon && this.icon != \"null\" ? '<xy-icon id=\"icon\" name=' + this.icon + \"></xy-icon>\" : \"\"}<slot></slot>\n        `;\n  }\n  focus() {\n    this.btn.focus();\n  }\n  get disabled() {\n    return this.getAttribute(\"disabled\") !== null;\n  }\n  get toggle() {\n    return this.getAttribute(\"toggle\") !== null;\n  }\n  get htmltype() {\n    return this.getAttribute(\"htmltype\");\n  }\n  get name() {\n    return this.getAttribute(\"name\");\n  }\n  get checked() {\n    return this.getAttribute(\"checked\") !== null;\n  }\n  get href() {\n    return this.getAttribute(\"href\");\n  }\n  get target() {\n    return this.getAttribute(\"target\") || \"_blank\";\n  }\n  get rel() {\n    return this.getAttribute(\"rel\");\n  }\n  get download() {\n    return this.getAttribute(\"download\");\n  }\n  get icon() {\n    return this.getAttribute(\"icon\");\n  }\n  get loading() {\n    return this.getAttribute(\"loading\") !== null;\n  }\n  set icon(t) {\n    this.setAttribute(\"icon\", t);\n  }\n  set htmltype(t) {\n    this.setAttribute(\"htmltype\", t);\n  }\n  set href(t) {\n    this.setAttribute(\"href\", t);\n  }\n  set disabled(t) {\n    t === null || t === !1 ? this.removeAttribute(\"disabled\") : this.setAttribute(\"disabled\", \"\");\n  }\n  set checked(t) {\n    t === null || t === !1 ? this.removeAttribute(\"checked\") : this.setAttribute(\"checked\", \"\");\n  }\n  set loading(t) {\n    t === null || t === !1 ? this.removeAttribute(\"loading\") : this.setAttribute(\"loading\", \"\");\n  }\n  connectedCallback() {\n    this.btn = this.shadowRoot.getElementById(\"btn\"), this.ico = this.shadowRoot.getElementById(\"icon\"), this.load = document.createElement(\"xy-loading\"), this.load.style.color = \"inherit\", this.btn.addEventListener(\"mousedown\", function(t) {\n      if (!this.disabled) {\n        const { left: e, top: o } = this.getBoundingClientRect();\n        this.style.setProperty(\"--x\", t.clientX - e + \"px\"), this.style.setProperty(\"--y\", t.clientY - o + \"px\");\n      }\n    }), this.addEventListener(\"click\", function(t) {\n      this.toggle && (this.checked = !this.checked);\n    }), this.btn.addEventListener(\"keydown\", (t) => {\n      switch (t.keyCode) {\n        case 13:\n          t.stopPropagation();\n          break;\n      }\n    }), this.disabled = this.disabled, this.loading = this.loading;\n  }\n  attributeChangedCallback(t, e, o) {\n    t == \"disabled\" && this.btn && (o !== null ? (this.btn.setAttribute(\"disabled\", \"disabled\"), this.href && this.btn.removeAttribute(\"href\")) : (this.btn.removeAttribute(\"disabled\"), this.href && (this.btn.href = this.href))), t == \"loading\" && this.btn && (o !== null ? (this.shadowRoot.prepend(this.load), this.btn.setAttribute(\"disabled\", \"disabled\")) : (this.shadowRoot.removeChild(this.load), this.btn.removeAttribute(\"disabled\"))), t == \"icon\" && this.ico && (this.ico.name = o), t == \"href\" && this.btn && (this.disabled || (this.btn.href = o)), t == \"htmltype\" && this.btn && (this.btn.type = o);\n  }\n}\ncustomElements.get(\"xy-button\") || customElements.define(\"xy-button\", k);\nclass w extends HTMLElement {\n  static get observedAttributes() {\n    return [\"disabled\"];\n  }\n  constructor() {\n    super();\n    const t = this.attachShadow({ mode: \"open\" });\n    t.innerHTML = `\n        <style>\n        :host {\n            display:inline-flex;\n        }\n        ::slotted(xy-button:not(:first-of-type):not(:last-of-type)){\n            border-radius:0;\n        }\n        ::slotted(xy-button){\n            margin:0!important;\n        }\n        ::slotted(xy-button:not(:first-of-type)){\n            margin-left:-1px!important;\n        }\n        ::slotted(xy-button[type]:not([type=\"dashed\"]):not(:first-of-type)){\n            margin-left:1px!important;\n        }\n        ::slotted(xy-button:first-of-type){\n            border-top-right-radius: 0;\n            border-bottom-right-radius: 0px;\n        }\n        ::slotted(xy-button:last-of-type){\n            border-top-left-radius: 0;\n            border-bottom-left-radius: 0;\n        }\n        </style>\n        <slot></slot>\n        `;\n  }\n  get disabled() {\n    return this.getAttribute(\"disabled\") !== null;\n  }\n  set disabled(t) {\n    t === null || t === !1 ? this.removeAttribute(\"disabled\") : this.setAttribute(\"disabled\", \"\");\n  }\n  connectedCallback() {\n  }\n  attributeChangedCallback(t, e, o) {\n  }\n}\ncustomElements.get(\"xy-button-group\") || customElements.define(\"xy-button-group\", w);\nclass d extends HTMLElement {\n  static get observedAttributes() {\n    return [\"open\", \"title\", \"oktext\", \"canceltext\", \"loading\", \"type\"];\n  }\n  constructor(t) {\n    super();\n    const e = this.attachShadow({ mode: \"open\" });\n    e.innerHTML = `\n        <style>\n        :host{\n            position:absolute;\n            display:flex;\n            box-shadow: 2px 2px 15px rgba(0,0,0,0.15);\n            box-sizing: border-box;\n            transform:scale(0);\n            opacity:0.5;\n            border-radius: 3px;\n            z-index:10;\n            transition:.3s cubic-bezier(.645, .045, .355, 1);\n            transform-origin:inherit;\n            background:#fff;\n            visibility:hidden;\n        }\n        .popcon-content{\n            box-sizing: border-box;\n            display:flex;\n            width: max-content;\n            padding: 0 15px;\n            flex:1;\n            flex-direction:column;\n        }\n        .popcon-title {\n            line-height: 30px;\n            padding: 15px 30px 0 0;\n            font-weight: 700;\n            font-size: 14px;\n            color: #4c5161;\n            user-select: none;\n            cursor: default;\n        }\n        .popcon-body {\n            flex: 1;\n            padding: 5px 0 15px 0;\n        }\n        .popcon-footer {\n            padding: 3px 0 15px 0;\n            margin-top: -3px;\n            text-align: right;\n            white-space: nowrap;\n        }\n        .btn-close{\n            position:absolute;\n            right:10px;\n            top:10px;\n            border:0;\n        }\n        .popcon-footer xy-button {\n            font-size: .8em;\n            margin-left: .8em;\n        }\n        .popcon-type{\n            display:flex;\n            width:30px;\n            height:30px;\n            font-size:22px;\n            margin: 15px -10px 0 15px;\n        }\n        /*\n        :host(:not([type=\"confirm\"])) .popcon-type,\n        :host(:not([type=\"confirm\"])) .popcon-footer,\n        :host(:not([type])) .popcon-title,\n        :host(:not([type])) .btn-close{\n            display:none;\n        }\n        */\n        :host([type=\"confirm\"]){\n            min-width:250px;\n        }\n        :host([type=\"confirm\"]) .popcon-body{\n            font-size:14px;\n        }\n        :host(:not([type])) .popcon-content,:host(:not([type])) .popcon-body{\n            padding: 0;\n        }\n        </style>\n            ${(t || this.type) === \"confirm\" ? '<xy-icon id=\"popcon-type\" class=\"popcon-type\" name=\"question-circle\" color=\"var(--waringColor,#faad14)\"></xy-icon>' : \"\"}\n            <div class=\"popcon-content\">\n                ${(t || this.type) !== null ? '<div class=\"popcon-title\" id=\"title\">' + this.title + '</div><xy-button class=\"btn-close\" id=\"btn-close\" icon=\"close\"></xy-button>' : \"\"}\n                <div class=\"popcon-body\">\n                    <slot></slot>\n                </div>\n                ${(t || this.type) === \"confirm\" ? '<div class=\"popcon-footer\"><xy-button id=\"btn-cancel\">' + this.canceltext + '</xy-button><xy-button id=\"btn-submit\" type=\"primary\">' + this.oktext + \"</xy-button></div>\" : \"\"}\n            </div>\n        `;\n  }\n  get open() {\n    return this.getAttribute(\"open\") !== null;\n  }\n  get stopfocus() {\n    return this.getAttribute(\"stopfocus\") !== null;\n  }\n  get title() {\n    return this.getAttribute(\"title\") || \"popcon\";\n  }\n  get type() {\n    return this.getAttribute(\"type\");\n  }\n  get oktext() {\n    return this.getAttribute(\"oktext\") || \"confirm\";\n  }\n  get canceltext() {\n    return this.getAttribute(\"canceltext\") || \"cancel\";\n  }\n  get loading() {\n    return this.getAttribute(\"loading\") !== null;\n  }\n  set title(t) {\n    this.setAttribute(\"title\", t);\n  }\n  set type(t) {\n    t === null || t === !1 ? this.removeAttribute(\"type\") : this.setAttribute(\"type\", t);\n  }\n  set oktext(t) {\n    this.setAttribute(\"oktext\", t);\n  }\n  set canceltext(t) {\n    this.setAttribute(\"canceltext\", t);\n  }\n  set open(t) {\n    t === null || t === !1 ? (this.removeAttribute(\"open\"), this.parentNode.removeAttribute(\"open\")) : (this.setAttribute(\"open\", \"\"), this.parentNode.setAttribute(\"open\", \"\"), this.loading && (this.loading = !1));\n  }\n  set loading(t) {\n    t === null || t === !1 ? this.removeAttribute(\"loading\") : this.setAttribute(\"loading\", \"\");\n  }\n  connectedCallback() {\n    this.remove = !1, this.type && (this.titles = this.shadowRoot.getElementById(\"title\"), this.btnClose = this.shadowRoot.getElementById(\"btn-close\")), this.type == \"confirm\" && (this.btnCancel = this.shadowRoot.getElementById(\"btn-cancel\"), this.btnSubmit = this.shadowRoot.getElementById(\"btn-submit\")), this.addEventListener(\"transitionend\", (t) => {\n      t.propertyName === \"transform\" && this.open && (this.type == \"confirm\" && this.btnSubmit.focus(), this.type == \"pane\" && this.btnClose.focus(), this.dispatchEvent(new CustomEvent(\"open\")));\n    }), this.addEventListener(\"transitionend\", (t) => {\n      t.propertyName === \"transform\" && !this.open && (this.remove && this.parentNode.removeChild(this), this.dispatchEvent(new CustomEvent(\"close\")));\n    }), this.addEventListener(\"click\", (t) => {\n      t.target.closest(\"[autoclose]\") && (this.open = !1, window.xyActiveElement.focus());\n    }), this.type && this.btnClose.addEventListener(\"click\", () => {\n      this.open = !1, window.xyActiveElement.focus();\n    }), this.type == \"confirm\" && (this.btnCancel.addEventListener(\"click\", async () => {\n      this.dispatchEvent(new CustomEvent(\"cancel\")), this.open = !1, window.xyActiveElement.focus();\n    }), this.btnSubmit.addEventListener(\"click\", () => {\n      this.dispatchEvent(new CustomEvent(\"submit\")), this.loading || (this.open = !1, window.xyActiveElement.focus());\n    }));\n  }\n  attributeChangedCallback(t, e, o) {\n    t == \"open\" && this.shadowRoot && o == null && this.stopfocus, t == \"loading\" && this.shadowRoot && (o !== null ? this.btnSubmit.loading = !0 : this.btnSubmit.loading = !1), t == \"title\" && this.titles && o !== null && (this.titles.innerHTML = o), t == \"oktext\" && this.btnSubmit && o !== null && (this.btnSubmit.innerHTML = o), t == \"canceltext\" && this.btnCancel && o !== null && (this.btnCancel.innerHTML = o);\n  }\n}\ncustomElements.get(\"xy-popcon\") || customElements.define(\"xy-popcon\", d);\nclass A extends HTMLElement {\n  static get observedAttributes() {\n    return [\"title\", \"oktext\", \"canceltext\", \"loading\", \"type\"];\n  }\n  constructor() {\n    super();\n    const t = this.attachShadow({ mode: \"open\" });\n    t.innerHTML = `\n        <style>\n        :host {\n            display:inline-block;\n            position:relative;\n            overflow:visible;\n        }\n        :host([dir=\"top\"]) ::slotted(xy-popcon){\n            bottom:100%;\n            left:50%;\n            transform:translate(-50%,-10px) scale(0);\n            transform-origin: center bottom;\n        }\n        :host([dir=\"top\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"top\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"top\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(-50%,-10px) scale(1);\n        }\n        :host([dir=\"right\"]) ::slotted(xy-popcon){\n            left:100%;\n            top:50%;\n            transform:translate(10px,-50%) scale(0);\n            transform-origin: left;\n        }\n        :host([dir=\"right\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"right\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"right\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(10px,-50%) scale(1);\n        }\n        :host([dir=\"bottom\"]) ::slotted(xy-popcon){\n            top:100%;\n            left:50%;\n            transform:translate(-50%,10px) scale(0);\n            transform-origin: center top;\n        }\n        :host([dir=\"bottom\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"bottom\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"bottom\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(-50%,10px) scale(1);\n        }\n        :host([dir=\"left\"]) ::slotted(xy-popcon){\n            right:100%;\n            top:50%;\n            transform:translate(-10px,-50%) scale(0);\n            transform-origin: right;\n        }\n        :host([dir=\"left\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"left\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"left\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(-10px,-50%) scale(1);\n        }\n        :host([dir=\"lefttop\"]) ::slotted(xy-popcon){\n            right:100%;\n            top:0;\n            transform:translate(-10px) scale(0);\n            transform-origin: right top;\n        }\n        :host([dir=\"lefttop\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"lefttop\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"lefttop\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(-10px) scale(1);\n        }\n        :host([dir=\"leftbottom\"]) ::slotted(xy-popcon){\n            right:100%;\n            bottom:0;\n            transform:translate(-10px) scale(0);\n            transform-origin: right bottom;\n        }\n        :host([dir=\"leftbottom\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"leftbottom\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"leftbottom\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(-10px) scale(1);\n        }\n        :host([dir=\"topleft\"]) ::slotted(xy-popcon){\n            bottom:100%;\n            left:0;\n            transform:translate(0,-10px) scale(0);\n            transform-origin: left bottom;\n        }\n        :host([dir=\"topleft\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"topleft\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"topleft\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(0,-10px) scale(1);\n        }\n        :host([dir=\"topright\"]) ::slotted(xy-popcon){\n            bottom:100%;\n            right:0;\n            transform:translate(0,-10px) scale(0);\n            transform-origin: right bottom;\n        }\n        :host([dir=\"topright\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"topright\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"topright\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(0,-10px) scale(1);\n        }\n        :host([dir=\"righttop\"]) ::slotted(xy-popcon){\n            left:100%;\n            top:0;\n            transform:translate(10px) scale(0);\n            transform-origin: left top;\n        }\n        :host([dir=\"righttop\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"righttop\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"righttop\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(10px) scale(1);\n        }\n        :host([dir=\"rightbottom\"]) ::slotted(xy-popcon){\n            left:100%;\n            bottom:0;\n            transform:translate(10px) scale(0);\n            transform-origin: left bottom;\n        }\n        :host([dir=\"rightbottom\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"rightbottom\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"rightbottom\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(10px) scale(1);\n        }\n        :host([dir=\"bottomleft\"]) ::slotted(xy-popcon),\n        :host(:not([dir])) ::slotted(xy-popcon){\n            left:0;\n            top:100%;\n            transform:translate(0,10px) scale(0);\n            transform-origin: left top;\n        }\n        :host(:not([dir])) ::slotted(xy-popcon[open]),\n        :host(:not([dir])[trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host(:not([dir])[trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon),\n        :host([dir=\"bottomleft\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"bottomleft\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"bottomleft\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(0,10px) scale(1);\n        }\n        :host([dir=\"bottomright\"]) ::slotted(xy-popcon){\n            right:0;\n            top:100%;\n            transform:translate(0,10px) scale(0);\n            transform-origin: right top;\n        }\n        :host([dir=\"bottomright\"]) ::slotted(xy-popcon[open]),\n        :host([dir=\"bottomright\"][trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([dir=\"bottomright\"][trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            transform:translate(0,10px) scale(1);\n        }\n        :host([trigger=\"contextmenu\"]) ::slotted(xy-popcon){\n            right:auto;\n            bottom:auto;\n            left:var(--x,0);\n            top:var(--y,100%);\n            transform-origin: left top;\n            transform:translate(5px,5px) scale(0);\n            transition: .15s;\n        }\n        :host([trigger=\"contextmenu\"]) ::slotted(xy-popcon[open]){\n            transform:translate(5px,5px) scale(1);\n        }\n        :host ::slotted(xy-popcon[open]),\n        :host([trigger=\"hover\"]:not([disabled]):hover) ::slotted(xy-popcon),\n        :host([trigger=\"focus\"]:not([disabled]):focus-within) ::slotted(xy-popcon){\n            opacity:1;\n            visibility:visible;\n        }\n        slot{\n            border-radius: inherit;\n        }\n        </style>\n        <slot></slot>\n        `;\n  }\n  get title() {\n    return this.getAttribute(\"title\") || \"popcon\";\n  }\n  get trigger() {\n    return this.getAttribute(\"trigger\");\n  }\n  get disabled() {\n    return this.getAttribute(\"disabled\") !== null;\n  }\n  get type() {\n    return this.getAttribute(\"type\");\n  }\n  get accomplish() {\n    return this.getAttribute(\"accomplish\") !== null;\n  }\n  get content() {\n    return this.getAttribute(\"content\");\n  }\n  get oktext() {\n    return this.getAttribute(\"oktext\");\n  }\n  get canceltext() {\n    return this.getAttribute(\"canceltext\");\n  }\n  get dir() {\n    return this.getAttribute(\"dir\");\n  }\n  get loading() {\n    return this.getAttribute(\"loading\") !== null;\n  }\n  set dir(t) {\n    this.setAttribute(\"dir\", t);\n  }\n  set title(t) {\n    this.setAttribute(\"title\", t);\n  }\n  set type(t) {\n    this.setAttribute(\"type\", t);\n  }\n  set oktext(t) {\n    this.setAttribute(\"oktext\", t);\n  }\n  set canceltext(t) {\n    this.setAttribute(\"canceltext\", t);\n  }\n  set loading(t) {\n    t === null || t === !1 ? this.removeAttribute(\"loading\") : this.setAttribute(\"loading\", \"\");\n  }\n  set disabled(t) {\n    t === null || t === !1 ? this.removeAttribute(\"disabled\") : this.setAttribute(\"disabled\", \"\");\n  }\n  show(t) {\n    if (t.stopPropagation(), this.popcon = this.querySelector(\"xy-popcon\"), this.disabled)\n      (this.popcon || this).dispatchEvent(new CustomEvent(\"submit\"));\n    else if (this.popcon || (this.popcon = new d(this.type), this.popcon.type = this.type, this.appendChild(this.popcon), this.popcon.title = this.title || \"popover\", this.popcon.innerHTML = this.content || \"\", this.type == \"confirm\" && (this.popcon.oktext = this.oktext || \"confirm\", this.popcon.canceltext = this.canceltext || \"cancel\", this.popcon.onsubmit = () => this.dispatchEvent(new CustomEvent(\"submit\")), this.popcon.oncancel = () => this.dispatchEvent(new CustomEvent(\"cancel\")))), this.trigger === \"contextmenu\") {\n      const { x: e, y: o } = this.getBoundingClientRect();\n      this.popcon.style.setProperty(\"--x\", t.clientX - e + \"px\"), this.popcon.style.setProperty(\"--y\", t.clientY - o + \"px\"), this.popcon.open = !0;\n    } else\n      (t.path || t.composedPath && t.composedPath()).includes(this.popcon), window.xyActiveElement = document.activeElement, this.accomplish ? this.popcon.open = !0 : this.popcon.open = !this.popcon.open;\n    return this.popcon;\n  }\n  connectedCallback() {\n    this.popcon = this.querySelector(\"xy-popcon\"), this.trigger && this.trigger !== \"click\" || this.addEventListener(\"click\", this.show), this.trigger === \"contextmenu\" && this.addEventListener(\"contextmenu\", (t) => {\n      t.preventDefault(), (t.path || t.composedPath && t.composedPath()).includes(this.popcon) || this.show(t);\n    }), document.addEventListener(\"mousedown\", (t) => {\n      const e = t.path || t.composedPath && t.composedPath();\n      (this.popcon && !e.includes(this.popcon) && !this.popcon.loading && !e.includes(this.children[0]) || this.trigger === \"contextmenu\" && !e.includes(this.popcon) && t.which == \"1\") && (this.popcon.open = !1);\n    });\n  }\n  attributeChangedCallback(t, e, o) {\n    t == \"loading\" && this.popcon && (o !== null ? this.popcon.loading = !0 : this.popcon.loading = !1), t == \"title\" && this.popcon && o !== null && (this.popcon.title = o), t == \"oktext\" && this.popcon && o !== null && (this.popcon.oktext = o), t == \"canceltext\" && this.popcon && o !== null && (this.popcon.canceltext = o);\n  }\n}\ncustomElements.get(\"xy-popover\") || customElements.define(\"xy-popover\", A);\nconst c = \"editor-js-text-color-cache\";\nfunction l(i) {\n  if (P(i)) {\n    const t = E(i);\n    return T(t);\n  }\n  return i;\n}\nfunction E(i) {\n  const t = /\\((.*?)\\)/.exec(i);\n  if (t) return t[1];\n}\nfunction T(i) {\n  return window.getComputedStyle(document.documentElement).getPropertyValue(i);\n}\nfunction P(i) {\n  return L(i) && i.includes(\"--\");\n}\nfunction L(i) {\n  return typeof i == \"string\" || i instanceof String;\n}\nfunction h(i, t) {\n  let e;\n  return (...o) => {\n    e || (e = setTimeout(() => {\n      i(...o), e = null;\n    }, t));\n  };\n}\nfunction u(i, t) {\n  return sessionStorage.setItem(`${c}-${t}`, JSON.stringify(i)), i;\n}\nfunction g(i, t) {\n  const e = sessionStorage.getItem(`${c}-${t}`);\n  return e ? JSON.parse(e) : i;\n}\nfunction b(i, t) {\n  sessionStorage.setItem(`${c}-${t}-custom`, JSON.stringify(i));\n}\nfunction f(i) {\n  const t = sessionStorage.getItem(`${c}-${i}-custom`);\n  return t ? JSON.parse(t) : null;\n}\nconst m = \"ce-inline-toolbar__dropdown\", y = \"ce-conversion-toolbar--showed\", S = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  CONVERTER_BTN: m,\n  CONVERTER_PANEL: y,\n  getCustomColorCache: f,\n  getDefaultColorCache: g,\n  handleCSSVariables: l,\n  setCustomColorCache: b,\n  setDefaultColorCache: u,\n  throttle: h\n}, Symbol.toStringTag, { value: \"Module\" })), B = [\"#ff1300\", \"#EC7878\", \"#9C27B0\", \"#673AB7\", \"#3F51B5\", \"#0070FF\", \"#03A9F4\", \"#00BCD4\", \"#4CAF50\", \"#8BC34A\", \"#CDDC39\", \"#FFE500\", \"#FFBF00\", \"#FF9800\", \"#795548\", \"#9E9E9E\", \"#5A5A5A\", \"#FFF\"];\nclass x extends HTMLElement {\n  static get observedAttributes() {\n    return [\"disabled\", \"dir\"];\n  }\n  constructor(t = {}) {\n    super();\n    const e = this.attachShadow({ mode: \"open\" });\n    this.colorCollections = t.colorCollections || B, this.onColorPicked = t.onColorPicked, this.defaulColor = l(t.defaultColor || this.colorCollections[0]), this.pluginType = t.type, this.hasCustomPicker = t.hasCustomPicker, this.customColor = f(this.pluginType), e.innerHTML = `\n        <style>\n        :host{\n            display:inline-block;\n            width:15px;\n            font-size:14px;\n            border: none;\n        }\n        :host([block]){\n            display:block;\n        }\n        :host([disabled]){\n            pointer-events:none;\n        }\n        \n        :host(:focus-within) xy-popover,:host(:hover) xy-popover{ \n            z-index: 2;\n        }\n        input[type=\"color\"]{\n            -webkit-appearance: none;\n            outline: none;\n            border: none;\n        }\n        xy-popover{\n            width: 12px;\n            height:35px;\n            padding-right: 1px;\n        }\n        xy-popover:hover {\n            border-radius: 0 5px 5px 0;\n            background: rgba(203, 203, 203, 0.49);\n        }\n        .color-btn {\n            border: 1px solid #cab9b9;\n            margin: 18px 3px 2px 3px;\n            width: 7px;\n            height: 7px;\n            opacity: 0.9;\n            padding: 1px 0 1px 0;\n            color: var(--themeColor, #42b983);\n            background: var(--themeColor, #42b983);\n            font-weight: bolder;\n            border-radius: 2px;\n        }\n        .color-btn:hover {\n            opacity: 1;\n            z-index: auto;\n        }\n        xy-popover{\n            display:block;\n            position: static;\n        }\n        xy-popcon{\n            min-width:100%;\n        }\n        #custom-picker {\n            position: relative;\n            top: -1px;\n            background-color: rgb(250, 250, 250);\n            border-color: rgb(255 118 21) rgb(245 80 80 / 74%) #89c1c9 #95d5b6;\n            border-width: 3px;\n            border-radius: 8px;\n            height: 18px;\n        }\n        .pop-footer{\n            display:flex;\n            justify-content:flex-end;\n            padding:0 .8em .8em;\n        }\n        .pop-footer xy-button{\n            font-size: .8em;\n            margin-left: .8em;\n        }\n        .color-btn::before{\n            content:'';\n            position:absolute;\n            left:5px;\n            top:5px;\n            right:5px;\n            bottom:5px;\n            z-index:-1;\n            background: linear-gradient(45deg, #ddd 25%,transparent 0,transparent 75%,#ddd 0 ), linear-gradient(45deg, #ddd 25%, transparent 0, transparent 75%, #ddd 0);\n            background-position: 0 0,5px 5px;\n            background-size: 10px 10px;\n        }\n        .color-sign {\n           max-width: 220px;\n           padding: 10px;\n           display:grid;\n           cursor: default;\n           grid-template-columns: repeat(auto-fit, minmax(15px, 1fr));\n           grid-gap: 10px;     \n        }\n        .color-sign>button {\n            position: relative;\n            width: 16px;\n            height: 16px;\n            border-radius: 6px;\n            border: 1px solid #b8b9b49e;\n            outline: 0;\n            opacity: 0.9;\n        }\n        .color-sign>button:hover {\n            cursor: pointer;\n            opacity: 1;\n        }\n        .color-section {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        .color-fire-btn {\n            font-size: 17px;\n            font-weight: bold;\n            height: 28px;\n            padding-top: 8px;\n            padding-right: 1px;\n            margin-left: 3px;\n            padding-left: 3px;\n            border-radius: 5px 0 0 5px;\n        }\n        .color-fire-btn:hover {\n            font-size: 17px;\n            font-weight: bold;\n            background: rgba(203, 203, 203, 0.49);\n            border-radius: 5px 0 0 5px;\n        }\n        </style>\n        <section class=\"color-section\">\n            <xy-popover id=\"popover\" ${this.dir ? \"dir='\" + this.dir + \"'\" : \"\"}>\n                <xy-button class=\"color-btn\" id=\"color-btn\" ${this.disabled ? \"disabled\" : \"\"}>_</xy-button>\n                <xy-popcon id=\"popcon\">\n                    <div class=\"color-sign\" id=\"colors\">\n                        ${this.hasCustomPicker && '<button id=\"custom-picker\" class=\"rainbow-mask\"/>' || \"\"}\n                        ${this.colorCollections.map((o) => '<button class=\"color-cube\" style=\"background-color:' + o + '\" data-color=\"' + o + '\"></button>').join(\"\")}\n                    </div>\n                </xy-popcon>\n            </xy-popover>\n        </section>`;\n  }\n  focus() {\n    this.colorBtn.focus();\n  }\n  connectedCallback() {\n    this.$popover = this.shadowRoot.getElementById(\"popover\"), this.popcon = this.shadowRoot.getElementById(\"popcon\"), this.colorBtn = this.shadowRoot.getElementById(\"color-btn\"), this.colors = this.shadowRoot.getElementById(\"colors\"), this.colors.addEventListener(\"click\", (t) => {\n      const e = t.target.closest(\"button\");\n      e && e.id !== \"custom-picker\" && (this.nativeclick = !0, this.value = l(e.dataset.color), this.onColorPicked(this.value));\n    }), this.$popover.addEventListener(\"click\", () => this.closeConverter()), this.hasCustomPicker && this.setupCustomPicker(), this.value = this.defaultvalue;\n  }\n  closeConverter() {\n    if (document.getElementsByClassName(y)[0]) {\n      const e = document.getElementsByClassName(m)[0];\n      e == null || e.click();\n    }\n  }\n  disconnectedCallback() {\n    this.pickerInput && document.body.removeChild(this.pickerInput);\n  }\n  setupCustomPicker() {\n    let t = !1;\n    this.customPicker = this.shadowRoot.getElementById(\"custom-picker\");\n    const e = this.customPicker;\n    e.style.backgroundColor = this.customColor, this.customPicker.addEventListener(\"click\", (o) => {\n      if (t) {\n        t = !1;\n        return;\n      }\n      this.pickerInput && document.body.removeChild(this.pickerInput), this.pickerInput = document.createElement(\"input\");\n      const s = this.pickerInput, r = this.popcon.getBoundingClientRect();\n      s.setAttribute(\"type\", \"color\"), s.value = this.customColor, s.style.position = \"fixed\", s.style.left = `${r.x + 3}px`, s.style.top = `${r.y + 10}px`, s.style.pointerEvents = \"none\", s.style.zIndex = \"999\", s.style.opacity = \"0\", s.addEventListener(\"input\", h((a) => {\n        this.nativeclick = !0, this.value = l(a.target.value), this.onColorPicked(this.value), b(this.value, this.pluginType), e.style.backgroundColor = this.value, t = !0, e.click();\n      }, 30)), document.body.appendChild(s), setTimeout(() => {\n        s.focus(), s.click();\n      }, 0);\n    });\n  }\n  get defaultvalue() {\n    return this.defaulColor;\n  }\n  get value() {\n    return this.$value;\n  }\n  get type() {\n    return this.getAttribute(\"type\");\n  }\n  get disabled() {\n    return this.getAttribute(\"disabled\") !== null;\n  }\n  get dir() {\n    return this.getAttribute(\"dir\");\n  }\n  set dir(t) {\n    this.setAttribute(\"dir\", t);\n  }\n  set disabled(t) {\n    t === null || t === !1 ? this.removeAttribute(\"disabled\") : this.setAttribute(\"disabled\", \"\");\n  }\n  set defaultvalue(t) {\n    this.setAttribute(\"defaultvalue\", t);\n  }\n  set value(t) {\n    t && (this.$value = t, this.colorBtn.style.setProperty(\n      \"--themeColor\",\n      this.nativeclick ? u(t, this.pluginType) : g(t, this.pluginType)\n    ), this.nativeclick ? (this.nativeclick = !1, this.dispatchEvent(new CustomEvent(\"change\", {\n      detail: {\n        value: this.value\n      }\n    }))) : this.colorPane ? this.colorPane.value = this.value : this.defaultvalue = this.value);\n  }\n  attributeChangedCallback(t, e, o) {\n    t == \"disabled\" && this.colorBtn && (o != null ? this.colorBtn.setAttribute(\"disabled\", \"disabled\") : this.colorBtn.removeAttribute(\"disabled\")), t == \"dir\" && this.$popover && o != null && (this.$popover.dir = o);\n  }\n}\ncustomElements.get(\"xy-color-picker\") || customElements.define(\"xy-color-picker\", x);\nconst R = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  ColorPlugin: x\n}, Symbol.toStringTag, { value: \"Module\" })), $ = /* @__PURE__ */ p(R), N = `<svg fill=\"#000000\" height=\"34px\" width=\"34px\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n\t viewBox=\"0 0 491.644 491.644\" xml:space=\"preserve\">\n<g>\n\t<path d=\"M456.623,2.282c-42.758-20.283-141.107,96.84-223.473,264.224c-2.35,4.776-2.686,10.294-0.936,15.32\n\t\tc1.75,5.026,5.442,9.145,10.251,11.426L366.758,352.2c4.809,2.281,10.332,2.538,15.333,0.714c5.001-1.825,9.059-5.579,11.272-10.42\n\t\tC470.883,172.829,499.385,22.562,456.623,2.282z\"/>\n\t<path d=\"M34.71,461.799l-17.257,16.708c-2.225,2.17-2.934,5.475-1.773,8.363c1.179,2.886,3.985,4.773,7.099,4.773h160.887\n\t\tc-1.364-5.043-0.921-10.445,1.391-15.306l7.919-16.692H40.036C38.036,459.646,36.129,460.419,34.71,461.799z\"/>\n\t<path d=\"M264.766,448.864l-32.615-15.458c-1.046-0.502-2.161-0.744-3.257-0.744c-2.87,0-5.611,1.614-6.901,4.372l-22.001,46.384\n\t\tc-0.871,1.789-0.723,3.895,0.341,5.564c1.046,1.661,2.888,2.661,4.855,2.661h0.046l44.275-0.378\n\t\tc2.206-0.016,4.206-1.299,5.159-3.292l13.724-28.925c0.856-1.838,0.967-3.936,0.29-5.846\n\t\tC268.004,451.292,266.585,449.728,264.766,448.864z\"/>\n\t<path d=\"M348.445,366.038l-112.572-51.392c-8.909-4.067-19.434-0.227-23.63,8.622c-2.551,5.378-3.58,11.353-2.975,17.275\n\t\tl5.2,50.909c0.703,6.882,4.983,12.884,11.261,15.792l60.031,27.797c6.688,3.097,14.548,2.179,20.343-2.375l45.983-36.137\n\t\tc4.931-3.875,7.487-10.041,6.743-16.269C358.086,374.032,354.151,368.642,348.445,366.038z\"/>\n</g>\n</svg>`, I = '<svg fill=\"#000000\" viewBox=\"-6 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><g stroke-width=\"0\"></g><g stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g><title>text</title><path d=\"M365 432L328 352 172 352 135 432 64 432 227 80 272 80 436 432 365 432ZM201 288L299 288 250 183 201 288Z\"></path></g></svg>';\nvar O = {\n  markerIcon: N,\n  textIcon: I\n};\nconst z = /* @__PURE__ */ p(S), M = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null\n}, Symbol.toStringTag, { value: \"Module\" })), _ = /* @__PURE__ */ p(M), j = $, { markerIcon: F, textIcon: H } = O, { getDefaultColorCache: D, handleCSSVariables: X } = z;\n_.toString();\nclass q {\n  /**\n   * @param {{api: object}}  - Editor.js API\n   */\n  constructor({ config: t, api: e }) {\n    this.api = e, this.config = t, this.clickedOnLeft = !1, this.pluginType = this.config.type || \"text\", this.parentTag = this.pluginType === \"marker\" ? \"MARK\" : \"FONT\", this.hasCustomPicker = this.config.customPicker || !1, this.color = X(\n      D(this.config.defaultColor, this.pluginType)\n    ), this.picker = null, this.icon = null, this.button = null, this.iconClasses = {\n      base: this.api.styles.inlineToolButton,\n      active: this.api.styles.inlineToolButtonActive\n    };\n  }\n  /**\n   * Specifies Tool as Inline Toolbar Tool\n   *\n   * @return {boolean}\n   */\n  static get isInline() {\n    return !0;\n  }\n  /**\n   * Create button element for Toolbar\n   *\n   * @return {HTMLElement}\n   */\n  render() {\n    return this.button = document.createElement(\"button\"), this.button.type = \"button\", this.button.classList.add(\"colorPlugin\"), this.button.classList.add(this.iconClasses.base), this.button.appendChild(this.createLeftButton()), this.button.appendChild(this.createRightButton(this)), this.button;\n  }\n  /**\n   * Create left part button\n   *\n   * @return {HTMLElement}\n   */\n  createLeftButton() {\n    return this.icon || (this.icon = document.createElement(\"div\"), this.icon.id = \"color-left-btn\", this.icon.appendChild(this.createButtonIcon()), this.icon.addEventListener(\"click\", () => this.clickedOnLeft = !0)), this.icon;\n  }\n  /**\n   * Create button icon\n   *\n   * @return {HTMLElement}\n   */\n  createButtonIcon() {\n    const t = document.createElement(\"div\");\n    t.id = \"color-btn-text\";\n    const e = this.pluginType === \"marker\" ? F : H;\n    return t.innerHTML = this.config.icon || e, t;\n  }\n  /**\n   * Create right part button\n   *\n   * @return {HTMLElement}\n   */\n  createRightButton(t) {\n    return this.picker || (this.picker = new j.ColorPlugin({\n      onColorPicked: (e) => {\n        t.color = e;\n        const o = document.getSelection();\n        if (o) {\n          const s = o.getRangeAt(0);\n          this.wrap(s);\n        }\n      },\n      hasCustomPicker: this.hasCustomPicker,\n      defaultColor: this.config.defaultColor,\n      colorCollections: this.config.colorCollections,\n      type: this.pluginType\n    })), this.picker;\n  }\n  /**\n   * handle selected fragment\n   *\n   * @param {Range} range - selected fragment\n   */\n  surround(t) {\n    if (!t)\n      return;\n    const e = this.api.selection.findParentTag(\"SPAN\");\n    e && this.unwrap(e);\n    const o = this.api.selection.findParentTag(this.parentTag);\n    o ? this.unwrap(o) : this.wrap(t), this.clickedOnLeft = !1;\n  }\n  /**\n   * \n   * @param {Range} range \n   */\n  unwrapTagInRange(t, e) {\n    e = e.toUpperCase();\n    const o = t.startContainer, s = t.endContainer;\n    o.nodeType === Node.TEXT_NODE && o.parentNode.tagName === e && t.setStartBefore(o.parentNode), s.nodeType === Node.TEXT_NODE && s.parentNode.tagName === e && t.setEndAfter(s.parentNode);\n    const r = t.extractContents(), a = r.querySelectorAll(e), v = (n) => {\n      for (; n.firstChild; )\n        n.parentNode.insertBefore(n.firstChild, n);\n      n.parentNode.removeChild(n);\n    };\n    a.forEach((n) => v(n)), t.deleteContents(), t.insertNode(r);\n  }\n  /**\n   * Wrap selected fragment\n   *\n   * @param {Range} range - selected fragment\n   */\n  wrap(t) {\n    this.unwrapTagInRange(t, this.parentTag);\n    const e = t.extractContents(), o = document.createElement(this.parentTag);\n    o.appendChild(e), t.insertNode(o), this.pluginType === \"marker\" ? this.wrapMarker(o) : this.wrapTextColor(o), this.api.selection.expandToTag(o);\n  }\n  /**\n   * Wrap selected marker fragment\n   *\n   * @param newWrapper - wrapper for selected fragment\n   */\n  wrapMarker(t) {\n    t.style.backgroundColor = this.color;\n    const e = this.api.selection.findParentTag(\"FONT\");\n    e && (t.style.color = e.style.color);\n  }\n  /**\n   * Wrap selected text color fragment\n   *\n   * @param {Range} newWrapper - wrapper for selected fragment\n   */\n  wrapTextColor(t) {\n    t.style.color = this.color;\n  }\n  /**\n   * Unwrap selected fragment\n   *\n   * @param {Range} termWrapper - parent of selected fragment\n   */\n  unwrap(t) {\n    this.api.selection.expandToTag(t);\n    const e = window.getSelection(), o = e.getRangeAt(0), s = o.extractContents();\n    this.clickedOnLeft ? this.removeWrapper(t) : this.updateWrapper(t), o.insertNode(s), e.removeAllRanges(), e.addRange(o);\n  }\n  /**\n   * update color without create a new tag\n   *\n   * @param {Range} termWrapper - parent of selected fragment\n   */\n  updateWrapper(t) {\n    this.pluginType === \"marker\" ? t.style.backgroundColor = this.color : t.style.color = this.color;\n  }\n  /**\n   * remove wrapper\n   *\n   * @param {Range} termWrapper - parent of selected fragment\n   */\n  removeWrapper(t) {\n    t.parentNode.removeChild(t);\n  }\n  /**\n   * Check and change Term's state for current selection\n   */\n  checkState() {\n    const t = this.api.selection.findParentTag(\"SPAN\"), e = this.api.selection.findParentTag(this.parentTag);\n    let o = t ? this.handleLegacyWrapper(t, e) : e;\n    return this.button.classList.toggle(this.iconClasses.active, !!o), !!o;\n  }\n  /**\n   * handle icon active state for legacy wrappers\n   */\n  handleLegacyWrapper(t, e) {\n    return this.pluginType === \"marker\" ? t : e & t;\n  }\n  /**\n   * Sanitizer rule\n   * @return {{color: {class: string}}}\n   */\n  static get sanitize() {\n    return {\n      font: !0,\n      span: !0,\n      mark: !0\n    };\n  }\n  clear() {\n    this.picker = null, this.icon = null;\n  }\n}\nvar W = q;\nconst J = /* @__PURE__ */ C(W);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZWRpdG9yanMtdGV4dC1jb2xvci1wbHVnaW4vZGlzdC9idW5kbGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxZQUFZLGFBQWEsSUFBSSx3QkFBd0Isc0NBQXNDLDZEQUE2RCxXQUFXLFlBQVksU0FBUyxnQ0FBZ0MsZ0JBQWdCLGNBQWMsYUFBYSxnRUFBZ0UsWUFBWSw0QkFBNEIsV0FBVyxrQkFBa0Isd0NBQXdDLGFBQWEsZ0JBQWdCLFlBQVksV0FBVyxnQkFBZ0IsYUFBYSxtQkFBbUIsc0JBQXNCLDBCQUEwQixxQkFBcUIsWUFBWSxjQUFjLGdCQUFnQixZQUFZLHVCQUF1QixpQkFBaUIsdUNBQXVDLGdCQUFnQixrQ0FBa0MsU0FBUyxtREFBbUQ7QUFDNTBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0RBQWtELFdBQVc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGNBQWM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw0QkFBNEIsRUFBRSxxREFBcUQsRUFBRSxzRUFBc0UsRUFBRSxpR0FBaUcseUJBQXlCLDJCQUEyQixHQUFHLGdIQUFnSDtBQUNoYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGNBQWM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxhQUFhO0FBQzNCO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEVBQUUsR0FBRyxFQUFFO0FBQzFDO0FBQ0E7QUFDQSxzQ0FBc0MsRUFBRSxHQUFHLEVBQUU7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLEVBQUUs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aW4vZGlzdC9idW5kbGUubWpzP2RmN2UiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIucGlja2VyX3dyYXBwZXIucG9wdXB7ei1pbmRleDo5OTt3aWR0aDoxNzBweDttYXJnaW46MDtib3gtc2hhZG93OjAgMCAxMHB4IDFweCAjZWFlYWVhO2JhY2tncm91bmQ6I2ZmZn0ucGlja2VyX2Fycm93e2Rpc3BsYXk6bm9uZX0ubGF5b3V0X2RlZmF1bHQgLnBpY2tlcl9zbGlkZXIsLmxheW91dF9kZWZhdWx0IC5waWNrZXJfc2VsZWN0b3J7cGFkZGluZzo1cHh9LmNvbG9yUGx1Z2luLmNlLWlubGluZS10b29se3dpZHRoOjMycHg7Ym9yZGVyLXJhZGl1czozcHh9LmNvbG9yUGx1Z2luLmNlLWlubGluZS10b29sLS1hY3RpdmUgc3Zne2ZpbGw6IzNjOTlmZn0jY29sb3ItbGVmdC1idG57aGVpZ2h0OjM1cHg7d2lkdGg6MThweDtmb250LXdlaWdodDo2MDA7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0jY29sb3ItbGVmdC1idG46aG92ZXJ7Ym9yZGVyLXJhZGl1czo1cHggMCAwIDVweDtiYWNrZ3JvdW5kOiNjYmNiY2I3ZH0jY29sb3ItdGV4dHtwYWRkaW5nOjAgNHB4fSNjb2xvci1idG4tdGV4dHtoZWlnaHQ6MTVweH0uY2UtcG9wb3Zlcl9fY29udGFpbmVye292ZXJmbG93OnZpc2libGV9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlcl9faXRlbXN7b3ZlcmZsb3c6aGlkZGVufVwiKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKX19Y2F0Y2gobyl7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLG8pfX0pKCk7XG5mdW5jdGlvbiBDKGkpIHtcbiAgcmV0dXJuIGkgJiYgaS5fX2VzTW9kdWxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLCBcImRlZmF1bHRcIikgPyBpLmRlZmF1bHQgOiBpO1xufVxuZnVuY3Rpb24gcChpKSB7XG4gIGlmIChpLl9fZXNNb2R1bGUpIHJldHVybiBpO1xuICB2YXIgdCA9IGkuZGVmYXVsdDtcbiAgaWYgKHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBlID0gZnVuY3Rpb24gbygpIHtcbiAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgbyA/IFJlZmxlY3QuY29uc3RydWN0KHQsIGFyZ3VtZW50cywgdGhpcy5jb25zdHJ1Y3RvcikgOiB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICBlLnByb3RvdHlwZSA9IHQucHJvdG90eXBlO1xuICB9IGVsc2UgZSA9IHt9O1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksIG8pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBvLCBzLmdldCA/IHMgOiB7XG4gICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpW29dO1xuICAgICAgfVxuICAgIH0pO1xuICB9KSwgZTtcbn1cbmNsYXNzIGsgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIC8vaHR0cHM6Ly9tbGFkZW5wbGF2c2ljLmdpdGh1Yi5pby9jc3MtcmlwcGxlLWVmZmVjdFxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gW1wiZGlzYWJsZWRcIiwgXCJpY29uXCIsIFwibG9hZGluZ1wiLCBcImhyZWZcIiwgXCJodG1sdHlwZVwiXTtcbiAgfVxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHQgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgIHQuaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3R5bGU+XG4gICAgICAgIDpob3N0eyBcbiAgICAgICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOyBcbiAgICAgICAgICAgIGRpc3BsYXk6aW5saW5lLWZsZXg7IFxuICAgICAgICAgICAgcGFkZGluZzogLjI1ZW0gLjYyNWVtO1xuICAgICAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94OyBcbiAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMS44O1xuICAgICAgICAgICAgd2lkdGg6IDVweDtcbiAgICAgICAgICAgIG92ZXJmbG93OmhpZGRlbjsgXG4gICAgICAgICAgICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsgXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tZm9udENvbG9yLCMzMzMpOyAgXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXJSYWRpdXMsLjI1ZW0pO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tZm9udENvbG9yLCMzMzMpOyBcbiAgICAgICAgICAgIHRyYW5zaXRpb246YmFja2dyb3VuZCAuM3MsYm94LXNoYWRvdyAuM3MsYm9yZGVyLWNvbG9yIC4zcyxjb2xvciAuM3M7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW3NoYXBlPVwiY2lyY2xlXCJdKXsgXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOjUwJTsgXG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgOmhvc3QoOm5vdChbZGlzYWJsZWRdKTphY3RpdmUpe1xuICAgICAgICAgICAgei1pbmRleDoxO1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLjFlbSk7XG4gICAgICAgIH1cbiAgICAgICAgKi9cbiAgICAgICAgOmhvc3QoW2Rpc2FibGVkXSksOmhvc3QoW2xvYWRpbmddKXtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOyBcbiAgICAgICAgICAgIG9wYWNpdHk6LjY7IFxuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtibG9ja10peyBcbiAgICAgICAgICAgIGRpc3BsYXk6ZmxleDsgXG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpc2FibGVkXTpub3QoW3R5cGVdKSl7IFxuICAgICAgICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xKTsgXG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpc2FibGVkXSkgLmJ0biw6aG9zdChbbG9hZGluZ10pIC5idG57IFxuICAgICAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDsgXG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czogYWxsOyBcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCg6bm90KFt0eXBlPVwicHJpbWFyeVwiXSk6bm90KFt0eXBlPVwiZGFuZ2VyXCJdKTpub3QoW2Rpc2FibGVkXSk6aG92ZXIpLFxuICAgICAgICA6aG9zdCg6bm90KFt0eXBlPVwicHJpbWFyeVwiXSk6bm90KFt0eXBlPVwiZGFuZ2VyXCJdKTpmb2N1cy13aXRoaW4pLFxuICAgICAgICA6aG9zdChbdHlwZT1cImZsYXRcIl1bZm9jdXNdKXsgXG4gICAgICAgICAgICBjb2xvcjp2YXIoLS10aGVtZUNvbG9yLCM0MmI5ODMpOyBcbiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tdGhlbWVDb2xvciwjNDJiOTgzKTsgXG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoOm5vdChbdHlwZT1cInByaW1hcnlcIl0pOm5vdChbdHlwZT1cImRhbmdlclwiXSkpIC5idG46OmFmdGVyeyBcbiAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUsIHZhcigtLXRoZW1lQ29sb3IsIzQyYjk4MykgMTAlLCB0cmFuc3BhcmVudCAxMC4wMSUpOyBcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbdHlwZT1cInByaW1hcnlcIl0peyBcbiAgICAgICAgICAgIGNvbG9yOiAjZmZmOyBcbiAgICAgICAgICAgIGJhY2tncm91bmQ6dmFyKC0tdGhlbWVCYWNrZ3JvdW5kLHZhcigtLXRoZW1lQ29sb3IsIzQyYjk4MykpO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFt0eXBlPVwiZGFuZ2VyXCJdKXsgXG4gICAgICAgICAgICBjb2xvcjogI2ZmZjsgXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOnZhcigtLXRoZW1lQmFja2dyb3VuZCx2YXIoLS1kYW5nZXJDb2xvciwjZmY3ODc1KSk7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW3R5cGU9XCJkYXNoZWRcIl0peyBcbiAgICAgICAgICAgIGJvcmRlci1zdHlsZTpkYXNoZWQgXG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW3R5cGU9XCJmbGF0XCJdKSw6aG9zdChbdHlwZT1cInByaW1hcnlcIl0pLDpob3N0KFt0eXBlPVwiZGFuZ2VyXCJdKXsgXG4gICAgICAgICAgICBib3JkZXI6MDtcbiAgICAgICAgICAgIHBhZGRpbmc6IGNhbGMoIC4yNWVtICsgMXB4ICkgY2FsYyggLjYyNWVtICsgMXB4ICk7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW3R5cGU9XCJmbGF0XCJdKSAuYnRuOjpiZWZvcmV7IFxuICAgICAgICAgICAgY29udGVudDonJzsgXG4gICAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTsgXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOnZhcigtLXRoZW1lQ29sb3IsIzQyYjk4Myk7XG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czpub25lOyBcbiAgICAgICAgICAgIGxlZnQ6MDsgXG4gICAgICAgICAgICByaWdodDowOyBcbiAgICAgICAgICAgIHRvcDowOyBcbiAgICAgICAgICAgIGJvdHRvbTowOyBcbiAgICAgICAgICAgIG9wYWNpdHk6MDsgXG4gICAgICAgICAgICB0cmFuc2l0aW9uOi4zcztcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbdHlwZT1cImZsYXRcIl06bm90KFtkaXNhYmxlZF0pOmhvdmVyKSAuYnRuOjpiZWZvcmV7IFxuICAgICAgICAgICAgb3BhY2l0eTouMSBcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCg6bm90KFtkaXNhYmxlZF0pOmhvdmVyKXsgXG4gICAgICAgICAgICB6LWluZGV4OjEgXG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW3R5cGU9XCJmbGF0XCJdOmZvY3VzLXdpdGhpbikgLmJ0bjpiZWZvcmUsXG4gICAgICAgIDpob3N0KFt0eXBlPVwiZmxhdFwiXVtmb2N1c10pIC5idG46YmVmb3JleyBcbiAgICAgICAgICAgIG9wYWNpdHk6LjI7IFxuICAgICAgICB9XG4gICAgICAgIDpob3N0KDpmb2N1cy13aXRoaW4peyBcbiAgICAgICAgICAgIC8qYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLDAsMCwwLjEpOyovIFxuICAgICAgICB9XG4gICAgICAgIC5idG57IFxuICAgICAgICAgICAgYmFja2dyb3VuZDpub25lOyBcbiAgICAgICAgICAgIG91dGxpbmU6MDsgXG4gICAgICAgICAgICBib3JkZXI6MDsgXG4gICAgICAgICAgICBwb3NpdGlvbjogXG4gICAgICAgICAgICBhYnNvbHV0ZTsgXG4gICAgICAgICAgICBsZWZ0OjA7IFxuICAgICAgICAgICAgdG9wOjA7XG4gICAgICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OjEwMCU7XG4gICAgICAgICAgICBwYWRkaW5nOjA7XG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgIGN1cnNvcjogdW5zZXQ7XG4gICAgICAgIH1cbiAgICAgICAgeHktbG9hZGluZ3sgXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDAuMzVlbTsgIFxuICAgICAgICB9XG4gICAgICAgIDo6LW1vei1mb2N1cy1pbm5lcntcbiAgICAgICAgICAgIGJvcmRlcjowO1xuICAgICAgICB9XG4gICAgICAgIC5idG46OmJlZm9yZXtcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgbGVmdDowO1xuICAgICAgICAgICAgdG9wOjA7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOi4ycztcbiAgICAgICAgICAgIGJhY2tncm91bmQ6I2ZmZjtcbiAgICAgICAgICAgIG9wYWNpdHk6MDtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCg6bm90KFtkaXNhYmxlZF0pOmFjdGl2ZSkgLmJ0bjo6YmVmb3JleyBcbiAgICAgICAgICAgIG9wYWNpdHk6LjI7XG4gICAgICAgIH1cbiAgICAgICAgLmJ0bjo6YWZ0ZXIge1xuICAgICAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICBsZWZ0OiB2YXIoLS14LDApOyBcbiAgICAgICAgICAgIHRvcDogdmFyKC0teSwwKTtcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgI2ZmZiAxMCUsIHRyYW5zcGFyZW50IDEwLjAxJSk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKSBzY2FsZSgxMCk7XG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcywgb3BhY2l0eSAuOHM7XG4gICAgICAgIH1cbiAgICAgICAgLmJ0bjpub3QoW2Rpc2FibGVkXSk6YWN0aXZlOjphZnRlciB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpIHNjYWxlKDApO1xuICAgICAgICAgICAgb3BhY2l0eTogLjM7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAwcztcbiAgICAgICAgfVxuICAgICAgICB4eS1pY29ue1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjM1ZW07XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBub25lO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KDplbXB0eSkgeHktaWNvbntcbiAgICAgICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCg6ZW1wdHkpe1xuICAgICAgICAgICAgcGFkZGluZzogLjY1ZW07XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW3R5cGU9XCJmbGF0XCJdOmVtcHR5KSw6aG9zdChbdHlwZT1cInByaW1hcnlcIl06ZW1wdHkpeyBcbiAgICAgICAgICAgIHBhZGRpbmc6IGNhbGMoIC42NWVtICsgMXB4ICk7XG4gICAgICAgIH1cbiAgICAgICAgOjpzbG90dGVkKHh5LWljb24pe1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbaHJlZl0pe1xuICAgICAgICAgICAgY3Vyc29yOnBvaW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPCR7dGhpcy5ocmVmID8gXCJhXCIgOiBcImJ1dHRvblwifSAke3RoaXMuaHRtbHR5cGUgPyAndHlwZT1cIicgKyB0aGlzLmh0bWx0eXBlICsgJ1wiJyA6IFwiXCJ9ICR7dGhpcy5kb3dubG9hZCAmJiB0aGlzLmhyZWYgPyAnZG93bmxvYWQ9XCInICsgdGhpcy5kb3dubG9hZCArICdcIicgOiBcIlwifSAke3RoaXMuaHJlZiA/ICdocmVmPVwiJyArIHRoaXMuaHJlZiArICdcIiB0YXJnZXQ9XCInICsgdGhpcy50YXJnZXQgKyAnXCIgcmVsPVwiJyArIHRoaXMucmVsICsgJ1wiJyA6IFwiXCJ9IGNsYXNzPVwiYnRuXCIgaWQ9XCJidG5cIj48LyR7dGhpcy5ocmVmID8gXCJhXCIgOiBcImJ1dHRvblwifT4keyF0aGlzLmxvYWRpbmcgJiYgdGhpcy5pY29uICYmIHRoaXMuaWNvbiAhPSBcIm51bGxcIiA/ICc8eHktaWNvbiBpZD1cImljb25cIiBuYW1lPScgKyB0aGlzLmljb24gKyBcIj48L3h5LWljb24+XCIgOiBcIlwifTxzbG90Pjwvc2xvdD5cbiAgICAgICAgYDtcbiAgfVxuICBmb2N1cygpIHtcbiAgICB0aGlzLmJ0bi5mb2N1cygpO1xuICB9XG4gIGdldCBkaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSAhPT0gbnVsbDtcbiAgfVxuICBnZXQgdG9nZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInRvZ2dsZVwiKSAhPT0gbnVsbDtcbiAgfVxuICBnZXQgaHRtbHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwiaHRtbHR5cGVcIik7XG4gIH1cbiAgZ2V0IG5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcbiAgfVxuICBnZXQgY2hlY2tlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIpICE9PSBudWxsO1xuICB9XG4gIGdldCBocmVmKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gIH1cbiAgZ2V0IHRhcmdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIikgfHwgXCJfYmxhbmtcIjtcbiAgfVxuICBnZXQgcmVsKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInJlbFwiKTtcbiAgfVxuICBnZXQgZG93bmxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIik7XG4gIH1cbiAgZ2V0IGljb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwiaWNvblwiKTtcbiAgfVxuICBnZXQgbG9hZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIpICE9PSBudWxsO1xuICB9XG4gIHNldCBpY29uKHQpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImljb25cIiwgdCk7XG4gIH1cbiAgc2V0IGh0bWx0eXBlKHQpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImh0bWx0eXBlXCIsIHQpO1xuICB9XG4gIHNldCBocmVmKHQpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgdCk7XG4gIH1cbiAgc2V0IGRpc2FibGVkKHQpIHtcbiAgICB0ID09PSBudWxsIHx8IHQgPT09ICExID8gdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA6IHRoaXMuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XG4gIH1cbiAgc2V0IGNoZWNrZWQodCkge1xuICAgIHQgPT09IG51bGwgfHwgdCA9PT0gITEgPyB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImNoZWNrZWRcIikgOiB0aGlzLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgXCJcIik7XG4gIH1cbiAgc2V0IGxvYWRpbmcodCkge1xuICAgIHQgPT09IG51bGwgfHwgdCA9PT0gITEgPyB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImxvYWRpbmdcIikgOiB0aGlzLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJcIik7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5idG4gPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJidG5cIiksIHRoaXMuaWNvID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiaWNvblwiKSwgdGhpcy5sb2FkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInh5LWxvYWRpbmdcIiksIHRoaXMubG9hZC5zdHlsZS5jb2xvciA9IFwiaW5oZXJpdFwiLCB0aGlzLmJ0bi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgICBjb25zdCB7IGxlZnQ6IGUsIHRvcDogbyB9ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0teFwiLCB0LmNsaWVudFggLSBlICsgXCJweFwiKSwgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0teVwiLCB0LmNsaWVudFkgLSBvICsgXCJweFwiKTtcbiAgICAgIH1cbiAgICB9KSwgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24odCkge1xuICAgICAgdGhpcy50b2dnbGUgJiYgKHRoaXMuY2hlY2tlZCA9ICF0aGlzLmNoZWNrZWQpO1xuICAgIH0pLCB0aGlzLmJ0bi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAodCkgPT4ge1xuICAgICAgc3dpdGNoICh0LmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICB0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pLCB0aGlzLmRpc2FibGVkID0gdGhpcy5kaXNhYmxlZCwgdGhpcy5sb2FkaW5nID0gdGhpcy5sb2FkaW5nO1xuICB9XG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0LCBlLCBvKSB7XG4gICAgdCA9PSBcImRpc2FibGVkXCIgJiYgdGhpcy5idG4gJiYgKG8gIT09IG51bGwgPyAodGhpcy5idG4uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKSwgdGhpcy5ocmVmICYmIHRoaXMuYnRuLnJlbW92ZUF0dHJpYnV0ZShcImhyZWZcIikpIDogKHRoaXMuYnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpLCB0aGlzLmhyZWYgJiYgKHRoaXMuYnRuLmhyZWYgPSB0aGlzLmhyZWYpKSksIHQgPT0gXCJsb2FkaW5nXCIgJiYgdGhpcy5idG4gJiYgKG8gIT09IG51bGwgPyAodGhpcy5zaGFkb3dSb290LnByZXBlbmQodGhpcy5sb2FkKSwgdGhpcy5idG4uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKSkgOiAodGhpcy5zaGFkb3dSb290LnJlbW92ZUNoaWxkKHRoaXMubG9hZCksIHRoaXMuYnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKSksIHQgPT0gXCJpY29uXCIgJiYgdGhpcy5pY28gJiYgKHRoaXMuaWNvLm5hbWUgPSBvKSwgdCA9PSBcImhyZWZcIiAmJiB0aGlzLmJ0biAmJiAodGhpcy5kaXNhYmxlZCB8fCAodGhpcy5idG4uaHJlZiA9IG8pKSwgdCA9PSBcImh0bWx0eXBlXCIgJiYgdGhpcy5idG4gJiYgKHRoaXMuYnRuLnR5cGUgPSBvKTtcbiAgfVxufVxuY3VzdG9tRWxlbWVudHMuZ2V0KFwieHktYnV0dG9uXCIpIHx8IGN1c3RvbUVsZW1lbnRzLmRlZmluZShcInh5LWJ1dHRvblwiLCBrKTtcbmNsYXNzIHcgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiBbXCJkaXNhYmxlZFwiXTtcbiAgfVxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHQgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgIHQuaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3R5bGU+XG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICAgIGRpc3BsYXk6aW5saW5lLWZsZXg7XG4gICAgICAgIH1cbiAgICAgICAgOjpzbG90dGVkKHh5LWJ1dHRvbjpub3QoOmZpcnN0LW9mLXR5cGUpOm5vdCg6bGFzdC1vZi10eXBlKSl7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOjA7XG4gICAgICAgIH1cbiAgICAgICAgOjpzbG90dGVkKHh5LWJ1dHRvbil7XG4gICAgICAgICAgICBtYXJnaW46MCFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgOjpzbG90dGVkKHh5LWJ1dHRvbjpub3QoOmZpcnN0LW9mLXR5cGUpKXtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0Oi0xcHghaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIDo6c2xvdHRlZCh4eS1idXR0b25bdHlwZV06bm90KFt0eXBlPVwiZGFzaGVkXCJdKTpub3QoOmZpcnN0LW9mLXR5cGUpKXtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OjFweCFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgOjpzbG90dGVkKHh5LWJ1dHRvbjpmaXJzdC1vZi10eXBlKXtcbiAgICAgICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwO1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDBweDtcbiAgICAgICAgfVxuICAgICAgICA6OnNsb3R0ZWQoeHktYnV0dG9uOmxhc3Qtb2YtdHlwZSl7XG4gICAgICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDtcbiAgICAgICAgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgICAgIGA7XG4gIH1cbiAgZ2V0IGRpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpICE9PSBudWxsO1xuICB9XG4gIHNldCBkaXNhYmxlZCh0KSB7XG4gICAgdCA9PT0gbnVsbCB8fCB0ID09PSAhMSA/IHRoaXMucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikgOiB0aGlzLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICB9XG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayh0LCBlLCBvKSB7XG4gIH1cbn1cbmN1c3RvbUVsZW1lbnRzLmdldChcInh5LWJ1dHRvbi1ncm91cFwiKSB8fCBjdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ4eS1idXR0b24tZ3JvdXBcIiwgdyk7XG5jbGFzcyBkIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gW1wib3BlblwiLCBcInRpdGxlXCIsIFwib2t0ZXh0XCIsIFwiY2FuY2VsdGV4dFwiLCBcImxvYWRpbmdcIiwgXCJ0eXBlXCJdO1xuICB9XG4gIGNvbnN0cnVjdG9yKHQpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IGUgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgIGUuaW5uZXJIVE1MID0gYFxuICAgICAgICA8c3R5bGU+XG4gICAgICAgIDpob3N0e1xuICAgICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAycHggMnB4IDE1cHggcmdiYSgwLDAsMCwwLjE1KTtcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICB0cmFuc2Zvcm06c2NhbGUoMCk7XG4gICAgICAgICAgICBvcGFjaXR5OjAuNTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICAgIHotaW5kZXg6MTA7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOi4zcyBjdWJpYy1iZXppZXIoLjY0NSwgLjA0NSwgLjM1NSwgMSk7XG4gICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOmluaGVyaXQ7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiNmZmY7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OmhpZGRlbjtcbiAgICAgICAgfVxuICAgICAgICAucG9wY29uLWNvbnRlbnR7XG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICAgICAgZGlzcGxheTpmbGV4O1xuICAgICAgICAgICAgd2lkdGg6IG1heC1jb250ZW50O1xuICAgICAgICAgICAgcGFkZGluZzogMCAxNXB4O1xuICAgICAgICAgICAgZmxleDoxO1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246Y29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIC5wb3Bjb24tdGl0bGUge1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNXB4IDMwcHggMCAwO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgIGNvbG9yOiAjNGM1MTYxO1xuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLnBvcGNvbi1ib2R5IHtcbiAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgICBwYWRkaW5nOiA1cHggMCAxNXB4IDA7XG4gICAgICAgIH1cbiAgICAgICAgLnBvcGNvbi1mb290ZXIge1xuICAgICAgICAgICAgcGFkZGluZzogM3B4IDAgMTVweCAwO1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogLTNweDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgfVxuICAgICAgICAuYnRuLWNsb3Nle1xuICAgICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgICAgICByaWdodDoxMHB4O1xuICAgICAgICAgICAgdG9wOjEwcHg7XG4gICAgICAgICAgICBib3JkZXI6MDtcbiAgICAgICAgfVxuICAgICAgICAucG9wY29uLWZvb3RlciB4eS1idXR0b24ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAuOGVtO1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IC44ZW07XG4gICAgICAgIH1cbiAgICAgICAgLnBvcGNvbi10eXBle1xuICAgICAgICAgICAgZGlzcGxheTpmbGV4O1xuICAgICAgICAgICAgd2lkdGg6MzBweDtcbiAgICAgICAgICAgIGhlaWdodDozMHB4O1xuICAgICAgICAgICAgZm9udC1zaXplOjIycHg7XG4gICAgICAgICAgICBtYXJnaW46IDE1cHggLTEwcHggMCAxNXB4O1xuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgIDpob3N0KDpub3QoW3R5cGU9XCJjb25maXJtXCJdKSkgLnBvcGNvbi10eXBlLFxuICAgICAgICA6aG9zdCg6bm90KFt0eXBlPVwiY29uZmlybVwiXSkpIC5wb3Bjb24tZm9vdGVyLFxuICAgICAgICA6aG9zdCg6bm90KFt0eXBlXSkpIC5wb3Bjb24tdGl0bGUsXG4gICAgICAgIDpob3N0KDpub3QoW3R5cGVdKSkgLmJ0bi1jbG9zZXtcbiAgICAgICAgICAgIGRpc3BsYXk6bm9uZTtcbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgICAgICA6aG9zdChbdHlwZT1cImNvbmZpcm1cIl0pe1xuICAgICAgICAgICAgbWluLXdpZHRoOjI1MHB4O1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFt0eXBlPVwiY29uZmlybVwiXSkgLnBvcGNvbi1ib2R5e1xuICAgICAgICAgICAgZm9udC1zaXplOjE0cHg7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoOm5vdChbdHlwZV0pKSAucG9wY29uLWNvbnRlbnQsOmhvc3QoOm5vdChbdHlwZV0pKSAucG9wY29uLWJvZHl7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAkeyh0IHx8IHRoaXMudHlwZSkgPT09IFwiY29uZmlybVwiID8gJzx4eS1pY29uIGlkPVwicG9wY29uLXR5cGVcIiBjbGFzcz1cInBvcGNvbi10eXBlXCIgbmFtZT1cInF1ZXN0aW9uLWNpcmNsZVwiIGNvbG9yPVwidmFyKC0td2FyaW5nQ29sb3IsI2ZhYWQxNClcIj48L3h5LWljb24+JyA6IFwiXCJ9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9wY29uLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAkeyh0IHx8IHRoaXMudHlwZSkgIT09IG51bGwgPyAnPGRpdiBjbGFzcz1cInBvcGNvbi10aXRsZVwiIGlkPVwidGl0bGVcIj4nICsgdGhpcy50aXRsZSArICc8L2Rpdj48eHktYnV0dG9uIGNsYXNzPVwiYnRuLWNsb3NlXCIgaWQ9XCJidG4tY2xvc2VcIiBpY29uPVwiY2xvc2VcIj48L3h5LWJ1dHRvbj4nIDogXCJcIn1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9wY29uLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICR7KHQgfHwgdGhpcy50eXBlKSA9PT0gXCJjb25maXJtXCIgPyAnPGRpdiBjbGFzcz1cInBvcGNvbi1mb290ZXJcIj48eHktYnV0dG9uIGlkPVwiYnRuLWNhbmNlbFwiPicgKyB0aGlzLmNhbmNlbHRleHQgKyAnPC94eS1idXR0b24+PHh5LWJ1dHRvbiBpZD1cImJ0bi1zdWJtaXRcIiB0eXBlPVwicHJpbWFyeVwiPicgKyB0aGlzLm9rdGV4dCArIFwiPC94eS1idXR0b24+PC9kaXY+XCIgOiBcIlwifVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gIH1cbiAgZ2V0IG9wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwib3BlblwiKSAhPT0gbnVsbDtcbiAgfVxuICBnZXQgc3RvcGZvY3VzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInN0b3Bmb2N1c1wiKSAhPT0gbnVsbDtcbiAgfVxuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwidGl0bGVcIikgfHwgXCJwb3Bjb25cIjtcbiAgfVxuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpO1xuICB9XG4gIGdldCBva3RleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwib2t0ZXh0XCIpIHx8IFwiY29uZmlybVwiO1xuICB9XG4gIGdldCBjYW5jZWx0ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcImNhbmNlbHRleHRcIikgfHwgXCJjYW5jZWxcIjtcbiAgfVxuICBnZXQgbG9hZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIpICE9PSBudWxsO1xuICB9XG4gIHNldCB0aXRsZSh0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCB0KTtcbiAgfVxuICBzZXQgdHlwZSh0KSB7XG4gICAgdCA9PT0gbnVsbCB8fCB0ID09PSAhMSA/IHRoaXMucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSA6IHRoaXMuc2V0QXR0cmlidXRlKFwidHlwZVwiLCB0KTtcbiAgfVxuICBzZXQgb2t0ZXh0KHQpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcIm9rdGV4dFwiLCB0KTtcbiAgfVxuICBzZXQgY2FuY2VsdGV4dCh0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJjYW5jZWx0ZXh0XCIsIHQpO1xuICB9XG4gIHNldCBvcGVuKHQpIHtcbiAgICB0ID09PSBudWxsIHx8IHQgPT09ICExID8gKHRoaXMucmVtb3ZlQXR0cmlidXRlKFwib3BlblwiKSwgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUF0dHJpYnV0ZShcIm9wZW5cIikpIDogKHRoaXMuc2V0QXR0cmlidXRlKFwib3BlblwiLCBcIlwiKSwgdGhpcy5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZShcIm9wZW5cIiwgXCJcIiksIHRoaXMubG9hZGluZyAmJiAodGhpcy5sb2FkaW5nID0gITEpKTtcbiAgfVxuICBzZXQgbG9hZGluZyh0KSB7XG4gICAgdCA9PT0gbnVsbCB8fCB0ID09PSAhMSA/IHRoaXMucmVtb3ZlQXR0cmlidXRlKFwibG9hZGluZ1wiKSA6IHRoaXMuc2V0QXR0cmlidXRlKFwibG9hZGluZ1wiLCBcIlwiKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnJlbW92ZSA9ICExLCB0aGlzLnR5cGUgJiYgKHRoaXMudGl0bGVzID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIiksIHRoaXMuYnRuQ2xvc2UgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJidG4tY2xvc2VcIikpLCB0aGlzLnR5cGUgPT0gXCJjb25maXJtXCIgJiYgKHRoaXMuYnRuQ2FuY2VsID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiYnRuLWNhbmNlbFwiKSwgdGhpcy5idG5TdWJtaXQgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJidG4tc3VibWl0XCIpKSwgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCAodCkgPT4ge1xuICAgICAgdC5wcm9wZXJ0eU5hbWUgPT09IFwidHJhbnNmb3JtXCIgJiYgdGhpcy5vcGVuICYmICh0aGlzLnR5cGUgPT0gXCJjb25maXJtXCIgJiYgdGhpcy5idG5TdWJtaXQuZm9jdXMoKSwgdGhpcy50eXBlID09IFwicGFuZVwiICYmIHRoaXMuYnRuQ2xvc2UuZm9jdXMoKSwgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIm9wZW5cIikpKTtcbiAgICB9KSwgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCAodCkgPT4ge1xuICAgICAgdC5wcm9wZXJ0eU5hbWUgPT09IFwidHJhbnNmb3JtXCIgJiYgIXRoaXMub3BlbiAmJiAodGhpcy5yZW1vdmUgJiYgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpLCB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2xvc2VcIikpKTtcbiAgICB9KSwgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKHQpID0+IHtcbiAgICAgIHQudGFyZ2V0LmNsb3Nlc3QoXCJbYXV0b2Nsb3NlXVwiKSAmJiAodGhpcy5vcGVuID0gITEsIHdpbmRvdy54eUFjdGl2ZUVsZW1lbnQuZm9jdXMoKSk7XG4gICAgfSksIHRoaXMudHlwZSAmJiB0aGlzLmJ0bkNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLm9wZW4gPSAhMSwgd2luZG93Lnh5QWN0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgIH0pLCB0aGlzLnR5cGUgPT0gXCJjb25maXJtXCIgJiYgKHRoaXMuYnRuQ2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2FuY2VsXCIpKSwgdGhpcy5vcGVuID0gITEsIHdpbmRvdy54eUFjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICB9KSwgdGhpcy5idG5TdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJzdWJtaXRcIikpLCB0aGlzLmxvYWRpbmcgfHwgKHRoaXMub3BlbiA9ICExLCB3aW5kb3cueHlBY3RpdmVFbGVtZW50LmZvY3VzKCkpO1xuICAgIH0pKTtcbiAgfVxuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodCwgZSwgbykge1xuICAgIHQgPT0gXCJvcGVuXCIgJiYgdGhpcy5zaGFkb3dSb290ICYmIG8gPT0gbnVsbCAmJiB0aGlzLnN0b3Bmb2N1cywgdCA9PSBcImxvYWRpbmdcIiAmJiB0aGlzLnNoYWRvd1Jvb3QgJiYgKG8gIT09IG51bGwgPyB0aGlzLmJ0blN1Ym1pdC5sb2FkaW5nID0gITAgOiB0aGlzLmJ0blN1Ym1pdC5sb2FkaW5nID0gITEpLCB0ID09IFwidGl0bGVcIiAmJiB0aGlzLnRpdGxlcyAmJiBvICE9PSBudWxsICYmICh0aGlzLnRpdGxlcy5pbm5lckhUTUwgPSBvKSwgdCA9PSBcIm9rdGV4dFwiICYmIHRoaXMuYnRuU3VibWl0ICYmIG8gIT09IG51bGwgJiYgKHRoaXMuYnRuU3VibWl0LmlubmVySFRNTCA9IG8pLCB0ID09IFwiY2FuY2VsdGV4dFwiICYmIHRoaXMuYnRuQ2FuY2VsICYmIG8gIT09IG51bGwgJiYgKHRoaXMuYnRuQ2FuY2VsLmlubmVySFRNTCA9IG8pO1xuICB9XG59XG5jdXN0b21FbGVtZW50cy5nZXQoXCJ4eS1wb3Bjb25cIikgfHwgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwieHktcG9wY29uXCIsIGQpO1xuY2xhc3MgQSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcInRpdGxlXCIsIFwib2t0ZXh0XCIsIFwiY2FuY2VsdGV4dFwiLCBcImxvYWRpbmdcIiwgXCJ0eXBlXCJdO1xuICB9XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogXCJvcGVuXCIgfSk7XG4gICAgdC5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzdHlsZT5cbiAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgZGlzcGxheTppbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgICAgIG92ZXJmbG93OnZpc2libGU7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cInRvcFwiXSkgOjpzbG90dGVkKHh5LXBvcGNvbil7XG4gICAgICAgICAgICBib3R0b206MTAwJTtcbiAgICAgICAgICAgIGxlZnQ6NTAlO1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC0xMHB4KSBzY2FsZSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cInRvcFwiXSkgOjpzbG90dGVkKHh5LXBvcGNvbltvcGVuXSksXG4gICAgICAgIDpob3N0KFtkaXI9XCJ0b3BcIl1bdHJpZ2dlcj1cImhvdmVyXCJdOm5vdChbZGlzYWJsZWRdKTpob3ZlcikgOjpzbG90dGVkKHh5LXBvcGNvbiksXG4gICAgICAgIDpob3N0KFtkaXI9XCJ0b3BcIl1bdHJpZ2dlcj1cImZvY3VzXCJdOm5vdChbZGlzYWJsZWRdKTpmb2N1cy13aXRoaW4pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC0xMHB4KSBzY2FsZSgxKTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbZGlyPVwicmlnaHRcIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgbGVmdDoxMDAlO1xuICAgICAgICAgICAgdG9wOjUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoMTBweCwtNTAlKSBzY2FsZSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cInJpZ2h0XCJdKSA6OnNsb3R0ZWQoeHktcG9wY29uW29wZW5dKSxcbiAgICAgICAgOmhvc3QoW2Rpcj1cInJpZ2h0XCJdW3RyaWdnZXI9XCJob3ZlclwiXTpub3QoW2Rpc2FibGVkXSk6aG92ZXIpIDo6c2xvdHRlZCh4eS1wb3Bjb24pLFxuICAgICAgICA6aG9zdChbZGlyPVwicmlnaHRcIl1bdHJpZ2dlcj1cImZvY3VzXCJdOm5vdChbZGlzYWJsZWRdKTpmb2N1cy13aXRoaW4pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgxMHB4LC01MCUpIHNjYWxlKDEpO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtkaXI9XCJib3R0b21cIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgdG9wOjEwMCU7XG4gICAgICAgICAgICBsZWZ0OjUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwxMHB4KSBzY2FsZSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciB0b3A7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cImJvdHRvbVwiXSkgOjpzbG90dGVkKHh5LXBvcGNvbltvcGVuXSksXG4gICAgICAgIDpob3N0KFtkaXI9XCJib3R0b21cIl1bdHJpZ2dlcj1cImhvdmVyXCJdOm5vdChbZGlzYWJsZWRdKTpob3ZlcikgOjpzbG90dGVkKHh5LXBvcGNvbiksXG4gICAgICAgIDpob3N0KFtkaXI9XCJib3R0b21cIl1bdHJpZ2dlcj1cImZvY3VzXCJdOm5vdChbZGlzYWJsZWRdKTpmb2N1cy13aXRoaW4pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLDEwcHgpIHNjYWxlKDEpO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtkaXI9XCJsZWZ0XCJdKSA6OnNsb3R0ZWQoeHktcG9wY29uKXtcbiAgICAgICAgICAgIHJpZ2h0OjEwMCU7XG4gICAgICAgICAgICB0b3A6NTAlO1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTBweCwtNTAlKSBzY2FsZSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtkaXI9XCJsZWZ0XCJdKSA6OnNsb3R0ZWQoeHktcG9wY29uW29wZW5dKSxcbiAgICAgICAgOmhvc3QoW2Rpcj1cImxlZnRcIl1bdHJpZ2dlcj1cImhvdmVyXCJdOm5vdChbZGlzYWJsZWRdKTpob3ZlcikgOjpzbG90dGVkKHh5LXBvcGNvbiksXG4gICAgICAgIDpob3N0KFtkaXI9XCJsZWZ0XCJdW3RyaWdnZXI9XCJmb2N1c1wiXTpub3QoW2Rpc2FibGVkXSk6Zm9jdXMtd2l0aGluKSA6OnNsb3R0ZWQoeHktcG9wY29uKXtcbiAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoLTEwcHgsLTUwJSkgc2NhbGUoMSk7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cImxlZnR0b3BcIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgcmlnaHQ6MTAwJTtcbiAgICAgICAgICAgIHRvcDowO1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTBweCkgc2NhbGUoMCk7XG4gICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCB0b3A7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cImxlZnR0b3BcIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb25bb3Blbl0pLFxuICAgICAgICA6aG9zdChbZGlyPVwibGVmdHRvcFwiXVt0cmlnZ2VyPVwiaG92ZXJcIl06bm90KFtkaXNhYmxlZF0pOmhvdmVyKSA6OnNsb3R0ZWQoeHktcG9wY29uKSxcbiAgICAgICAgOmhvc3QoW2Rpcj1cImxlZnR0b3BcIl1bdHJpZ2dlcj1cImZvY3VzXCJdOm5vdChbZGlzYWJsZWRdKTpmb2N1cy13aXRoaW4pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTBweCkgc2NhbGUoMSk7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cImxlZnRib3R0b21cIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgcmlnaHQ6MTAwJTtcbiAgICAgICAgICAgIGJvdHRvbTowO1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTBweCkgc2NhbGUoMCk7XG4gICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCBib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cImxlZnRib3R0b21cIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb25bb3Blbl0pLFxuICAgICAgICA6aG9zdChbZGlyPVwibGVmdGJvdHRvbVwiXVt0cmlnZ2VyPVwiaG92ZXJcIl06bm90KFtkaXNhYmxlZF0pOmhvdmVyKSA6OnNsb3R0ZWQoeHktcG9wY29uKSxcbiAgICAgICAgOmhvc3QoW2Rpcj1cImxlZnRib3R0b21cIl1bdHJpZ2dlcj1cImZvY3VzXCJdOm5vdChbZGlzYWJsZWRdKTpmb2N1cy13aXRoaW4pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTBweCkgc2NhbGUoMSk7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cInRvcGxlZnRcIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgYm90dG9tOjEwMCU7XG4gICAgICAgICAgICBsZWZ0OjA7XG4gICAgICAgICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlKDAsLTEwcHgpIHNjYWxlKDApO1xuICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpcj1cInRvcGxlZnRcIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb25bb3Blbl0pLFxuICAgICAgICA6aG9zdChbZGlyPVwidG9wbGVmdFwiXVt0cmlnZ2VyPVwiaG92ZXJcIl06bm90KFtkaXNhYmxlZF0pOmhvdmVyKSA6OnNsb3R0ZWQoeHktcG9wY29uKSxcbiAgICAgICAgOmhvc3QoW2Rpcj1cInRvcGxlZnRcIl1bdHJpZ2dlcj1cImZvY3VzXCJdOm5vdChbZGlzYWJsZWRdKTpmb2N1cy13aXRoaW4pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgwLC0xMHB4KSBzY2FsZSgxKTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbZGlyPVwidG9wcmlnaHRcIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgYm90dG9tOjEwMCU7XG4gICAgICAgICAgICByaWdodDowO1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgwLC0xMHB4KSBzY2FsZSgwKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0IGJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbZGlyPVwidG9wcmlnaHRcIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb25bb3Blbl0pLFxuICAgICAgICA6aG9zdChbZGlyPVwidG9wcmlnaHRcIl1bdHJpZ2dlcj1cImhvdmVyXCJdOm5vdChbZGlzYWJsZWRdKTpob3ZlcikgOjpzbG90dGVkKHh5LXBvcGNvbiksXG4gICAgICAgIDpob3N0KFtkaXI9XCJ0b3ByaWdodFwiXVt0cmlnZ2VyPVwiZm9jdXNcIl06bm90KFtkaXNhYmxlZF0pOmZvY3VzLXdpdGhpbikgOjpzbG90dGVkKHh5LXBvcGNvbil7XG4gICAgICAgICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlKDAsLTEwcHgpIHNjYWxlKDEpO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtkaXI9XCJyaWdodHRvcFwiXSkgOjpzbG90dGVkKHh5LXBvcGNvbil7XG4gICAgICAgICAgICBsZWZ0OjEwMCU7XG4gICAgICAgICAgICB0b3A6MDtcbiAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoMTBweCkgc2NhbGUoMCk7XG4gICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IHRvcDtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbZGlyPVwicmlnaHR0b3BcIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb25bb3Blbl0pLFxuICAgICAgICA6aG9zdChbZGlyPVwicmlnaHR0b3BcIl1bdHJpZ2dlcj1cImhvdmVyXCJdOm5vdChbZGlzYWJsZWRdKTpob3ZlcikgOjpzbG90dGVkKHh5LXBvcGNvbiksXG4gICAgICAgIDpob3N0KFtkaXI9XCJyaWdodHRvcFwiXVt0cmlnZ2VyPVwiZm9jdXNcIl06bm90KFtkaXNhYmxlZF0pOmZvY3VzLXdpdGhpbikgOjpzbG90dGVkKHh5LXBvcGNvbil7XG4gICAgICAgICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlKDEwcHgpIHNjYWxlKDEpO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtkaXI9XCJyaWdodGJvdHRvbVwiXSkgOjpzbG90dGVkKHh5LXBvcGNvbil7XG4gICAgICAgICAgICBsZWZ0OjEwMCU7XG4gICAgICAgICAgICBib3R0b206MDtcbiAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoMTBweCkgc2NhbGUoMCk7XG4gICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IGJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbZGlyPVwicmlnaHRib3R0b21cIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb25bb3Blbl0pLFxuICAgICAgICA6aG9zdChbZGlyPVwicmlnaHRib3R0b21cIl1bdHJpZ2dlcj1cImhvdmVyXCJdOm5vdChbZGlzYWJsZWRdKTpob3ZlcikgOjpzbG90dGVkKHh5LXBvcGNvbiksXG4gICAgICAgIDpob3N0KFtkaXI9XCJyaWdodGJvdHRvbVwiXVt0cmlnZ2VyPVwiZm9jdXNcIl06bm90KFtkaXNhYmxlZF0pOmZvY3VzLXdpdGhpbikgOjpzbG90dGVkKHh5LXBvcGNvbil7XG4gICAgICAgICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlKDEwcHgpIHNjYWxlKDEpO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtkaXI9XCJib3R0b21sZWZ0XCJdKSA6OnNsb3R0ZWQoeHktcG9wY29uKSxcbiAgICAgICAgOmhvc3QoOm5vdChbZGlyXSkpIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgbGVmdDowO1xuICAgICAgICAgICAgdG9wOjEwMCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlKDAsMTBweCkgc2NhbGUoMCk7XG4gICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0IHRvcDtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCg6bm90KFtkaXJdKSkgOjpzbG90dGVkKHh5LXBvcGNvbltvcGVuXSksXG4gICAgICAgIDpob3N0KDpub3QoW2Rpcl0pW3RyaWdnZXI9XCJob3ZlclwiXTpub3QoW2Rpc2FibGVkXSk6aG92ZXIpIDo6c2xvdHRlZCh4eS1wb3Bjb24pLFxuICAgICAgICA6aG9zdCg6bm90KFtkaXJdKVt0cmlnZ2VyPVwiZm9jdXNcIl06bm90KFtkaXNhYmxlZF0pOmZvY3VzLXdpdGhpbikgOjpzbG90dGVkKHh5LXBvcGNvbiksXG4gICAgICAgIDpob3N0KFtkaXI9XCJib3R0b21sZWZ0XCJdKSA6OnNsb3R0ZWQoeHktcG9wY29uW29wZW5dKSxcbiAgICAgICAgOmhvc3QoW2Rpcj1cImJvdHRvbWxlZnRcIl1bdHJpZ2dlcj1cImhvdmVyXCJdOm5vdChbZGlzYWJsZWRdKTpob3ZlcikgOjpzbG90dGVkKHh5LXBvcGNvbiksXG4gICAgICAgIDpob3N0KFtkaXI9XCJib3R0b21sZWZ0XCJdW3RyaWdnZXI9XCJmb2N1c1wiXTpub3QoW2Rpc2FibGVkXSk6Zm9jdXMtd2l0aGluKSA6OnNsb3R0ZWQoeHktcG9wY29uKXtcbiAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoMCwxMHB4KSBzY2FsZSgxKTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbZGlyPVwiYm90dG9tcmlnaHRcIl0pIDo6c2xvdHRlZCh4eS1wb3Bjb24pe1xuICAgICAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgICAgIHRvcDoxMDAlO1xuICAgICAgICAgICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgwLDEwcHgpIHNjYWxlKDApO1xuICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgdG9wO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtkaXI9XCJib3R0b21yaWdodFwiXSkgOjpzbG90dGVkKHh5LXBvcGNvbltvcGVuXSksXG4gICAgICAgIDpob3N0KFtkaXI9XCJib3R0b21yaWdodFwiXVt0cmlnZ2VyPVwiaG92ZXJcIl06bm90KFtkaXNhYmxlZF0pOmhvdmVyKSA6OnNsb3R0ZWQoeHktcG9wY29uKSxcbiAgICAgICAgOmhvc3QoW2Rpcj1cImJvdHRvbXJpZ2h0XCJdW3RyaWdnZXI9XCJmb2N1c1wiXTpub3QoW2Rpc2FibGVkXSk6Zm9jdXMtd2l0aGluKSA6OnNsb3R0ZWQoeHktcG9wY29uKXtcbiAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoMCwxMHB4KSBzY2FsZSgxKTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbdHJpZ2dlcj1cImNvbnRleHRtZW51XCJdKSA6OnNsb3R0ZWQoeHktcG9wY29uKXtcbiAgICAgICAgICAgIHJpZ2h0OmF1dG87XG4gICAgICAgICAgICBib3R0b206YXV0bztcbiAgICAgICAgICAgIGxlZnQ6dmFyKC0teCwwKTtcbiAgICAgICAgICAgIHRvcDp2YXIoLS15LDEwMCUpO1xuICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCB0b3A7XG4gICAgICAgICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlKDVweCw1cHgpIHNjYWxlKDApO1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogLjE1cztcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbdHJpZ2dlcj1cImNvbnRleHRtZW51XCJdKSA6OnNsb3R0ZWQoeHktcG9wY29uW29wZW5dKXtcbiAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoNXB4LDVweCkgc2NhbGUoMSk7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QgOjpzbG90dGVkKHh5LXBvcGNvbltvcGVuXSksXG4gICAgICAgIDpob3N0KFt0cmlnZ2VyPVwiaG92ZXJcIl06bm90KFtkaXNhYmxlZF0pOmhvdmVyKSA6OnNsb3R0ZWQoeHktcG9wY29uKSxcbiAgICAgICAgOmhvc3QoW3RyaWdnZXI9XCJmb2N1c1wiXTpub3QoW2Rpc2FibGVkXSk6Zm9jdXMtd2l0aGluKSA6OnNsb3R0ZWQoeHktcG9wY29uKXtcbiAgICAgICAgICAgIG9wYWNpdHk6MTtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6dmlzaWJsZTtcbiAgICAgICAgfVxuICAgICAgICBzbG90e1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcbiAgICAgICAgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgICAgIGA7XG4gIH1cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpIHx8IFwicG9wY29uXCI7XG4gIH1cbiAgZ2V0IHRyaWdnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwidHJpZ2dlclwiKTtcbiAgfVxuICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgIT09IG51bGw7XG4gIH1cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwidHlwZVwiKTtcbiAgfVxuICBnZXQgYWNjb21wbGlzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJhY2NvbXBsaXNoXCIpICE9PSBudWxsO1xuICB9XG4gIGdldCBjb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG4gIH1cbiAgZ2V0IG9rdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJva3RleHRcIik7XG4gIH1cbiAgZ2V0IGNhbmNlbHRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwiY2FuY2VsdGV4dFwiKTtcbiAgfVxuICBnZXQgZGlyKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcImRpclwiKTtcbiAgfVxuICBnZXQgbG9hZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIpICE9PSBudWxsO1xuICB9XG4gIHNldCBkaXIodCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiZGlyXCIsIHQpO1xuICB9XG4gIHNldCB0aXRsZSh0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCB0KTtcbiAgfVxuICBzZXQgdHlwZSh0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIHQpO1xuICB9XG4gIHNldCBva3RleHQodCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKFwib2t0ZXh0XCIsIHQpO1xuICB9XG4gIHNldCBjYW5jZWx0ZXh0KHQpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImNhbmNlbHRleHRcIiwgdCk7XG4gIH1cbiAgc2V0IGxvYWRpbmcodCkge1xuICAgIHQgPT09IG51bGwgfHwgdCA9PT0gITEgPyB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImxvYWRpbmdcIikgOiB0aGlzLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJcIik7XG4gIH1cbiAgc2V0IGRpc2FibGVkKHQpIHtcbiAgICB0ID09PSBudWxsIHx8IHQgPT09ICExID8gdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA6IHRoaXMuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XG4gIH1cbiAgc2hvdyh0KSB7XG4gICAgaWYgKHQuc3RvcFByb3BhZ2F0aW9uKCksIHRoaXMucG9wY29uID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwieHktcG9wY29uXCIpLCB0aGlzLmRpc2FibGVkKVxuICAgICAgKHRoaXMucG9wY29uIHx8IHRoaXMpLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwic3VibWl0XCIpKTtcbiAgICBlbHNlIGlmICh0aGlzLnBvcGNvbiB8fCAodGhpcy5wb3Bjb24gPSBuZXcgZCh0aGlzLnR5cGUpLCB0aGlzLnBvcGNvbi50eXBlID0gdGhpcy50eXBlLCB0aGlzLmFwcGVuZENoaWxkKHRoaXMucG9wY29uKSwgdGhpcy5wb3Bjb24udGl0bGUgPSB0aGlzLnRpdGxlIHx8IFwicG9wb3ZlclwiLCB0aGlzLnBvcGNvbi5pbm5lckhUTUwgPSB0aGlzLmNvbnRlbnQgfHwgXCJcIiwgdGhpcy50eXBlID09IFwiY29uZmlybVwiICYmICh0aGlzLnBvcGNvbi5va3RleHQgPSB0aGlzLm9rdGV4dCB8fCBcImNvbmZpcm1cIiwgdGhpcy5wb3Bjb24uY2FuY2VsdGV4dCA9IHRoaXMuY2FuY2VsdGV4dCB8fCBcImNhbmNlbFwiLCB0aGlzLnBvcGNvbi5vbnN1Ym1pdCA9ICgpID0+IHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJzdWJtaXRcIikpLCB0aGlzLnBvcGNvbi5vbmNhbmNlbCA9ICgpID0+IHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjYW5jZWxcIikpKSksIHRoaXMudHJpZ2dlciA9PT0gXCJjb250ZXh0bWVudVwiKSB7XG4gICAgICBjb25zdCB7IHg6IGUsIHk6IG8gfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLnBvcGNvbi5zdHlsZS5zZXRQcm9wZXJ0eShcIi0teFwiLCB0LmNsaWVudFggLSBlICsgXCJweFwiKSwgdGhpcy5wb3Bjb24uc3R5bGUuc2V0UHJvcGVydHkoXCItLXlcIiwgdC5jbGllbnRZIC0gbyArIFwicHhcIiksIHRoaXMucG9wY29uLm9wZW4gPSAhMDtcbiAgICB9IGVsc2VcbiAgICAgICh0LnBhdGggfHwgdC5jb21wb3NlZFBhdGggJiYgdC5jb21wb3NlZFBhdGgoKSkuaW5jbHVkZXModGhpcy5wb3Bjb24pLCB3aW5kb3cueHlBY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgdGhpcy5hY2NvbXBsaXNoID8gdGhpcy5wb3Bjb24ub3BlbiA9ICEwIDogdGhpcy5wb3Bjb24ub3BlbiA9ICF0aGlzLnBvcGNvbi5vcGVuO1xuICAgIHJldHVybiB0aGlzLnBvcGNvbjtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnBvcGNvbiA9IHRoaXMucXVlcnlTZWxlY3RvcihcInh5LXBvcGNvblwiKSwgdGhpcy50cmlnZ2VyICYmIHRoaXMudHJpZ2dlciAhPT0gXCJjbGlja1wiIHx8IHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuc2hvdyksIHRoaXMudHJpZ2dlciA9PT0gXCJjb250ZXh0bWVudVwiICYmIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsICh0KSA9PiB7XG4gICAgICB0LnByZXZlbnREZWZhdWx0KCksICh0LnBhdGggfHwgdC5jb21wb3NlZFBhdGggJiYgdC5jb21wb3NlZFBhdGgoKSkuaW5jbHVkZXModGhpcy5wb3Bjb24pIHx8IHRoaXMuc2hvdyh0KTtcbiAgICB9KSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAodCkgPT4ge1xuICAgICAgY29uc3QgZSA9IHQucGF0aCB8fCB0LmNvbXBvc2VkUGF0aCAmJiB0LmNvbXBvc2VkUGF0aCgpO1xuICAgICAgKHRoaXMucG9wY29uICYmICFlLmluY2x1ZGVzKHRoaXMucG9wY29uKSAmJiAhdGhpcy5wb3Bjb24ubG9hZGluZyAmJiAhZS5pbmNsdWRlcyh0aGlzLmNoaWxkcmVuWzBdKSB8fCB0aGlzLnRyaWdnZXIgPT09IFwiY29udGV4dG1lbnVcIiAmJiAhZS5pbmNsdWRlcyh0aGlzLnBvcGNvbikgJiYgdC53aGljaCA9PSBcIjFcIikgJiYgKHRoaXMucG9wY29uLm9wZW4gPSAhMSk7XG4gICAgfSk7XG4gIH1cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHQsIGUsIG8pIHtcbiAgICB0ID09IFwibG9hZGluZ1wiICYmIHRoaXMucG9wY29uICYmIChvICE9PSBudWxsID8gdGhpcy5wb3Bjb24ubG9hZGluZyA9ICEwIDogdGhpcy5wb3Bjb24ubG9hZGluZyA9ICExKSwgdCA9PSBcInRpdGxlXCIgJiYgdGhpcy5wb3Bjb24gJiYgbyAhPT0gbnVsbCAmJiAodGhpcy5wb3Bjb24udGl0bGUgPSBvKSwgdCA9PSBcIm9rdGV4dFwiICYmIHRoaXMucG9wY29uICYmIG8gIT09IG51bGwgJiYgKHRoaXMucG9wY29uLm9rdGV4dCA9IG8pLCB0ID09IFwiY2FuY2VsdGV4dFwiICYmIHRoaXMucG9wY29uICYmIG8gIT09IG51bGwgJiYgKHRoaXMucG9wY29uLmNhbmNlbHRleHQgPSBvKTtcbiAgfVxufVxuY3VzdG9tRWxlbWVudHMuZ2V0KFwieHktcG9wb3ZlclwiKSB8fCBjdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ4eS1wb3BvdmVyXCIsIEEpO1xuY29uc3QgYyA9IFwiZWRpdG9yLWpzLXRleHQtY29sb3ItY2FjaGVcIjtcbmZ1bmN0aW9uIGwoaSkge1xuICBpZiAoUChpKSkge1xuICAgIGNvbnN0IHQgPSBFKGkpO1xuICAgIHJldHVybiBUKHQpO1xuICB9XG4gIHJldHVybiBpO1xufVxuZnVuY3Rpb24gRShpKSB7XG4gIGNvbnN0IHQgPSAvXFwoKC4qPylcXCkvLmV4ZWMoaSk7XG4gIGlmICh0KSByZXR1cm4gdFsxXTtcbn1cbmZ1bmN0aW9uIFQoaSkge1xuICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKGkpO1xufVxuZnVuY3Rpb24gUChpKSB7XG4gIHJldHVybiBMKGkpICYmIGkuaW5jbHVkZXMoXCItLVwiKTtcbn1cbmZ1bmN0aW9uIEwoaSkge1xuICByZXR1cm4gdHlwZW9mIGkgPT0gXCJzdHJpbmdcIiB8fCBpIGluc3RhbmNlb2YgU3RyaW5nO1xufVxuZnVuY3Rpb24gaChpLCB0KSB7XG4gIGxldCBlO1xuICByZXR1cm4gKC4uLm8pID0+IHtcbiAgICBlIHx8IChlID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpKC4uLm8pLCBlID0gbnVsbDtcbiAgICB9LCB0KSk7XG4gIH07XG59XG5mdW5jdGlvbiB1KGksIHQpIHtcbiAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oYCR7Y30tJHt0fWAsIEpTT04uc3RyaW5naWZ5KGkpKSwgaTtcbn1cbmZ1bmN0aW9uIGcoaSwgdCkge1xuICBjb25zdCBlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShgJHtjfS0ke3R9YCk7XG4gIHJldHVybiBlID8gSlNPTi5wYXJzZShlKSA6IGk7XG59XG5mdW5jdGlvbiBiKGksIHQpIHtcbiAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShgJHtjfS0ke3R9LWN1c3RvbWAsIEpTT04uc3RyaW5naWZ5KGkpKTtcbn1cbmZ1bmN0aW9uIGYoaSkge1xuICBjb25zdCB0ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShgJHtjfS0ke2l9LWN1c3RvbWApO1xuICByZXR1cm4gdCA/IEpTT04ucGFyc2UodCkgOiBudWxsO1xufVxuY29uc3QgbSA9IFwiY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duXCIsIHkgPSBcImNlLWNvbnZlcnNpb24tdG9vbGJhci0tc2hvd2VkXCIsIFMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBDT05WRVJURVJfQlROOiBtLFxuICBDT05WRVJURVJfUEFORUw6IHksXG4gIGdldEN1c3RvbUNvbG9yQ2FjaGU6IGYsXG4gIGdldERlZmF1bHRDb2xvckNhY2hlOiBnLFxuICBoYW5kbGVDU1NWYXJpYWJsZXM6IGwsXG4gIHNldEN1c3RvbUNvbG9yQ2FjaGU6IGIsXG4gIHNldERlZmF1bHRDb2xvckNhY2hlOiB1LFxuICB0aHJvdHRsZTogaFxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgQiA9IFtcIiNmZjEzMDBcIiwgXCIjRUM3ODc4XCIsIFwiIzlDMjdCMFwiLCBcIiM2NzNBQjdcIiwgXCIjM0Y1MUI1XCIsIFwiIzAwNzBGRlwiLCBcIiMwM0E5RjRcIiwgXCIjMDBCQ0Q0XCIsIFwiIzRDQUY1MFwiLCBcIiM4QkMzNEFcIiwgXCIjQ0REQzM5XCIsIFwiI0ZGRTUwMFwiLCBcIiNGRkJGMDBcIiwgXCIjRkY5ODAwXCIsIFwiIzc5NTU0OFwiLCBcIiM5RTlFOUVcIiwgXCIjNUE1QTVBXCIsIFwiI0ZGRlwiXTtcbmNsYXNzIHggZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiBbXCJkaXNhYmxlZFwiLCBcImRpclwiXTtcbiAgfVxuICBjb25zdHJ1Y3Rvcih0ID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IGUgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgIHRoaXMuY29sb3JDb2xsZWN0aW9ucyA9IHQuY29sb3JDb2xsZWN0aW9ucyB8fCBCLCB0aGlzLm9uQ29sb3JQaWNrZWQgPSB0Lm9uQ29sb3JQaWNrZWQsIHRoaXMuZGVmYXVsQ29sb3IgPSBsKHQuZGVmYXVsdENvbG9yIHx8IHRoaXMuY29sb3JDb2xsZWN0aW9uc1swXSksIHRoaXMucGx1Z2luVHlwZSA9IHQudHlwZSwgdGhpcy5oYXNDdXN0b21QaWNrZXIgPSB0Lmhhc0N1c3RvbVBpY2tlciwgdGhpcy5jdXN0b21Db2xvciA9IGYodGhpcy5wbHVnaW5UeXBlKSwgZS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzdHlsZT5cbiAgICAgICAgOmhvc3R7XG4gICAgICAgICAgICBkaXNwbGF5OmlubGluZS1ibG9jaztcbiAgICAgICAgICAgIHdpZHRoOjE1cHg7XG4gICAgICAgICAgICBmb250LXNpemU6MTRweDtcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbYmxvY2tdKXtcbiAgICAgICAgICAgIGRpc3BsYXk6YmxvY2s7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2Rpc2FibGVkXSl7XG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czpub25lO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICA6aG9zdCg6Zm9jdXMtd2l0aGluKSB4eS1wb3BvdmVyLDpob3N0KDpob3ZlcikgeHktcG9wb3ZlcnsgXG4gICAgICAgICAgICB6LWluZGV4OiAyO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0W3R5cGU9XCJjb2xvclwiXXtcbiAgICAgICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgeHktcG9wb3ZlcntcbiAgICAgICAgICAgIHdpZHRoOiAxMnB4O1xuICAgICAgICAgICAgaGVpZ2h0OjM1cHg7XG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxcHg7XG4gICAgICAgIH1cbiAgICAgICAgeHktcG9wb3Zlcjpob3ZlciB7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwIDVweCA1cHggMDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjAzLCAyMDMsIDIwMywgMC40OSk7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbG9yLWJ0biB7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2FiOWI5O1xuICAgICAgICAgICAgbWFyZ2luOiAxOHB4IDNweCAycHggM3B4O1xuICAgICAgICAgICAgd2lkdGg6IDdweDtcbiAgICAgICAgICAgIGhlaWdodDogN3B4O1xuICAgICAgICAgICAgb3BhY2l0eTogMC45O1xuICAgICAgICAgICAgcGFkZGluZzogMXB4IDAgMXB4IDA7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tdGhlbWVDb2xvciwgIzQyYjk4Myk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS10aGVtZUNvbG9yLCAjNDJiOTgzKTtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbG9yLWJ0bjpob3ZlciB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgICAgei1pbmRleDogYXV0bztcbiAgICAgICAgfVxuICAgICAgICB4eS1wb3BvdmVye1xuICAgICAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgICAgICAgIHBvc2l0aW9uOiBzdGF0aWM7XG4gICAgICAgIH1cbiAgICAgICAgeHktcG9wY29ue1xuICAgICAgICAgICAgbWluLXdpZHRoOjEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgI2N1c3RvbS1waWNrZXIge1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgdG9wOiAtMXB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1MCwgMjUwLCAyNTApO1xuICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiByZ2IoMjU1IDExOCAyMSkgcmdiKDI0NSA4MCA4MCAvIDc0JSkgIzg5YzFjOSAjOTVkNWI2O1xuICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAzcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDE4cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnBvcC1mb290ZXJ7XG4gICAgICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7XG4gICAgICAgICAgICBwYWRkaW5nOjAgLjhlbSAuOGVtO1xuICAgICAgICB9XG4gICAgICAgIC5wb3AtZm9vdGVyIHh5LWJ1dHRvbntcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogLjhlbTtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAuOGVtO1xuICAgICAgICB9XG4gICAgICAgIC5jb2xvci1idG46OmJlZm9yZXtcbiAgICAgICAgICAgIGNvbnRlbnQ6Jyc7XG4gICAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgICAgIGxlZnQ6NXB4O1xuICAgICAgICAgICAgdG9wOjVweDtcbiAgICAgICAgICAgIHJpZ2h0OjVweDtcbiAgICAgICAgICAgIGJvdHRvbTo1cHg7XG4gICAgICAgICAgICB6LWluZGV4Oi0xO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkIDI1JSx0cmFuc3BhcmVudCAwLHRyYW5zcGFyZW50IDc1JSwjZGRkIDAgKSwgbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkIDI1JSwgdHJhbnNwYXJlbnQgMCwgdHJhbnNwYXJlbnQgNzUlLCAjZGRkIDApO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLDVweCA1cHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDEwcHggMTBweDtcbiAgICAgICAgfVxuICAgICAgICAuY29sb3Itc2lnbiB7XG4gICAgICAgICAgIG1heC13aWR0aDogMjIwcHg7XG4gICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgIGRpc3BsYXk6Z3JpZDtcbiAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDE1cHgsIDFmcikpO1xuICAgICAgICAgICBncmlkLWdhcDogMTBweDsgICAgIFxuICAgICAgICB9XG4gICAgICAgIC5jb2xvci1zaWduPmJ1dHRvbiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNiOGI5YjQ5ZTtcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLjk7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbG9yLXNpZ24+YnV0dG9uOmhvdmVyIHtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbG9yLXNlY3Rpb24ge1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAuY29sb3ItZmlyZS1idG4ge1xuICAgICAgICAgICAgZm9udC1zaXplOiAxN3B4O1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICBoZWlnaHQ6IDI4cHg7XG4gICAgICAgICAgICBwYWRkaW5nLXRvcDogOHB4O1xuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMXB4O1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDNweDtcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogM3B4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4IDAgMCA1cHg7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbG9yLWZpcmUtYnRuOmhvdmVyIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTdweDtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyMDMsIDIwMywgMjAzLCAwLjQ5KTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweCAwIDAgNXB4O1xuICAgICAgICB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwiY29sb3Itc2VjdGlvblwiPlxuICAgICAgICAgICAgPHh5LXBvcG92ZXIgaWQ9XCJwb3BvdmVyXCIgJHt0aGlzLmRpciA/IFwiZGlyPSdcIiArIHRoaXMuZGlyICsgXCInXCIgOiBcIlwifT5cbiAgICAgICAgICAgICAgICA8eHktYnV0dG9uIGNsYXNzPVwiY29sb3ItYnRuXCIgaWQ9XCJjb2xvci1idG5cIiAke3RoaXMuZGlzYWJsZWQgPyBcImRpc2FibGVkXCIgOiBcIlwifT5fPC94eS1idXR0b24+XG4gICAgICAgICAgICAgICAgPHh5LXBvcGNvbiBpZD1cInBvcGNvblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sb3Itc2lnblwiIGlkPVwiY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzQ3VzdG9tUGlja2VyICYmICc8YnV0dG9uIGlkPVwiY3VzdG9tLXBpY2tlclwiIGNsYXNzPVwicmFpbmJvdy1tYXNrXCIvPicgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5jb2xvckNvbGxlY3Rpb25zLm1hcCgobykgPT4gJzxidXR0b24gY2xhc3M9XCJjb2xvci1jdWJlXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOicgKyBvICsgJ1wiIGRhdGEtY29sb3I9XCInICsgbyArICdcIj48L2J1dHRvbj4nKS5qb2luKFwiXCIpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3h5LXBvcGNvbj5cbiAgICAgICAgICAgIDwveHktcG9wb3Zlcj5cbiAgICAgICAgPC9zZWN0aW9uPmA7XG4gIH1cbiAgZm9jdXMoKSB7XG4gICAgdGhpcy5jb2xvckJ0bi5mb2N1cygpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuJHBvcG92ZXIgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJwb3BvdmVyXCIpLCB0aGlzLnBvcGNvbiA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcInBvcGNvblwiKSwgdGhpcy5jb2xvckJ0biA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImNvbG9yLWJ0blwiKSwgdGhpcy5jb2xvcnMgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjb2xvcnNcIiksIHRoaXMuY29sb3JzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAodCkgPT4ge1xuICAgICAgY29uc3QgZSA9IHQudGFyZ2V0LmNsb3Nlc3QoXCJidXR0b25cIik7XG4gICAgICBlICYmIGUuaWQgIT09IFwiY3VzdG9tLXBpY2tlclwiICYmICh0aGlzLm5hdGl2ZWNsaWNrID0gITAsIHRoaXMudmFsdWUgPSBsKGUuZGF0YXNldC5jb2xvciksIHRoaXMub25Db2xvclBpY2tlZCh0aGlzLnZhbHVlKSk7XG4gICAgfSksIHRoaXMuJHBvcG92ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2VDb252ZXJ0ZXIoKSksIHRoaXMuaGFzQ3VzdG9tUGlja2VyICYmIHRoaXMuc2V0dXBDdXN0b21QaWNrZXIoKSwgdGhpcy52YWx1ZSA9IHRoaXMuZGVmYXVsdHZhbHVlO1xuICB9XG4gIGNsb3NlQ29udmVydGVyKCkge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHkpWzBdKSB7XG4gICAgICBjb25zdCBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShtKVswXTtcbiAgICAgIGUgPT0gbnVsbCB8fCBlLmNsaWNrKCk7XG4gICAgfVxuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMucGlja2VySW5wdXQgJiYgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLnBpY2tlcklucHV0KTtcbiAgfVxuICBzZXR1cEN1c3RvbVBpY2tlcigpIHtcbiAgICBsZXQgdCA9ICExO1xuICAgIHRoaXMuY3VzdG9tUGlja2VyID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY3VzdG9tLXBpY2tlclwiKTtcbiAgICBjb25zdCBlID0gdGhpcy5jdXN0b21QaWNrZXI7XG4gICAgZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmN1c3RvbUNvbG9yLCB0aGlzLmN1c3RvbVBpY2tlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKG8pID0+IHtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIHQgPSAhMTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5waWNrZXJJbnB1dCAmJiBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMucGlja2VySW5wdXQpLCB0aGlzLnBpY2tlcklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgY29uc3QgcyA9IHRoaXMucGlja2VySW5wdXQsIHIgPSB0aGlzLnBvcGNvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHMuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImNvbG9yXCIpLCBzLnZhbHVlID0gdGhpcy5jdXN0b21Db2xvciwgcy5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIiwgcy5zdHlsZS5sZWZ0ID0gYCR7ci54ICsgM31weGAsIHMuc3R5bGUudG9wID0gYCR7ci55ICsgMTB9cHhgLCBzLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIiwgcy5zdHlsZS56SW5kZXggPSBcIjk5OVwiLCBzLnN0eWxlLm9wYWNpdHkgPSBcIjBcIiwgcy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgaCgoYSkgPT4ge1xuICAgICAgICB0aGlzLm5hdGl2ZWNsaWNrID0gITAsIHRoaXMudmFsdWUgPSBsKGEudGFyZ2V0LnZhbHVlKSwgdGhpcy5vbkNvbG9yUGlja2VkKHRoaXMudmFsdWUpLCBiKHRoaXMudmFsdWUsIHRoaXMucGx1Z2luVHlwZSksIGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy52YWx1ZSwgdCA9ICEwLCBlLmNsaWNrKCk7XG4gICAgICB9LCAzMCkpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcy5mb2N1cygpLCBzLmNsaWNrKCk7XG4gICAgICB9LCAwKTtcbiAgICB9KTtcbiAgfVxuICBnZXQgZGVmYXVsdHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bENvbG9yO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy4kdmFsdWU7XG4gIH1cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwidHlwZVwiKTtcbiAgfVxuICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgIT09IG51bGw7XG4gIH1cbiAgZ2V0IGRpcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkaXJcIik7XG4gIH1cbiAgc2V0IGRpcih0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJkaXJcIiwgdCk7XG4gIH1cbiAgc2V0IGRpc2FibGVkKHQpIHtcbiAgICB0ID09PSBudWxsIHx8IHQgPT09ICExID8gdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSA6IHRoaXMuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XG4gIH1cbiAgc2V0IGRlZmF1bHR2YWx1ZSh0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJkZWZhdWx0dmFsdWVcIiwgdCk7XG4gIH1cbiAgc2V0IHZhbHVlKHQpIHtcbiAgICB0ICYmICh0aGlzLiR2YWx1ZSA9IHQsIHRoaXMuY29sb3JCdG4uc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICBcIi0tdGhlbWVDb2xvclwiLFxuICAgICAgdGhpcy5uYXRpdmVjbGljayA/IHUodCwgdGhpcy5wbHVnaW5UeXBlKSA6IGcodCwgdGhpcy5wbHVnaW5UeXBlKVxuICAgICksIHRoaXMubmF0aXZlY2xpY2sgPyAodGhpcy5uYXRpdmVjbGljayA9ICExLCB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiY2hhbmdlXCIsIHtcbiAgICAgIGRldGFpbDoge1xuICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZVxuICAgICAgfVxuICAgIH0pKSkgOiB0aGlzLmNvbG9yUGFuZSA/IHRoaXMuY29sb3JQYW5lLnZhbHVlID0gdGhpcy52YWx1ZSA6IHRoaXMuZGVmYXVsdHZhbHVlID0gdGhpcy52YWx1ZSk7XG4gIH1cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHQsIGUsIG8pIHtcbiAgICB0ID09IFwiZGlzYWJsZWRcIiAmJiB0aGlzLmNvbG9yQnRuICYmIChvICE9IG51bGwgPyB0aGlzLmNvbG9yQnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIikgOiB0aGlzLmNvbG9yQnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKSwgdCA9PSBcImRpclwiICYmIHRoaXMuJHBvcG92ZXIgJiYgbyAhPSBudWxsICYmICh0aGlzLiRwb3BvdmVyLmRpciA9IG8pO1xuICB9XG59XG5jdXN0b21FbGVtZW50cy5nZXQoXCJ4eS1jb2xvci1waWNrZXJcIikgfHwgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwieHktY29sb3ItcGlja2VyXCIsIHgpO1xuY29uc3QgUiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZnJlZXplKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIENvbG9yUGx1Z2luOiB4XG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSkpLCAkID0gLyogQF9fUFVSRV9fICovIHAoUiksIE4gPSBgPHN2ZyBmaWxsPVwiIzAwMDAwMFwiIGhlaWdodD1cIjM0cHhcIiB3aWR0aD1cIjM0cHhcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIFxuXHQgdmlld0JveD1cIjAgMCA0OTEuNjQ0IDQ5MS42NDRcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuPGc+XG5cdDxwYXRoIGQ9XCJNNDU2LjYyMywyLjI4MmMtNDIuNzU4LTIwLjI4My0xNDEuMTA3LDk2Ljg0LTIyMy40NzMsMjY0LjIyNGMtMi4zNSw0Ljc3Ni0yLjY4NiwxMC4yOTQtMC45MzYsMTUuMzJcblx0XHRjMS43NSw1LjAyNiw1LjQ0Miw5LjE0NSwxMC4yNTEsMTEuNDI2TDM2Ni43NTgsMzUyLjJjNC44MDksMi4yODEsMTAuMzMyLDIuNTM4LDE1LjMzMywwLjcxNGM1LjAwMS0xLjgyNSw5LjA1OS01LjU3OSwxMS4yNzItMTAuNDJcblx0XHRDNDcwLjg4MywxNzIuODI5LDQ5OS4zODUsMjIuNTYyLDQ1Ni42MjMsMi4yODJ6XCIvPlxuXHQ8cGF0aCBkPVwiTTM0LjcxLDQ2MS43OTlsLTE3LjI1NywxNi43MDhjLTIuMjI1LDIuMTctMi45MzQsNS40NzUtMS43NzMsOC4zNjNjMS4xNzksMi44ODYsMy45ODUsNC43NzMsNy4wOTksNC43NzNoMTYwLjg4N1xuXHRcdGMtMS4zNjQtNS4wNDMtMC45MjEtMTAuNDQ1LDEuMzkxLTE1LjMwNmw3LjkxOS0xNi42OTJINDAuMDM2QzM4LjAzNiw0NTkuNjQ2LDM2LjEyOSw0NjAuNDE5LDM0LjcxLDQ2MS43OTl6XCIvPlxuXHQ8cGF0aCBkPVwiTTI2NC43NjYsNDQ4Ljg2NGwtMzIuNjE1LTE1LjQ1OGMtMS4wNDYtMC41MDItMi4xNjEtMC43NDQtMy4yNTctMC43NDRjLTIuODcsMC01LjYxMSwxLjYxNC02LjkwMSw0LjM3MmwtMjIuMDAxLDQ2LjM4NFxuXHRcdGMtMC44NzEsMS43ODktMC43MjMsMy44OTUsMC4zNDEsNS41NjRjMS4wNDYsMS42NjEsMi44ODgsMi42NjEsNC44NTUsMi42NjFoMC4wNDZsNDQuMjc1LTAuMzc4XG5cdFx0YzIuMjA2LTAuMDE2LDQuMjA2LTEuMjk5LDUuMTU5LTMuMjkybDEzLjcyNC0yOC45MjVjMC44NTYtMS44MzgsMC45NjctMy45MzYsMC4yOS01Ljg0NlxuXHRcdEMyNjguMDA0LDQ1MS4yOTIsMjY2LjU4NSw0NDkuNzI4LDI2NC43NjYsNDQ4Ljg2NHpcIi8+XG5cdDxwYXRoIGQ9XCJNMzQ4LjQ0NSwzNjYuMDM4bC0xMTIuNTcyLTUxLjM5MmMtOC45MDktNC4wNjctMTkuNDM0LTAuMjI3LTIzLjYzLDguNjIyYy0yLjU1MSw1LjM3OC0zLjU4LDExLjM1My0yLjk3NSwxNy4yNzVcblx0XHRsNS4yLDUwLjkwOWMwLjcwMyw2Ljg4Miw0Ljk4MywxMi44ODQsMTEuMjYxLDE1Ljc5Mmw2MC4wMzEsMjcuNzk3YzYuNjg4LDMuMDk3LDE0LjU0OCwyLjE3OSwyMC4zNDMtMi4zNzVsNDUuOTgzLTM2LjEzN1xuXHRcdGM0LjkzMS0zLjg3NSw3LjQ4Ny0xMC4wNDEsNi43NDMtMTYuMjY5QzM1OC4wODYsMzc0LjAzMiwzNTQuMTUxLDM2OC42NDIsMzQ4LjQ0NSwzNjYuMDM4elwiLz5cbjwvZz5cbjwvc3ZnPmAsIEkgPSAnPHN2ZyBmaWxsPVwiIzAwMDAwMFwiIHZpZXdCb3g9XCItNiAwIDUxMiA1MTJcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGcgc3Ryb2tlLXdpZHRoPVwiMFwiPjwvZz48ZyBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L2c+PGc+PHRpdGxlPnRleHQ8L3RpdGxlPjxwYXRoIGQ9XCJNMzY1IDQzMkwzMjggMzUyIDE3MiAzNTIgMTM1IDQzMiA2NCA0MzIgMjI3IDgwIDI3MiA4MCA0MzYgNDMyIDM2NSA0MzJaTTIwMSAyODhMMjk5IDI4OCAyNTAgMTgzIDIwMSAyODhaXCI+PC9wYXRoPjwvZz48L3N2Zz4nO1xudmFyIE8gPSB7XG4gIG1hcmtlckljb246IE4sXG4gIHRleHRJY29uOiBJXG59O1xuY29uc3QgeiA9IC8qIEBfX1BVUkVfXyAqLyBwKFMpLCBNID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbFxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgXyA9IC8qIEBfX1BVUkVfXyAqLyBwKE0pLCBqID0gJCwgeyBtYXJrZXJJY29uOiBGLCB0ZXh0SWNvbjogSCB9ID0gTywgeyBnZXREZWZhdWx0Q29sb3JDYWNoZTogRCwgaGFuZGxlQ1NTVmFyaWFibGVzOiBYIH0gPSB6O1xuXy50b1N0cmluZygpO1xuY2xhc3MgcSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3thcGk6IG9iamVjdH19ICAtIEVkaXRvci5qcyBBUElcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnOiB0LCBhcGk6IGUgfSkge1xuICAgIHRoaXMuYXBpID0gZSwgdGhpcy5jb25maWcgPSB0LCB0aGlzLmNsaWNrZWRPbkxlZnQgPSAhMSwgdGhpcy5wbHVnaW5UeXBlID0gdGhpcy5jb25maWcudHlwZSB8fCBcInRleHRcIiwgdGhpcy5wYXJlbnRUYWcgPSB0aGlzLnBsdWdpblR5cGUgPT09IFwibWFya2VyXCIgPyBcIk1BUktcIiA6IFwiRk9OVFwiLCB0aGlzLmhhc0N1c3RvbVBpY2tlciA9IHRoaXMuY29uZmlnLmN1c3RvbVBpY2tlciB8fCAhMSwgdGhpcy5jb2xvciA9IFgoXG4gICAgICBEKHRoaXMuY29uZmlnLmRlZmF1bHRDb2xvciwgdGhpcy5wbHVnaW5UeXBlKVxuICAgICksIHRoaXMucGlja2VyID0gbnVsbCwgdGhpcy5pY29uID0gbnVsbCwgdGhpcy5idXR0b24gPSBudWxsLCB0aGlzLmljb25DbGFzc2VzID0ge1xuICAgICAgYmFzZTogdGhpcy5hcGkuc3R5bGVzLmlubGluZVRvb2xCdXR0b24sXG4gICAgICBhY3RpdmU6IHRoaXMuYXBpLnN0eWxlcy5pbmxpbmVUb29sQnV0dG9uQWN0aXZlXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU3BlY2lmaWVzIFRvb2wgYXMgSW5saW5lIFRvb2xiYXIgVG9vbFxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc0lubGluZSgpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBidXR0b24gZWxlbWVudCBmb3IgVG9vbGJhclxuICAgKlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCB0aGlzLmJ1dHRvbi50eXBlID0gXCJidXR0b25cIiwgdGhpcy5idXR0b24uY2xhc3NMaXN0LmFkZChcImNvbG9yUGx1Z2luXCIpLCB0aGlzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuaWNvbkNsYXNzZXMuYmFzZSksIHRoaXMuYnV0dG9uLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTGVmdEJ1dHRvbigpKSwgdGhpcy5idXR0b24uYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVSaWdodEJ1dHRvbih0aGlzKSksIHRoaXMuYnV0dG9uO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgbGVmdCBwYXJ0IGJ1dHRvblxuICAgKlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGNyZWF0ZUxlZnRCdXR0b24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaWNvbiB8fCAodGhpcy5pY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgdGhpcy5pY29uLmlkID0gXCJjb2xvci1sZWZ0LWJ0blwiLCB0aGlzLmljb24uYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVCdXR0b25JY29uKCkpLCB0aGlzLmljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xpY2tlZE9uTGVmdCA9ICEwKSksIHRoaXMuaWNvbjtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJ1dHRvbiBpY29uXG4gICAqXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgY3JlYXRlQnV0dG9uSWNvbigpIHtcbiAgICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0LmlkID0gXCJjb2xvci1idG4tdGV4dFwiO1xuICAgIGNvbnN0IGUgPSB0aGlzLnBsdWdpblR5cGUgPT09IFwibWFya2VyXCIgPyBGIDogSDtcbiAgICByZXR1cm4gdC5pbm5lckhUTUwgPSB0aGlzLmNvbmZpZy5pY29uIHx8IGUsIHQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSByaWdodCBwYXJ0IGJ1dHRvblxuICAgKlxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGNyZWF0ZVJpZ2h0QnV0dG9uKHQpIHtcbiAgICByZXR1cm4gdGhpcy5waWNrZXIgfHwgKHRoaXMucGlja2VyID0gbmV3IGouQ29sb3JQbHVnaW4oe1xuICAgICAgb25Db2xvclBpY2tlZDogKGUpID0+IHtcbiAgICAgICAgdC5jb2xvciA9IGU7XG4gICAgICAgIGNvbnN0IG8gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYgKG8pIHtcbiAgICAgICAgICBjb25zdCBzID0gby5nZXRSYW5nZUF0KDApO1xuICAgICAgICAgIHRoaXMud3JhcChzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhhc0N1c3RvbVBpY2tlcjogdGhpcy5oYXNDdXN0b21QaWNrZXIsXG4gICAgICBkZWZhdWx0Q29sb3I6IHRoaXMuY29uZmlnLmRlZmF1bHRDb2xvcixcbiAgICAgIGNvbG9yQ29sbGVjdGlvbnM6IHRoaXMuY29uZmlnLmNvbG9yQ29sbGVjdGlvbnMsXG4gICAgICB0eXBlOiB0aGlzLnBsdWdpblR5cGVcbiAgICB9KSksIHRoaXMucGlja2VyO1xuICB9XG4gIC8qKlxuICAgKiBoYW5kbGUgc2VsZWN0ZWQgZnJhZ21lbnRcbiAgICpcbiAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgLSBzZWxlY3RlZCBmcmFnbWVudFxuICAgKi9cbiAgc3Vycm91bmQodCkge1xuICAgIGlmICghdClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlID0gdGhpcy5hcGkuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJTUEFOXCIpO1xuICAgIGUgJiYgdGhpcy51bndyYXAoZSk7XG4gICAgY29uc3QgbyA9IHRoaXMuYXBpLnNlbGVjdGlvbi5maW5kUGFyZW50VGFnKHRoaXMucGFyZW50VGFnKTtcbiAgICBvID8gdGhpcy51bndyYXAobykgOiB0aGlzLndyYXAodCksIHRoaXMuY2xpY2tlZE9uTGVmdCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgXG4gICAqL1xuICB1bndyYXBUYWdJblJhbmdlKHQsIGUpIHtcbiAgICBlID0gZS50b1VwcGVyQ2FzZSgpO1xuICAgIGNvbnN0IG8gPSB0LnN0YXJ0Q29udGFpbmVyLCBzID0gdC5lbmRDb250YWluZXI7XG4gICAgby5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgJiYgby5wYXJlbnROb2RlLnRhZ05hbWUgPT09IGUgJiYgdC5zZXRTdGFydEJlZm9yZShvLnBhcmVudE5vZGUpLCBzLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiBzLnBhcmVudE5vZGUudGFnTmFtZSA9PT0gZSAmJiB0LnNldEVuZEFmdGVyKHMucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgciA9IHQuZXh0cmFjdENvbnRlbnRzKCksIGEgPSByLnF1ZXJ5U2VsZWN0b3JBbGwoZSksIHYgPSAobikgPT4ge1xuICAgICAgZm9yICg7IG4uZmlyc3RDaGlsZDsgKVxuICAgICAgICBuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4uZmlyc3RDaGlsZCwgbik7XG4gICAgICBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobik7XG4gICAgfTtcbiAgICBhLmZvckVhY2goKG4pID0+IHYobikpLCB0LmRlbGV0ZUNvbnRlbnRzKCksIHQuaW5zZXJ0Tm9kZShyKTtcbiAgfVxuICAvKipcbiAgICogV3JhcCBzZWxlY3RlZCBmcmFnbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge1JhbmdlfSByYW5nZSAtIHNlbGVjdGVkIGZyYWdtZW50XG4gICAqL1xuICB3cmFwKHQpIHtcbiAgICB0aGlzLnVud3JhcFRhZ0luUmFuZ2UodCwgdGhpcy5wYXJlbnRUYWcpO1xuICAgIGNvbnN0IGUgPSB0LmV4dHJhY3RDb250ZW50cygpLCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLnBhcmVudFRhZyk7XG4gICAgby5hcHBlbmRDaGlsZChlKSwgdC5pbnNlcnROb2RlKG8pLCB0aGlzLnBsdWdpblR5cGUgPT09IFwibWFya2VyXCIgPyB0aGlzLndyYXBNYXJrZXIobykgOiB0aGlzLndyYXBUZXh0Q29sb3IobyksIHRoaXMuYXBpLnNlbGVjdGlvbi5leHBhbmRUb1RhZyhvKTtcbiAgfVxuICAvKipcbiAgICogV3JhcCBzZWxlY3RlZCBtYXJrZXIgZnJhZ21lbnRcbiAgICpcbiAgICogQHBhcmFtIG5ld1dyYXBwZXIgLSB3cmFwcGVyIGZvciBzZWxlY3RlZCBmcmFnbWVudFxuICAgKi9cbiAgd3JhcE1hcmtlcih0KSB7XG4gICAgdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIGNvbnN0IGUgPSB0aGlzLmFwaS5zZWxlY3Rpb24uZmluZFBhcmVudFRhZyhcIkZPTlRcIik7XG4gICAgZSAmJiAodC5zdHlsZS5jb2xvciA9IGUuc3R5bGUuY29sb3IpO1xuICB9XG4gIC8qKlxuICAgKiBXcmFwIHNlbGVjdGVkIHRleHQgY29sb3IgZnJhZ21lbnRcbiAgICpcbiAgICogQHBhcmFtIHtSYW5nZX0gbmV3V3JhcHBlciAtIHdyYXBwZXIgZm9yIHNlbGVjdGVkIGZyYWdtZW50XG4gICAqL1xuICB3cmFwVGV4dENvbG9yKHQpIHtcbiAgICB0LnN0eWxlLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgfVxuICAvKipcbiAgICogVW53cmFwIHNlbGVjdGVkIGZyYWdtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7UmFuZ2V9IHRlcm1XcmFwcGVyIC0gcGFyZW50IG9mIHNlbGVjdGVkIGZyYWdtZW50XG4gICAqL1xuICB1bndyYXAodCkge1xuICAgIHRoaXMuYXBpLnNlbGVjdGlvbi5leHBhbmRUb1RhZyh0KTtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpLCBvID0gZS5nZXRSYW5nZUF0KDApLCBzID0gby5leHRyYWN0Q29udGVudHMoKTtcbiAgICB0aGlzLmNsaWNrZWRPbkxlZnQgPyB0aGlzLnJlbW92ZVdyYXBwZXIodCkgOiB0aGlzLnVwZGF0ZVdyYXBwZXIodCksIG8uaW5zZXJ0Tm9kZShzKSwgZS5yZW1vdmVBbGxSYW5nZXMoKSwgZS5hZGRSYW5nZShvKTtcbiAgfVxuICAvKipcbiAgICogdXBkYXRlIGNvbG9yIHdpdGhvdXQgY3JlYXRlIGEgbmV3IHRhZ1xuICAgKlxuICAgKiBAcGFyYW0ge1JhbmdlfSB0ZXJtV3JhcHBlciAtIHBhcmVudCBvZiBzZWxlY3RlZCBmcmFnbWVudFxuICAgKi9cbiAgdXBkYXRlV3JhcHBlcih0KSB7XG4gICAgdGhpcy5wbHVnaW5UeXBlID09PSBcIm1hcmtlclwiID8gdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNvbG9yIDogdC5zdHlsZS5jb2xvciA9IHRoaXMuY29sb3I7XG4gIH1cbiAgLyoqXG4gICAqIHJlbW92ZSB3cmFwcGVyXG4gICAqXG4gICAqIEBwYXJhbSB7UmFuZ2V9IHRlcm1XcmFwcGVyIC0gcGFyZW50IG9mIHNlbGVjdGVkIGZyYWdtZW50XG4gICAqL1xuICByZW1vdmVXcmFwcGVyKHQpIHtcbiAgICB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGFuZCBjaGFuZ2UgVGVybSdzIHN0YXRlIGZvciBjdXJyZW50IHNlbGVjdGlvblxuICAgKi9cbiAgY2hlY2tTdGF0ZSgpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5hcGkuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJTUEFOXCIpLCBlID0gdGhpcy5hcGkuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcodGhpcy5wYXJlbnRUYWcpO1xuICAgIGxldCBvID0gdCA/IHRoaXMuaGFuZGxlTGVnYWN5V3JhcHBlcih0LCBlKSA6IGU7XG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC50b2dnbGUodGhpcy5pY29uQ2xhc3Nlcy5hY3RpdmUsICEhbyksICEhbztcbiAgfVxuICAvKipcbiAgICogaGFuZGxlIGljb24gYWN0aXZlIHN0YXRlIGZvciBsZWdhY3kgd3JhcHBlcnNcbiAgICovXG4gIGhhbmRsZUxlZ2FjeVdyYXBwZXIodCwgZSkge1xuICAgIHJldHVybiB0aGlzLnBsdWdpblR5cGUgPT09IFwibWFya2VyXCIgPyB0IDogZSAmIHQ7XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBydWxlXG4gICAqIEByZXR1cm4ge3tjb2xvcjoge2NsYXNzOiBzdHJpbmd9fX1cbiAgICovXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvbnQ6ICEwLFxuICAgICAgc3BhbjogITAsXG4gICAgICBtYXJrOiAhMFxuICAgIH07XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5waWNrZXIgPSBudWxsLCB0aGlzLmljb24gPSBudWxsO1xuICB9XG59XG52YXIgVyA9IHE7XG5jb25zdCBKID0gLyogQF9fUFVSRV9fICovIEMoVyk7XG5leHBvcnQge1xuICBKIGFzIGRlZmF1bHRcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/editorjs-text-color-plugin/dist/bundle.mjs\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./Assets/Editor.js/js/index.js");
/******/ 	
/******/ })()
;